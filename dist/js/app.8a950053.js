(function(e){function t(t){for(var r,n,s=t[0],l=t[1],c=t[2],d=0,u=[];d<s.length;d++)n=s[d],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&u.push(o[n][0]),o[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);m&&m(t);while(u.length)u.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,n=1;n<a.length;n++){var l=a[n];0!==o[l]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},o={app:0},i=[];function n(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-1e42036f":"c8ddbccf","chunk-2d216214":"0bbc55e6","chunk-2d216257":"69e90091"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(e){var t=[],a=o[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,r){a=o[e]=[t,r]}));t.push(a[2]=r);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=n(e);var c=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(d);var a=o[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",c.name="ChunkLoadError",c.type=r,c.request=i,a[1](c)}o[e]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var m=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0029":function(e,t,a){},"0d6f":function(e,t,a){"use strict";a("0029")},"0e38":function(e,t,a){"use strict";a("a409")},1709:function(e,t,a){},"1bd3":function(e,t,a){},"1e57":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"bg-white iq-footer"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("ul",{staticClass:"list-inline mb-0"},[e._t("left")],2)]),a("div",{staticClass:"col-lg-6 text-right"},[e._t("right")],2)])])])},o=[],i={name:"FooterStyle1"},n=i,s=a("2877"),l=Object(s["a"])(n,r,o,!1,null,null,null);t["default"]=l.exports},2732:function(e,t,a){},"2f1c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{class:"nav nav-"+(e.pills?"pills":"")+(e.tabs?"tabs":"")+" "+(e.vertical?"flex-column":"")+" "+(e.align?"justify-content-"+e.align:""),attrs:{id:e.id}},[e._t("default")],2)},o=[],i={name:"tab-nav",props:{id:{type:String,default:"myTab"},pills:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},tabs:{type:Boolean,default:!1},align:{type:String,default:""}},mounted:function(){var e=this;window.$("#"+this.id+" a").on("click",(function(e){window.$(this).tab("show")})),window.$("#"+this.id+" a").on("shown.bs.tab",(function(t){e.$emit("change",t)}))}},n=i,s=a("2877"),l=Object(s["a"])(n,r,o,!1,null,null,null);t["default"]=l.exports},3214:function(e,t){e.exports="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMvaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0NSA3OS4xNjM0OTksIDIwMTgvMDgvMTMtMTY6NDA6MjIgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQzNUIxNDE1NTM5NzExRUFBRjg5OEMwMjhCMzBBRTZFIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQzNUIxNDE0NTM5NzExRUFBRjg5OEMwMjhCMzBBRTZFIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkJGM0YwRTFDMjU3OTExRUFBQTlCRDNEQzJGRkMxRTU4IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkJGM0YwRTFEMjU3OTExRUFBQTlCRDNEQzJGRkMxRTU4Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQABgQEBAUEBgUFBgkGBQYJCwgGBggLDAoKCwoKDBAMDAwMDAwQDA4PEA8ODBMTFBQTExwbGxscHx8fHx8fHx8fHwEHBwcNDA0YEBAYGhURFRofHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8f/8AAEQgAZABkAwERAAIRAQMRAf/EAKYAAAIBBQEBAAAAAAAAAAAAAAAHCAEDBAUGAgkBAQACAwEBAAAAAAAAAAAAAAAEBQEDBgIHEAABAwIDBAcDCgUFAAAAAAABAgMEAAURIQYxEhMHQVFhcSIUCIGRMqGxwUJSYnKiIzPRgsKjFpKyk6QVEQACAQIEAwYDBwQDAAAAAAAAAQIRAzESBAUhQVFhcYGxMgaRIjPwocHRQhMUUmKCIyQVFv/aAAwDAQACEQMRAD8AlTQBQBQFidPhQIjsyc+3FiMJ33pDyghtCR0qUogCsxi26LEw3QVV99TnLi3PKZgiXd1pOHEitBLR7lvKbx9gqxt7XdljREWetgu04DUfqt1A+tTenbQxBY+q/NKn3T27iChCfeqplraIr1OvcRp69/pRyqvUbzaLm8LmwkfYERnd+UE/LUj/AKyz0+81fzbhvLL6q9awnUC826Hc42PjLQXFe9hxcR+Wo1/a4fpbRtt6580PDl5zk0ZrkcC3Pqi3VKd5y1ygEP4DapvAlLiR1pPfhVVe007eOBPt3ozwO5qObQoAoAoAoAoC3JkMRo7smQ4lphlCnHnVHBKUIGKlE9QArKVXRBshjzc5rXLXV6cQ04tnTcVZFuhYkBYTkH3R9Zatox+EZbcSeo0ekVqP93MpdTqHN0WBwFTCIFAFAUWneSR7qxJVRlM8w5kuFLZmQ3lxpcdYdjyGlFK21pOIUlQ2EVDaTVGbYyadUTQ5JczxrvS5cmFKL9bSli6NpyCyR+m+lPQl0A5dCgRVDqtP+3Lhgy4sXc8e0YlRTeFAFAFAFAKP1M6qctGgRa2FlEm+vCKrDI+XQOI978EoP4qstrs5rlX+kiay5lhTqRKroylCgCgCgPLiwkYfWrxOdD0kWADgcBjhmewY4Z1GPdBj+n/VS9P8zbalSymHd8bdKTjkS7myf5XQn3moutt5rb7OJJ0s8s6dSadUBbhQBQBQBQEXfVfc1Paws9tCsUQ4KninqXIdIP5WRV/tEKQb6sqtwl8yQkKtivCgKKUlO04VhySxM0LanSck5dvTWmV3oelE2+mNH3zUkrhW5n9FBwfmOYhlv8Suk/dGdQdTq4WVWT49OZP0W33dRKkFw68h76X5YWe3WOTb24vnxKRuXGQ6AFPdO6n7KUnNKUnLbtrm7+uuXJqWFMDs9Nt1ixbcHxzY15/kJPWlrj6U1o5HtpcS3b1x5LHFO8tKgEu4Y4DYrZXRaO67tpSli6nIbjp42NQ4wwVPvRO+HJRKiMSW/gfbS4nuWkKHz1RNUZOTLtYMhQBQBQEQfUq6V81pSScmocVA7MUqV/VXS7Wv9Piyn1z+cVlWBCLSnjsTs660yu9D2omVb7He7kpHkIEiVxFbiVttqUkq6t/DdHvqLcvwj6pJEm1pblz0Rb8BnaU5KoQUStSuhZyItzCvD3Oujb3I99Uup3flb+L/AAR0ui9vJfNef+K/Fjjs2nGWIzTSWUxITQwZjNpCBh3D4R8tUzbk6ydWX+eNtZYKlDoEIQhAQhISlOSUjYK9EdupFjnivf5lXrp3Ux0+6Miuo25f6Y+Pmcbuj/5D8CZOinC5o2wuEklduiKJO3EsINU931vvJsPSjc1rPQUAUAUBDr1Gknm3dOxiIP7Ca6bbPorxKXW/UYsXD4DU24+BFWJjqySe6opsJdWPTpas0FqKptmGmO0GEJzG4UAg5ZZ7a4q6pSm28an0izdhGEVHBI3kO1RoxC/3HRsWro7h0VhIxO65GZWTUFARK5vPh7mLqJYzCX+H/wAbSUf011WhVLMe44vcHW/LvJs6TZ4GlbMyTjwoMZGP4WUiqS4/mfeWEMEbWvB6CgCgCgIceosYc27t2sxD/wBdNdPtv0V4+ZS636jFk98HtqVdwI0SzUc9j95Aasuku2ybTPkl+NAW03DC8CpttxKsEBW0pCk5Y7K57drajNNL1VqdZsc3ctSTfGNPgOSqstgoCqRioDrNAyGGrZ3/AKOprzNB3hKmyHEHrSp1W78ldhYjlhFdEjhNRPNdk+0n9bW+HboreGG4y2nDuSBXOSxLhYGTWDIUAUAUBDv1HJw5tXM/ajxD/ZA+ium2z6K8Sl1v1BXPfCO+pd3AjRLVRz2NTkMo+avaejhx1e0KWKo96XCHidR7ZfG54EgbbPTKaAUcH0Dxp6/vCqRMv7lvK+wzK9Go57X+pmNNaRuN0cWEvBpTMJJOa5DoKW0juPiPYDUjS2XcuKPx7iLrb6tW2yILKSXG07SVpGPWSoV1rOJXFn0WbGDaR2D5q5Yvj1QBQBQBQERvUzAmMczXZbrC0RZkSP5Z9SSEOFtJSsJVsJT0iuk2uSdqnRlRrovPUUb2wd9TL2BDiWq0Hsdnp/01Oett1u2AbYkOtx2FrxG/wQpSynLYCsDvqg3mVZRj0Oq9vLJGUnzoNRdquLBDiE7xTmFNnMfMapcrOlV6L4MUmo+d2udP6julpUzDktxn1JjrfaWlwNqAUjHhrQFeFQ6Kv9Pt9u5bjLjVo5LW7nds3pQVKJ8O7kLfVmttSarlok3qVxQ1iI8dtIbZaB27iB0npUcT21Z2NPC0qRRS6jVTvOsmaeIAZkcHYXmwfasVulgaYepH0VAwGFcuXwUAUAUAUBzut2NFTbQu36sEd2C9mGHs14jYpsJ/UCh0KTnRan9p5k6M32dBc1Hywi5fbqRa1byoswuZOlrq47bVEncnNFLjfUErT+4O9KT31M/9FBx4xbfYSo+y77dc0Yr4+RkaS5OadkTUi/3hwJ3huxmmwyhz7pfUpRT/AKR2GtL37NwjHK+02T9nztfM5Z49iH9At8K3QmIEFhEaHGQG2GGxglKR0D+PTVfOTk6vFku3BRVFgZFeT0Jfnvy/duU+HfbWUGe6jy8yKpQSpxLfwPJJy8PwKx7Ks9DuMLKy3Hw5FXrNlvaqWayqtY8hOSNJ6lYIDltfOJwBQniDE5bUb1W0NwsSwnHy8ylu7JrLfqtS8FXyH9yW9O64j8XU2sUIW6jdet9nxC0oV8SHZBHhKhtCBkOnqqJqddmWWGHUzZ0mR1l6vIkNVaSwoAoAoDW6kvCLPZJdxVgVMoPCSfrOK8KE+1RFa7s8kWyXodK796Nvq/u5iAly5UyS5KluqfkunFx1ZxJP0DqFUkpNurPp1q1G3FRiqRXItVg9lKA3Vm1TcLdutLPmYgy4KzmkfcV0d2yttu849xX6rbrd3ivll1/M6lzV1nFuVMbc33B4UxT4XN87AR1fe2VJd+NKlLHbLv7mRqi68vt2HCTp0mdKXKkq3nV+5IGxKR0AVClJt1Z0tmzG3FRjgWKwbTYWjUF4tLyHYMpxoIUFFnePCV2KRjgQa9wuyjgyLqdFavpqcU+3n4MeWm7/ABr5ampzI3FKGDzRzKFjaP4Vc2rinGp8412klp7rtvl5G0rYRAoAoBac4LwN2FaG1AkkyZCQdm74WwfeTUDXTwj4nW+19PVzuvl8q83+AtKrjrwoAoAoClAVoAoClAMTk7NCJ1whKUf1W0OoT0YoJB/3VZaGfBxOJ9z6XLdjeX6o5X/jxXm/gNOpxzIUAUBH/VvnP8nufnMPM8dW/u7N36n5MKr9zr+72ZVTup+dTvPbGX+GqerNLN31/Kngadz9tXcfmqvOhQJx3U47cBj34UMHqgCgCgCgCgPOe/lswz+igOw5Wcf/AC9vh/B5d3j/AIPDh+fdqVo65yi9xZf4rr/UqfbuHRVscAFAf//Z"},"335c":function(e,t,a){"use strict";a("45eb")},"358c":function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return i})),t["c"]={webBaseURL:Object({NODE_ENV:"production",BASE_URL:"/"}).MIX_APP_URL};var r="https://backendhospiespe.xyz",o={id:1,title:"Sarah Kortney",img:"/assets/img/profiles/l-1.jpg",date:"Last seen today 15:24"},i=!0},"3dfd":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},o=[],i=a("bcae"),n={name:"App",components:{},mounted:function(){i["a"].mainIndex()}},s=n,l=(a("5c0b"),a("2877")),c=Object(l["a"])(s,r,o,!1,null,null,null);t["a"]=c.exports},"3ed3":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-collapse",{class:e.className,attrs:{tag:"ul",visible:e.open,id:e.idName,accordion:e.accordianName}},e._l(e.items,(function(t,r){return a("li",{key:r,class:t.is_heading?"iq-menu-title":e.activeLink(t)&&t.children||e.activeLink(t)?"active":""},[t.is_heading?a("i",{staticClass:"ri-subtract-line"}):e._e(),t.is_heading?a("span",[e._v(e._s(e.$t(t.name)))]):e._e(),t.is_heading?e._e():a("router-link",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.name,expression:"item.name"}],class:"iq-waves-effect "+(e.activeLink(t)&&t.children||e.activeLink(t)?"active":""),attrs:{to:t.link}},[t.is_icon_class?a("i",{class:t.icon}):void 0,a("span",[e._v(e._s(e.$t(t.name)))]),t.children?a("i",{staticClass:"ri-arrow-right-s-line iq-arrow-right"}):e._e(),a("small",{class:t.append_class,domProps:{innerHTML:e._s(t.append)}})],2),t.children?a("List",{attrs:{items:t.children,open:!(""===t.link.name||!e.activeLink(t)||!t.children)||!(""===t.link.name||!e.activeLink(t)),idName:t.name,accordianName:"sidebar-accordion-"+t.class_name,className:"iq-submenu "+t.class_name}}):e._e()],1)})),0)},o=[],i=(a("b0c0"),a("bcae")),n={name:"List",props:{items:Array,className:{type:String,default:"iq-menu"},horizontal:Boolean,open:{type:Boolean,default:!1},idName:{type:String,default:"sidebar"},accordianName:{type:String,default:"sidebar"}},components:{List:d},mounted:function(){},methods:{activeLink:function(e){return i["a"].getActiveLink(e,this.$route.name)}}},s=n,l=a("2877"),c=Object(l["a"])(s,r,o,!1,null,null,null),d=t["default"]=c.exports},"3f36":function(e,t,a){},4114:function(e,t,a){"use strict";a("d279")},"42ac":function(e,t,a){"use strict";a("9edb")},4360:function(e,t,a){"use strict";var r=a("2b0e"),o=a("2f62"),i={horizontalMenuState:function(e){return e.horizontalMenu},miniSidebarState:function(e){return e.miniSidebarMenu},authUserState:function(e){return e.authUser},usersState:function(e){return e.users},activePage:function(e){return e.activePage},langState:function(e){return e.lang},globalSearchState:function(e){return e.globalSearch},bookmarkState:function(e){return e.bookmark},langOptionState:function(e){return e.langOption},colorState:function(e){return e.colors}},n=(a("d3b7"),{horizontalMenuAction:function(e,t){e.state.horizontalMenu?e.commit("horizontalMenuCommit",!1):e.commit("horizontalMenuCommit",!0)},miniSidebarAction:function(e,t){return new Promise((function(t,a){e.state.miniSidebarMenu?(e.commit("miniSidebarCommit",!1),t(!1)):(e.commit("miniSidebarCommit",!0),t(!0))}))},authUserAction:function(e,t){e.commit("authUserCommit",t)},addUserAction:function(e,t){e.commit("addUserCommit",t)},activePageAction:function(e,t){e.commit("activePageCommit",t)},addBookmarkAction:function(e,t){e.commit("addBookmarkCommit",t)},removeBookmarkAction:function(e,t){e.commit("removeBookmarkCommit",t)},setLangAction:function(e,t){e.commit("setLangCommit",t)},setRtlAction:function(e,t){document.getElementsByTagName("html")[0].setAttribute("dir","rtl");var a=document.getElementsByTagName("body");a[0].classList.add("rtl"),a[0].classList.remove("light")},removeRtlAction:function(e,t){document.getElementsByTagName("html")[0].setAttribute("dir","ltr");var a=document.getElementsByTagName("body");a[0].classList.remove("rtl"),a[0].classList.add("light")}}),s=(a("c740"),a("b0c0"),a("9911"),a("a434"),{horizontalMenuCommit:function(e,t){e.horizontalMenu=t},miniSidebarCommit:function(e,t){e.miniSidebarMenu=t},authUserCommit:function(e,t){e.authUser=t},addUserCommit:function(e,t){e.users.push(t)},activePageCommit:function(e,t){e.activePage=t},addBookmarkCommit:function(e,t){e.bookmark.push(t)},removeBookmarkCommit:function(e,t){var a=e.bookmark.findIndex((function(e){return e.link.name===t.link.name}));-1!==a&&e.bookmark.splice(a,1)},setLangCommit:function(e,t){e.lang=t}}),l=a("651e"),c={horizontalMenu:!1,miniSidebarMenu:!1,lang:{title:"Español",value:"en"},colors:[{primary:"#827af3",primaryLight:"#b47af3",bodyBgLight:"#efeefd",bodyBgDark:"#1d203f"},{primary:"#e07af3",primaryLight:"#f37ab7",bodyBgLight:"#f7eefd",bodyBgDark:"#1d203f"},{primary:"#6475c7",primaryLight:"#7abbf3",bodyBgLight:"#eaf5ff",bodyBgDark:"#1d203f"},{primary:"#c76464",primaryLight:"#f3c37a",bodyBgLight:"#fff8ea",bodyBgDark:"#1d203f"},{primary:"#c764ad",primaryLight:"#de8ba9",bodyBgLight:"#ffeaf5",bodyBgDark:"#1d203f"},{primary:"#64c7ac",primaryLight:"#a3f37a",bodyBgLight:"#f0ffea",bodyBgDark:"#1d203f"},{primary:"#8ac764",primaryLight:"#dbf37a",bodyBgLight:"#f7ffea",bodyBgDark:"#1d203f"}],authUser:{auth:!1,authType:!1,user:{}},users:[{id:"sh46s546sdg564sdffs4hsd6fh",name:"Admin Xray",mobileNo:null,email:"admin@xray.com",profileImage:null,password:"admin123"}],globalSearch:l,bookmark:[{title:"Video Chat",link:{name:"app.chat"},is_icon_class:!0,icon:"ri-message-line"},{title:"Product Listing",link:{name:"app.e-commerce.index"},is_icon_class:!0,icon:"ri-file-list-line"},{title:"Social App",link:{name:"social.list"},is_icon_class:!0,icon:"ri-question-answer-line"},{title:"Todo",link:{name:"app.todo"},is_icon_class:!0,icon:"ri-chat-check-line"},{title:"Inbox",link:{name:"app.email"},is_icon_class:!0,icon:"ri-inbox-line"}],activePage:{name:"Dashboard",breadCrumb:[{html:'<i class="ri-home-4-line mr-1 float-left"></i>Home',to:{name:"mini.dashboard.home-1"}},{text:"",href:"#"}]}},d={namespaced:!0,state:c,getters:i,actions:n,mutations:s},m={chatState:function(e){return e.chat},videoCallState:function(e){return e.videoCall}},u={listAction:function(e,t){return new Promise((function(a,r){e.commit("listCommit",t),a()}))},videoCallAction:function(e,t){return new Promise((function(a,r){e.commit("videoCallCommit",t),a()}))}},f={listCommit:function(e,t){e.chat=t},videoCallCommit:function(e,t){e.videoCall=t}},h={chat:[],videoCall:!1},p={namespaced:!0,state:h,getters:m,actions:u,mutations:f},b=a("5530"),v=a("358c"),g=(a("e9c4"),function(){var e=null;try{e=null!=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null}catch(t){console.log(">>>> src/utils/index.js : getCurrentUser -> error",t),e=null}return e}),_=function(e){try{e?localStorage.setItem("user",JSON.stringify(e)):localStorage.removeItem("user")}catch(t){console.log(">>>> src/utils/index.js : setCurrentUser -> error",t)}},x=a("6bf2"),C={state:{currentUser:v["d"]?g():v["b"],loginError:null,processing:!1},getters:{currentUser:function(e){return e.currentUser},processing:function(e){return e.processing},loginError:function(e){return e.loginError}},mutations:{setUser:function(e,t){e.currentUser=t,e.processing=!1,e.loginError=null},setLogout:function(e){e.currentUser=null,e.processing=!1,e.loginError=null},setProcessing:function(e,t){e.processing=t,e.loginError=null},setError:function(e,t){e.loginError=t,e.currentUser=null,e.processing=!1},setForgotMailSuccess:function(e){e.loginError=null,e.currentUser=null,e.processing=!1,e.forgotMailSuccess=!0},setResetPasswordSuccess:function(e){e.loginError=null,e.currentUser=null,e.processing=!1,e.resetPasswordSuccess=!0},clearError:function(e){e.loginError=null}},actions:{login:function(e,t){var a=e.commit;a("clearError"),a("setProcessing",!0),x["a"].login(t).then((function(e){var t=Object(b["a"])({auth:!0,authType:"mysql",uid:e.data.id,user:e.data.usuario,user_type:e.data.tipo_usuario,id_medico:e.data.id_medico,token:e.data.token},v["b"]);_(t),a("setUser",t)})).catch((function(e){_(null),a("setError",e.response.data.message),setTimeout((function(){a("clearError")}),3e3)}))},signOut:function(e){var t=e.commit;_(null),t("setLogout")}}};r["default"].use(o["a"]);var $=!1;t["a"]=new o["a"].Store({modules:{Setting:d,Chat:p,User:C},state:{},mutations:{saveEmployeeType:function(e,t){localStorage.setItem("employee_type",t),e.rol=t}},actions:{},getters:{},strict:$})},"43c9":function(e,t,a){"use strict";a("893a")},"45eb":function(e,t,a){},4678:function(e,t,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id="4678"},"49f8":function(e,t,a){var r={"./en.json":"edd4"};function o(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id="49f8"},"4a08":function(e,t,a){"use strict";a("4de4"),a("d3b7"),a("fb6a");var r=a("2b0e"),o=a("c1df"),i=a.n(o);r["default"].filter("reverse",(function(e){return e.slice().reverse()})),r["default"].filter("formatDate",(function(e){if(e)return i()(String(e)).fromNow()}))},"4e1a":function(e,t,a){"use strict";a("7677")},"56d7":function(e,t,a){"use strict";a.r(t),function(e){a("e260"),a("e6cf"),a("cca6"),a("a79d");var t=a("2b0e"),r=(a("e792"),a("0cdd"),a("4a08"),a("3dfd")),o=a("a18c"),i=a("4360"),n=a("6e53"),s=a.n(n),l=(a("6912"),a("ddb8"),a("9225"));e.Raphael=s.a,t["default"].config.productionTip=!1;var c=new t["default"]({router:o["a"],store:i["a"],i18n:l["a"],render:function(e){return e(r["a"])}}).$mount("#app");window.vm=c}.call(this,a("c8ba"))},5981:function(e,t,a){e.exports=a.p+"img/logoLab.efeb4448.jpg"},"5bc6":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:"tab-pane fade "+(e.active?"show active":""),attrs:{id:e.id,role:e.role,"aria-labelledby":e.ariaLabelledBy}},[e._t("default")],2)},o=[],i={name:"tab-content-item",props:{id:{type:String,default:""},active:{type:Boolean,default:!1},role:{type:String,default:"tabpanel"},ariaLabelledBy:{type:String,default:""}}},n=i,s=a("2877"),l=Object(s["a"])(n,r,o,!1,null,null,null);t["default"]=l.exports},"5c0b":function(e,t,a){"use strict";a("9c0c")},"60d9":function(e,t,a){"use strict";a("a6a2")},"651e":function(e){e.exports=JSON.parse('[{"title":"Dashboard 1","is_heading":false,"is_active":false,"link":{"name":"mini.dashboard.home-1"},"class_name":"","is_icon_class":true,"icon":"ri-home-4-line"},{"title":"Dashboard 2","is_heading":false,"is_active":false,"link":{"name":"dashboard.home-2"},"class_name":"","is_icon_class":true,"icon":"ri-home-3-line"},{"title":"Video Chat","is_heading":false,"is_active":false,"link":{"name":"app.chat"},"class_name":"","is_icon_class":true,"icon":"ri-message-line"},{"title":"Product Listing","is_active":false,"link":{"name":"app.e-commerce.index"},"class_name":"","is_icon_class":true,"icon":"ri-file-list-line"},{"title":"Product Detail","is_active":false,"link":{"name":"app.e-commerce.detail"},"class_name":"","is_icon_class":true,"icon":"ri-pages-line"},{"title":"Checkout","is_active":false,"link":{"name":"app.e-commerce.cart"},"class_name":"","is_icon_class":true,"icon":"ri-shopping-cart-2-line"},{"title":"Wishlist","is_active":false,"link":{"name":"app.e-commerce.wishlist"},"class_name":"","is_icon_class":true,"icon":"ri-heart-line"},{"title":"Social App","is_heading":false,"is_active":false,"link":{"name":"social.list"},"class_name":"","is_icon_class":true,"icon":"ri-question-answer-line"},{"title":"Todo","is_heading":false,"is_active":false,"link":{"name":"app.todo"},"class_name":"","is_icon_class":true,"icon":"ri-chat-check-line"},{"title":"Project Management","is_heading":false,"is_active":false,"link":{"name":"app.project.management"},"class_name":"","is_icon_class":true,"icon":"ri-terminal-window-line"},{"title":"Inbox","is_active":false,"link":{"name":"app.email"},"class_name":"","is_icon_class":true,"icon":"ri-inbox-line"},{"title":"Email Compose","is_active":false,"link":{"name":"app.email.compose"},"class_name":"","is_icon_class":true,"icon":"ri-edit-line"},{"title":"Calender","is_heading":false,"is_active":false,"link":{"name":"app.calendar"},"class_name":"","is_icon_class":true,"icon":"ri-calendar-2-line"},{"title":"User Profile","is_active":false,"link":{"name":"user.profile"},"class_name":"","is_icon_class":true,"icon":"ri-profile-line"},{"title":"User Edit","is_active":false,"link":{"name":"user.edit"},"class_name":"","is_icon_class":true,"icon":"ri-file-edit-line"},{"title":"User Add","is_active":false,"link":{"name":"user.add"},"class_name":"","is_icon_class":true,"icon":"ri-user-add-line"},{"title":"User List","is_active":false,"link":{"name":"user.list"},"class_name":"","is_icon_class":true,"icon":"ri-file-list-line"},{"title":"Color","is_active":false,"link":{"name":"core.color"},"class_name":"","is_icon_class":true,"icon":"ri-font-color"},{"title":"Trypography","is_active":false,"link":{"name":"core.typography"},"class_name":"","is_icon_class":true,"icon":"ri-text"},{"title":"Alert","is_active":false,"link":{"name":"core.alert"},"class_name":"","is_icon_class":true,"icon":"ri-alert-line"},{"title":"Badges","is_active":false,"link":{"name":"core.badges"},"class_name":"","is_icon_class":true,"icon":"ri-building-3-line"},{"title":"Breadcrumb","is_active":false,"link":{"name":"core.breadcrumb"},"class_name":"","is_icon_class":true,"icon":"ri-menu-2-line"},{"title":"Button","is_active":false,"link":{"name":"core.button"},"class_name":"","is_icon_class":true,"icon":"ri-checkbox-blank-line"},{"title":"Cards","is_active":false,"link":{"name":"core.cards"},"class_name":"","is_icon_class":true,"icon":"ri-bank-card-line"},{"title":"Carousel","is_active":false,"link":{"name":"core.carousel"},"class_name":"","is_icon_class":true,"icon":"ri-slideshow-line"},{"title":"Video","is_active":false,"link":{"name":"core.embed-video"},"class_name":"","is_icon_class":true,"icon":"ri-slideshow-2-line"},{"title":"Grid","is_active":false,"link":{"name":"core.grid"},"class_name":"","is_icon_class":true,"icon":"ri-grid-line"},{"title":"Images","is_active":false,"link":{"name":"core.images"},"class_name":"","is_icon_class":true,"icon":"ri-image-line"},{"title":"List group","is_active":false,"link":{"name":"core.listgroup"},"class_name":"","is_icon_class":true,"icon":"ri-file-list-3-line"},{"title":"Media","is_active":false,"link":{"name":"core.media-object"},"class_name":"","is_icon_class":true,"icon":"ri-camera-line"},{"title":"Modal","is_active":false,"link":{"name":"core.modal"},"class_name":"","is_icon_class":true,"icon":"ri-stop-mini-line"},{"title":"Notifications","is_active":false,"link":{"name":"core.notifications"},"class_name":"","is_icon_class":true,"icon":"ri-notification-line"},{"title":"Pagination","is_active":false,"link":{"name":"core.pagination"},"class_name":"","is_icon_class":true,"icon":"ri-pages-line"},{"title":"Popovers","is_active":false,"link":{"name":"core.popovers"},"class_name":"","is_icon_class":true,"icon":"ri-folder-shield-2-line"},{"title":"Progress Bars","is_active":false,"link":{"name":"core.progressbars"},"class_name":"","is_icon_class":true,"icon":"ri-battery-low-line"},{"title":"Tabs","is_active":false,"link":{"name":"core.tabs"},"class_name":"","is_icon_class":true,"icon":"ri-database-line"},{"title":"Tooltips","is_active":false,"link":{"name":"core.tooltips"},"class_name":"","is_icon_class":true,"icon":"ri-record-mail-line"},{"title":"Form Elements","is_active":false,"link":{"name":"form.layout"},"class_name":"","is_icon_class":true,"icon":"ri-tablet-line"},{"title":"Form Validation","is_active":false,"link":{"name":"form.validate"},"class_name":"","is_icon_class":true,"icon":"ri-device-line"},{"title":"Form Switch","is_active":false,"link":{"name":"form.switch"},"class_name":"","is_icon_class":true,"icon":"ri-toggle-line"},{"title":"Form Radio","is_active":false,"link":{"name":"form.radio"},"class_name":"","is_icon_class":true,"icon":"ri-checkbox-line"},{"title":"Form Checkbox","is_active":false,"link":{"name":"form.checkbox"},"class_name":"","is_icon_class":true,"icon":"ri-radio-button-line"},{"title":"Basic Table","is_active":false,"link":{"name":"table.basic"},"class_name":"","is_icon_class":true,"icon":"ri-table-line"},{"title":"DataTable","is_active":false,"link":{"name":"table.dataTable"},"class_name":"","is_icon_class":true,"icon":"ri-database-line"},{"title":"Editable","is_active":false,"link":{"name":"table.editable"},"class_name":"","is_icon_class":true,"icon":"ri-refund-line"},{"title":"High Chart","is_active":false,"link":{"name":"chart.high"},"class_name":"","is_icon_class":true,"icon":"ri-bar-chart-line"},{"title":"AM Chart","is_active":false,"link":{"name":"chart.am"},"class_name":"","is_icon_class":true,"icon":"ri-folder-chart-line"},{"title":"Apex Chart","is_active":false,"link":{"name":"chart.apex"},"class_name":"","is_icon_class":true,"icon":"ri-folder-chart-2-line"},{"title":"Dripicons Icon","is_active":false,"link":{"name":"icon.dripicons"},"class_name":"","is_icon_class":true,"icon":"ri-stack-line"},{"title":"Font Awesome 5","is_active":false,"link":{"name":"icon.fontawesome-5"},"class_name":"","is_icon_class":true,"icon":"ri-facebook-fill"},{"title":"Line Awesome Icon","is_active":false,"link":{"name":"icon.lineawesome"},"class_name":"","is_icon_class":true,"icon":"ri-keynote-line"},{"title":"Remixicon","is_active":false,"link":{"name":"icon.remixicon"},"class_name":"","is_icon_class":true,"icon":"ri-remixicon-line"},{"title":"Unicons","is_active":false,"link":{"name":"icon.unicons"},"class_name":"","is_icon_class":true,"icon":"ri-underline"},{"title":"TreeView","is_heading":false,"is_active":false,"link":{"name":"app.treeview"},"class_name":"","is_icon_class":true,"icon":"ri-message-line"},{"title":"Login","is_active":false,"link":{"name":"auth1.sign-in1"},"class_name":"","is_icon_class":true,"icon":"ri-login-box-line"},{"title":"Register","is_active":false,"link":{"name":"auth1.sign-up1"},"class_name":"","is_icon_class":true,"icon":"ri-login-circle-line"},{"title":"Recover Password","is_active":false,"link":{"name":"auth1.password-reset1"},"class_name":"","is_icon_class":true,"icon":"ri-record-mail-line"},{"title":"Confirm Mail","is_active":false,"link":{"name":"auth1.confirm-mail1"},"class_name":"","is_icon_class":true,"icon":"ri-file-code-line"},{"title":"Lock Screen","is_active":false,"link":{"name":"auth1.lock-screen1"},"class_name":"","is_icon_class":true,"icon":"ri-lock-line"},{"title":"Google Map","is_active":false,"link":{"name":"map.google"},"class_name":"","is_icon_class":true,"icon":"ri-google-line"},{"title":"Timeline","is_active":false,"link":{"name":"extra-pages.timeline"},"class_name":"","is_icon_class":true,"icon":"ri-map-pin-time-line"},{"title":"Invoice","is_active":false,"link":{"name":"extra-pages.invoice"},"class_name":"","is_icon_class":true,"icon":"ri-question-answer-line"},{"title":"Blank Page","is_active":false,"link":{"name":"extra-pages.blank-page"},"class_name":"","is_icon_class":true,"icon":"ri-invision-line"},{"title":"Error 404","is_active":false,"link":{"name":"default.error","params":{"code":"404"}},"class_name":"","is_icon_class":true,"icon":"ri-error-warning-line"},{"title":"Error 500","is_active":false,"link":{"name":"default.error","params":{"code":"500"}},"class_name":"","is_icon_class":true,"icon":"ri-error-warning-line"},{"title":"Pricing","is_active":false,"link":{"name":"extra-pages.pricing"},"class_name":"","is_icon_class":true,"icon":"ri-price-tag-line"},{"title":"Pricing 1","is_active":false,"link":{"name":"extra-pages.pricing1"},"class_name":"","is_icon_class":true,"icon":"ri-price-tag-2-line"},{"title":"Maintenance","is_active":false,"link":{"name":"default.maintenance"},"class_name":"","is_icon_class":true,"icon":"ri-archive-line"},{"title":"Coming Soon","is_active":false,"link":{"name":"default.coming-soon"},"class_name":"","is_icon_class":true,"icon":"ri-mastercard-line"},{"title":"FAQ","is_active":false,"link":{"name":"extra-pages.faq"},"class_name":"","is_icon_class":true,"icon":"ri-compasses-line"},{"title":"Datepicker","name":"sidebar.datepicker","is_active":false,"link":{"name":"plugins.datepicker"},"class_name":"","is_icon_class":true,"icon":"ri-calendar-2-fill"},{"title":"Select","name":"sidebar.select","is_active":false,"link":{"name":"plugins.select"},"class_name":"","is_icon_class":true,"icon":"ri-menu-line"},{"title":"Draggable","name":"sidebar.draggable","is_active":false,"link":{"name":"plugins.draggable"},"class_name":"","is_icon_class":true,"icon":"ri-drag-move-2-fill"},{"title":"TreeView","name":"sidebar.treeView","is_heading":false,"is_active":false,"link":{"name":"app.treeview"},"class_name":"","is_icon_class":true,"icon":"ri-git-merge-line"}]')},6684:function(e,t,a){"use strict";a("3f36")},6912:function(e,t,a){"use strict";a("d3b7"),a("159b"),a("ddb0"),a("ac1f"),a("1276");var r=a("2ef0"),o=a.n(r),i=a("2b0e"),n=a("f192");o.a.forEach(n.keys(),(function(e){var t=n(e),a=e.split("/").pop().split(".")[0];i["default"].component(a,t.default||t)}));a("b64b");var s=a("4c93"),l=a("7bb1");Object.keys(s).forEach((function(e){Object(l["c"])(e,s[e])})),i["default"].component("ValidationObserver",l["a"]),i["default"].component("ValidationProvider",l["b"]);var c=a("4a7a"),d=a.n(c);a("e92b");i["default"].component("v-select",d.a);var m=a("5f5b");a("2dd8");i["default"].use(m["a"]);var u=a("4eb5"),f=a.n(u);f.a.config.autoSetContainer=!0,i["default"].use(f.a)},"6a3d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"iq-sidebar"},[a("div",{staticClass:"iq-sidebar-logo d-flex justify-content-between"},[a("router-link",{attrs:{to:e.homeURL}},[2===e.user||4===e.user||6===e.user||8===e.user||12===e.user||13===e.user?a("img",{staticClass:"img-fluid",attrs:{src:e.logo2,alt:"logo"}}):a("img",{staticClass:"img-fluid",attrs:{src:e.logo,alt:"logo"}})]),e.toggleButton?a("div",{staticClass:"iq-menu-bt-sidebar"},[a("div",{staticClass:"iq-menu-bt align-self-center"},[a("div",{staticClass:"wrapper-menu",on:{click:e.miniSidebar}},[e._m(0),e._m(1)])])]):e._e()],1),a("div",{attrs:{id:"sidebar-scrollbar"}},[a("nav",{staticClass:"iq-sidebar-menu",class:e.horizontal?"d-xl-none":""},[a("List",{attrs:{items:e.items,open:!0,horizontal:e.horizontal}})],1),a("div",{staticClass:"p-3"})])])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-circle"},[a("i",{staticClass:"ri-more-fill"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hover-circle"},[a("i",{staticClass:"ri-more-2-fill"})])}],i=a("5530"),n=(a("a630"),a("3ca3"),a("7db0"),a("d3b7"),a("3ed3")),s=a("2f62"),l={name:"SideBarStyle1",props:{homeURL:{type:Object,default:function(){return{name:"layout1.dashboard"}}},items:{type:Array},logo:{type:String,default:a("9d64")},logo2:{type:String,default:a("5981")},horizontal:{type:Boolean},toggleButton:{type:Boolean,default:!0},user:null},computed:Object(i["a"])({},Object(s["c"])(["currentUser"])),components:{List:n["default"]},mounted:function(){var e=this;this.user=this.currentUser.user_type;var t=document.querySelectorAll(".iq-sidebar-menu li a");Array.from(t,(function(t){t.addEventListener("click",(function(a){var r=window.$(".iq-sidebar-menu li").has(".iq-submenu").find("ul.show").attr("id"),o=document.getElementById(r);null!==o&&Array.from(o.closest("li").getElementsByClassName("not-collapsed"),(function(a){t.closest("ul").getAttribute("id")!==r&&(e.$root.$emit("bv::toggle::collapse",r),o.closest("li").classList.remove("active")),t.getAttribute("aria-controls")===r&&e.$root.$emit("bv::toggle::collapse",r)})),window.$(t).closest("li").has(".iq-submenu").addClass("active")}))}))},methods:{miniSidebar:function(){this.$emit("toggle")}},data:function(){return{}}},c=l,d=a("2877"),m=Object(d["a"])(c,r,o,!1,null,null,null);t["default"]=m.exports},"6bf2":function(e,t,a){"use strict";var r=a("bc3a"),o=a.n(r),i=a("358c"),n=document.head.querySelector('meta[name="csrf-token"]')||"",s=o.a.create({baseURL:i["c"].webBaseURL,headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":n}});t["a"]={login:function(e){try{return s.post("".concat(i["a"],"/login"),e)}catch(t){throw console.log(t),t}},register:function(e){return s.post("/api/register",e)}}},"6fbd":function(e,t,a){},7677:function(e,t,a){},8670:function(e,t,a){"use strict";a("6fbd")},"893a":function(e,t,a){},"89af":function(e,t,a){e.exports=a.p+"img/1.6cc9f396.png"},"8a4f":function(e,t,a){"use strict";a("dfc8")},"8bf4":function(e,t,a){"use strict";a("909a")},"909a":function(e,t,a){},9225:function(e,t,a){"use strict";a("d3b7"),a("159b"),a("ddb0"),a("ac1f"),a("466d");var r=a("2b0e"),o=a("a925");function i(){var e=a("49f8"),t={};return e.keys().forEach((function(a){var r=a.match(/([A-Za-z0-9-_]+)\./i);if(r&&r.length>1){var o=r[1];t[o]=e(a)}})),t}r["default"].use(o["a"]),t["a"]=new o["a"]({locale:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_I18N_LOCALE||"en",fallbackLocale:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_I18N_FALLBACK_LOCALE||"en",messages:i()})},"95cd":function(e,t,a){e.exports=a.p+"img/loader.9130c33c.gif"},"9be6":function(e,t,a){},"9c0c":function(e,t,a){},"9d5f":function(e,t,a){"use strict";a("1bd3")},"9d64":function(e,t,a){e.exports=a.p+"img/logo.6cc9f396.png"},"9edb":function(e,t,a){},a18c:function(e,t,a){"use strict";a("d3b7"),a("b0c0"),a("caad"),a("2532");var r=a("2b0e"),o=a("8c4f"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{attrs:{id:"show-overlay"}}),a("Loader"),a("div",{staticClass:"wrapper"},[a("SideBarStyle1",{attrs:{items:e.filteredVerticalMenu,horizontal:e.horizontal,logo:e.logo},on:{toggle:e.sidebarMini}}),a("div",{staticClass:"content-page",class:e.horizontal?"ml-0":"",attrs:{id:"content-page"}},[a("NavBarStyle1",{attrs:{title:"Dashboard",homeURL:{name:"dashboard1.home"},logo:e.logo,horizontal:e.horizontal,items:e.horizontalMenu},on:{toggle:e.sidebarMini}},[a("template",{slot:"right"},[a("ul",{staticClass:"navbar-list"},[a("li",[a("a",{staticClass:"search-toggle iq-waves-effect d-flex align-items-center",attrs:{href:"#"}},[a("img",{staticClass:"img-fluid rounded mr-3",attrs:{src:e.userProfile,alt:"user"}}),a("div",{staticClass:"caption"},[a("h6",{staticClass:"mb-0 line-height"},[e._v(e._s(e.currentUser.user))])])]),a("div",{staticClass:"iq-sub-dropdown iq-dropdown"},[a("div",{staticClass:"iq-card shadow-none m-0"},[a("div",{staticClass:"iq-card-body p-0 "},[a("div",{staticClass:"bg-primary p-3"},[a("h5",{staticClass:"mb-0 text-white line-height"},[e._v(e._s(e.currentUser.user))])]),a("div",{staticClass:"d-inline-block w-100 text-center p-3"},[a("a",{staticClass:"iq-bg-danger iq-sign-btn",attrs:{href:"javascript:void(0)",role:"button"},on:{click:e.logout}},[e._v(e._s(e.$t("nav.user.signout"))),a("i",{staticClass:"ri-login-box-line ml-2"})])])])])])])])])],2),a("transition",{attrs:{name:"router-anim","enter-active-class":"animated "+e.animated.enter,mode:"out-in","leave-active-class":"animated "+e.animated.exit}},[a("router-view")],1),a("FooterStyle1",{scopedSlots:e._u([{key:"left",fn:function(){return[a("li",{staticClass:"list-inline-item"},[a("a",{attrs:{href:"#"}})])]},proxy:!0},{key:"right",fn:function(){return[e._v(" "+e._s(e.year)+" "),a("a",{attrs:{href:"#"}},[e._v("Hospital de especialidades")])]},proxy:!0}])})],1)],1)],1)},n=[],s=a("5530"),l=(a("4de4"),a("d81d"),a("aef8")),c=a("6a3d"),d=a("c45e"),m=a("df88"),u=a("eb26"),f=a("ddb1"),h=a("3214"),p=a.n(h),b=a("9d64"),v=a.n(b),g=a("bcae"),_=a("2f62"),x={name:"Layout1",components:{Loader:l["default"],SideBarStyle1:c["default"],NavBarStyle1:d["default"]},mounted:function(){this.updateRadio()},beforeMount:function(){var e=new Date;this.year=e.getFullYear(),this.verticalMenu=m,this.filteredVerticalMenu=this.filterMenuByRole(this.verticalMenu,this.currentUser.user_type)},computed:Object(s["a"])({},Object(_["c"])({selectedLang:"Setting/langState",langsOptions:"Setting/langOptionState",colors:"Setting/colorState",currentUser:"currentUser"})),data:function(){return{year:null,horizontal:!1,mini:!1,darkMode:!1,animated:{enter:"zoomIn",exit:"zoomOut"},horizontalMenu:f,verticalMenu:[],filteredVerticalMenu:[],userProfile:p.a,logo:v.a,rtl:!1}},methods:Object(s["a"])(Object(s["a"])({updateRadio:function(){this.horizontal=this.$store.getters["Setting/horizontalMenuState"],this.mini=this.$store.getters["Setting/miniSidebarState"]},sidebarHorizontal:function(){this.$store.dispatch("Setting/horizontalMenuAction"),this.updateRadio()},sidebarMini:function(){g["a"].triggerSet(),this.$store.dispatch("Setting/miniSidebarAction"),this.updateRadio()},rtlChange:function(){this.rtl?this.rtlRemove():this.rtlAdd()},changeColor:function(e){document.documentElement.style.setProperty("--iq-primary",e.primary),document.documentElement.style.setProperty("--iq-primary-light",e.primaryLight),this.darkMode?document.documentElement.style.setProperty("--iq-bg-dark-color",e.bodyBgDark):document.documentElement.style.setProperty("--iq-bg-light-color",e.bodyBgLight)},reset:function(){this.changeColor({primary:"#827af3",primaryLight:"#b47af3",bodyBgLight:"#efeefd",bodyBgDark:"#1d203f"}),this.animated={enter:"zoomIn",exit:"zoomOut"},this.light()},logout:function(){localStorage.removeItem("user"),localStorage.removeItem("access_token"),this.$router.push({name:"auth1.sign-in1"})},langChange:function(e){this.langChangeState(e),this.$i18n.locale=e.value,document.getElementsByClassName("iq-show")[0].classList.remove("iq-show"),"ar"===e.value?this.rtlAdd(e):this.rtlRemove(e)}},Object(_["b"])({langChangeState:"Setting/setLangAction",rtlAdd:"Setting/setRtlAction",rtlRemove:"Setting/removeRtlAction"})),{},{filterMenuByRole:function(e,t){var a=e.map((function(e){if(e.children&&Array.isArray(e.children)){var a=e.children.filter((function(e){return!e.rol||e.rol.includes(t)}));return e.rol&&e.rol.includes(t)||a.length>0?Object(s["a"])(Object(s["a"])({},e),{},{children:a}):null}return!e.rol||e.rol.includes(t)?e:null})).filter((function(e){return null!==e}));return 0===a.length?this.filterMenuByRole(u,t):a}})},C=x,$=(a("e457"),a("2877")),y=Object($["a"])(C,i,n,!1,null,null,null),w=y.exports,E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Loader"),r("section",{staticClass:"sign-in-page"},[r("b-container",{staticClass:"sign-in-page-bg mt-5 p-0"},[r("div",{staticClass:"row no-gutters"},[r("div",{staticClass:"col-md-6 text-center position-relative"},[r("div",{staticClass:"sign-in-detail text-white"},[r("Slick",{attrs:{option:e.slickOptions}},[r("div",{staticClass:"item"},[r("img",{staticClass:"img-fluid mb-4",attrs:{src:a("89af"),alt:"logo"}}),r("img",{staticClass:"img-fluid mb-4",attrs:{src:a("cf5a"),alt:"logo"}})])])],1)]),r("div",{staticClass:"col-md-6 position-relative"},[r("div",{staticClass:"sign-in-from"},[r("router-view")],1)])])])],1)],1)},k=[],D={name:"AuthLayout1",components:{Loader:l["default"]},mounted:function(){g["a"].index()},data:function(){return{slickOptions:{slidesToShow:1,arrows:!1,dots:!0}}}},A=D,S=Object($["a"])(A,E,k,!1,null,null,null),T=S.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{sm:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("div",{staticClass:"center-text"},[a("h3",{staticClass:"card-title"},[e._v("LABORATORIO BIOMÉDICO E.O. S.A.")])])]},proxy:!0}])})],1),a("b-col",{attrs:{sm:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"body",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("EXAMENES FINALIZADOS")]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Fecha Desde:"}},[a("b-form-input",{attrs:{type:"date"},model:{value:e.fechaDesde,callback:function(t){e.fechaDesde=t},expression:"fechaDesde"}})],1)],1),a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Fecha Hasta:"}},[a("b-form-input",{attrs:{type:"date"},model:{value:e.fechaHasta,callback:function(t){e.fechaHasta=t},expression:"fechaHasta"}})],1)],1),a("div",{staticClass:"col-md-4"},[a("b-button",{attrs:{variant:"primary"},on:{click:e.realizarBusqueda}},[e._v("Buscar")])],1)]),a("datatable-heading",{attrs:{changePageSize:e.changePageSizes3,searchChange:e.searchChange3,from:e.from3,to:e.to3,total:e.total3,perPage:e.perPage3}}),a("vuetable",{ref:"vuetable3",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase3,"query-params":e.makeQueryParams3,"per-page":e.perPage3,"reactive-api-url":!0,fields:e.fields3,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData3},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button-group",[a("div",{staticClass:"button-container"},[a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){return e.verResultado(t.rowData.id)}}},[e._v("Ver resultado")]),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){return e.ImprimirResultado(t.rowData.id)}}},[e._v("Imprimir Resultado")])],1)])]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination3",on:{"vuetable-pagination:change-page":e.onChangePage3}})]},proxy:!0}])})],1)],1)],1)},M=[],q=a("358c"),I=a("c1df"),F=a.n(I),O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-collapse",{staticClass:"d-md-block",attrs:{id:"displayOptions"}},[a("div",{staticClass:"float-md-right pt-1 pr-4"},[a("span",{staticClass:"text-muted text-small mr-1 mb-2"},[e._v(e._s(e.from)+"-"+e._s(e.to)+" of "+e._s(e.total))]),a("b-dropdown",{staticClass:"d-inline-block",attrs:{id:"ddown2",right:"",size:"sm",variant:"outline-dark","toggle-class":"text-decoration-none","no-caret":""},scopedSlots:e._u([{key:"button-content",fn:function(){return[e._v(" "+e._s(e.perPage)+" ")]},proxy:!0}])},e._l(e.pageSizes,(function(t,r){return a("b-dropdown-item",{key:r,on:{click:function(a){return e.changePageSize(t)}}},[e._v(" "+e._s(t)+" ")])})),1)],1)])],1)},N=[],R={name:"DatatableHeading",props:["changePageSize","searchChange","from","to","total","perPage"],data:function(){return{pageSizes:[4,8,12]}}},V=R,z=Object($["a"])(V,O,N,!1,null,null,null),H=z.exports,L=a("c3d0"),Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",[a("ul",{staticClass:"pagination justify-content-center pagination-sm"},[a("li",{class:{disabled:e.isOnFirstPage,"page-item":!0}},[a("a",{staticClass:"page-link",attrs:{href:"javascript:;"},on:{click:function(t){return t.preventDefault(),e.loadPage("prev")}}},[e._m(0)])]),e.notEnoughPages?e._l(e.totalPage,(function(t){return a("li",{key:t,class:{active:e.isCurrentPage(t),"page-item":!0}},[a("a",{staticClass:"page-link",attrs:{href:"javascript:;"},domProps:{innerHTML:e._s(t)},on:{click:function(a){return a.preventDefault(),e.loadPage(t)}}})])})):e._l(e.windowSize,(function(t){return a("li",{key:t,class:{active:e.isCurrentPage(e.windowStart+t-1),"page-item":!0}},[a("a",{staticClass:"page-link",attrs:{href:"javascript:;"},domProps:{innerHTML:e._s(e.windowStart+t-1)},on:{click:function(a){return a.preventDefault(),e.loadPage(e.windowStart+t-1)}}})])})),a("li",{class:{disabled:e.isOnLastPage,"page-item":!0}},[a("a",{staticClass:"page-link",attrs:{href:"javascript:;"},on:{click:function(t){return t.preventDefault(),e.loadPage("next")}}},[e._m(1)])])],2)])},U=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("i",{staticClass:"fas fa-arrow-left"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("i",{staticClass:"fas fa-arrow-right"})])}],j=a("eb37"),Y={mounted:function(){g["a"].index()},mixins:[j["a"]]},B=Y,G=Object($["a"])(B,Q,U,!1,null,null,null),Z=G.exports,W=a("c3b3"),K={name:"Examenes",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},data:function(){return{apiBase3:q["a"]+"/Examenes_realizados/list3",from3:0,to3:0,total3:0,perPage3:5,search3:"",fechaDesde:null,fechaHasta:null,fields3:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"nombre",title:"Nombre",dataClass:"list-item-heading"},{name:"edad",sortField:"edad",title:"Edad",dataClass:"list-item-heading"},{name:"whatsapp",sortField:"whatsapp",title:"Celular",dataClass:"list-item-heading"},{name:"numero_muestra",sortField:"numero_muestra",title:"Numero de Muestra",dataClass:"list-item-heading"},{name:"nombre_examen",sortField:"nombre_examen",title:"Examen Realizado",dataClass:"list-item-heading"},{name:"fecha_hora",sortField:"fecha_hora",title:"Fecha y Hora",dataClass:"list-item-heading"}]}},methods:{realizarBusqueda:function(){this.$refs.vuetable.refresh(),this.fechaDesde=null,this.fechaHasta=null},makeQueryParams3:function(e,t,a){return{criterio:e[0]?e[0].sortField:"updatedAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage3,search:this.search3,fechaDesde:this.fechaDesde?F()(this.fechaDesde).format("YYYY-MM-DD"):null,fechaHasta:this.fechaHasta?F()(this.fechaHasta).format("YYYY-MM-DD"):null}},changePageSizes3:function(e){this.perPage3=e,this.$refs.vuetable3.refresh()},searchChange3:function(e){this.search3=e.toLowerCase(),this.$refs.vuetable3.refresh()},onPaginationData3:function(e){this.from3=e.from,this.to3=e.to,this.total3=e.total,this.lastPage3=e.last_page,this.items3=e.data.map((function(e){return e.fecha_hora=F()(e.fecha_hora).format("DD/MM/YYYY HH:mm"),{fecha_hora:e.fecha_hora}})),this.$refs.pagination3.setPaginationData(e)},onChangePage3:function(e){this.$refs.vuetable3.changePage(e)}}},J=K,X=(a("0d6f"),Object($["a"])(J,P,M,!1,null,null,null)),ee=X.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{sm:"12"}},[a("iq-card",{attrs:{"class-name":"iq-card-block iq-card-stretch iq-card-height"},scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("div",{staticClass:"center-text"},[a("h3",{staticClass:"card-title"},[e._v("HOSPITAL DE ESPECIALIDADES")])])]},proxy:!0},{key:"body",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("EXPEDIENTES ACTIVOS")]),a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("div",{staticClass:"table-responsive"},[a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"tipo_paciente",fn:function(t){return a("div",{},[t.rowData.cuentas&&t.rowData.cuentas.length&&1===t.rowData.cuentas[0].tipo?a("button",{staticClass:"btn btn-success",attrs:{disabled:""}},[e._v(" PACIENTE HOSPITALIZADO ")]):t.rowData.cuentas&&t.rowData.cuentas.length&&2===t.rowData.cuentas[0].tipo?a("button",{staticClass:"btn btn-warning",attrs:{disabled:""}},[e._v(" PACIENTE DE EMERGENCIA ")]):t.rowData.cuentas&&t.rowData.cuentas.length&&3===t.rowData.cuentas[0].tipo?a("button",{staticClass:"btn btn-dark",attrs:{disabled:""}},[e._v(" PACIENTE DE QUIRÓFANO ")]):t.rowData.cuentas&&t.rowData.cuentas.length&&4===t.rowData.cuentas[0].tipo?a("button",{staticClass:"btn btn-light",attrs:{disabled:""}},[e._v(" PACIENTE AMBULATORIO ")]):e._e()])}},{key:"estado",fn:function(t){return a("div",{},[1===t.rowData.estado?a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:""}},[e._v("INGRESADO EN HOSPITAL")]):e._e(),2===t.rowData.estado?a("button",{staticClass:"btn btn-warning",attrs:{type:"button",disabled:""}},[e._v("EGRESADO")]):e._e(),3===t.rowData.estado?a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:""}},[e._v("INGRESADO EN QUIRÓFANO")]):e._e(),4===t.rowData.estado?a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:""}},[e._v("INGRESADO EN INTENSIVO")]):e._e(),5===t.rowData.estado?a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:""}},[e._v("INGRESADO EN EMERGENCIA")]):e._e(),6===t.rowData.estado?a("button",{staticClass:"btn btn-dark",attrs:{type:"button",disabled:""}},[e._v("DESAHUCIADO")]):e._e(),7===t.rowData.estado?a("button",{staticClass:"btn btn-dark",attrs:{type:"button",disabled:""}},[e._v("ALTA MÉDICA")]):e._e(),8===t.rowData.estado?a("button",{staticClass:"btn btn-dark",attrs:{type:"button",disabled:""}},[e._v("EGRESO CONTRAINDICADO")]):e._e(),9===t.rowData.estado?a("button",{staticClass:"btn btn-dark",attrs:{type:"button",disabled:""}},[e._v("REFERIDO A OTRA UBICACIÓN")]):e._e(),10===t.rowData.estado?a("button",{staticClass:"btn btn-dark",attrs:{type:"button",disabled:""}},[e._v("EXPEDIENTE INCOMPLETO")]):e._e(),0===t.rowData.estado?a("button",{staticClass:"btn btn-dark",attrs:{type:"button",disabled:""}},[e._v("FALLECIDO")]):e._e()])}}])})],1),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1),a("b-col",{attrs:{md:"12",lg:"12"}},[a("b-row",[a("b-col",{attrs:{sm:"12"}},[a("iq-card",{attrs:{"class-name":"iq-card-block iq-card-stretch iq-card-height","body-class":""},scopedSlots:e._u([{key:"body",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("ESTADO DE HABITACIONES")]),a("datatable-heading",{attrs:{changePageSize:e.changePageSizesHabitaciones,searchChange:e.searchChangeHabitaciones,from:e.fromHabitaciones,to:e.toHabitaciones,total:e.totalHabitaciones,perPage:e.perPageHabitaciones}}),a("vuetable",{ref:"vuetable_habitaciones",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBaseHabitaciones,"query-params":e.makeQueryParamsHabitaciones,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsHabitaciones,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationDataHabitaciones},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("DISPONIBLE")])])])],1):2==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("OCUPADA")])])])],1):0==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("NO DISPONIBLE")])])])],1):e._e()])}}])}),a("vuetable-pagination-bootstrap",{ref:"paginationHabitaciones",on:{"vuetable-pagination:change-page":e.onChangePageHabitaciones}})]},proxy:!0}])})],1)],1)],1)],1)],1)},ae=[],re=(a("ac1f"),a("841c"),a("cb72")),oe=a("bc3a"),ie=a.n(oe),ne={name:"Dashboard1",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H,IqCard:re["default"]},mounted:function(){g["a"].index(),this.getResultados()},data:function(){return{from:0,to:0,total:0,perPage:10,search:"",resultsList:[],fromHabitaciones:0,toHabitaciones:0,totalHabitaciones:0,perPageHabitaciones:5,searchHabitaciones:"",resultsListHabitaciones:[],apiBase:q["a"]+"/expedientes/listPanel",apiBaseHabitaciones:q["a"]+"/habitaciones/list",slickOptions:{centerMode:!1,centerPadding:"60px",slidesToShow:5,slidesToScroll:1,focusOnSelect:!0,responsive:[{breakpoint:992,settings:{arrows:!1,centerMode:!0,centerPadding:"30",slidesToShow:3}},{breakpoint:480,settings:{arrows:!1,centerMode:!0,centerPadding:"15",slidesToShow:1}}],nextArrow:'<a href="#" class="ri-arrow-left-s-line left"></a>',prevArrow:'<a href="#" class="ri-arrow-right-s-line right"></a>'},fields:[{name:"nombres",sortField:"nombres",title:"Nombre",dataClass:"list-item-heading"},{name:"apellidos",sortField:"apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"expediente",sortField:"expediente",title:"Expediente",dataClass:"list-item-heading"},{name:"__slot:tipo_paciente",title:"Tipo de paciente"},{name:"medico.nombre",title:"Médico asignado",dataClass:"list-item-heading"},{name:"nacimiento",sortField:"nacimiento",title:"Fecha de nacimiento",dataClass:"list-item-heading"},{name:"edad",title:"Edad",dataClass:"list-item-heading"},{name:"genero",sortField:"genero",title:"Género",dataClass:"list-item-heading"},{name:"nombre_encargado",sortField:"nombre_encargado",title:"Nombre de encargado",dataClass:"list-item-heading"},{name:"contacto_encargado",sortField:"contacto_encargado",title:"Contacto de encargado",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}],fieldsHabitaciones:[{name:"numero",sortField:"numero",title:"Numero",dataClass:"list-item-heading"},{name:"tipo",sortField:"tipo",title:"Tipo de habitación",dataClass:"list-item-heading"},{name:"costo_diario",sortField:"costo_diario",title:"Costo de habitación",dataClass:"list-item-heading"},{name:"costo_ambulatorio",sortField:"costo_ambulatorio",title:"Costo ambulatorio",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},methods:{getResultados:function(){var e=this,t=q["a"]+"/resultado/get/";ie.a.get(t).then((function(t){e.resultsList=t.data}))},getFecha:function(e){var t=F()(e).format("DD-MM-YYYY hh:mm");return t},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"id",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},calcularEdad:function(e){if(!e)return"";var t=F()(e,"DD-MM-YYYY").format("YYYY-MM-DD"),a=new Date,r=new Date(t),o=a.getFullYear()-r.getFullYear(),i=r.getMonth(),n=r.getDate();return(a.getMonth()<i||a.getMonth()===i&&a.getDate()<n)&&o--,o},makeQueryParamsHabitaciones:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},changePageSizesHabitaciones:function(e){this.perPage=e,this.$refs.vuetable_habitaciones.refresh()},searchChangeHabitaciones:function(e){this.search=e.toLowerCase(),this.$refs.vuetable_habitaciones.refresh()},onPaginationData:function(e){var t=this;this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data.map((function(e){return e.nacimiento=F()(e.nacimiento).format("DD/MM/YYYY"),e.edad=t.calcularEdad(e.nacimiento),{nacimiento:e.nacimiento,edad:e.edad}})),this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},onChangePageHabitaciones:function(e){this.$refs.vuetable_habitaciones.changePage(e)},onPaginationDataHabitaciones:function(e){this.fromHabitaciones=e.from,this.toHabitaciones=e.to,this.totalHabitaciones=e.total,this.lastPageHabitaciones=e.last_page,this.itemsHabitaciones=e.data,this.$refs.paginationHabitaciones.setPaginationData(e)},onSearchExpedientes:function(e,t){e.length&&(t(!0),this.searchingExpedientes(e,t))},searchingExpedientes:function(e,t){var a=this;ie.a.get(q["a"]+"/expedientes/getSearch",{params:{search:e}}).then((function(e){a.expedientes=e.data,t(!1)}))}}},se=ne,le=(a("9d5f"),Object($["a"])(se,te,ae,!1,null,null,null)),ce=le.exports,de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",{staticClass:"mb-0"},[e._v("Login")]),a("p",[e._v("Ingrese sus credenciales para iniciar sesión")]),a("sign-in1-form",{attrs:{formType:"jwt",email:"admin@xray.com",password:"admin123"}})],1)},me=[],ue=a("b0af"),fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ValidationObserver",{ref:"form",scopedSlots:e._u([{key:"default",fn:function(t){var r=t.handleSubmit;return[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("form",{staticClass:"mt-4",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),r(e.onSubmit)}}},[a("ValidationProvider",{attrs:{vid:"user",name:"User",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("div",{staticClass:"form-group "},[a("label",{attrs:{for:"userInput"}},[e._v("Usuario")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.user,expression:"user.user"}],class:"form-control mb-0"+(r.length>0?" is-invalid":""),attrs:{type:"user",id:"userInput",placeholder:"Ingrese usuario",required:""},domProps:{value:e.user.user},on:{input:function(t){t.target.composing||e.$set(e.user,"user",t.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[a("span",[e._v(e._s(r[0]))])])])]}}],null,!0)}),a("ValidationProvider",{attrs:{vid:"password",name:"Password",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"passwordInput"}},[e._v("Contraseña")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],class:"form-control mb-0"+(r.length>0?" is-invalid":""),attrs:{type:"password",id:"passwordInput",placeholder:"Ingrese contraseña",required:""},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[a("span",[e._v(e._s(r[0]))])])])]}}],null,!0)}),a("div",{staticClass:"d-inline-block w-100"},[a("button",{staticClass:"btn btn-primary float-right",attrs:{type:"submit"}},[e._v("Iniciar sesión")])])],1)]}}])})},he=[],pe=a("1da1"),be=(a("96cf"),{name:"SignIn1Form",data:function(){return{user:{user:"",password:""},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:""}},mounted:function(){},computed:Object(s["a"])({},Object(_["c"])(["currentUser","processing","loginError"])),methods:Object(s["a"])(Object(s["a"])({},Object(_["b"])(["login"])),{},{onSubmit:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.login(e.user);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},showAlertError:function(){this.alertCountDownError=this.alertSecs}}),watch:{currentUser:function(e){var t=this;e&&e.uid&&setTimeout((function(){t.$router.push({name:"dashboard.home-1"})}),200)},loginError:function(e){null!=e&&(this.alertVariant="danger",this.showAlertError(),this.alertErrorText=e)}}}),ve=be,ge=Object($["a"])(ve,fe,he,!1,null,null,null),_e=ge.exports,xe={name:"SignIn1",components:{SignIn1Form:_e},data:function(){return{}},mounted:function(){var e=localStorage.getItem("access_token");void 0!==e&&null!==e&&this.$router.push({name:"mini.dashboard.home-2"})},methods:{loginOAuth0:function(){new ue["a"].WebAuth(q["c"].auth0Config).authorize()}}},Ce=xe,$e=Object($["a"])(Ce,de,me,!1,null,null,null),ye=$e.exports,we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",{staticClass:"mb-0"},[e._v("Sign Up")]),a("p",[e._v("Enter your email address and password to access admin panel.")]),a("sign-up1-form",{attrs:{formType:"jwt"}})],1)},Ee=[],ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ValidationObserver",{ref:"form",scopedSlots:e._u([{key:"default",fn:function(t){var r=t.handleSubmit;return[a("form",{staticClass:"mt-4",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),r(e.onSubmit)}}},[a("ValidationProvider",{attrs:{vid:"name",name:"Full Name",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[e._v("Your Full Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],class:"form-control mb-0"+(r.length>0?" is-invalid":""),attrs:{type:"text",id:"name","aria-describedby":"emailHelp",placeholder:"Your Full Name"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[a("span",[e._v(e._s(r[0]))])])])]}}],null,!0)}),a("ValidationProvider",{attrs:{vid:"name",name:"Email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[e._v("Email address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],class:"form-control mb-0"+(r.length>0?" is-invalid":""),attrs:{type:"email",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[a("span",[e._v(e._s(r[0]))])])])]}}],null,!0)}),a("ValidationProvider",{attrs:{vid:"password",name:"Password",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[e._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],class:"form-control mb-0"+(r.length>0?" is-invalid":""),attrs:{type:"password",id:"password",placeholder:"Password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[a("span",[e._v(e._s(r[0]))])])])]}}],null,!0)}),a("div",{staticClass:"d-inline-block w-100"},[a("div",{staticClass:"custom-control custom-checkbox d-inline-block mt-2 pt-1"},[a("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:e.formType}}),a("label",{staticClass:"custom-control-label",attrs:{for:e.formType}},[e._v("I accept "),a("a",{attrs:{href:"#"}},[e._v("Terms and Conditions")])])]),a("button",{staticClass:"btn btn-primary float-right",attrs:{type:"submit"}},[e._v("Sign Up")])]),a("div",{staticClass:"sign-info"},[a("span",{staticClass:"dark-color d-inline-block line-height-2"},[e._v(" Already Have Account ? "),e.$route.meta.dark?a("router-link",{staticClass:"iq-waves-effect pr-4",attrs:{to:"/dark/auth/sign-in1"}},[e._v(" Sign in ")]):a("router-link",{staticClass:"iq-waves-effect pr-4",attrs:{to:"/auth/sign-in1"}},[e._v(" Sign in ")])],1),a("social-login-form")],1)],1)]}}])})},De=[],Ae=(a("5319"),a("6bf2")),Se=a("8aa5"),Te=a.n(Se),Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"iq-social-media"},e._l(e.socialProviders,(function(t,r){return a("li",{key:r},[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){return e.socialLogin(t.type)}}},[a("i",{class:t.icon})])])})),0)},Me=[],qe=(a("e9c4"),{name:"SocialLoginForm",data:function(){return{socialProviders:[{type:"google",icon:"ri-google-line"},{type:"facebook",icon:"ri-facebook-box-line"}]}},methods:{socialLogin:function(e){var t=this,a=new Te.a.auth.GoogleAuthProvider;"facebook"===e?a=new Te.a.auth.FacebookAuthProvider:"twitter"===e&&(a=new Te.a.auth.TwitterAuthProvider),Te.a.auth().signInWithPopup(a).then((function(e){var a=Te.a.auth().currentUser.providerData[0];t.$store.dispatch("Setting/authUserAction",{auth:!0,authType:"firebase",user:{id:a.uid,name:a.displayName,mobileNo:a.phoneNumber,email:a.email,profileImage:a.photoURL}}),localStorage.setItem("user",JSON.stringify(a)),t.$router.push({name:"mini.dashboard.home-1"})})).catch()}}}),Ie=qe,Fe=Object($["a"])(Ie,Pe,Me,!1,null,null,null),Oe=Fe.exports,Ne={name:"SignUp1Form",components:{SocialLoginForm:Oe},props:["formType"],computed:Object(s["a"])({},Object(_["c"])({users:"Setting/usersState"})),data:function(){return{user:{email:"",password:""}}},methods:{onSubmit:function(){"passport"===this.formType?this.passportRegister():"jwt"===this.formType?this.jwtRegister():"firebase"===this.formType&&this.firebaseRegister()},jwtRegister:function(){this.$store.dispatch("Setting/addUserAction",this.user),this.$router.replace("/auth/sign-in1")},passportRegister:function(){var e=this;Ae["a"].register(this.user).then((function(t){t.status?e.$router.push("/auth/sign-in1"):t.data.errors.length>0&&e.$refs.form.setErrors(t.data.errors)})).finally((function(){e.loading=!1}))},firebaseRegister:function(){var e=this;Te.a.auth().createUserWithEmailAndPassword(this.user.email,this.user.password).then((function(t){e.$router.replace("/auth/sign-in1")})).catch((function(e){}))}}},Re=Ne,Ve=Object($["a"])(Re,ke,De,!1,null,null,null),ze=Ve.exports,He={name:"SignUp1",components:{SignUp1Form:ze},data:function(){return{}},methods:{loginOAuth0:function(){new ue["a"].WebAuth(q["c"].auth0Config).authorize()}}},Le=He,Qe=Object($["a"])(Le,we,Ee,!1,null,null,null),Ue=Qe.exports,je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"body",fn:function(){return[a("div",{staticClass:"table-responsive"},[a("b-table-simple",{staticClass:"text-center"},[a("b-thead",[a("b-tr",e._l(e.headerColumn,(function(t,r){return a("th",{key:t.key+r},[e._v(e._s(t.label))])})),0)],1),a("b-tbody",e._l(e.rows,(function(t,r){return a("b-tr",{key:r},[a("th",{attrs:{scope:"row"}},[e._v(e._s(t.name))]),a("td",[t.button?[a("h2",[e._v(e._s(t.starter)+" "),a("small",[e._v(e._s(t.starter_per))])]),a("b-button",{attrs:{variant:"primary  mt-3"}},[e._v("Purchase")])]:e._e(),t.starter&&!t.button?a("i",{staticClass:"ri-check-line ri-2x text-success"}):e._e()],2),a("td",[t.button?[a("h2",[e._v(e._s(t.business)+" "),a("small",[e._v(e._s(t.business_per))])]),a("b-button",{attrs:{variant:"primary  mt-3"}},[e._v("Purchase")])]:e._e(),t.business&&!t.button?a("i",{staticClass:"ri-check-line ri-2x text-success"}):e._e()],2),a("td",[t.button?[a("h2",[e._v(e._s(t.enterprise)+" "),a("small",[e._v(e._s(t.enterprise_per))])]),e._v(". "),a("b-button",{attrs:{variant:"primary  mt-3"}},[e._v("Purchase")])]:e._e(),t.enterprise&&!t.button?a("i",{staticClass:"ri-check-line ri-2x text-success"}):e._e()],2),a("td",[t.button?[a("h2",[e._v(e._s(t.unlimited)+" "),a("small",[e._v(e._s(t.unlimited_per))])]),a("b-button",{attrs:{variant:"primary  mt-3"}},[e._v("Purchase")])]:e._e(),t.unlimited&&!t.button?a("i",{staticClass:"ri-check-line ri-2x text-success"}):e._e()],2)])})),1)],1)],1)]},proxy:!0}])})],1)],1)],1)},Ye=[],Be={name:"Pricing",mounted:function(){g["a"].index()},data:function(){return{headerColumn:[{key:"name",label:""},{key:"starter",label:"Starter"},{key:"business",label:"Business"},{key:"enterprise",label:"Enterprise"},{key:"unlimited",label:"Unlimited"}],rows:[{name:"Email support",starter:!0,business:!0,enterprise:!0,unlimited:!0},{name:"UI Kit",starter:!1,business:!0,enterprise:!0,unlimited:!0},{name:"100% support",starter:!1,business:!0,enterprise:!0,unlimited:!0},{name:"Advance form",starter:!0,business:!0,enterprise:!0,unlimited:!0},{name:"Custom shortcode",starter:!1,business:!1,enterprise:!1,unlimited:!0},{name:"Thousand of Widgets",starter:!1,business:!1,enterprise:!0,unlimited:!0},{name:"",button:!0,starter:"$19/",starter_per:" Per month",business:"$39/",business_per:" Per month",enterprise:"$119/",enterprise_per:" Per month",unlimited:"$219/",unlimited_per:" Per month"}]}}},Ge=Be,Ze=Object($["a"])(Ge,je,Ye,!1,null,null,null),We=Ze.exports,Ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[e._l(e.cards,(function(t,r){return a("b-col",{key:r,attrs:{lg:"3"}},[a("iq-card",{class:t.active?"bg-primary text-white":"",attrs:{"body-class":"text-center"},scopedSlots:e._u([{key:"body",fn:function(){return[""!==t.plan?a("span",{staticClass:"font-size-16 text-uppercase"},[e._v(e._s(t.plan))]):e._e(),a("h2",{staticClass:"mb-4 display-3 font-weight-bolder",class:t.active?"text-white":""},[e._v(" "+e._s(t.amount)+" "),a("small",{staticClass:"font-size-14 ",class:t.active?"text-white":"text-muted"},[e._v(e._s(t.duration))])]),a("ul",{staticClass:"list-unstyled line-height-4 mb-0"},[a("li",[e._v(e._s(t.description))])]),a("b-button",{staticClass:"mt-5 ",class:t.buttonClass,attrs:{variant:t.active?"light":"primary"}},[e._v(e._s(t.button))])]},proxy:!0}],null,!0)})],1)})),e._l(e.bgCards,(function(t,r){return a("b-col",{key:r,attrs:{lg:"3"}},[a("b-card",{staticClass:" text-white text-center iq-mb-3",attrs:{overlay:"","img-src":t.bgImage,"img-alt":"Card Image","text-variant":"white","bg-variant":"dark"}},[[a("h2",{staticClass:"mb-4 display-3 font-weight-bolder text-white"},[e._v(" "+e._s(t.amount)+" "),a("small",{staticClass:"font-size-14 text-white"},[e._v(e._s(t.duration))])]),a("ul",{staticClass:"list-unstyled line-height-4 mb-0"},[a("li",[e._v(e._s(t.description))])]),a("b-button",{staticClass:"mt-5 ",class:t.buttonClass,attrs:{variant:t.active?"light":"primary"}},[e._v(e._s(t.button))])]],2)],1)}))],2)],1)},Je=[],Xe={name:"Pricing1",mounted:function(){g["a"].index()},data:function(){return{cards:[{plan:"Basic",amount:"$26",duration:"/ Month",active:!1,description:"Lorem ipsum dolor sit amet Consectetur adipiscing elit Integer molestie lorem at massa Facilisis in pretium nisl aliquet Nulla volutpat aliquam velit",button:"Start Starter",buttonClass:"",bgImage:!1},{plan:"Basic",amount:"$99",duration:"/ Month",active:!0,description:"Lorem ipsum dolor sit amet Consectetur adipiscing elit Integer molestie lorem at massa Facilisis in pretium nisl aliquet Nulla volutpat aliquam velit",button:"Start Starter",buttonClass:"btn-block",bgImage:!1},{plan:"Basic",amount:"$39",duration:"/ Month",active:!1,description:"Lorem ipsum dolor sit amet Consectetur adipiscing elit Integer molestie lorem at massa Facilisis in pretium nisl aliquet Nulla volutpat aliquam velit",button:"Start Starter",buttonClass:"",bgImage:!1},{plan:"Basic",amount:"$25",duration:"/ Month",active:!1,description:"Lorem ipsum dolor sit amet Consectetur adipiscing elit Integer molestie lorem at massa Facilisis in pretium nisl aliquet Nulla volutpat aliquam velit",button:"Start Starter",buttonClass:"",bgImage:!1}]}}},et=Xe,tt=Object($["a"])(et,Ke,Je,!1,null,null,null),at=tt.exports,rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{sm:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Dripicons Icon")])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Use Class "),a("code",[e._v('<div data-icon="a" class="icon"></div>')])]),a("b-row",{staticClass:"mt-3"},[a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"a"}}),a("span",[e._v("4k Fill")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"o"}}),a("span",[e._v("Up Arrow")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"h"}}),a("span",[e._v("Down Arrow")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"j"}}),a("span",[e._v("Left Arrow")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"i"}}),a("span",[e._v("Right Arrow")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"l"}}),a("span",[e._v("left")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"k"}}),a("span",[e._v("Down")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"n"}}),a("span",[e._v("Up")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"m"}}),a("span",[e._v("Right")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"f"}}),a("span",[e._v("Anchor")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"g"}}),a("span",[e._v("File")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"p"}}),a("span",[e._v("Note")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"s"}}),a("span",[e._v("Dribbble")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"K"}}),a("span",[e._v("Download")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"G"}}),a("span",[e._v("Sun")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"H"}}),a("span",[e._v("Haf light")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"F"}}),a("span",[e._v("Light")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"I"}}),a("span",[e._v("Voice")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"x"}}),a("span",[e._v("Notification")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"J"}}),a("span"),e._v("Page")])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"t"}}),a("span",[e._v("Battery Empty")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"u"}}),a("span",[e._v("Battery Full")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"v"}}),a("span",[e._v("Battery One")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"w"}}),a("span",[e._v("Battery Two")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"Q"}}),a("span",[e._v("Cart")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"P"}}),a("span",[e._v("Card")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"O"}}),a("span",[e._v("Camera")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"N"}}),a("span",[e._v("Video")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"S"}}),a("span",[e._v("Check")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"T"}}),a("span",[e._v("Angle Down")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"U"}}),a("span",[e._v("Angle Left")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"V"}}),a("span",[e._v("Angle Right")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"W"}}),a("span",[e._v("Angle Up")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"X"}}),a("span",[e._v("Up Arrow")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"Y"}}),a("span",[e._v("Clock")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"Z"}}),a("span",[e._v("Reload")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"0"}}),a("span",[e._v("Cloud")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"1"}}),a("span",[e._v("Cloud Download")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"2"}}),a("span",[e._v("Cloud Upload")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"5"}}),a("span",[e._v("Arrow")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"5"}}),a("span",[e._v("Arrow")])])],1),a("b-col",{attrs:{xl:"2",lg:"3",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("div",{staticClass:"icon",attrs:{"data-icon":"5"}}),a("span",[e._v("Arrow")])])],1),a("b-col",{staticClass:"text-center mt-3",attrs:{sm:"12"}},[a("b-button",{attrs:{href:"http://demo.amitjakhu.com/dripicons/",target:"blank",variant:"primary"}},[e._v("View All Icon")])],1)],1)]},proxy:!0}])})],1)],1)],1)},ot=[],it={name:"IconDripicons",mounted:function(){g["a"].index()}},nt=it,st=Object($["a"])(nt,rt,ot,!1,null,null,null),lt=st.exports,ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{sm:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Fontawesome Icon")])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Use Class "),a("code",[e._v('<i class="fa fa-address-book"></i>')])]),a("b-row",{staticClass:"mt-3"},[a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-address-book",attrs:{"aria-hidden":"true"}}),e._v("address-book")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-envelope-open",attrs:{"aria-hidden":"true"}}),e._v("envelope-open")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-id-card",attrs:{"aria-hidden":"true"}}),e._v("id-card")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-telegram",attrs:{"aria-hidden":"true"}}),e._v("telegram")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-user-circle",attrs:{"aria-hidden":"true"}}),e._v("user-circle")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-area-chart",attrs:{"aria-hidden":"true"}}),e._v("area-chart")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-asterisk",attrs:{"aria-hidden":"true"}}),e._v("asterisk")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-car",attrs:{"aria-hidden":"true"}}),e._v("car")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-bars",attrs:{"aria-hidden":"true"}}),e._v("bars")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-battery-full",attrs:{"aria-hidden":"true"}}),e._v("battery-full")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-bluetooth",attrs:{"aria-hidden":"true"}}),e._v("bluetooth")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-book",attrs:{"aria-hidden":"true"}}),e._v("book")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-bug",attrs:{"aria-hidden":"true"}}),e._v("bug")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-building",attrs:{"aria-hidden":"true"}}),e._v("building")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-calculator",attrs:{"aria-hidden":"true"}}),e._v("calculator")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-calendar",attrs:{"aria-hidden":"true"}}),e._v("calendar")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-camera",attrs:{"aria-hidden":"true"}}),e._v("camera")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-commenting",attrs:{"aria-hidden":"true"}}),e._v("commenting")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-crop",attrs:{"aria-hidden":"true"}}),e._v("crop")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-download",attrs:{"aria-hidden":"true"}}),e._v("download")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-folder",attrs:{"aria-hidden":"true"}}),e._v("folder")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-gift",attrs:{"aria-hidden":"true"}}),e._v("gift")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-users",attrs:{"aria-hidden":"true"}}),e._v("users")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-hashtag",attrs:{"aria-hidden":"true"}}),e._v("hashtag")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-home",attrs:{"aria-hidden":"true"}}),e._v("home")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-lock",attrs:{"aria-hidden":"true"}}),e._v("lock")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-graduation-cap",attrs:{"aria-hidden":"true"}}),e._v("graduation-cap")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-paper-plane",attrs:{"aria-hidden":"true"}}),e._v("paper-plane")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-star",attrs:{"aria-hidden":"true"}}),e._v("star")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-tag",attrs:{"aria-hidden":"true"}}),e._v("tag")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}}),e._v("trash")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-upload",attrs:{"aria-hidden":"true"}}),e._v("upload")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-university",attrs:{"aria-hidden":"true"}}),e._v("university")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-wifi",attrs:{"aria-hidden":"true"}}),e._v("wifi")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-thumbs-up",attrs:{"aria-hidden":"true"}}),e._v("thumbs-up")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-train",attrs:{"aria-hidden":"true"}}),e._v("train")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-file",attrs:{"aria-hidden":"true"}}),e._v("file")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-snapchat",attrs:{"aria-hidden":"true"}}),e._v("snapchat")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-twitter",attrs:{"aria-hidden":"true"}}),e._v("twitter")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-wordpress",attrs:{"aria-hidden":"true"}}),e._v("wordpress")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-wordpress",attrs:{"aria-hidden":"true"}}),e._v("wordpress")])],1),a("b-col",{attrs:{lg:"2",md:"2",sm:"2"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-wordpress",attrs:{"aria-hidden":"true"}}),e._v("wordpress")])],1),a("b-col",{staticClass:"text-center mt-3",attrs:{sm:"12"}},[a("b-link",{staticClass:"btn btn-primary",attrs:{href:"https://fontawesome.com/v4.7.0/",target:"blank"}},[e._v("View All Icon")])],1)],1)]},proxy:!0}])})],1)],1)],1)},dt=[],mt={name:"IconFontAwesome5",mounted:function(){g["a"].index()}},ut=mt,ft=Object($["a"])(ut,ct,dt,!1,null,null,null),ht=ft.exports,pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Line Awesome Icon")])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Use Class "),a("code",[e._v('<i class="las la-bell"></i>')])]),a("b-row",{staticClass:"mt-3"},[a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-bell"}),e._v("bell")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-phone-volume"}),e._v("phone")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-radiation"}),e._v("radiation")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-dog"}),e._v("dog")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-fish"}),e._v("fish")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-spider"}),e._v("la-spider")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-angle-down"}),e._v("angle-down")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-angle-left"}),e._v("angle-left")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-angle-right"}),e._v("angle-right")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-angle-up"}),e._v("angle-up")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-caret-left"}),e._v("caret-left")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-caret-right"}),e._v("caret-right")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-download"}),e._v("download")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-location-arrow"}),e._v("location-arrow")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-share"}),e._v("share")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-backward"}),e._v("backward")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-play"}),e._v("play")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-pause"}),e._v("pause")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-sync"}),e._v("sync")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-volume-down"}),e._v("volume-down")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-volume-mute"}),e._v("volume-mute")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-volume-off"}),e._v("volume-off")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-volume-up"}),e._v("volume-up")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"lab la-youtube"}),e._v("youtube")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-car"}),e._v("car")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-truck"}),e._v("truck")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-tree"}),e._v("tree")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"lab la-pinterest-p"}),e._v("pinterest")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"lab la-java"}),e._v("java")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-city"}),e._v("city")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-edit"}),e._v("edit")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-copy"}),e._v("copy")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-cut"}),e._v("cut")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-pen"}),e._v("pen")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-tag"}),e._v("tag")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-save"}),e._v("save")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-tasks"}),e._v("tasks")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-comment"}),e._v("comment")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-video"}),e._v("video")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-smile"}),e._v("smile")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-smile"}),e._v("smile")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"las la-smile"}),e._v("smile")])],1),a("b-col",{staticClass:"text-center mt-3",attrs:{sm:"12"}},[a("b-link",{staticClass:"btn btn-primary",attrs:{href:"https://icons8.com/line-awesome",target:"blank"}},[e._v("View All Icon")])],1)],1)]},proxy:!0}])})],1)],1)],1)},bt=[],vt={name:"IconLineAwesome",mounted:function(){g["a"].index()}},gt=vt,_t=Object($["a"])(gt,pt,bt,!1,null,null,null),xt=_t.exports,Ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{sm:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Remixicon Icon")])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Use Class "),a("code",[e._v('<i class="ri-4k-fill"></i>')])]),a("b-row",{staticClass:"mt-3"},[a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-4k-fill"}),e._v("4k Fill")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-4k-line"}),e._v("4k line")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-account-box-fill"}),e._v("Account Fill")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-account-pin-box-line"}),e._v("account-pin-box")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-award-line"}),e._v("award-line")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-award-fill"}),e._v("award-fill")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-bookmark-line"}),e._v("bookmark-line")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-bookmark-fill"}),e._v("bookmark-fill")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-calculator-line"}),e._v("calculator-line")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-calculator-fill"}),e._v("calculator-fill")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-calendar-line"}),e._v("calendar-line")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-calendar-fill"}),e._v("calendar-fill")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-reply-line"}),e._v("reply-line")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-reply-fill"}),e._v("reply-fill")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-send-plane-line"}),e._v("send-plane-line")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-send-plane-fill"}),e._v("send-plane-fill")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-computer-line"}),e._v("computer-line")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-computer-fill"}),e._v("computer-fill")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-cellphone-line"}),e._v("cellphone-line")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-cellphone-fill"}),e._v("cellphone-fill")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-phone-line"}),e._v("phone-line")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-phone-fill"}),e._v("phone-fill")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-tablet-line"}),e._v("tablet-line")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-tablet-fill"}),e._v("tablet-fill")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-device-line"}),e._v("device-line")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-device-fill"}),e._v("device-fill")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-battery-line"}),e._v("battery-line")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-battery-fill"}),e._v("battery-fill")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-battery-low-line"}),e._v("battery-low-line")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-battery-low-fill"}),e._v("battery-low-fill")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-file-line"}),e._v("file-line")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-file-fill"}),e._v("file-fill")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-book-open-line"}),e._v("book-open-line")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-book-open-fill"}),e._v("book-open-fill")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-lightbulb-line"}),e._v("lightbulb-line")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-lightbulb-fill"}),e._v("lightbulb-fill")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-map-pin-line"}),e._v("map-pin-line")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-map-pin-fill"}),e._v("map-pin-fill")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-drop-line"}),e._v("drop-line")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-drop-fill"}),e._v("drop-fill")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-drop-fill"}),e._v("drop-fill")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ri-drop-fill"}),e._v("drop-fill")])],1),a("b-col",{staticClass:"text-center mt-3",attrs:{sm:"12"}},[a("b-link",{staticClass:"btn btn-primary",attrs:{href:"https://remixicon.com/",target:"blank"}},[e._v("View All Icon")])],1)],1)]},proxy:!0}])})],1)],1)],1)},$t=[],yt={name:"IconRemixicon",mounted:function(){g["a"].index()}},wt=yt,Et=Object($["a"])(wt,Ct,$t,!1,null,null,null),kt=Et.exports,Dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{sm:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Unicons Icon")])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Use Class "),a("code",[e._v('<i class="ion-archive"></i>')])]),a("b-row",{staticClass:"mt-3"},[a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-archive"}),e._v("Archive")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-reply"}),e._v("Reply")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-reply-all"}),e._v("Reply All")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-forward"}),e._v("Forward")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-play"}),e._v("Play")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-volume-high"}),e._v("Volume High")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-pricetags"}),e._v("Pricetags")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-pause"}),e._v("Pause")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-briefcase"}),e._v("Briefcase")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-medkit"}),e._v("Medkit")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-at"}),e._v("At")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-pound"}),e._v("Pound")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-asterisk"}),e._v("Asterisk")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-alert"}),e._v("Alert")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-alert-circled"}),e._v("Alert Circled")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-refresh"}),e._v("Refresh")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-loop"}),e._v("Loop")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-shuffle"}),e._v("Shuffle")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-home"}),e._v("Home")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-search"}),e._v("Search")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-flag"}),e._v("Flag")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-heart"}),e._v("Heart")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-heart-broken"}),e._v("Broken")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-gear-a"}),e._v("Gear")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-gear-b"}),e._v("Gear bold")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-toggle-filled"}),e._v("Toggle")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-trash-b"}),e._v("Trash fill")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-hammer"}),e._v("Hammer")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-wrench"}),e._v("Wrench")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-information-circled"}),e._v("Information")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-help-circled"}),e._v("Help")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-plus-circled"}),e._v("Plush")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-close-circled"}),e._v("Close")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-email-unread"}),e._v("Email")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-upload"}),e._v("Upload")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-soup-can"}),e._v("Database")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-thumbsup"}),e._v("Thumbsup")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-thumbsdown"}),e._v("Thumbsdown")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-pricetag"}),e._v("Pricetag")])],1),a("b-col",{attrs:{lg:"2",md:"4",sm:"6"}},[a("b-link",{staticClass:"iq-icons-list",attrs:{href:"#"}},[a("i",{staticClass:"ion-bowtie"}),e._v("Bowtie")])],1),a("b-col",{staticClass:"text-center mt-3",attrs:{sm:"12"}},[a("b-link",{staticClass:"btn btn-primary",attrs:{href:"https://www.unicon.net/",target:"blank"}},[e._v("View All Icon")])],1)],1)]},proxy:!0}])})],1)],1)],1)},At=[],St={name:"IconUnicons",mounted:function(){g["a"].index()}},Tt=St,Pt=Object($["a"])(Tt,Dt,At,!1,null,null,null),Mt=Pt.exports,qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{lg:"6",sm:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Basic Form")])]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-link",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],staticClass:"text-primary float-right"},[a("i",{staticClass:"ri-code-s-slash-line"})])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),a("b-collapse",{staticClass:"mb-2",attrs:{id:"collapse-1"}},[a("div",{staticClass:"card"},[a("kbd",{staticClass:"bg-dark"},[a("pre",{staticClass:"text-white",attrs:{id:"form-1"}},[e._v("                    "),a("code",[e._v('\n <b-form>\n  <b-form-group label="Email address:" label-for="email1">\n    <b-form-input id="email1" type="email"></b-form-input>\n  </b-form-group>\n  <b-form-group label="Password:" label-for="pwd">\n    <b-form-input id="pwd" type="password" ></b-form-input>\n  </b-form-group>\n  <b-form-checkbox class="mb-3">\n    Remember me\n  </b-form-checkbox>\n  <b-button type="submit" variant="primary">Submit</b-button>\n  <b-button type="submit" variant="none" class="iq-bg-danger ml-3">Cancle</b-button>\n</b-form>\n')])])])])]),a("b-form",[a("b-form-group",{attrs:{label:"Email address:","label-for":"email1"}},[a("b-form-input",{attrs:{id:"email1",type:"email"}})],1),a("b-form-group",{attrs:{label:"Password:","label-for":"pwd"}},[a("b-form-input",{attrs:{id:"pwd",type:"password"}})],1),a("b-form-checkbox",{staticClass:"mb-3"},[e._v(" Remember me ")]),a("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")]),a("b-button",{staticClass:"iq-bg-danger ml-3",attrs:{type:"submit",variant:"none"}},[e._v("Cancle")])],1)]},proxy:!0}])}),a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Form Grid")])]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-link",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-2",modifiers:{"collapse-2":!0}}],staticClass:"text-primary float-right"},[a("i",{staticClass:"ri-code-s-slash-line"})])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),a("b-collapse",{staticClass:"mb-2",attrs:{id:"collapse-2"}},[a("div",{staticClass:"card"},[a("kbd",{staticClass:"bg-dark"},[a("pre",{staticClass:"text-white",attrs:{id:"form-2"}},[e._v("                    "),a("code",[e._v('\n<b-form>\n  <b-row>\n    <b-col>\n      <b-form-input type="text" placeholder="First Name"></b-form-input>\n    </b-col>\n    <b-col>\n      <b-form-input type="text" placeholder="Last Name"></b-form-input>\n    </b-col>\n  </b-row>\n</b-form>\n')])])])])]),a("b-form",[a("b-row",[a("b-col",[a("b-form-input",{attrs:{type:"text",placeholder:"First Name"}})],1),a("b-col",[a("b-form-input",{attrs:{type:"text",placeholder:"Last Name"}})],1)],1)],1)]},proxy:!0}])}),a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Input")])]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-link",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-3",modifiers:{"collapse-3":!0}}],staticClass:"text-primary float-right"},[a("i",{staticClass:"ri-code-s-slash-line"})])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),a("b-collapse",{staticClass:"mb-2",attrs:{id:"collapse-3"}},[a("div",{staticClass:"card"},[a("kbd",{staticClass:"bg-dark"},[a("pre",{staticClass:"text-white",attrs:{id:"form-3"}},[e._v("                    "),a("code",[e._v('\n<b-form>\n  <b-form-group label="Input Text " label-for="exampleInputText1">\n    <b-form-input id="exampleInputText1" type="text" placeholder="Enter Name" value="Mark Jhon"></b-form-input>\n  </b-form-group>\n  <b-form-group label="Email Input " label-for="exampleInputText3">\n    <b-form-input id="exampleInputText3" type="email" value="markjhon@gmail.com" placeholder="Enter Email"></b-form-input>\n  </b-form-group>\n  <b-form-group label="Url Input" label-for="exampleInputurl">\n    <b-form-input id="exampleInputurl" type="url" value="https://getbootstrap.com" placeholder="Enter Url"></b-form-input>\n  </b-form-group>\n  <b-form-group label="Telephone Input" label-for="exampleInputphone">\n    <b-form-input id="exampleInputphone" type="tel" value="1-(555)-555-5555"></b-form-input>\n  </b-form-group>\n  <b-form-group label="Number Input" label-for="exampleInputNumber1">\n    <b-form-input id="exampleInputNumber1" type="number" value="2356"></b-form-input>\n  </b-form-group>\n  <b-form-group label="Password Input" label-for="exampleInputPassword3">\n    <b-form-input id="exampleInputPassword3" type="password" value="markjhon123" placeholder="Enter Password" ></b-form-input>\n  </b-form-group>\n  <b-form-group label="Date Input" label-for="exampleInputdate">\n    <b-form-input id="exampleInputdate" type="date" value="2019-12-18"></b-form-input>\n  </b-form-group>\n  <b-form-group label="Month Input" label-for="exampleInputmonth">\n    <b-form-input id="exampleInputmonth" type="month" value="2019-12"></b-form-input>\n  </b-form-group>\n  <b-form-group label="Week Input" label-for="exampleInputweek">\n    <b-form-input id="exampleInputweek" type="week" value="2019-W46"></b-form-input>\n  </b-form-group>\n  <b-form-group label="Time Input" label-for="exampleInputtime">\n    <b-form-input id="exampleInputtime" type="time" value="13:45"></b-form-input>\n  </b-form-group>\n  <b-form-group label="Date and Time Input" label-for="exampleInputdatetime">\n    <b-form-input id="exampleInputdatetime" type="datetime-local" value="2019-12-19T13:45:00"></b-form-input>\n  </b-form-group>\n  <b-form-group label="Example textarea" label-for="exampleFormControlTextarea1">\n    <b-form-textarea id="exampleFormControlTextarea1" rows="5"></b-form-textarea>\n  </b-form-group>\n  <b-form-checkbox class="mb-3">\n    Remember me\n  </b-form-checkbox>\n  <b-button type="submit" variant="primary">Submit</b-button>\n  <b-button type="submit" variant="none" class="iq-bg-danger ml-3">Cancle</b-button>\n</b-form>\n')])])])])]),a("b-form",[a("b-form-group",{attrs:{label:"Input Text ","label-for":"exampleInputText1"}},[a("b-form-input",{attrs:{id:"exampleInputText1",type:"text",placeholder:"Enter Name",value:"Mark Jhon"}})],1),a("b-form-group",{attrs:{label:"Email Input ","label-for":"exampleInputText3"}},[a("b-form-input",{attrs:{id:"exampleInputText3",type:"email",value:"markjhon@gmail.com",placeholder:"Enter Email"}})],1),a("b-form-group",{attrs:{label:"Url Input","label-for":"exampleInputurl"}},[a("b-form-input",{attrs:{id:"exampleInputurl",type:"url",value:"https://getbootstrap.com",placeholder:"Enter Url"}})],1),a("b-form-group",{attrs:{label:"Telephone Input","label-for":"exampleInputphone"}},[a("b-form-input",{attrs:{id:"exampleInputphone",type:"tel",value:"1-(555)-555-5555"}})],1),a("b-form-group",{attrs:{label:"Number Input","label-for":"exampleInputNumber1"}},[a("b-form-input",{attrs:{id:"exampleInputNumber1",type:"number",value:"2356"}})],1),a("b-form-group",{attrs:{label:"Password Input","label-for":"exampleInputPassword3"}},[a("b-form-input",{attrs:{id:"exampleInputPassword3",type:"password",value:"markjhon123",placeholder:"Enter Password"}})],1),a("b-form-group",{attrs:{label:"Date Input","label-for":"exampleInputdate"}},[a("b-form-input",{attrs:{id:"exampleInputdate",type:"date",value:"2019-12-18"}})],1),a("b-form-group",{attrs:{label:"Month Input","label-for":"exampleInputmonth"}},[a("b-form-input",{attrs:{id:"exampleInputmonth",type:"month",value:"2019-12"}})],1),a("b-form-group",{attrs:{label:"Week Input","label-for":"exampleInputweek"}},[a("b-form-input",{attrs:{id:"exampleInputweek",type:"week",value:"2019-W46"}})],1),a("b-form-group",{attrs:{label:"Time Input","label-for":"exampleInputtime"}},[a("b-form-input",{attrs:{id:"exampleInputtime",type:"time",value:"13:45"}})],1),a("b-form-group",{attrs:{label:"Date and Time Input","label-for":"exampleInputdatetime"}},[a("b-form-input",{attrs:{id:"exampleInputdatetime",type:"datetime-local",value:"2019-12-19T13:45:00"}})],1),a("b-form-group",{attrs:{label:"Example textarea","label-for":"exampleFormControlTextarea1"}},[a("b-form-textarea",{attrs:{id:"exampleFormControlTextarea1",rows:"5"}})],1),a("b-form-checkbox",{staticClass:"mb-3"},[e._v(" Remember me ")]),a("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")]),a("b-button",{staticClass:"iq-bg-danger ml-3",attrs:{type:"submit",variant:"none"}},[e._v("Cancle")])],1)]},proxy:!0}])}),a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Input Size")])]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-link",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-4",modifiers:{"collapse-4":!0}}],staticClass:"text-primary float-right"},[a("i",{staticClass:"ri-code-s-slash-line"})])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),a("b-collapse",{staticClass:"mb-2",attrs:{id:"collapse-4"}},[a("div",{staticClass:"card"},[a("kbd",{staticClass:"bg-dark"},[a("pre",{staticClass:"text-white",attrs:{id:"form-4"}},[e._v("                    "),a("code",[e._v('\n<b-form>\n  <b-form-group label="Small" label-for="colFormLabelSm">\n    <b-form-input type="email" size="sm" id="colFormLabelSm" placeholder="form-control-sm"></b-form-input>\n  </b-form-group>\n  <b-form-group label="Default" label-for="colFormLabel" class="mb-0">\n    <b-form-input type="email" id="colFormLabel" placeholder="form-control"></b-form-input>\n  </b-form-group>\n  <b-form-group label="Large" label-for="colFormLabelLg">\n    <b-form-input type="email" size="lg" id="colFormLabelLg" placeholder="form-control-lg"></b-form-input>\n  </b-form-group>\n</b-form>\n')])])])])]),a("b-form",[a("b-form-group",{attrs:{label:"Small","label-for":"colFormLabelSm"}},[a("b-form-input",{attrs:{type:"email",size:"sm",id:"colFormLabelSm",placeholder:"form-control-sm"}})],1),a("b-form-group",{staticClass:"mb-0",attrs:{label:"Default","label-for":"colFormLabel"}},[a("b-form-input",{attrs:{type:"email",id:"colFormLabel",placeholder:"form-control"}})],1),a("b-form-group",{attrs:{label:"Large","label-for":"colFormLabelLg"}},[a("b-form-input",{attrs:{type:"email",size:"lg",id:"colFormLabelLg",placeholder:"form-control-lg"}})],1)],1)]},proxy:!0}])})],1),a("b-col",{attrs:{lg:"6",sm:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Horizontal Form")])]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-link",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-5",modifiers:{"collapse-5":!0}}],staticClass:"text-primary float-right"},[a("i",{staticClass:"ri-code-s-slash-line"})])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),a("b-collapse",{staticClass:"mb-2",attrs:{id:"collapse-5"}},[a("div",{staticClass:"card"},[a("kbd",{staticClass:"bg-dark"},[a("pre",{staticClass:"text-white",attrs:{id:"form-5"}},[e._v("                    "),a("code",[e._v('\n<b-form>\n  <b-form-group\n    class="row"\n    label-cols-sm="2"\n    label="Email:"\n    label-for="email"\n  >\n    <b-form-input id="email" placeholder="Enter Your email"></b-form-input>\n  </b-form-group>\n  <b-form-group\n    class="row"\n    label-cols-sm="2"\n    label="Password:"\n    label-for="pwd1"\n  >\n    <b-form-input id="pwd1" placeholder="Enter Your password"></b-form-input>\n  </b-form-group>\n  <b-form-group>\n    <b-form-checkbox>Remember me</b-form-checkbox>\n  </b-form-group>\n  <b-button type="submit" variant="primary">Submit</b-button>\n  <b-button type="submit" variant="none" class="iq-bg-danger ml-3">Cancle</b-button>\n</b-form>\n')])])])])]),a("b-form",[a("b-form-group",{staticClass:"row",attrs:{"label-cols-sm":"2",label:"Email:","label-for":"email"}},[a("b-form-input",{attrs:{id:"email",placeholder:"Enter Your email"}})],1),a("b-form-group",{staticClass:"row",attrs:{"label-cols-sm":"2",label:"Password:","label-for":"pwd1"}},[a("b-form-input",{attrs:{id:"pwd1",placeholder:"Enter Your password"}})],1),a("b-form-group",[a("b-form-checkbox",[e._v("Remember me")])],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")]),a("b-button",{staticClass:"iq-bg-danger ml-3",attrs:{type:"submit",variant:"none"}},[e._v("Cancle")])],1)]},proxy:!0}])}),a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Form row")])]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-link",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-6",modifiers:{"collapse-6":!0}}],staticClass:"text-primary float-right"},[a("i",{staticClass:"ri-code-s-slash-line"})])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),a("b-collapse",{staticClass:"mb-2",attrs:{id:"collapse-6"}},[a("div",{staticClass:"card"},[a("kbd",{staticClass:"bg-dark"},[a("pre",{staticClass:"text-white",attrs:{id:"form-6"}},[e._v("                    "),a("code",[e._v('\n<b-form-row>\n  <b-col>\n    <b-form-input type="text" placeholder="First Name"></b-form-input>\n  </b-col>\n  <b-col>\n    <b-form-input type="text" placeholder="Last Name"></b-form-input>\n  </b-col>\n</b-form-row>\n')])])])])]),a("b-form-row",[a("b-col",[a("b-form-input",{attrs:{type:"text",placeholder:"First Name"}})],1),a("b-col",[a("b-form-input",{attrs:{type:"text",placeholder:"Last Name"}})],1)],1)]},proxy:!0}])}),a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Input")])]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-link",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-7",modifiers:{"collapse-7":!0}}],staticClass:"text-primary float-right"},[a("i",{staticClass:"ri-code-s-slash-line"})])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),a("b-collapse",{staticClass:"mb-2",attrs:{id:"collapse-7"}},[a("div",{staticClass:"card"},[a("kbd",{staticClass:"bg-dark"},[a("pre",{staticClass:"text-white",attrs:{id:"form-7"}},[e._v("                    "),a("code",[e._v('\n<b-form>\n  <b-form-group\n    label-for="exampleInputDisabled1"\n    label="Disabled Input">\n    <b-form-input type="text" id="exampleInputDisabled1" value="Mark Jhon" disabled></b-form-input>\n  </b-form-group>\n  <b-form-group\n    label-for="exampleInputPlaceholder"\n    label="Placeholder">\n    <b-form-input type="text" id="exampleInputPlaceholder" placeholder="This is Placeholder"></b-form-input>\n  </b-form-group>\n  <b-form-group\n    label-for="exampleInputReadonly"\n    label="Readonly">\n    <b-form-input type="text" id="exampleInputReadonly" value="Mark Jhon" readonly></b-form-input>\n  </b-form-group>\n  <b-form-group\n    label-for="exampleInputcolor"\n    label="Input color">\n    <b-form-input type="color" id="exampleInputcolor" value="#1c67a2"></b-form-input>\n  </b-form-group>\n  <b-form-group\n    label-for="exampleFormControlSelect1"\n    label="Select Input">\n    <b-form-select plain v-model="selected" :options="options1" id="exampleFormControlSelect1">\n      <template v-slot:first>\n        <b-form-select-option :value="null" disabled>Select your age</b-form-select-option>\n      </template>\n    </b-form-select>\n  </b-form-group>\n  <b-form-group\n    label-for="exampleFormControlSelect2"\n    label="Example multiple select">\n    <b-form-select plain v-model="selected" multiple :options="options2" id="exampleFormControlSelect2">\n    </b-form-select>\n  </b-form-group>\n  <b-form-group\n    label-for="customRange1"\n    label="Range Input">\n    <b-form-input id="customRange1" type="range"></b-form-input>\n  </b-form-group>\n  <b-form-group>\n    <b-form-checkbox>Default checkbox</b-form-checkbox>\n    <b-form-checkbox v-model="checked1">Checked</b-form-checkbox>\n    <b-form-checkbox disabled>Disabled checkbox</b-form-checkbox>\n    <b-form-checkbox v-model="checked2" disabled >Disabled checkbox</b-form-checkbox>\n  </b-form-group>\n  <b-form-group>\n    <b-form-checkbox inline>Default checkbox</b-form-checkbox>\n    <b-form-checkbox v-model="checked3" inline>Checked</b-form-checkbox>\n    <b-form-checkbox disabled inline>Disabled checkbox</b-form-checkbox>\n    <b-form-checkbox v-model="checked2" disabled inline>Disabled checkbox</b-form-checkbox>\n  </b-form-group>\n  <b-form-group>\n    <b-form-radio v-model="radio1" name="customRadio">Default radio</b-form-radio>\n    <b-form-radio v-model="radio1" name="customRadio">Default radio</b-form-radio>\n    <b-form-radio v-model="radio3" name="customRadio3">Selected radio</b-form-radio>\n    <b-form-radio disabled name="customRadio4">disabled radio</b-form-radio>\n    <b-form-radio disabled v-model="radio5" name="customRadio5">Selected and  disabled radio</b-form-radio>\n  </b-form-group>\n  <b-form-group>\n    <b-form-radio inline v-model="radio2" name="customRadio1">Default radio</b-form-radio>\n    <b-form-radio inline v-model="radio2" name="customRadi1">Default radio</b-form-radio>\n    <b-form-radio inline v-model="radio6" name="customRadio6">Selected radio</b-form-radio>\n    <b-form-radio inline v-model="radio7" disabled name="customRadio7">disabled radio</b-form-radio>\n    <b-form-radio inline disabled v-model="radio8" name="customRadio8">Selected and  disabled radio</b-form-radio>\n  </b-form-group>\n  <b-form-group>\n    <b-form-checkbox name="check-button" switch>Toggle this switch element</b-form-checkbox>\n    <b-form-checkbox v-model="switch1" name="check-button" switch>Toggle this switch element</b-form-checkbox>\n    <b-form-checkbox disabled name="check-button" switch>Disabled switch element</b-form-checkbox>\n  </b-form-group>\n  <b-form-group\n    label-for="exampleFormControlFile1"\n    label="Example file input"\n  >\n    <b-form-file plain id="exampleFormControlFile1"></b-form-file>\n  </b-form-group>\n  <b-form-group\n    label-for="customFile"\n  >\n    <b-form-file\n      placeholder="Choose a file"\n      id="customFile"\n    ></b-form-file>\n  </b-form-group>\n  <b-button type="submit" variant="primary">Submit</b-button>\n  <b-button type="submit" variant="none" class="iq-bg-danger ml-3">Cancle</b-button>\n</b-form>\n')])])])])]),a("b-form",[a("b-form-group",{attrs:{"label-for":"exampleInputDisabled1",label:"Disabled Input"}},[a("b-form-input",{attrs:{type:"text",id:"exampleInputDisabled1",value:"Mark Jhon",disabled:""}})],1),a("b-form-group",{attrs:{"label-for":"exampleInputPlaceholder",label:"Placeholder"}},[a("b-form-input",{attrs:{type:"text",id:"exampleInputPlaceholder",placeholder:"This is Placeholder"}})],1),a("b-form-group",{attrs:{"label-for":"exampleInputReadonly",label:"Readonly"}},[a("b-form-input",{attrs:{type:"text",id:"exampleInputReadonly",value:"Mark Jhon",readonly:""}})],1),a("b-form-group",{attrs:{"label-for":"exampleInputcolor",label:"Input color"}},[a("b-form-input",{attrs:{type:"color",id:"exampleInputcolor",value:"#1c67a2"}})],1),a("b-form-group",{attrs:{"label-for":"exampleFormControlSelect1",label:"Select Input"}},[a("b-form-select",{attrs:{plain:"",options:e.options1,id:"exampleFormControlSelect1"},scopedSlots:e._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:null,disabled:""}},[e._v("Select your age")])]},proxy:!0}]),model:{value:e.selectedAge,callback:function(t){e.selectedAge=t},expression:"selectedAge"}})],1),a("b-form-group",{attrs:{"label-for":"exampleFormControlSelect2",label:"Example multiple select"}},[a("b-form-select",{attrs:{plain:"",multiple:"",options:e.options2,id:"exampleFormControlSelect2"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),a("b-form-group",{attrs:{"label-for":"customRange1",label:"Range Input"}},[a("b-form-input",{attrs:{id:"customRange1",type:"range"}})],1),a("b-form-group",[a("b-form-checkbox",[e._v("Default checkbox")]),a("b-form-checkbox",{model:{value:e.checked1,callback:function(t){e.checked1=t},expression:"checked1"}},[e._v("Checked")]),a("b-form-checkbox",{attrs:{disabled:""}},[e._v("Disabled checkbox")]),a("b-form-checkbox",{attrs:{disabled:""},model:{value:e.checked2,callback:function(t){e.checked2=t},expression:"checked2"}},[e._v("Disabled checkbox")])],1),a("b-form-group",[a("b-form-checkbox",{attrs:{inline:""}},[e._v("Default checkbox")]),a("b-form-checkbox",{attrs:{inline:""},model:{value:e.checked3,callback:function(t){e.checked3=t},expression:"checked3"}},[e._v("Checked")]),a("b-form-checkbox",{attrs:{disabled:"",inline:""}},[e._v("Disabled checkbox")]),a("b-form-checkbox",{attrs:{disabled:"",inline:""},model:{value:e.checked2,callback:function(t){e.checked2=t},expression:"checked2"}},[e._v("Disabled checkbox")])],1),a("b-form-group",[a("b-form-radio",{attrs:{name:"customRadio"},model:{value:e.radio1,callback:function(t){e.radio1=t},expression:"radio1"}},[e._v("Default radio")]),a("b-form-radio",{attrs:{name:"customRadio"},model:{value:e.radio1,callback:function(t){e.radio1=t},expression:"radio1"}},[e._v("Default radio")]),a("b-form-radio",{attrs:{name:"customRadio3",value:"true"},model:{value:e.radio6,callback:function(t){e.radio6=t},expression:"radio6"}},[e._v("Selected radio")]),a("b-form-radio",{attrs:{disabled:"",name:"customRadio4"}},[e._v("disabled radio")]),a("b-form-radio",{attrs:{disabled:"",name:"customRadio5",value:"true"},model:{value:e.radio6,callback:function(t){e.radio6=t},expression:"radio6"}},[e._v("Selected and disabled radio")])],1),a("b-form-group",[a("b-form-radio",{attrs:{inline:"",name:"customRadio1"},model:{value:e.radio2,callback:function(t){e.radio2=t},expression:"radio2"}},[e._v("Default radio")]),a("b-form-radio",{attrs:{inline:"",name:"customRadio1"},model:{value:e.radio2,callback:function(t){e.radio2=t},expression:"radio2"}},[e._v("Default radio")]),a("b-form-radio",{attrs:{inline:"",name:"customRadio6",value:"true"},model:{value:e.radio6,callback:function(t){e.radio6=t},expression:"radio6"}},[e._v("Selected radio")]),a("b-form-radio",{attrs:{inline:"",disabled:"",name:"customRadio7"},model:{value:e.radio7,callback:function(t){e.radio7=t},expression:"radio7"}},[e._v("disabled radio")]),a("b-form-radio",{attrs:{inline:"",disabled:"",name:"customRadio8",value:"dissel"},model:{value:e.radio8,callback:function(t){e.radio8=t},expression:"radio8"}},[e._v("Selected and disabled radio")])],1),a("b-form-group",[a("b-form-checkbox",{attrs:{name:"check-button",switch:""}},[e._v("Toggle this switch element")]),a("b-form-checkbox",{attrs:{name:"check-button",switch:""},model:{value:e.switch1,callback:function(t){e.switch1=t},expression:"switch1"}},[e._v("Toggle this switch element")]),a("b-form-checkbox",{attrs:{disabled:"",name:"check-button",switch:""}},[e._v("Disabled switch element")])],1),a("b-form-group",{attrs:{"label-for":"exampleFormControlFile1",label:"Example file input"}},[a("b-form-file",{attrs:{plain:"",id:"exampleFormControlFile1"}})],1),a("b-form-group",{attrs:{"label-for":"customFile"}},[a("b-form-file",{attrs:{placeholder:"Choose a file",id:"customFile"}})],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")]),a("b-button",{staticClass:"iq-bg-danger ml-3",attrs:{type:"submit",variant:"none"}},[e._v("Cancle")])],1)]},proxy:!0}])}),a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Select Size")])]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-link",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-8",modifiers:{"collapse-8":!0}}],staticClass:"text-primary float-right"},[a("i",{staticClass:"ri-code-s-slash-line"})])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),a("b-collapse",{staticClass:"mb-2",attrs:{id:"collapse-8"}},[a("div",{staticClass:"card"},[a("kbd",{staticClass:"bg-dark"},[a("pre",{staticClass:"text-white",attrs:{id:"form-8"}},[e._v("                    "),a("code",[e._v('\n<b-form-group label="small">\n  <b-form-select plain v-model="selected" :options="options3" size="sm" class="mb-3">\n    <template v-slot:first>\n      <b-form-select-option :value="null">Open this select menu</b-form-select-option>\n    </template>\n  </b-form-select>\n</b-form-group>\n<b-form-group label="Default">\n  <b-form-select plain v-model="selected" :options="options3" class="mb-3">\n    <template v-slot:first>\n      <b-form-select-option :value="null">Open this select menu</b-form-select-option>\n    </template>\n  </b-form-select>\n</b-form-group>\n<b-form-group label="Large">\n  <b-form-select plain v-model="selected" :options="options3" size="lg">\n    <template v-slot:first>\n      <b-form-select-option :value="null">Open this select menu</b-form-select-option>\n    </template>\n  </b-form-select>\n</b-form-group>\n')])])])])]),a("b-form-group",{attrs:{label:"small"}},[a("b-form-select",{staticClass:"mb-3",attrs:{plain:"",options:e.options3,size:"sm"},scopedSlots:e._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:null}},[e._v("Open this select menu")])]},proxy:!0}]),model:{value:e.selected3,callback:function(t){e.selected3=t},expression:"selected3"}})],1),a("b-form-group",{attrs:{label:"Default"}},[a("b-form-select",{staticClass:"mb-3",attrs:{plain:"",options:e.options3},scopedSlots:e._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:null}},[e._v("Open this select menu")])]},proxy:!0}]),model:{value:e.selected3,callback:function(t){e.selected3=t},expression:"selected3"}})],1),a("b-form-group",{attrs:{label:"Large"}},[a("b-form-select",{attrs:{plain:"",options:e.options3,size:"lg"},scopedSlots:e._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:null}},[e._v("Open this select menu")])]},proxy:!0}]),model:{value:e.selected3,callback:function(t){e.selected3=t},expression:"selected3"}})],1)]},proxy:!0}])})],1)],1)],1)},It=[],Ft={name:"FormLayout",mounted:function(){g["a"].index()},data:function(){return{selectedAge:"0-18",selected:["select-1"],selected3:null,options1:[{value:"0-18",text:"0-18"},{value:"18-26",text:"18-26"},{value:"26-46",text:"26-46"},{value:"46-60",text:"46-60"},{value:"Above 60",text:"Above 60"}],options2:[{value:"select-1",text:"select-1"},{value:"select-2",text:"select-2"},{value:"select-3",text:"select-3"},{value:"select-4",text:"select-4"},{value:"select-5",text:"select-5"},{value:"select-6",text:"select-6"},{value:"select-7",text:"select-7"},{value:"select-8",text:"select-8"}],checked1:!0,checked2:!0,checked3:!0,radio1:!1,radio2:!0,radio3:!0,radio5:!0,radio6:"true",radio7:!1,radio8:"dissel",switch1:!0,options3:[{value:"1",text:"One"},{value:"2",text:"Two"},{value:"3",text:"Three"}]}}},Ot=Ft,Nt=Object($["a"])(Ot,qt,It,!1,null,null,null),Rt=Nt.exports,Vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{lg:"6"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Default Validation")])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),a("form",{attrs:{action:"#"}},[a("div",{staticClass:"form-row"},[a("div",{staticClass:"col-md-6 mb-3"},[a("label",{attrs:{for:"validationDefault01"}},[e._v("First name")]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"validationDefault01",required:""}})]),a("div",{staticClass:"col-md-6 mb-3"},[a("label",{attrs:{for:"validationDefault02"}},[e._v("Last name")]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"validationDefault02",required:""}})]),a("div",{staticClass:"col-md-6 mb-3"},[a("label",{attrs:{for:"validationDefaultUsername"}},[e._v("Username")]),a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"inputGroupPrepend2"}},[e._v("@")])]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"validationDefaultUsername","aria-describedby":"inputGroupPrepend2",required:""}})])]),a("div",{staticClass:"col-md-6 mb-3"},[a("label",{attrs:{for:"validationDefault03"}},[e._v("City")]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"validationDefault03",required:""}})]),a("div",{staticClass:"col-md-6 mb-3"},[a("label",{attrs:{for:"validationDefault04"}},[e._v("State")]),a("select",{staticClass:"form-control",attrs:{id:"validationDefault04",required:""}},[a("option",{attrs:{selected:"",disabled:"",value:""}},[e._v("Choose...")]),a("option",[e._v("...")])])]),a("div",{staticClass:"col-md-6 mb-3"},[a("label",{attrs:{for:"validationDefault05"}},[e._v("Zip")]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"validationDefault05",required:""}})])]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"",id:"invalidCheck2",required:""}}),a("label",{staticClass:"form-check-label",attrs:{for:"invalidCheck2"}},[e._v(" Agree to terms and conditions ")])])]),a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Submit form")])])])]},proxy:!0}])})],1),a("b-col",{attrs:{lg:"6"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Custom Validation")])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),a("form",{staticClass:"needs-validation",attrs:{novalidate:"",action:"#"}},[a("div",{staticClass:"form-row"},[a("div",{staticClass:"col-md-6 mb-3"},[a("label",{attrs:{for:"validationCustom01"}},[e._v("First name")]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"validationCustom01",required:""}}),a("div",{staticClass:"valid-feedback"},[e._v(" Looks good! ")])]),a("div",{staticClass:"col-md-6 mb-3"},[a("label",{attrs:{for:"validationCustom02"}},[e._v("Last name")]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"validationCustom02",required:""}}),a("div",{staticClass:"valid-feedback"},[e._v(" Looks good! ")])]),a("div",{staticClass:"col-md-6 mb-3"},[a("label",{attrs:{for:"validationCustomUsername"}},[e._v("Username")]),a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"inputGroupPrepend"}},[e._v("@")])]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"validationCustomUsername","aria-describedby":"inputGroupPrepend",required:""}}),a("div",{staticClass:"invalid-feedback"},[e._v(" Please choose a username. ")])])]),a("div",{staticClass:"col-md-6 mb-3"},[a("label",{attrs:{for:"validationCustom03"}},[e._v("City")]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"validationCustom03",required:""}}),a("div",{staticClass:"invalid-feedback"},[e._v(" Please provide a valid city. ")])]),a("div",{staticClass:"col-md-6 mb-3"},[a("label",{attrs:{for:"validationCustom04"}},[e._v("State")]),a("select",{staticClass:"form-control",attrs:{id:"validationCustom04",required:""}},[a("option",{attrs:{selected:"",disabled:"",value:""}},[e._v("Choose...")]),a("option",[e._v("...")])]),a("div",{staticClass:"invalid-feedback"},[e._v(" Please select a valid state. ")])]),a("div",{staticClass:"col-md-6 mb-3"},[a("label",{attrs:{for:"validationCustom05"}},[e._v("Zip")]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"validationCustom05",required:""}}),a("div",{staticClass:"invalid-feedback"},[e._v(" Please provide a valid zip. ")])])]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"",id:"invalidCheck",required:""}}),a("label",{staticClass:"form-check-label",attrs:{for:"invalidCheck"}},[e._v(" Agree to terms and conditions ")]),a("div",{staticClass:"invalid-feedback"},[e._v(" You must agree before submitting. ")])])]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Submit form")])])]},proxy:!0}])})],1),a("b-col",{attrs:{lg:"6"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Supported elements")])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),a("form",{staticClass:"was-validated",attrs:{action:"#"}},[a("div",{staticClass:"mb-3"},[a("label",{attrs:{for:"validationTextarea"}},[e._v("Textarea")]),a("textarea",{staticClass:"form-control is-invalid",attrs:{id:"validationTextarea",placeholder:"Required example textarea",required:""}}),a("div",{staticClass:"invalid-feedback"},[e._v(" Please enter a message in the textarea. ")])]),a("div",{staticClass:"custom-control custom-checkbox mb-3"},[a("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customControlValidation1",required:""}}),a("label",{staticClass:"custom-control-label",attrs:{for:"customControlValidation1"}},[e._v("Check this custom checkbox")]),a("div",{staticClass:"invalid-feedback"},[e._v("Example invalid feedback text")])]),a("div",{staticClass:"custom-control custom-radio"},[a("input",{staticClass:"custom-control-input",attrs:{type:"radio",id:"customControlValidation2",name:"radio-stacked",required:""}}),a("label",{staticClass:"custom-control-label",attrs:{for:"customControlValidation2"}},[e._v("Toggle this custom radio")])]),a("div",{staticClass:"custom-control custom-radio mb-3"},[a("input",{staticClass:"custom-control-input",attrs:{type:"radio",id:"customControlValidation3",name:"radio-stacked",required:""}}),a("label",{staticClass:"custom-control-label",attrs:{for:"customControlValidation3"}},[e._v("Or toggle this other custom radio")]),a("div",{staticClass:"invalid-feedback"},[e._v("More example invalid feedback text")])]),a("div",{staticClass:"form-group"},[a("select",{staticClass:"custom-select",attrs:{required:""}},[a("option",{attrs:{value:""}},[e._v("Open this select menu")]),a("option",{attrs:{value:"1"}},[e._v("One")]),a("option",{attrs:{value:"2"}},[e._v("Two")]),a("option",{attrs:{value:"3"}},[e._v("Three")])]),a("div",{staticClass:"invalid-feedback"},[e._v("Example invalid custom select feedback")])]),a("div",{staticClass:"custom-file"},[a("input",{staticClass:"custom-file-input",attrs:{type:"file",id:"validatedCustomFile",required:""}}),a("label",{staticClass:"custom-file-label",attrs:{for:"validatedCustomFile"}},[e._v("Choose file...")]),a("div",{staticClass:"invalid-feedback"},[e._v("Example invalid custom file feedback")])])])]},proxy:!0}])})],1),a("b-col",{attrs:{lg:"6"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Tooltip")])]},proxy:!0},{key:"body",fn:function(){return[a("p"),a("form",{staticClass:"needs-validation",attrs:{novalidate:"",action:"#"}},[a("div",{staticClass:"form-row"},[a("div",{staticClass:"col-md-6 mb-3"},[a("label",{attrs:{for:"validationTooltip01"}},[e._v("First name")]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"validationTooltip01",value:"Mark",required:""}}),a("div",{staticClass:"valid-tooltip"},[e._v(" Looks good! ")])]),a("div",{staticClass:"col-md-6 mb-3"},[a("label",{attrs:{for:"validationTooltip02"}},[e._v("Last name")]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"validationTooltip02",value:"Jhon",required:""}}),a("div",{staticClass:"valid-tooltip"},[e._v(" Looks good! ")])]),a("div",{staticClass:"col-md-6 mb-3"},[a("label",{attrs:{for:"validationTooltipUsername"}},[e._v("Username")]),a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"validationTooltipUsernamePrepend"}},[e._v("@")])]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"validationTooltipUsername","aria-describedby":"validationTooltipUsernamePrepend",required:""}}),a("div",{staticClass:"invalid-tooltip"},[e._v(" Please choose a unique and valid username. ")])])]),a("div",{staticClass:"col-md-6 mb-3"},[a("label",{attrs:{for:"validationTooltip03"}},[e._v("City")]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"validationTooltip03",required:""}}),a("div",{staticClass:"invalid-tooltip"},[e._v(" Please provide a valid city. ")])]),a("div",{staticClass:"col-md-6 mb-3"},[a("label",{attrs:{for:"validationTooltip04"}},[e._v("State")]),a("select",{staticClass:"form-control",attrs:{id:"validationTooltip04",required:""}},[a("option",{attrs:{selected:"",disabled:"",value:""}},[e._v("Choose...")]),a("option",[e._v("...")])]),a("div",{staticClass:"invalid-tooltip"},[e._v(" Please select a valid state. ")])]),a("div",{staticClass:"col-md-6 mb-3"},[a("label",{attrs:{for:"validationTooltip05"}},[e._v("Zip")]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"validationTooltip05",required:""}}),a("div",{staticClass:"invalid-tooltip"},[e._v(" Please provide a valid zip. ")])])]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Submit form")])])]},proxy:!0}])})],1)],1)],1)},zt=[],Ht={name:"FormValidates",mounted:function(){g["a"].index()}},Lt=Ht,Qt=Object($["a"])(Lt,Vt,zt,!1,null,null,null),Ut=Qt.exports,jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("State")])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),e._l(e.state,(function(t,r){return[a("b-form-checkbox",{key:r,attrs:{disabled:t.disabled,name:"check-button",switch:"",inline:""},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"item.checked"}},[e._v(" "+e._s(t.label)+" ")])]}))]},proxy:!0}])})],1),a("b-col",{attrs:{lg:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Text")])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),e._l(e.text,(function(t,r){return[a("div",{key:r,staticClass:"custom-control custom-switch custom-switch-text custom-control-inline custom-switch-color"},[a("div",{staticClass:"custom-switch-inner"},[a("p",{staticClass:"mb-0"},[e._v(" "+e._s(t.label)+" ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"item.checked"}],staticClass:"custom-control-input",class:"bg-"+t.class,attrs:{type:"checkbox",id:"customSwitch-11"+r},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{change:function(a){var r=t.checked,o=a.target,i=!!o.checked;if(Array.isArray(r)){var n=null,s=e._i(r,n);o.checked?s<0&&e.$set(t,"checked",r.concat([n])):s>-1&&e.$set(t,"checked",r.slice(0,s).concat(r.slice(s+1)))}else e.$set(t,"checked",i)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch-11"+r,"data-on-label":t.activeLabel,"data-off-label":t.inactiveLabel}})])])]}))]},proxy:!0}])})],1),a("b-col",{attrs:{lg:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Color")])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),e._l(e.color,(function(t,r){return[a("b-form-checkbox",{key:r,staticClass:"custom-switch-color",attrs:{color:t.color,disabled:t.disabled,name:"check-button",switch:"",inline:""},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"item.checked"}},[e._v(" "+e._s(t.label)+" ")])]}))]},proxy:!0}])})],1),a("b-col",{attrs:{lg:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Icon")])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),e._l(e.icon,(function(t,r){return[a("div",{key:r,staticClass:"custom-control custom-switch custom-switch-icon custom-switch-color custom-control-inline"},[a("div",{staticClass:"custom-switch-inner"},[a("p",{staticClass:"mb-0"},[e._v(" Primary ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"item.checked"}],staticClass:"custom-control-input",class:"bg-"+t.color,attrs:{type:"checkbox",id:"customSwitch-1-"+r},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{change:function(a){var r=t.checked,o=a.target,i=!!o.checked;if(Array.isArray(r)){var n=null,s=e._i(r,n);o.checked?s<0&&e.$set(t,"checked",r.concat([n])):s>-1&&e.$set(t,"checked",r.slice(0,s).concat(r.slice(s+1)))}else e.$set(t,"checked",i)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch-1-"+r}},[a("span",{staticClass:"switch-icon-left",domProps:{innerHTML:e._s(t.activeLabel)}}),a("span",{staticClass:"switch-icon-right",domProps:{innerHTML:e._s(t.inactiveLabel)}})])])])]}))]},proxy:!0}])})],1)],1)],1)},Yt=[],Bt={name:"FormSwitches",mounted:function(){g["a"].index()},data:function(){return{state:[{label:"False/Inactive",checked:!1,disabled:!1},{label:"True/Active",checked:!0,disabled:!1},{label:"Disabled/Active",checked:!0,disabled:!0},{label:"Disabled/Inactive",checked:!1,disabled:!0}],text:[{activeLabel:"On",inactiveLabel:"Off",label:"Primary",class:"primary",checked:!0},{activeLabel:"True",inactiveLabel:"False",label:"Success",class:"success",checked:!0},{activeLabel:"Yes",inactiveLabel:"No",label:"Danger",class:"danger",checked:!0}],color:[{label:"Primary",color:"primary",checked:!0},{label:"Success",color:"success",checked:!0},{label:"Danger",color:"danger",checked:!0},{label:"Warning",color:"warning",checked:!0},{label:"Dark",color:"dark",checked:!0},{label:"Info",color:"info",checked:!0}],icon:[{activeLabel:'<i class="fa fa-check"></i>',inactiveLabel:'<i class="fa fa-check"></i>',label:"Primary",color:"primary",checked:!1},{activeLabel:'<i class="fa fa-check"></i>',inactiveLabel:'<i class="fa fa-check"></i>',label:"Success",color:"success",checked:!0},{activeLabel:'<i class="fa fa-times"></i>',inactiveLabel:'<i class="fa fa-times"></i>',label:"Warning",color:"warning",checked:!0},{activeLabel:'<i class="fa fa-exclamation-triangle"></i>',inactiveLabel:'<i class="fa fa-exclamation-triangle"></i>',label:"Danger",color:"danger",checked:!0},{activeLabel:'<i class="fa fa-thumb-tack"></i>',inactiveLabel:'<i class="fa fa-thumb-tack"></i>',label:"Dark",color:"dark",checked:!0},{activeLabel:'<i class="fa fa-info"></i>',inactiveLabel:'<i class="fa fa-info"></i>',label:"Info",color:"info",checked:!0}]}}},Gt=Bt,Zt=Object($["a"])(Gt,jt,Yt,!1,null,null,null),Wt=Zt.exports,Kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{lg:"6"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Default Radio Buttons")])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),e._l(e.state,(function(t,r){return[a("b-form-radio",{key:r,attrs:{inline:"",name:t.name,value:t.value,disabled:t.disabled},model:{value:e.stateActive[t[Object.keys(t)[0]]],callback:function(a){e.$set(e.stateActive,t[Object.keys(t)[0]],a)},expression:"stateActive[item[Object.keys(item)[0]]]"}},[e._v(e._s(t.label))])]}))]},proxy:!0}])})],1),a("b-col",{attrs:{lg:"6"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Custom Radio Buttons")])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),e._l(e.custom,(function(t,r){return[a("b-form-radio",{key:r,attrs:{inline:"",name:t.name,value:t.value,disabled:t.disabled},model:{value:e.stateActive[t[Object.keys(t)[0]]],callback:function(a){e.$set(e.stateActive,t[Object.keys(t)[0]],a)},expression:"stateActive[item[Object.keys(item)[0]]]"}},[e._v(e._s(t.label))])]}))]},proxy:!0}])})],1),a("b-col",{attrs:{lg:"6"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Custom Colored Radio Buttons")])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),e._l(e.color,(function(t,r){return[a("b-form-radio",{key:r,staticClass:"custom-radio-color",attrs:{inline:"",color:t.color,name:"color",value:t.value,disabled:t.disabled},model:{value:e.stateActive.color,callback:function(t){e.$set(e.stateActive,"color",t)},expression:"stateActive.color"}},[e._v(e._s(t.label))])]}))]},proxy:!0}])})],1),a("b-col",{attrs:{lg:"6"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Colored Radio Buttons")])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),e._l(e.color,(function(t,r){return[a("b-form-radio",{key:r,staticClass:"custom-radio-color-checked",attrs:{inline:"",color:t.color,name:"color",value:t.value,disabled:t.disabled},model:{value:e.stateActive.color,callback:function(t){e.$set(e.stateActive,"color",t)},expression:"stateActive.color"}},[e._v(e._s(t.label))])]}))]},proxy:!0}])})],1)],1)],1)},Jt=[],Xt={name:"FormRadios",mounted:function(){g["a"].index()},data:function(){return{stateActive:{single:"active",disable:"active",number:"two",colorDisabled:"five",color:"danger"},state:[{name:"single",label:"False/Inactive",value:"inactive",disabled:!1},{name:"single",label:"True/Active",value:"active",disabled:!1},{name:"disable",label:"Disabled/Active",value:"active",disabled:!0},{name:"disable-in",label:"Disabled/Inactive",value:"",disabled:!0}],custom:[{name:"number",label:"One",value:"one",disabled:!1},{name:"number",label:"Two",value:"two",disabled:!1},{name:"number",label:"Three",value:"three",disabled:!1},{name:"checked",label:"Four",value:"four",disabled:!1},{name:"colorDisabled",label:"Five disabled",value:"five",disabled:!0},{name:"seldis",label:"Six selected and disabled",value:"six",disabled:!0}],color:[{label:"Primary",color:"primary",value:"primary"},{label:"Success",color:"success",value:"success"},{label:"Danger",color:"danger",value:"danger"},{label:"Warning",color:"warning",value:"warning"},{label:"Dark",color:"dark",value:"dark"},{label:"Info",color:"info",value:"info"}]}}},ea=Xt,ta=Object($["a"])(ea,Kt,Jt,!1,null,null,null),aa=ta.exports,ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{lg:"6"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Basic Checkbox")])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),e._l(e.state,(function(t,r){return a("div",{key:r,staticClass:"checkbox d-inline-block mr-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"item.checked"}],staticClass:"checkbox-input",attrs:{type:"checkbox",id:"basic-checkbox-"+r,disabled:t.disabled},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{change:function(a){var r=t.checked,o=a.target,i=!!o.checked;if(Array.isArray(r)){var n=null,s=e._i(r,n);o.checked?s<0&&e.$set(t,"checked",r.concat([n])):s>-1&&e.$set(t,"checked",r.slice(0,s).concat(r.slice(s+1)))}else e.$set(t,"checked",i)}}}),a("label",{staticClass:"ml-2",attrs:{for:"basic-checkbox-"+r}},[e._v(e._s(t.label))])])}))]},proxy:!0}])})],1),a("b-col",{attrs:{lg:"6"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Custom Checkbox")])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),e._l(e.state,(function(t,r){return[a("b-checkbox",{key:r,staticClass:"custom-switch-color",attrs:{color:t.color,disabled:t.disabled,name:"check-button",inline:""},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"item.checked"}},[e._v(" "+e._s(t.label)+" ")])]}))]},proxy:!0}])})],1),a("b-col",{attrs:{lg:"6"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Custom Color")])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),e._l(e.color,(function(t,r){return[a("b-checkbox",{key:r,staticClass:"custom-checkbox-color",attrs:{color:t.color,disabled:t.disabled,name:"check-button",inline:""},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"item.checked"}},[e._v(" "+e._s(t.label)+" ")])]}))]},proxy:!0}])})],1),a("b-col",{attrs:{lg:"6"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Color")])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),e._l(e.color,(function(t,r){return[a("b-checkbox",{key:r,staticClass:"custom-checkbox-color-check",attrs:{color:t.color,disabled:t.disabled,name:"check-button",inline:""},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"item.checked"}},[e._v(" "+e._s(t.label)+" ")])]}))]},proxy:!0}])})],1),a("b-col",{attrs:{lg:"6"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Boolean Checkbox")])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),e._l(e.bool,(function(t,r){return[a("b-checkbox",{key:r,attrs:{disabled:t.disabled,name:"check-button",inline:""},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"item.checked"}},[e._v(" "+e._s(t.label)+" ")])]}))]},proxy:!0}])})],1),a("b-col",{attrs:{lg:"6"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("Change Icon")])]},proxy:!0},{key:"body",fn:function(){return[a("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vulputate, ex ac venenatis mollis, diam nibh finibus leo")]),e._l(e.icon,(function(t,r){return[a("div",{key:r,staticClass:"custom-control custom-checkbox checkbox-icon custom-control-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"item.checked"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch-1-"+r},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{change:function(a){var r=t.checked,o=a.target,i=!!o.checked;if(Array.isArray(r)){var n=null,s=e._i(r,n);o.checked?s<0&&e.$set(t,"checked",r.concat([n])):s>-1&&e.$set(t,"checked",r.slice(0,s).concat(r.slice(s+1)))}else e.$set(t,"checked",i)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch-1-"+r},domProps:{innerHTML:e._s(t.label)}})])]}))]},proxy:!0}])})],1)],1)],1)},oa=[],ia={name:"FormCheckboxes",mounted:function(){g["a"].index()},data:function(){return{state:[{label:"False/Inactive",checked:!1,disabled:!1},{label:"True/Active",checked:!0,disabled:!1},{label:"Disabled/Active",checked:!0,disabled:!0},{label:"Disabled/Inactive",checked:!1,disabled:!0}],text:[{activeLabel:"On",inactiveLabel:"Off",label:"Primary",class:"primary",checked:!0},{activeLabel:"True",inactiveLabel:"False",label:"Success",class:"success",checked:!0},{activeLabel:"Yes",inactiveLabel:"No",label:"Danger",class:"danger",checked:!0}],color:[{label:"Primary",color:"primary",checked:!1},{label:"Success",color:"success",checked:!0},{label:"Danger",color:"danger",checked:!0},{label:"Warning",color:"warning",checked:!1},{label:"Dark",color:"dark",checked:!0},{label:"Info",color:"info",checked:!1}],icon:[{label:'<i class="fa fa-music"></i> Music',checked:!0},{label:'<i class="fa fa-commenting-o"></i> SMS',checked:!0},{label:'<i class="fa fa-times"></i> Cancle',checked:!0},{label:'<i class="fa fa-file"></i> File',checked:!0},{label:'<i class="fa fa-bold"></i> Bold',checked:!0},{label:'<i class="fa fa-map-marker"></i> Location',checked:!0},{label:'<i class="fa fa-camera"></i> Camera',checked:!0}],bool:[{label:"True",checked:!0},{label:"False",checked:!1}]}}},na=ia,sa=Object($["a"])(na,ra,oa,!1,null,null,null),la=sa.exports,ca=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},da=[],ma={name:"Callback",mounted:function(){var e=new ue["a"].WebAuth(q["c"].auth0Config),t=this.$route.hash;e.parseHash({hash:t},(function(t,a){e.client.userInfo(a.accessToken,(function(e,t){localStorage.setItem("user",t),localStorage.setItem("access_token",a.accessToken),this.$router.push({name:"mini.dashboard.home-1"})}))})),this.$router.push("/")}},ua=ma,fa=Object($["a"])(ua,ca,da,!1,null,null,null),ha=fa.exports,pa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Gerencia")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}})],1),a("div",{staticClass:"col-sm"})])])]},proxy:!0},{key:"body",fn:function(){return[a("b-tabs",[a("b-tab",{attrs:{title:"Usuarios",active:""}},[a("Users")],1),a("b-tab",{attrs:{title:"Asuetos",lazy:""}},[a("Asuetos")],1),a("b-tab",{attrs:{title:"Validar descuentos",lazy:""}},[a("ValidarDescuentos")],1),a("b-tab",{attrs:{title:"Reportes",lazy:""}},[a("Reportes")],1)],1)]},proxy:!0}])})],1)],1)],1)},ba=[],va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-modal",{ref:"modal-1",attrs:{id:"modal-1",title:"Agregar usuario"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("form",[a("div",{staticClass:"col-md-12 mb-3"},[a("label",{attrs:{for:"user"}},[e._v("Usuario")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.form.user.$model,expression:"$v.form.user.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{required:"",type:"text",id:"user",state:!e.$v.form.user.$error,placeholder:"Ingresar usuario"},domProps:{value:e.$v.form.user.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.user,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a("div",{staticClass:"valid-feedback"},[e._v("Looks good!")]),a("div",{staticClass:"invalid-feedback"},[e._v("Usuario inválido")])]),a("div",{staticClass:"col-md-12 mb-3"},[a("label",{attrs:{for:"password"}},[e._v("Contraseña")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.form.password.$model,expression:"$v.form.password.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{required:"",type:"password",id:"password",state:!e.$v.form.password.$error,placeholder:"Ingresar contraseña"},domProps:{value:e.$v.form.password.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.password,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a("div",{staticClass:"valid-feedback"},[e._v("Looks good!")]),a("div",{staticClass:"invalid-feedback"},[e._v("Contraseña inválida")])]),a("div",{staticClass:"col-md-12 mb-3"},[a("label",{attrs:{for:"nombre"}},[e._v("Nombre")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.form.nombre.$model,expression:"$v.form.nombre.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{required:"",type:"text",id:"nombre",state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre"},domProps:{value:e.$v.form.nombre.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.nombre,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a("div",{staticClass:"valid-feedback"},[e._v("Looks good!")]),a("div",{staticClass:"invalid-feedback"},[e._v("Nombre inválido")])]),a("div",{staticClass:"col-md-12 mb-3"},[a("label",{attrs:{for:"apellidos"}},[e._v("Apellidos")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.form.apellidos.$model,expression:"$v.form.apellidos.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{required:"",type:"text",id:"apellidos",state:!e.$v.form.apellidos.$error,placeholder:"Ingresar apellidos"},domProps:{value:e.$v.form.apellidos.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.apellidos,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a("div",{staticClass:"valid-feedback"},[e._v("Looks good!")]),a("div",{staticClass:"invalid-feedback"},[e._v("Apellidos inválidos")])]),a("div",{staticClass:"col-md-12 mb-3"},[a("label",{attrs:{for:"telefono"}},[e._v("Teléfono")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.form.telefono.$model,expression:"$v.form.telefono.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{required:"",type:"text",id:"telefono",state:!e.$v.form.telefono.$error,placeholder:"Ingresar teléfono"},domProps:{value:e.$v.form.telefono.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.telefono,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a("div",{staticClass:"valid-feedback"},[e._v("Looks good!")]),a("div",{staticClass:"invalid-feedback"},[e._v("Teléfono inválido")])]),a("div",{staticClass:"col-md-12 mb-3"},[a("label",{attrs:{for:"correo"}},[e._v("Correo")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.form.correo.$model,expression:"$v.form.correo.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{required:"",type:"email",id:"correo",state:!e.$v.form.correo.$error,placeholder:"Ingresar correo electrónico"},domProps:{value:e.$v.form.correo.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.correo,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a("div",{staticClass:"valid-feedback"},[e._v("Looks good!")]),a("div",{staticClass:"invalid-feedback"},[e._v("Correo inválido")])]),a("div",{staticClass:"col-md-12 mb-3"},[a("label",{attrs:{for:"type"}},[e._v("Tipo de usuario")]),a("v-select",{attrs:{name:"type",state:!e.$v.form.userType.$error,options:e.typeOptions,label:"nombre",placeholder:"Seleccione tipo de usuario"},model:{value:e.$v.form.userType.$model,callback:function(t){e.$set(e.$v.form.userType,"$model",t)},expression:"$v.form.userType.$model"}}),a("div",{staticClass:"valid-feedback"},[e._v("Looks good!")]),a("div",{staticClass:"invalid-feedback"},[e._v("Tipo de usuario inválido")])],1),e.form.userType&&11===e.form.userType.id?a("b-form-group",{attrs:{label:"Seleccionar Médico"}},[a("v-select",{attrs:{options:e.medicos,"item-text":"nombre","item-value":"id",label:"nombre",filterable:!1,placeholder:"Seleccione un médico",required:""},on:{search:e.onSearchMedicos},scopedSlots:e._u([{key:"option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}}],null,!1,103308237),model:{value:e.form.medico,callback:function(t){e.$set(e.form,"medico",t)},expression:"form.medico"}})],1):e._e()],1)]),a("b-modal",{ref:"modal-2",attrs:{id:"modal-2",title:"Editar especialidad"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("form",[a("div",{staticClass:"col-md-12 mb-3"},[a("label",{attrs:{for:"user"}},[e._v("Usuario")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.form.user.$model,expression:"$v.form.user.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{required:"",type:"text",id:"user",state:!e.$v.form.user.$error,placeholder:"Ingresar usuario"},domProps:{value:e.$v.form.user.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.user,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a("div",{staticClass:"valid-feedback"},[e._v(" Looks good! ")]),a("div",{staticClass:"invalid-feedback"},[e._v("Example invalid feedback text")])]),a("div",{staticClass:"col-md-12 mb-3"},[a("label",{attrs:{for:"password"}},[e._v("Contraseña")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.form.password.$model,expression:"$v.form.password.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{required:"",type:"text",id:"password",state:!e.$v.form.password.$error,placeholder:"Ingresar contraseña"},domProps:{value:e.$v.form.password.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.password,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a("div",{staticClass:"valid-feedback"},[e._v(" Looks good! ")]),a("div",{staticClass:"invalid-feedback"},[e._v("Example invalid feedback text")])]),a("div",{staticClass:"col-md-12 mb-3"},[a("label",{attrs:{for:"type"}},[e._v("Tipo de usuario")]),a("v-select",{attrs:{name:"type",state:!e.$v.form.userType.$error,options:e.typeOptions,label:"nombre",placeholder:"Seleccione tipo de usuario"},model:{value:e.$v.form.userType.$model,callback:function(t){e.$set(e.$v.form.userType,"$model",t)},expression:"$v.form.userType.$model"}}),a("div",{staticClass:"valid-feedback"},[e._v(" Looks good! ")]),a("div",{staticClass:"invalid-feedback"},[e._v("Example invalid feedback text")])],1)])]),a("b-modal",{ref:"modal-3",attrs:{id:"modal-3",title:"Desactivar especialidad"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3")}}},[e._v("Cancelar")])]}}])},[a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el usuario: "+e._s(e.form.user)+" ? ")])]),a("b-modal",{ref:"modal-4",attrs:{id:"modal-4",title:"Activar especialidad"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4")}}},[e._v("Cancelar")])]}}])},[a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar el usuario: "+e._s(e.form.user)+" ? ")])]),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Usuarios")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1),a("div",{staticClass:"col-sm"},[a("b-dropdown",{staticClass:"mr-1 float-md-left btn-group",attrs:{id:"ddown1",text:e.columna.nombre,variant:"outline-dark",size:"xs"}},e._l(e.options,(function(t,r){return a("b-dropdown-item",{key:r,on:{click:function(a){return e.changeTypeSearch(t)}}},[e._v(e._s(t.nombre))])})),1)],1)])])]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2",modifiers:{"modal-2":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info"},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3"):e.$bvModal.show("modal-4")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},ga=[],_a=a("b9fb"),xa={name:"Users",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){var e=this;g["a"].index(),ie.a.get(q["a"]+"/type/get").then((function(t){e.typeOptions=t.data}))},data:function(){return{from:0,to:0,total:0,perPage:5,search:"",form:{id:0,user:"",password:"",nombre:"",apellidos:"",telefono:"",correo:"",userType:[],medico:0,state:1},medicos:[],apiBase:q["a"]+"/user/list",typeOptions:[],options:[{value:"1",nombre:"Usuario"},{value:"2",nombre:"Tipo usuario"}],columna:{value:"1",nombre:"Usuario"},fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"user",sortField:"user",title:"Usuario",dataClass:"list-item-heading"},{name:"tipo_usuario.nombre",sortField:"user",title:"Tipo de usuario",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{user:{required:_a["c"]},password:{required:_a["c"]},userType:{required:_a["c"]},nombre:{required:_a["c"]},apellidos:{required:_a["c"]},telefono:{required:_a["c"]},correo:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form={id:0,user:"",password:"",nombre:"",apellidos:"",telefono:"",correo:"",userType:[],state:1};break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1"].hide(),this.form={id:0,user:"",password:"",nombre:"",apellidos:"",telefono:"",correo:"",userType:[],state:1};break;case"update":this.$v.$reset(),this.$refs["modal-2"].hide(),this.form={id:0,user:"",password:"",nombre:"",apellidos:"",telefono:"",correo:"",userType:[],state:1};break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error&&("save"===e?this.onSave():"update"===e&&this.onUpdate())},setData:function(e){this.form.user=e.user,this.form.state=e.estado,this.form.id=e.id,this.form.userType=e.tipo_usuario},onSave:function(){var e=this;ie.a.post(q["a"]+"/user/create",{form:e.form}).then((function(t){e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(e){console.error("Error!",e)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/user/update",{form:e.form}).then((function(t){e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(e){console.error("Error!",e)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/user/deactivate",{id:this.form.id}).then((function(t){e.$refs.vuetable.refresh(),e.$refs["modal-3"].hide()})).catch((function(e){console.error("There was an error!",e)})):ie.a.put(q["a"]+"/user/activate",{id:this.form.id}).then((function(t){e.$refs.vuetable.refresh(),e.$refs["modal-4"].hide()})).catch((function(e){console.error("There was an error!",e)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search,columna:this.columna.value}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},changeTypeSearch:function(e){this.columna=e},searchingMedicos:function(e,t){var a=this;ie.a.get(q["a"]+"/medicos/getSearch",{params:{search:e}}).then((function(e){a.medicos=e.data,t(!1)}))},onSearchMedicos:function(e,t){e.length&&(t(!0),this.searchingMedicos(e,t))}}},Ca=xa,$a=Object($["a"])(Ca,va,ga,!1,null,null,null),ya=$a.exports,wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-modal",{ref:"modal-asueto",attrs:{id:"modal-asueto",title:"Agregar Asueto"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:e.agregarAsueto}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:e.closeModal}},[e._v("Cancelar")])]},proxy:!0}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("form",{on:{submit:function(e){e.preventDefault()}}},[a("div",{staticClass:"col-md-12 mb-3"},[a("label",{attrs:{for:"nombreAsueto"}},[e._v("Nombre del Asueto")]),a("b-form-input",{attrs:{id:"nombreAsueto",placeholder:"Ejemplo: Día de la Independencia",state:e.nombreAsuetoState},model:{value:e.nombreAsueto,callback:function(t){e.nombreAsueto=t},expression:"nombreAsueto"}}),a("b-form-invalid-feedback",{attrs:{state:e.nombreAsuetoState}},[e._v(" Por favor, ingrese un nombre válido. ")])],1),a("div",{staticClass:"col-md-12 mb-3"},[a("label",{attrs:{for:"fechaAsueto"}},[e._v("Fecha del Asueto")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"fechaAsueto",state:e.fechaAsuetoState},model:{value:e.fechaAsueto,callback:function(t){e.fechaAsueto=t},expression:"fechaAsueto"}}),a("b-form-invalid-feedback",{attrs:{state:e.fechaAsuetoState}},[e._v(" Por favor, seleccione una fecha válida. ")])],1)])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Asuetos")])]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-asueto",modifiers:{"modal-asueto":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("b-table",{attrs:{striped:"",hover:"",items:e.asuetos,fields:e.fieldsAsuetos},scopedSlots:e._u([{key:"cell(fecha)",fn:function(t){return[e._v(" "+e._s(t.item.fecha.split("-").reverse().join("/"))+" ")]}},{key:"cell(acciones)",fn:function(t){return[a("b-button",{attrs:{size:"sm",variant:"outline-danger"},on:{click:function(a){return e.eliminarAsueto(t.item.id)}}},[a("i",{staticClass:"fas fa-trash-alt"})])]}}])})]},proxy:!0}])})],1)],1)],1)},Ea=[],ka=(a("498a"),{name:"Asuetos",data:function(){return{alertCountDownError:0,alertErrorText:"",nombreAsueto:"",fechaAsueto:"",asuetos:[],fieldsAsuetos:[{key:"nombre",label:"Nombre",sortable:!0},{key:"fecha",label:"Fecha",sortable:!0},{key:"acciones",label:"Acciones"}]}},computed:{nombreAsuetoState:function(){return""!==this.nombreAsueto.trim()},fechaAsuetoState:function(){return""!==this.fechaAsueto}},mounted:function(){this.cargarAsuetos()},methods:{closeModal:function(){this.nombreAsueto="",this.fechaAsueto="",this.$refs["modal-asueto"].hide()},cargarAsuetos:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ie.a.get(q["a"]+"/asuetos/list");case 3:a=t.sent,e.asuetos=a.data,t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),e.alertErrorText="Error al cargar los asuetos.",e.alertCountDownError=5;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},agregarAsueto:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.nombreAsuetoState&&e.fechaAsuetoState){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,ie.a.post(q["a"]+"/asuetos/create",{nombre:e.nombreAsueto,fecha:e.fechaAsueto});case 5:e.closeModal(),e.cargarAsuetos(),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](2),e.alertErrorText="Error al agregar el asueto.",e.alertCountDownError=5;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))()},eliminarAsueto:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ie.a.put(q["a"]+"/asuetos/".concat(e));case 3:t.cargarAsuetos(),a.next=10;break;case 6:a.prev=6,a.t0=a["catch"](0),t.alertErrorText="Error al eliminar el asueto.",t.alertCountDownError=5;case 10:case"end":return a.stop()}}),a,null,[[0,6]])})))()}}}),Da=ka,Aa=Object($["a"])(Da,wa,Ea,!1,null,null,null),Sa=Aa.exports,Ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-pdf",attrs:{id:"modal-pdf",title:"Generar PDF",size:"xl"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.descargarpdf()}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("pdf")}}},[e._v("Cancelar")])]}}])},[a("div",{attrs:{id:"previewContainer"}},[a("iframe",{attrs:{src:e.previewURL,width:"100%",height:"700px"}})])]),a("b-modal",{ref:"modal-voucher",attrs:{id:"modal-voucher",title:"Crear Voucher",size:"lg"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.crearVoucher()}}},[e._v("Crear")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Seleccionar Médico"}},[a("v-select",{attrs:{name:"medico",options:e.medicos,filterable:!1,placeholder:"Seleccione el médico"},on:{search:e.onSearchDatosMedicos},scopedSlots:e._u([{key:"option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}}]),model:{value:e.selectedMedico,callback:function(t){e.selectedMedico=t},expression:"selectedMedico"}})],1),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{disabled:"",type:"number"},model:{value:e.formVoucher.cantidad,callback:function(t){e.$set(e.formVoucher,"cantidad",t)},expression:"formVoucher.cantidad"}})],1),a("b-form-group",{attrs:{label:"Cantidad en letras:"}},[a("b-form-input",{attrs:{type:"text",placeholder:"Ingresar la Cantidad escrita con Inicial Mayúscula"},model:{value:e.formVoucher.cantidadEscrita,callback:function(t){e.$set(e.formVoucher,"cantidadEscrita",t)},expression:"formVoucher.cantidadEscrita"}})],1),a("b-form-group",{attrs:{label:"Observaciones:"}},[a("b-form-input",{attrs:{type:"text",placeholder:"Ingresar observaciones"},model:{value:e.formVoucher.observaciones,callback:function(t){e.$set(e.formVoucher,"observaciones",t)},expression:"formVoucher.observaciones"}})],1),a("b-form-group",{attrs:{label:"Cantidad entregada al momento:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar el total pagado"},model:{value:e.formVoucher.total,callback:function(t){e.$set(e.formVoucher,"total",t)},expression:"formVoucher.total"}})],1),a("b-table",{attrs:{striped:"",hover:"",bordered:"",items:e.pacientes,fields:[{key:"paciente",label:"Nombre del Paciente"},{key:"expediente",label:"No. Expediente"},{key:"tipoPago",label:"Tipo de Pago"},{key:"fecha",label:"Fecha"},{key:"total",label:"Honorarios"}]},scopedSlots:e._u([{key:"cell(fecha)",fn:function(t){return[e._v(" "+e._s(new Date(t.item.fecha).toLocaleDateString())+" ")]}},{key:"cell(total)",fn:function(t){return[e._v(" Q"+e._s(t.item.total.toFixed(2))+" ")]}}])})],1)],1),a("b-modal",{ref:"modal-1-account",attrs:{id:"modal-1-account",title:"Agregar cuenta"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Fecha de ingreso:"}},[a("b-form-input",{attrs:{type:"date",state:!e.$v.form.fecha_ingreso.$error,placeholder:"Ingresar la fecha de ingreso"},model:{value:e.$v.form.fecha_ingreso.$model,callback:function(t){e.$set(e.$v.form.fecha_ingreso,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.fecha_ingreso.$model"}}),e.$v.form.fecha_ingreso.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar una fecha de ingreso ")]):e._e()],1),a("b-form-group",{attrs:{label:"Motivo:"}},[a("b-form-input",{attrs:{state:!e.$v.form.motivo.$error,placeholder:"Ingresar motivo"},model:{value:e.$v.form.motivo.$model,callback:function(t){e.$set(e.$v.form.motivo,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.motivo.$model"}}),e.$v.form.motivo.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar un motivo ")]):e._e()],1),a("b-form-group",{attrs:{label:"Descripción:"}},[a("b-form-input",{attrs:{state:!e.$v.form.descripcion.$error,placeholder:"Ingresar descripción"},model:{value:e.$v.form.descripcion.$model,callback:function(t){e.$set(e.$v.form.descripcion,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.descripcion.$model"}})],1),a("b-form-group",{attrs:{label:"Otros:"}},[a("b-form-input",{attrs:{state:!e.$v.form.otros.$error,placeholder:"Ingresar otros"},model:{value:e.$v.form.otros.$model,callback:function(t){e.$set(e.$v.form.otros,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.otros.$model"}})],1),a("b-form-group",{attrs:{label:"Expediente:"}},[a("v-select",{attrs:{name:"type",state:!e.$v.form.id_expediente.$error,options:e.expedientes,filterable:!1,placeholder:"Seleccione el expediente"},on:{search:e.onSearchExpedientes},model:{value:e.form.id_expediente,callback:function(t){e.$set(e.form,"id_expediente",t)},expression:"form.id_expediente"}})],1)],1)],1),a("b-modal",{ref:"modal-2-account",attrs:{id:"modal-2-account",title:"Editar cuenta"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-group",{attrs:{label:"Fecha de ingreso:"}},[a("b-form-input",{attrs:{type:"date",state:!e.$v.form.fecha_ingreso.$error,placeholder:"Ingresar fecha de ingreso"},model:{value:e.$v.form.fecha_ingreso.$model,callback:function(t){e.$set(e.$v.form.fecha_ingreso,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.fecha_ingreso.$model"}}),e.$v.form.fecha_ingreso.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar una fecha válida ")]):e._e()],1),a("b-form-group",{attrs:{label:"Motivo:"}},[a("b-form-input",{attrs:{state:!e.$v.form.motivo.$error,placeholder:"Ingresar motivo"},model:{value:e.$v.form.motivo.$model,callback:function(t){e.$set(e.$v.form.motivo,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.motivo.$model"}}),e.$v.form.motivo.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar un motivo ")]):e._e()],1),a("b-form-group",{attrs:{label:"Descripción:"}},[a("b-form-input",{attrs:{state:!e.$v.form.descripcion.$error,placeholder:"Ingresar descripción"},model:{value:e.$v.form.descripcion.$model,callback:function(t){e.$set(e.$v.form.descripcion,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.descripcion.$model"}})],1),a("b-form-group",{attrs:{label:"Otros:"}},[a("b-form-input",{attrs:{state:!e.$v.form.otros.$error,placeholder:"Ingresar otros"},model:{value:e.$v.form.otros.$model,callback:function(t){e.$set(e.$v.form.otros,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.otros.$model"}})],1)],1)],1)],1),a("b-modal",{ref:"modal-3-enfermeria",attrs:{id:"modal-3-enfermeria",title:"Reportes en Enfermeria"},scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Reportes")]),a("div",[3==e.selectedArea?a("b-form-select",{attrs:{options:e.reportOptionsEnfermeria},on:{change:function(t){return e.onReportChange()}},model:{value:e.selectedReport,callback:function(t){e.selectedReport=t},expression:"selectedReport"}}):e._e()],1),a("div",[a("label",{attrs:{for:"example-datepicker"}},[e._v("Fecha de inicio")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"example-datepicker"},model:{value:e.startDateEnfermeria,callback:function(t){e.startDateEnfermeria=t},expression:"startDateEnfermeria"}})],1),a("div",[a("label",{attrs:{for:"example-datepicker"}},[e._v("Fecha fin")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"example-datepicker"},model:{value:e.endDateEnfermeria,callback:function(t){e.endDateEnfermeria=t},expression:"endDateEnfermeria"}})],1),null!=e.selectedReport?a("div",[a("b-button",{attrs:{variant:"primary"}},[e._v("Descargar PDF")]),a("b-button",{attrs:{variant:"primary"}},[e._v("Descargar Excel")])],1):e._e()]},proxy:!0}])}),a("b-modal",{ref:"modal-4-account",attrs:{id:"modal-4-account",title:"Activar cuenta"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-account")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-account")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar la cuenta: "+e._s(e.form.numero)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Reportes")]),a("div",[a("b-form-group",{attrs:{label:"Seleccione el área de la cual quiere generar su reporte"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.ariaDescribedby;return[a("b-form-radio-group",{attrs:{id:"radio-group-2","aria-describedby":r,name:"radio-sub-component"},on:{change:function(t){e.selectedReport=null}},model:{value:e.selectedArea,callback:function(t){e.selectedArea=t},expression:"selectedArea"}},[a("b-form-radio",{attrs:{value:"1"}},[e._v("Caja")]),a("b-form-radio",{attrs:{value:"2"}},[e._v("Farmacia")]),a("b-form-radio",{attrs:{value:"3"}},[e._v("Enfermería")]),a("b-form-radio",{attrs:{value:"4"}},[e._v("Médicos")])],1)]}}])})],1),a("div",[1==e.selectedArea?a("b-form-select",{attrs:{options:e.reportOptionsCaja},model:{value:e.selectedReport,callback:function(t){e.selectedReport=t},expression:"selectedReport"}}):e._e(),2==e.selectedArea?a("b-form-select",{attrs:{options:e.reportOptionsFarmacia},on:{change:function(t){return e.onReportChange()}},model:{value:e.selectedReport,callback:function(t){e.selectedReport=t},expression:"selectedReport"}}):e._e(),3==e.selectedArea?a("b-form-select",{attrs:{options:e.reportOptionsEnfermeria},on:{change:function(t){return e.onReportChange()}},model:{value:e.selectedReport,callback:function(t){e.selectedReport=t},expression:"selectedReport"}}):e._e(),4==e.selectedArea?a("b-form-select",{attrs:{options:e.reportOptionsMedicos},on:{change:function(t){return e.onReportChange()}},model:{value:e.selectedReport,callback:function(t){e.selectedReport=t},expression:"selectedReport"}}):e._e(),5==e.selectedArea?a("b-form-select",{attrs:{options:e.reportOptionsPacientes},on:{change:function(t){return e.onReportChange()}},model:{value:e.selectedReport,callback:function(t){e.selectedReport=t},expression:"selectedReport"}}):e._e()],1),1!=e.selectedArea?a("div",[a("div",[a("label",{attrs:{for:"start-date"}},[e._v("Fecha de inicio")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"start-date",placeholder:"Seleccione la fecha de inicio"},on:{input:e.onStartDateChange},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}})],1),a("div",[a("label",{attrs:{for:"end-date"}},[e._v("Fecha de fin")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"end-date",placeholder:"Seleccione la fecha de fin"},on:{input:e.onEndDateChange},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}})],1),null!=e.selectedReport?a("div",[a("b-button",{attrs:{variant:"primary"},on:{click:e.generarPDF}},[e._v("Generar PDF")]),a("b-button",{attrs:{variant:"primary"},on:{click:e.generarEXCEL}},[e._v("Descargar Excel")])],1):e._e()]):e._e(),1==e.selectedArea?a("div",[2==e.selectedReport&&1==e.selectedArea?a("div",[a("label",{attrs:{for:"example-datepicker"}},[e._v("Fecha a buscar")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"example-datepicker","date-format-options":{year:"numeric",month:"numeric",day:"numeric"}},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}})],1):e._e(),4==e.selectedReport&&1==e.selectedArea?a("div",[a("label",{attrs:{for:"reportPAyment"}},[e._v("tipo de pago")]),a("b-form-select",{attrs:{id:"reportPAyment",options:e.paymentOptions},model:{value:e.reportPayment,callback:function(t){e.reportPayment=t},expression:"reportPayment"}})],1):e._e(),2!=e.selectedReport&&1==e.selectedArea?a("div",[a("label",{attrs:{for:"example-datepicker"}},[e._v("Fecha de inicio")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"example-datepicker","date-format-options":{day:"numeric",month:"numeric",year:"numeric"}},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}}),a("label",{attrs:{for:"example-datepicker2"}},[e._v("Fecha fin")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"example-datepicker2","date-format-options":{day:"numeric",month:"numeric",year:"numeric"}},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}})],1):e._e(),null!=e.selectedReport?a("div",[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.generateReport()}}},[e._v("Generar Reporte")]),a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.selectPDFReport()}}},[e._v("Descargar PDF")]),e.selectedReport<=2&&1==e.selectedArea?a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.generateExcel()}}},[e._v("Descargar Excel")]):e._e()],1):e._e()]):e._e()]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[4==e.selectedReport&&1==e.selectedArea?a("div",[e._v(" "+e._s(4==e.selectedReport&&1==e.selectedArea?"Reporte de pagos en "+e.reportPayment:"")+" "+e._s(e.simpWallet.length>0?e.simpWallet[0].total:"")+" ")]):a("div",[a("b-table",{ref:"reportTable",attrs:{hover:"",id:"reportTable",items:3==e.selectedReport?e.walletItems:e.reportItems,fields:3==e.selectedReport?e.walletFields:e.reportFields,"select-mode":"single",selectable:""}})],1)]},proxy:!0}])})],1)],1)],1)},Pa=[],Ma=(a("b64b"),a("159b"),a("b680"),a("a9e3"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("99af"),a("fb6a"),a("4e82"),a("8baf")),qa=a("0da4"),Ia=a.n(qa),Fa=a("89af"),Oa=a.n(Fa),Na=a("e8ae"),Ra=a.n(Na),Va=a("25ca"),za={name:"CuentasPendientes",setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index(),this.fetchExpedientes()},data:function(){return{pdf_select_caja:null,encabezado:{id:0,fecha:null,nit:null,usuario:null,total:null},from:0,pdf:new Ma["default"],pdfName:"",previewURL:"",reportItems:[],walletItems:[],simpWallet:[],reportFields:[{key:"expediente.nombres",label:"Nombres",sortable:!0},{key:"expediente.apellidos",label:"Apellidos",sortable:!0},{key:"numero_cuenta",label:"numero_cuenta",sortable:!0},{key:"total_pagado",label:"Total",sortable:!0},{key:"pendiente_de_pago",label:"Pendiente de pago",sortable:!0},{key:"total",label:"Total",sortable:!0},{key:"descuento",label:"Descuento",sortable:!0}],walletFields:[{key:"efectivo",label:"Efectivo",sortable:!0},{key:"tarjeta",label:"Tarjeta",sortable:!0},{key:"tarjeta",label:"Tarjeta",sortable:!0},{key:"deposito",label:"Deposito",sortable:!0},{key:"cheque",label:"Cheque",sortable:!0},{key:"seguro",label:"Seguro",sortable:!0},{key:"transferencia",label:"Transferencia",sortable:!0}],selectedReport:null,startDate:null,endDate:null,reportOptionsCaja:[{value:null,text:"Seleccione un reporte"},{value:1,text:"Ingresos entre fechas"},{value:2,text:"Ingresos por día"},{value:3,text:"Medios de pago"},{value:4,text:"Medio de pago específico"},{value:5,text:"Medios de pago por paciente"}],paymentOptions:[{value:"efectivo",text:"Efectivo"},{value:"tarjeta",text:"Tarjeta"},{value:"deposito",text:"Deposito"},{value:"cheque",text:"Cheque"},{value:"seguro",text:"Seguro"},{value:"transferencia",text:"Transferencia"}],reportOptionsFarmacia:[{value:null,text:"Seleccione un reporte"},{value:1,text:"Reporte Productos Más Utilizados"},{value:2,text:"Reporte Proveedores Más Solicitados"},{value:3,text:"Reporte Inventario Detallado de Medicamentos"},{value:4,text:"Reporte Inventario General"},{value:5,text:"Reporte Suministro de Medicamentos a Pacientes"}],reportOptionsEnfermeria:[{value:null,text:"Seleccione un reporte"},{value:1,text:"Reporte de pacientes que hubo en cada lugar"},{value:2,text:"Reporte de pacientes actuales en cada lugar"},{value:3,text:"Reporte de todos los pacientes por fechas"},{value:4,text:"Reporte de servicios más consumidos"},{value:5,text:"Reporte de medicamentos más consumidos"},{value:6,text:"Reporte de pacientes fallecidos"},{value:7,text:"Reporte de pacientes egresados"}],reportOptionsMedicos:[{value:null,text:"Seleccione un reporte"},{value:1,text:"Corte de honorarios médicos por fechas"},{value:2,text:"Reporte de médicos que más tienen honorarios por fechas y por día"},{value:3,text:"Generar voucher de honorarios de un médico en pdf"}],reportOptionsPacientes:[{value:null,text:"Seleccione un reporte"},{value:1,text:"Reporte Pacientes 1"},{value:2,text:"Reporte Pacientes 2"},{value:3,text:"Reporte Pacientes 3"},{value:4,text:"Reporte Pacientes 4"}],to:0,total:0,perPage:5,search:"",selectedArea:1,form:{id:0,numero:0,fecha_ingreso:"",motivo:"",descripcion:"",otros:"",total:0,state:1,id_expediente:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/cuentas/list",fields:[{name:"expediente.expediente",sortField:"expediente.expediente",title:"Expediente",dataClass:"list-item-heading"},{name:"expediente.nombres",sortField:"expediente.nombres",title:"Nombre",dataClass:"list-item-heading"},{name:"expediente.apellidos",sortField:"expediente.apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"numero",sortField:"numero",title:"Número",dataClass:"list-item-heading"},{name:"fecha_ingreso",sortField:"fecha_ingreso",title:"Fecha de ingreso",dataClass:"list-item-heading"},{name:"motivo",sortField:"motivo",title:"Motivo",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Descripción",dataClass:"list-item-heading"},{name:"otros",sortField:"otros",title:"Otros...",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Total",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}],fieldsEnfermeria:[{name:"expediente.nombres",sortField:"expediente.nombres",title:"Nombre",dataClass:"list-item-heading"},{name:"expediente.apellidos",sortField:"expediente.apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"numero",sortField:"numero",title:"Número",dataClass:"list-item-heading"},{name:"fecha_ingreso",sortField:"fecha_ingreso",title:"Fecha de ingreso",dataClass:"list-item-heading"},{name:"motivo",sortField:"motivo",title:"Motivo",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Descripción",dataClass:"list-item-heading"},{name:"otros",sortField:"otros",title:"Otros...",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Total",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}],fieldsCaja:[{name:"expediente.apellidos",sortField:"expediente.apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"numero",sortField:"numero",title:"Número",dataClass:"list-item-heading"},{name:"fecha_ingreso",sortField:"fecha_ingreso",title:"Fecha de ingreso",dataClass:"list-item-heading"},{name:"motivo",sortField:"motivo",title:"Motivo",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Descripción",dataClass:"list-item-heading"},{name:"otros",sortField:"otros",title:"Otros...",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Total",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}],fieldsMedicos:[{name:"numero",sortField:"numero",title:"Número",dataClass:"list-item-heading"},{name:"fecha_ingreso",sortField:"fecha_ingreso",title:"Fecha de ingreso",dataClass:"list-item-heading"},{name:"motivo",sortField:"motivo",title:"Motivo",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Descripción",dataClass:"list-item-heading"},{name:"otros",sortField:"otros",title:"Otros...",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Total",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}],fieldsPacientes:[{name:"fecha_ingreso",sortField:"fecha_ingreso",title:"Fecha de ingreso",dataClass:"list-item-heading"},{name:"motivo",sortField:"motivo",title:"Motivo",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Descripción",dataClass:"list-item-heading"},{name:"otros",sortField:"otros",title:"Otros...",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Total",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}],fieldsFarmacia:[{name:"expediente.expediente",sortField:"expediente.expediente",title:"Expediente",dataClass:"list-item-heading"},{name:"expediente.nombres",sortField:"expediente.nombres",title:"Nombre",dataClass:"list-item-heading"},{name:"expediente.apellidos",sortField:"expediente.apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"numero",sortField:"numero",title:"Número",dataClass:"list-item-heading"},{name:"fecha_ingreso",sortField:"fecha_ingreso",title:"Fecha de ingreso",dataClass:"list-item-heading"},{name:"motivo",sortField:"motivo",title:"Motivo",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Descripción",dataClass:"list-item-heading"},{name:"otros",sortField:"otros",title:"Otros...",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Total",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}],expedientes:[],mediosPagoPacientes:null,pdf_select_farmacia:null,dataFarmacia:null,pdf_select_enfermeria:null,dataEnfermeria1:null,startDateEnfermeria:null,endDateEnfermeria:null,pdf_select_medicos:null,fechaActual:null,numero_voucher:null,dataMedicos:null,selectedMedico:null,medicos:[],pacientes:[],formVoucher:{id_paciente:null,medico:null,cantidad:null,cantidadEscrita:null,observaciones:null,total:0}}},validations:function(){return{form:{fecha_ingreso:{required:_a["c"]},descripcion:{required:_a["c"]},motivo:{required:_a["c"]},otros:{required:_a["c"]},total:{required:_a["c"]},id_expediente:{required:_a["c"]},state:{required:_a["c"]}}}},watch:{selectedMedico:function(e){console.log(e),e?this.agregarPacientes(e):(this.pacientes=[],this.formVoucher.cantidad=0,console.log("Ningun medico seleccionado, pacientes limpiados"))}},computed:{fieldsToDisplay:function(){switch(this.selectedArea){case 3:return this.fieldsEnfermeria;case 4:return this.fieldsMedicos;case 5:return this.fieldsPacientes;case 1:return this.fieldsCaja;case 2:return this.fieldsFarmacia;default:return this.fields}}},methods:{onReportChange:function(){var e=this;if(!this.startDate||!this.endDate)return alert("Por favor, seleccione las fechas antes de continuar."),void(this.selectedReport=null);if("2"===this.selectedArea)switch(this.selectedReport){case 1:return this.primerReporteFarmacia(this.startDate,this.endDate),void(this.pdf_select_farmacia=1);case 2:return this.segundoReporteFarmacia(this.startDate,this.endDate),void(this.pdf_select_farmacia=2);case 3:return this.tercerReporteFarmacia(this.startDate,this.endDate),void(this.pdf_select_farmacia=3);case 4:return this.cuartoReporteFarmacia(this.startDate,this.endDate),void(this.pdf_select_farmacia=4);case 5:this.quintoReporteFarmacia(this.startDate,this.endDate),this.pdf_select_farmacia=5}if("3"===this.selectedArea)switch(this.selectedReport){case 1:return this.primerReporteEnfermeria(this.startDate,this.endDate),void(this.pdf_select_enfermeria=1);case 2:return this.segundoReporteEnfermeria(this.startDate,this.endDate),void(this.pdf_select_enfermeria=2);case 3:return this.tercerReporteEnfermeria(this.startDate,this.endDate),void(this.pdf_select_enfermeria=3);case 4:return this.cuartoReporteEnfermeria(this.startDate,this.endDate),void(this.pdf_select_enfermeria=4);case 5:return this.quintoReporteEnfermeria(this.startDate,this.endDate),void(this.pdf_select_enfermeria=5);case 6:return this.sextoReporteEnfermeria(this.startDate,this.endDate),void(this.pdf_select_enfermeria=6);case 7:this.septimoReporteEnfermeria(this.startDate,this.endDate),this.pdf_select_enfermeria=7}if("4"===this.selectedArea)switch(this.selectedReport){case 1:return this.primerReporteMedicos(this.startDate,this.endDate),void(this.pdf_select_medicos=1);case 2:return this.segundoReporteMedicos(this.startDate,this.endDate),void(this.pdf_select_medicos=2);case 3:this.$refs["modal-voucher"].show(),this.pdf_select_medicos=3,this.selectedReport=null}this.$nextTick((function(){e.$refs.reportTable.refresh()}))},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.fecha_ingreso="",this.form.descripcion="",this.form.motivo="",this.form.otros="",this.form.total=0,this.form.id_expediente=1,this.form.state=1;break}},modPdf:function(e){var t=this;console.log(e),this.$refs["modal-pdf"].show();var a=1,r=new Date;this.encabezado.id=1===e?1:null,this.encabezado.fecha=(new Date).toLocaleDateString("es-us",r),this.pdf=new Ma["default"]({unit:"cm",format:[14,21.5],orientation:"landscape"});var o=F()(r).format("DD/MM/YYYY"),i=v.a;switch(this.pdf.addImage(i,"PNG",1.5,.2,4.37,4),this.pdf.setFontSize(10).setFont(void 0,"bold"),this.pdf.text("Hospital de Especialidades S.A.",1.5,4.5),e){case 1:this.pdfName="ReporteIngresos.pdf",a+=.5,a+=.5,a+=.5,1===this.selectedReport?this.pdf.text("Reporte de ingresos entre "+this.startDate+" y "+this.endDate,7,a):this.pdf.text("Reporte de ingresos del "+this.startDate,7,a);break;case 2:this.pdfName="ReporteMedioDePago.pdf",a+=.5,a+=.5,a+=.5,this.pdf.text("Reporte del dinero por medio de pago del "+this.startDate+" al "+this.endDate,7,a);break;case 3:this.pdfName="Reporte"+this.reportPayment+".pdf",a+=.5,a+=.5,a+=.5,this.pdf.text("Reporte del ingreso a "+this.reportPayment+" del "+this.startDate+" al "+this.endDate,7,a);break;case 5:this.pdfName="Reporte_Medio_de_Pago_por_Paciente.pdf",a+=.5,a+=.5,a+=.5,this.pdf.text("Reporte de Los Medios de pago por paciente del "+this.startDate+" al "+this.endDate,7,a);break}switch(a+=.5,this.pdf.text("Fecha de generación: "+o,7,a),a+=.5,this.pdf.setFontSize(10).setFont(void 0,"normal"),a+=.5,e){case 1:var n=this.reportItems.map((function(e){return{numero_cuenta:e.numero_cuenta,total:e.total,expediente:e.expediente.expediente+" "+e.expediente.nombres+" "+e.expediente.apellidos,total_pagado:e.total_pagado}}));Ia()(this.pdf,{columns:[{header:"Cuenta",dataKey:"numero_cuenta"},{header:"Total",dataKey:"total"},{header:"Total pagado",dataKey:"total_pagado"},{header:"Expediente",dataKey:"expediente"}],body:n,margin:{top:5},headStyles:{fillColor:[21,21,21],textColor:[225,225,225],fontStyle:"bold"}});break;case 2:Ia()(this.pdf,{columns:[{header:"Tipo de Pago",dataKey:"tipo"},{header:"Monto",dataKey:"monto"}],body:[{tipo:"Efectivo",monto:this.walletItems[0].efectivo},{tipo:"Tarjeta",monto:this.walletItems[0].tarjeta},{tipo:"Deposito",monto:this.walletItems[0].deposito},{tipo:"Cheque",monto:this.walletItems[0].cheque},{tipo:"Transferencia",monto:this.walletItems[0].transferencia}],margin:{top:5},headStyles:{fillColor:[21,21,21],textColor:[225,225,225],fontStyle:"bold"}});break;case 3:a+=2,this.pdf.text("Pagos por medio de "+this.reportPayment+" del "+this.startDate+" al "+this.endDate+": "+this.simpWallet[0].total,7,a);break;case 5:var s=this.mediosPagoPacientes,l=Object.keys(s),c=a+1,d=!0;l.forEach((function(e){if(s[e].length>0){d||(t.pdf.addPage(),c=2),d=!1,t.pdf.setFontSize(14),t.pdf.text("PAGOS CON ".concat(e.toUpperCase()),2,c),c+=1;var a=s[e].map((function(e){return{NumeroCuenta:e.NumeroCuenta,NombreExpediente:e.NombreExpediente,Tipo:e.Tipo,Total:Number(e.Total).toFixed(2)}}));Ia()(t.pdf,{columns:[{header:"Cuenta",dataKey:"NumeroCuenta"},{header:"Paciente",dataKey:"NombreExpediente"},{header:"Tipo",dataKey:"Tipo"},{header:"Total",dataKey:"Total"}],body:a,startY:c,margin:{top:.5},headStyles:{fillColor:[21,21,21],textColor:[225,225,225],fontStyle:"bold"}}),c=t.pdf.autoTable.previous.finalY+2}}));break}var m=this.pdf.output("blob"),u=URL.createObjectURL(m);this.previewURL=u},descargarpdf:function(){this.pdf.save(this.pdfName)},generateExcel:function(){var e=this.reportItems.map((function(e){return{numero_cuenta:e.numero_cuenta,total:e.total,expediente:e.expediente.expediente+" "+e.expediente.nombres+" "+e.expediente.apellidos,total_pagado:e.total_pagado}})),t=Va["a"].json_to_sheet(e),a=e.reduce((function(e,t){return Object.keys(t).forEach((function(a,r){var o=String(t[a]);e[r]=Math.max(e[r]||0,o.length)})),e}),[]);t["!cols"]=a.map((function(e){return{wch:e}}));var r=Va["a"].book_new();Va["a"].book_append_sheet(r,t,"Datos"),Va["b"](r,"reporte.xlsx")},selectPDFReport:function(){switch(this.selectedReport){case 1:this.modPdf(1);break;case 2:this.modPdf(1);break;case 3:this.modPdf(2);break;case 4:this.modPdf(3);break;case 5:this.modPdf(5);break}console.log(this.selectedReport)},generateReport:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.t0=e.selectedReport,t.next=1===t.t0?3:2===t.t0?6:3===t.t0?9:4===t.t0?12:5===t.t0?15:18;break;case 3:return t.next=5,e.incomeByDate();case 5:return t.abrupt("break",19);case 6:return t.next=8,e.incomeByDay();case 8:return t.abrupt("break",19);case 9:return t.next=11,e.wallet();case 11:return t.abrupt("break",19);case 12:return t.next=14,e.simpleWallet();case 14:return t.abrupt("break",19);case 15:return t.next=17,e.mediosPago();case 17:return t.abrupt("break",19);case 18:return t.abrupt("break",19);case 19:case"end":return t.stop()}}),t)})))()},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-account"].hide(),this.form.id=0,this.form.fecha_ingreso="",this.form.descripcion="",this.form.motivo="",this.form.otros="",this.form.total=0,this.form.id_expediente=1,this.form.state=1,this.$refs["modal-voucher"].hide(),this.formVoucher.medico=null,this.formVoucher.total=0,this.formVoucher.cantidad=null,this.selectedReport=null,this.selectedReport=null,this.medicos=[],this.pacientes=[],this.dataMedicos=null,this.selectedMedico=null,this.formVoucher.cantidadEscrita=null;break;case"update":this.$v.$reset(),this.$refs["modal-2-account"].hide(),this.form.id=0,this.form.fecha_ingreso="",this.form.descripcion="",this.form.motivo="",this.form.otros="",this.form.total=0,this.form.id_expediente=1,this.form.state=1;break}},incomeByDate:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ie.a.get(q["a"]+"/reporte/ingresosFechas",{params:{fecha_inicio:e.startDate,fecha_final:e.endDate}});case 2:a=t.sent,e.reportItems=a.data,console.log(e.reportItems),e.$refs.reportTable.refresh();case 6:case"end":return t.stop()}}),t)})))()},wallet:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ie.a.get(q["a"]+"/reporte/detalleMediosDePago");case 2:a=t.sent,e.walletItems=[],e.walletItems.push(a.data),console.log(e.walletItems),e.$refs.reportTable.refresh();case 7:case"end":return t.stop()}}),t)})))()},simpleWallet:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ie.a.get(q["a"]+"/reporte/simpleMediosDePago",{params:{tipo:"efectivo",fecha_inicio:e.startDate,fecha_final:e.endDate}});case 2:a=t.sent,e.simpWallet=[],e.simpWallet.push(a.data),console.log(e.simpWallet),e.$refs.reportTable.refresh();case 7:case"end":return t.stop()}}),t)})))()},incomeByDay:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ie.a.get(q["a"]+"/reporte/ingresosDia",{params:{fecha:e.startDate}});case 2:a=t.sent,e.reportItems=a.data,console.log(e.reportItems),e.$refs.reportTable.refresh();case 6:case"end":return t.stop()}}),t)})))()},mediosPago:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ie.a.get(q["a"]+"/reporte/mediosPagoPaciente",{params:{fecha_inicio:e.startDate,fecha_final:e.endDate}});case 2:a=t.sent,e.mediosPagoPacientes=a.data;case 4:case"end":return t.stop()}}),t)})))()},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertC.ountDownError=this.alertSecs},onSearchExpedientes:function(e,t){e.length&&(t(!0),this.searchingExpedientes(e,t))},searchingExpedientes:function(e,t){var a=this;ie.a.get(q["a"]+"/expedientes/getSearch",{params:{search:e}}).then((function(e){a.expedientes=e.data,t(!1)}))},generarPDF:function(){switch(this.pdf_select_caja){case 1:this.modPdf(1);break}switch(this.pdf_select_farmacia){case 1:this.generarPDFFarmacia(),this.selectedReport=null,this.pdf_select_farmacia=null;break;case 2:this.generarPDFFarmacia2(),this.selectedReport=null,this.pdf_select_farmacia=null;break;case 3:this.generarPDFFarmacia3(),this.selectedReport=null,this.pdf_select_farmacia=null;break;case 4:this.generarPDFFarmacia4(),this.selectedReport=null,this.pdf_select_farmacia=null;break;case 5:this.generarPDFFarmacia5(),this.selectedReport=null,this.pdf_select_farmacia=null;break}switch(this.pdf_select_enfermeria){case 1:this.generarPDFPacientes(),this.selectedReport=null,this.pdf_select_enfermeria=null;break;case 2:this.generarPDFPacientes2(),this.selectedReport=null,this.pdf_select_enfermeria=null;break;case 3:this.generarPDFPacientes3(),this.selectedReport=null,this.pdf_select_enfermeria=null;break;case 4:this.generarPDFPacientes4(),this.selectedReport=null,this.pdf_select_enfermeria=null;break;case 5:this.generarPDFPacientes5(),this.selectedReport=null,this.pdf_select_enfermeria=null;break;case 6:this.generarPDFPacientes6(),this.selectedReport=null,this.pdf_select_enfermeria=null;break;case 7:this.generarPDFPacientes7(),this.selectedReport=null,this.pdf_select_enfermeria=null;break}switch(this.pdf_select_medicos){case 1:this.generarPDFMedicos(),this.selectedReport=null,this.pdf_select_medicos=null;break;case 2:this.generarPDFMedicos2(),this.selectedReport=null,this.pdf_select_medicos=null;break;case 3:this.generarPDFMedicos3(),this.selectedReport=null,this.pdf_select_medicos=null;break}},generarEXCEL:function(){switch(this.pdf_select_farmacia){case 1:this.generarExcelEnfermeria(),this.selectedReport=null,this.pdf_select_farmacia=null;break;case 2:this.generarExcelEnfermeria2(),this.selectedReport=null,this.pdf_select_farmacia=null;break;case 3:this.generarExcelEnfermeria3(),this.selectedReport=null,this.pdf_select_farmacia=null;break;case 4:this.generarExcelEnfermeria4(),this.selectedReport=null,this.pdf_select_farmacia=null;break;case 5:this.generarExcelEnfermeria5(),this.selectedReport=null,this.pdf_select_farmacia=null;break}switch(this.pdf_select_enfermeria){case 1:this.generarExcelPacientes(),this.selectedReport=null,this.selectedReport=null;break;case 2:this.generarExcelPacientes2(),this.selectedReport=null,this.selectedReport=null;break;case 3:this.generarExcelPacientes3(),this.selectedReport=null,this.selectedReport=null;break;case 4:this.generarExcelPacientes4(),this.selectedReport=null,this.selectedReport=null;break;case 5:this.generarExcelPacientes5(),this.selectedReport=null,this.selectedReport=null;break;case 6:this.generarExcelPacientes6(),this.selectedReport=null,this.selectedReport=null;break;case 7:this.generarExcelPacientes7(),this.selectedReport=null,this.selectedReport=null;break}switch(this.pdf_select_medicos){case 1:this.generarExcelMedicos(),this.selectedReport=null,this.selectedReport=null;break;case 2:this.generarExcelMedicos2(),this.selectedReport=null,this.selectedReport=null;break;case 3:this.generarExcelMedicos3(),this.selectedReport=null;break}},primerReporteFarmacia:function(e,t){var a=this;ie.a.get(q["a"]+"/reporte/farmacia/productosMasUtilizados",{params:{fechaInicio:e,fechaFin:t}}).then((function(r){a.dataFarmacia=r.data,a.startDateEnfermeria=e,a.endDateEnfermeria=t,console.log(r.data)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),a.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",a.showAlertError()}))},generarPDFFarmacia:function(){var e=this.dataFarmacia,t=e.comunMasConsumido,a=e.comunes,r=e.medicamentoMasConsumido,o=e.medicamentos,i=e.quirurgicosMasConsumido,n=e.quirurgicos,s=this.startDateEnfermeria,l=this.endDateEnfermeria,c=new Ma["default"];c.addImage(Oa.a,"JPEG",14,10,30,25),c.setFontSize(14).setFont(void 0,"bold"),c.text("HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",110,20,{align:"center"}),c.setFontSize(10).setFont(void 0,"normal"),c.text("6ta. Calle 12-28 Zona 3 Quetzaltenango",110,26,{align:"center"}),c.text("Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",105,32,{align:"center"}),c.setFontSize(14).setFont(void 0,"bold"),c.text("Reporte de Productos Más Utilizados",105,50,{align:"center"}),c.setFontSize(12).setFont(void 0,"normal"),c.text("Rango de Fechas: ".concat(F()(s).format("DD/MM/YYYY")," - ").concat(F()(l).format("DD/MM/YYYY")),105,56,{align:"center"}),c.setFontSize(14).setFont(void 0,"bold"),c.text("Material Común Más Utilizado",14,80),c.setFontSize(12).setFont(void 0,"normal"),c.text("Nombre: ".concat(t.nombre),14,90),c.text("Precio Unitario: Q".concat(t.precio_unitario),14,96),c.text("Cantidad: ".concat(t.cantidad_total),14,102),c.setFontSize(14).setFont(void 0,"bold"),c.text("Detalle de Consumo - Material Común",14,112),c.autoTable({head:[["#","Nombre","Precio Unitario","Cantidad Vendida"]],body:a.map((function(e,t){return[t+1,e.nombre,"Q".concat(e.precio_unitario),e.cantidad_total]})),startY:118,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),c.addPage(),c.setFontSize(14).setFont(void 0,"bold"),c.text("Medicamento Más Utilizado",14,20),c.setFontSize(12).setFont(void 0,"normal"),c.text("Nombre: ".concat(r.nombre),14,30),c.text("Precio Unitario: Q".concat(r.precio_unitario),14,36),c.text("Cantidad: ".concat(r.cantidad_total),14,42),c.setFontSize(14).setFont(void 0,"bold"),c.text("Detalle de Consumo - Medicamentos",14,52),c.autoTable({head:[["#","Nombre","Precio Unitario","Cantidad Vendida"]],body:o.map((function(e,t){return[t+1,e.nombre,"Q".concat(e.precio_unitario),e.cantidad_total]})),startY:58,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),c.addPage(),c.setFontSize(14).setFont(void 0,"bold"),c.text("Material Quirúrgico Más Utilizado",14,20),c.setFontSize(12).setFont(void 0,"normal"),c.text("Nombre: ".concat(i.nombre),14,30),c.text("Precio Unitario: Q".concat(i.precio_unitario),14,36),c.text("Cantidad: ".concat(i.cantidad_total),14,42),c.setFontSize(14).setFont(void 0,"bold"),c.text("Detalle de Consumo - Material Quirúrgico",14,52),c.autoTable({head:[["#","Nombre","Precio Unitario","Cantidad Vendida"]],body:n.map((function(e,t){return[t+1,e.nombre,"Q".concat(e.precio_unitario),e.cantidad_total]})),startY:58,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),c.save("Reporte_Productos_Mas_Utilizados_".concat(F()(s).format("YYYY-MM-DD"),"_a_").concat(F()(l).format("YYYY-MM-DD"),".pdf"))},generarExcelEnfermeria:function(){var e=this.dataFarmacia,t=e.comunMasConsumido,a=e.comunes,r=e.medicamentoMasConsumido,o=e.medicamentos,i=e.quirurgicosMasConsumido,n=e.quirurgicos,s=this.startDateEnfermeria,l=this.endDateEnfermeria,c=new Ra.a.Workbook,d=c.addWorksheet("Material Común");d.addRow(["HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO"]),d.addRow(["Reporte de Productos Más Utilizados"]),d.addRow(["Rango de Fechas: ".concat(F()(s).format("DD/MM/YYYY")," - ").concat(F()(l).format("DD/MM/YYYY"))]),d.addRow([]),d.addRow(["Material Común Más Utilizado"]),d.addRow(["Nombre","Precio Unitario","Cantidad Total"]),d.addRow([t.nombre,t.precio_unitario,t.cantidad_total]),d.addRow([]),d.addRow(["Detalle de Consumo - Material Común"]),d.addRow(["#","Nombre","Precio Unitario","Cantidad Vendida"]),a.forEach((function(e,t){d.addRow([t+1,e.nombre,e.precio_unitario,e.cantidad_total])}));var m=c.addWorksheet("Medicamentos");m.addRow(["HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO"]),m.addRow(["Reporte de Productos Más Utilizados"]),m.addRow(["Rango de Fechas: ".concat(F()(s).format("DD/MM/YYYY")," - ").concat(F()(l).format("DD/MM/YYYY"))]),m.addRow([]),m.addRow(["Medicamento Más Utilizado"]),m.addRow(["Nombre","Precio Unitario","Cantidad Total"]),m.addRow([r.nombre,r.precio_unitario,r.cantidad_total]),m.addRow([]),m.addRow(["Detalle de Consumo - Medicamentos"]),m.addRow(["#","Nombre","Precio Unitario","Cantidad Vendida"]),o.forEach((function(e,t){m.addRow([t+1,e.nombre,e.precio_unitario,e.cantidad_total])}));var u=c.addWorksheet("Material Quirúrgico");u.addRow(["HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO"]),u.addRow(["Reporte de Productos Más Utilizados"]),u.addRow(["Rango de Fechas: ".concat(F()(s).format("DD/MM/YYYY")," - ").concat(F()(l).format("DD/MM/YYYY"))]),u.addRow([]),u.addRow(["Material Quirúrgico Más Utilizado"]),u.addRow(["Nombre","Precio Unitario","Cantidad Total"]),u.addRow([i.nombre,i.precio_unitario,i.cantidad_total]),u.addRow([]),u.addRow(["Detalle de Consumo - Material Quirúrgico"]),u.addRow(["#","Nombre","Precio Unitario","Cantidad Vendida"]),n.forEach((function(e,t){u.addRow([t+1,e.nombre,e.precio_unitario,e.cantidad_total])})),c.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=window.URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download="Reporte_Productos_Mas_Utilizados_".concat(F()(s).format("YYYY-MM-DD"),"_a_").concat(F()(l).format("YYYY-MM-DD"),".xlsx"),r.click(),window.URL.revokeObjectURL(a)}))},segundoReporteFarmacia:function(e,t){var a=this;ie.a.get(q["a"]+"/reporte/farmacia/proveedores",{params:{fechaInicio:e,fechaFin:t}}).then((function(r){a.dataFarmacia=r.data,a.startDateEnfermeria=e,a.endDateEnfermeria=t,console.log(r.data)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),a.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",a.showAlertError()}))},generarPDFFarmacia2:function(){var e=this.dataFarmacia,t=e.proveedorMasSolicitado,a=e.resultado,r=this.startDateEnfermeria,o=this.endDateEnfermeria,i=new Ma["default"];i.addImage(Oa.a,"JPEG",14,10,30,25),i.setFontSize(14).setFont(void 0,"bold"),i.text("HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",110,20,{align:"center"}),i.setFontSize(10).setFont(void 0,"normal"),i.text("6ta. Calle 12-28 Zona 3 Quetzaltenango",110,26,{align:"center"}),i.text("Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",105,32,{align:"center"}),i.setFontSize(14).setFont(void 0,"bold"),i.text("Reporte Proveedores más solicitados",105,50,{align:"center"}),i.setFontSize(12).setFont(void 0,"normal"),i.text("Rango de Fechas: ".concat(F()(r).format("DD/MM/YYYY")," - ").concat(F()(o).format("DD/MM/YYYY")),105,56,{align:"center"}),i.setFontSize(14).setFont(void 0,"bold"),i.text("Proveedor Más Solicitado",14,80),i.setFontSize(12).setFont(void 0,"normal"),i.text("Nombre: ".concat(t.nombre),14,90),i.text("Representante: ".concat(t.representante),14,96),i.text("Telefono: ".concat(t.telefono),14,102),i.setFontSize(14).setFont(void 0,"bold"),i.text("Detalle de Proveedores",14,112),i.autoTable({head:[["#","Nombre","Representante","Numero de Telefono"]],body:a.map((function(e,t){return[t+1,e.nombre,e.representante,e.telefono]})),startY:118,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),i.save("Reporte_Proveedores_Mas_Solicitados_".concat(F()(r).format("YYYY-MM-DD"),"_a_").concat(F()(o).format("YYYY-MM-DD"),".pdf"))},generarExcelEnfermeria2:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){var a,r,o,i,n,s,l,c,d,m,u,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.dataFarmacia,r=a.proveedorMasSolicitado,o=a.resultado,i=e.startDateEnfermeria,n=e.endDateEnfermeria,s=new Ra.a.Workbook,l=s.addWorksheet("Proveedores Más Solicitados"),l.mergeCells("A1:D1"),l.getCell("A1").value="HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",l.getCell("A1").font={bold:!0,size:14},l.getCell("A1").alignment={horizontal:"center"},l.mergeCells("A2:D2"),l.getCell("A2").value="6ta. Calle 12-28 Zona 3 Quetzaltenango",l.getCell("A2").alignment={horizontal:"center"},l.mergeCells("A3:D3"),l.getCell("A3").value="Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",l.getCell("A3").alignment={horizontal:"center"},l.mergeCells("A5:D5"),l.getCell("A5").value="Reporte Proveedores Más Solicitados",l.getCell("A5").font={bold:!0,size:14},l.getCell("A5").alignment={horizontal:"center"},l.mergeCells("A6:D6"),l.getCell("A6").value="Rango de Fechas: ".concat(F()(i).format("DD/MM/YYYY")," - ").concat(F()(n).format("DD/MM/YYYY")),l.getCell("A6").alignment={horizontal:"center"},l.addRow([]),l.addRow(["Proveedor Más Solicitado"]),l.getCell("A8").font={bold:!0,size:12},l.addRow(["Nombre: ".concat(r.nombre)]),l.addRow(["Representante: ".concat(r.representante)]),l.addRow(["Teléfono: ".concat(r.telefono)]),l.addRow([]),l.addRow(["Detalle de Proveedores"]),l.getCell("A12").font={bold:!0,size:12},c=l.addRow(["#","Nombre","Representante","Número de Teléfono"]),c.font={bold:!0},c.alignment={horizontal:"center"},o.forEach((function(e,t){l.addRow([t+1,e.nombre,e.representante,e.telefono])})),l.columns=[{key:"numero",width:5},{key:"nombre",width:25},{key:"representante",width:25},{key:"telefono",width:15}],t.next=38,s.xlsx.writeBuffer();case 38:d=t.sent,m=new Blob([d],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),u="Reporte_Proveedores_Mas_Solicitados_".concat(F()(i).format("YYYY-MM-DD"),"_a_").concat(F()(n).format("YYYY-MM-DD"),".xlsx"),f=document.createElement("a"),f.href=URL.createObjectURL(m),f.download=u,document.body.appendChild(f),f.click(),document.body.removeChild(f);case 47:case"end":return t.stop()}}),t)})))()},tercerReporteFarmacia:function(e,t){var a=this;ie.a.get(q["a"]+"/reporte/farmacia/inventarioMedicina",{params:{fechaInicio:e,fechaFin:t}}).then((function(r){a.dataFarmacia=r.data,a.startDateEnfermeria=e,a.endDateEnfermeria=t,console.log(r.data)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),a.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",a.showAlertError()}))},generarPDFFarmacia3:function(){var e=this.dataFarmacia,t=this.startDateEnfermeria,a=this.endDateEnfermeria,r=new Ma["default"],o=[];for(var i in e)Array.isArray(e[i])&&(o=o.concat(e[i]));r.addImage(Oa.a,"JPEG",14,10,30,25),r.setFontSize(14).setFont(void 0,"bold"),r.text("HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",110,20,{align:"center"}),r.setFontSize(10).setFont(void 0,"normal"),r.text("6ta. Calle 12-28 Zona 3 Quetzaltenango",110,26,{align:"center"}),r.text("Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",105,32,{align:"center"}),r.setFontSize(14).setFont(void 0,"bold"),r.text("Inventario de todas las medicinas",105,50,{align:"center"}),r.setFontSize(12).setFont(void 0,"normal"),r.text("Rango de Fechas: ".concat(F()(t).format("DD/MM/YYYY")," - ").concat(F()(a).format("DD/MM/YYYY")),105,56,{align:"center"}),r.setFontSize(14).setFont(void 0,"bold"),r.text("Detalle de Inventario Medicamentos",14,80),r.autoTable({head:[["#","Nombre Medicamento","Marca","Precio Costo","Precio Venta","Exist. Actual","Exist. Qirofano","Exist. Farmacia"]],body:o.map((function(e,t){return[t+1,e.nombre_medicamento,e.marca,"Q".concat(e.precio_costo),"Q".concat(e.precio_venta),e.existencia_actual,e.existencia_actual_quirofano,e.existencia_actual_farmacia]})),startY:86,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),r.save("Reporte_Productos_Mas_Utilizados_".concat(F()(t).format("YYYY-MM-DD"),"_a_").concat(F()(a).format("YYYY-MM-DD"),".pdf"))},generarExcelEnfermeria3:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){var a,r,o,i,n,s,l,c,d,m,u,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n in a=e.dataFarmacia,r=e.startDateEnfermeria,o=e.endDateEnfermeria,i=[],a)Array.isArray(a[n])&&(i=i.concat(a[n]));return s=new Ra.a.Workbook,l=s.addWorksheet("Inventario Medicamentos"),l.mergeCells("A1:H1"),l.getCell("A1").value="HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",l.getCell("A1").font={bold:!0,size:14},l.getCell("A1").alignment={horizontal:"center"},l.mergeCells("A2:H2"),l.getCell("A2").value="6ta. Calle 12-28 Zona 3 Quetzaltenango",l.getCell("A2").alignment={horizontal:"center"},l.mergeCells("A3:H3"),l.getCell("A3").value="Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",l.getCell("A3").alignment={horizontal:"center"},l.mergeCells("A5:H5"),l.getCell("A5").value="Inventario de todas las medicinas",l.getCell("A5").font={bold:!0,size:14},l.getCell("A5").alignment={horizontal:"center"},l.mergeCells("A6:H6"),l.getCell("A6").value="Rango de Fechas: ".concat(F()(r).format("DD/MM/YYYY")," - ").concat(F()(o).format("DD/MM/YYYY")),l.getCell("A6").alignment={horizontal:"center"},l.addRow([]),l.addRow(["Detalle de Inventario Medicamentos"]),l.getCell("A8").font={bold:!0,size:12},c=l.addRow(["#","Nombre Medicamento","Marca","Precio Costo","Precio Venta","Exist. Actual","Exist. Quirófano","Exist. Farmacia"]),c.font={bold:!0},c.alignment={horizontal:"center"},i.forEach((function(e,t){l.addRow([t+1,e.nombre_medicamento,e.marca,"Q".concat(e.precio_costo.toFixed(2)),"Q".concat(e.precio_venta.toFixed(2)),e.existencia_actual,e.existencia_actual_quirofano,e.existencia_actual_farmacia])})),l.columns=[{key:"indice",width:5},{key:"nombre_medicamento",width:30},{key:"marca",width:20},{key:"precio_costo",width:15},{key:"precio_venta",width:15},{key:"existencia_actual",width:15},{key:"existencia_actual_quirofano",width:20},{key:"existencia_actual_farmacia",width:20}],t.next=34,s.xlsx.writeBuffer();case 34:d=t.sent,m=new Blob([d],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),u="Reporte_Inventario_Medicamentos_".concat(F()(r).format("YYYY-MM-DD"),"_a_").concat(F()(o).format("YYYY-MM-DD"),".xlsx"),f=document.createElement("a"),f.href=URL.createObjectURL(m),f.download=u,document.body.appendChild(f),f.click(),document.body.removeChild(f);case 43:case"end":return t.stop()}}),t)})))()},cuartoReporteFarmacia:function(e,t){var a=this;ie.a.get(q["a"]+"/reporte/farmacia/iventarioGeneral",{params:{fechaInicio:e,fechaFin:t}}).then((function(r){a.dataFarmacia=r.data,a.startDateEnfermeria=e,a.endDateEnfermeria=t,console.log(r.data)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),a.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",a.showAlertError()}))},generarPDFFarmacia4:function(){var e=this.dataFarmacia,t=e.comunes,a=e.medicamentos,r=e.quirurgicos,o=this.startDateEnfermeria,i=this.endDateEnfermeria,n=new Ma["default"];n.addImage(Oa.a,"JPEG",14,10,30,25),n.setFontSize(14).setFont(void 0,"bold"),n.text("HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",110,20,{align:"center"}),n.setFontSize(10).setFont(void 0,"normal"),n.text("6ta. Calle 12-28 Zona 3 Quetzaltenango",110,26,{align:"center"}),n.text("Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",105,32,{align:"center"}),n.setFontSize(14).setFont(void 0,"bold"),n.text("Inventario General",105,50,{align:"center"}),n.setFontSize(12).setFont(void 0,"normal"),n.text("Rango de Fechas: ".concat(F()(o).format("DD/MM/YYYY")," - ").concat(F()(i).format("DD/MM/YYYY")),105,56,{align:"center"}),n.setFontSize(14).setFont(void 0,"bold"),n.text("Detalle de Inventario - Material Común",14,112),n.autoTable({head:[["#","Nombre","Marca","existencia_actual"]],body:t.map((function(e,t){return[t+1,e.nombre,e.marca,e.existencia_actual]})),startY:118,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),n.addPage(),n.setFontSize(14).setFont(void 0,"bold"),n.text("Detalle de Inventario - Medicamentos",14,20),n.autoTable({head:[["#","Nombre","Marca","existencia_actual"]],body:a.map((function(e,t){return[t+1,e.nombre,e.marca,e.existencia_actual]})),startY:26,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),n.addPage(),n.setFontSize(14).setFont(void 0,"bold"),n.text("Detalle de Inventario - Material Quirúrgico",14,20),n.autoTable({head:[["#","Nombre","Marca","existencia_actual"]],body:r.map((function(e,t){return[t+1,e.nombre,e.marca,e.existencia_actual]})),startY:26,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),n.save("Inventario_General_Comunes_Medicamentos_Quirurgicos_".concat(F()(o).format("YYYY-MM-DD"),"_a_").concat(F()(i).format("YYYY-MM-DD"),".pdf"))},generarExcelEnfermeria4:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){var a,r,o,i,n,s,l,c,d,m,u,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c=function(e,t,a){var r=l.addWorksheet(e);r.mergeCells("A1:D1"),r.getCell("A1").value="HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",r.getCell("A1").font={bold:!0,size:14},r.getCell("A1").alignment={horizontal:"center"},r.mergeCells("A2:D2"),r.getCell("A2").value="6ta. Calle 12-28 Zona 3 Quetzaltenango",r.getCell("A2").alignment={horizontal:"center"},r.mergeCells("A3:D3"),r.getCell("A3").value="Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",r.getCell("A3").alignment={horizontal:"center"},r.mergeCells("A5:D5"),r.getCell("A5").value="Rango de Fechas: ".concat(F()(n).format("DD/MM/YYYY")," - ").concat(F()(s).format("DD/MM/YYYY")),r.getCell("A5").alignment={horizontal:"center"},r.addRow([]),r.addRow(a.map((function(e){return e.header}))).font={bold:!0},t.forEach((function(e,t){var o=[t+1];a.slice(1).forEach((function(t){o.push(e[t.key])})),r.addRow(o)})),r.columns=a.map((function(e){return{key:e.key,width:e.width}}))},a=e.dataFarmacia,r=a.comunes,o=a.medicamentos,i=a.quirurgicos,n=e.startDateEnfermeria,s=e.endDateEnfermeria,l=new Ra.a.Workbook,c("Material Común",r,[{header:"#",key:"index",width:5},{header:"Nombre",key:"nombre",width:30},{header:"Marca",key:"marca",width:20},{header:"Existencia Actual",key:"existencia_actual",width:20}]),c("Medicamentos",o,[{header:"#",key:"index",width:5},{header:"Nombre",key:"nombre",width:30},{header:"Marca",key:"marca",width:20},{header:"Existencia Actual",key:"existencia_actual",width:20}]),c("Material Quirúrgico",i,[{header:"#",key:"index",width:5},{header:"Nombre",key:"nombre",width:30},{header:"Marca",key:"marca",width:20},{header:"Existencia Actual",key:"existencia_actual",width:20}]),t.next=10,l.xlsx.writeBuffer();case 10:d=t.sent,m=new Blob([d],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),u="Inventario_General_".concat(F()(n).format("YYYY-MM-DD"),"_a_").concat(F()(s).format("YYYY-MM-DD"),".xlsx"),f=document.createElement("a"),f.href=URL.createObjectURL(m),f.download=u,document.body.appendChild(f),f.click(),document.body.removeChild(f);case 19:case"end":return t.stop()}}),t)})))()},quintoReporteFarmacia:function(e,t){var a=this;ie.a.get(q["a"]+"/reporte/farmacia/suministroMedicamentos",{params:{fechaInicio:e,fechaFin:t}}).then((function(r){a.dataFarmacia=r.data,a.startDateEnfermeria=e,a.endDateEnfermeria=t,console.log(r.data)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),a.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",a.showAlertError()}))},generarPDFFarmacia5:function(){var e=this.dataFarmacia,t=this.startDateEnfermeria,a=this.endDateEnfermeria,r=new Ma["default"],o=[];for(var i in e)Array.isArray(e[i])&&(o=o.concat(e[i]));r.addImage(Oa.a,"JPEG",14,10,30,25),r.setFontSize(14).setFont(void 0,"bold"),r.text("HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",110,20,{align:"center"}),r.setFontSize(10).setFont(void 0,"normal"),r.text("6ta. Calle 12-28 Zona 3 Quetzaltenango",110,26,{align:"center"}),r.text("Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",105,32,{align:"center"}),r.setFontSize(14).setFont(void 0,"bold"),r.text("Suministro de Medicamentos a Pacientes",105,50,{align:"center"}),r.setFontSize(12).setFont(void 0,"normal"),r.text("Rango de Fechas: ".concat(F()(t).format("DD/MM/YYYY")," - ").concat(F()(a).format("DD/MM/YYYY")),105,56,{align:"center"}),r.autoTable({head:[["#","Nombre Medicamento","Cantidad Suministrada","Nombre Paciente","Expediente","Administracion"]],body:o.map((function(e,t){return[t+1,e.nombre_medicamento,e.cantidad_total,e.paciente,e.cui,new Date(e.fecha).toLocaleDateString()]})),startY:80,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),r.save("Suministro_medicamentos_a_pacientes_de_".concat(F()(t).format("YYYY-MM-DD"),"_a_").concat(F()(a).format("YYYY-MM-DD"),".pdf"))},generarExcelEnfermeria5:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){var a,r,o,i,n,s,l,c,d,m,u,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n in a=e.dataFarmacia,r=e.startDateEnfermeria,o=e.endDateEnfermeria,i=[],a)Array.isArray(a[n])&&(i=i.concat(a[n]));return s=new Ra.a.Workbook,l=s.addWorksheet("Inventario Medicamentos"),l.mergeCells("A1:H1"),l.getCell("A1").value="HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",l.getCell("A1").font={bold:!0,size:14},l.getCell("A1").alignment={horizontal:"center"},l.mergeCells("A2:H2"),l.getCell("A2").value="6ta. Calle 12-28 Zona 3 Quetzaltenango",l.getCell("A2").alignment={horizontal:"center"},l.mergeCells("A3:H3"),l.getCell("A3").value="Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",l.getCell("A3").alignment={horizontal:"center"},l.mergeCells("A5:H5"),l.getCell("A5").value="Inventario de todas las medicinas",l.getCell("A5").font={bold:!0,size:14},l.getCell("A5").alignment={horizontal:"center"},l.mergeCells("A6:H6"),l.getCell("A6").value="Rango de Fechas: ".concat(F()(r).format("DD/MM/YYYY")," - ").concat(F()(o).format("DD/MM/YYYY")),l.getCell("A6").alignment={horizontal:"center"},l.addRow([]),l.addRow(["Detalle de Inventario Medicamentos"]),l.getCell("A8").font={bold:!0,size:12},c=l.addRow(["#","Nombre Medicamento","Cantidad Suministrada","Nombre Paciente","Expediente","Administracion"]),c.font={bold:!0},c.alignment={horizontal:"center"},i.forEach((function(e,t){l.addRow([t+1,e.nombre_medicamento,e.cantidad_total,e.paciente,e.cui,new Date(e.fecha).toLocaleDateString()])})),l.columns=[{key:"indice",width:5},{key:"nombre_medicamento",width:30},{key:"marca",width:20},{key:"precio_costo",width:15},{key:"precio_venta",width:15},{key:"existencia_actual",width:15},{key:"existencia_actual_quirofano",width:20},{key:"existencia_actual_farmacia",width:20}],t.next=34,s.xlsx.writeBuffer();case 34:d=t.sent,m=new Blob([d],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),u="Reporte_Inventario_Medicamentos_".concat(F()(r).format("YYYY-MM-DD"),"_a_").concat(F()(o).format("YYYY-MM-DD"),".xlsx"),f=document.createElement("a"),f.href=URL.createObjectURL(m),f.download=u,document.body.appendChild(f),f.click(),document.body.removeChild(f);case 43:case"end":return t.stop()}}),t)})))()},primerReporteEnfermeria:function(e,t){var a=this;ie.a.get(q["a"]+"/reporte/enfermeria/pacientesLugar",{params:{fechaInicio:e,fechaFin:t}}).then((function(r){a.dataEnfermeria1=r.data,a.startDateEnfermeria=e,a.endDateEnfermeria=t,console.log(r.data)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),a.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",a.showAlertError()}))},generarPDFPacientes:function(){var e=this.dataEnfermeria1,t=e.detalles,a=this.startDateEnfermeria,r=this.endDateEnfermeria,o=new Ma["default"];o.addImage(Oa.a,"JPEG",14,10,30,25),o.setFontSize(14).setFont(void 0,"bold"),o.text("HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",110,20,{align:"center"}),o.setFontSize(10).setFont(void 0,"normal"),o.text("6ta. Calle 12-28 Zona 3 Quetzaltenango",110,26,{align:"center"}),o.text("Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",105,32,{align:"center"}),o.setFontSize(14),o.text("Reporte de Pacientes por lugar",105,50,{align:"center"}),o.setFontSize(12),o.text("Rango de Fechas: ".concat(F()(a).format("DD/MM/YYYY")," - ").concat(F()(r).format("DD/MM/YYYY")),105,60,{align:"center"});var i=75,n=function(e){if(t.hasOwnProperty(e)){var a=t[e];if(a.length>0){o.setFontSize(12),o.text("PACIENTES EN ".concat(e.toUpperCase()," \t\t Total: ").concat(a.length),14,i);var r=["Nombre","Apellidos","CUI","Fecha","Lugar"],n=[];a.forEach((function(t){n.push([t.nombres||"N/A",t.apellidos||"N/A",t.cui||"N/A",new Date(t.fecha).toLocaleDateString()||"N/A",e||"N/A"])})),o.autoTable({head:[r],body:n,startY:i+5,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),i=o.lastAutoTable.finalY+10}}};for(var s in t)n(s);o.save("Reporte_Pacientes_".concat(a,"_a_").concat(r,".pdf"))},generarExcelPacientes:function(){var e=this.dataEnfermeria1,t=new Ra.a.Workbook,a=t.addWorksheet("Reporte de Pacientes Hubo en cada Lugar");a.columns=[{header:"Nombre",key:"nombre",width:30},{header:"Apellidos",key:"apellidos",width:30},{header:"CUI",key:"cui",width:20},{header:"Fecha",key:"fecha",width:20},{header:"Lugar",key:"lugar",width:25}];var r=this.startDateEnfermeria,o=this.endDateEnfermeria,i=(new Date).toLocaleDateString("es-ES");a.mergeCells("A1:E1"),a.getCell("A1").value="HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",a.getCell("A1").font={bold:!0,size:16},a.getCell("A1").alignment={horizontal:"center"},a.mergeCells("A2:E2"),a.getCell("A2").value="6ta. Calle 12-28 Zona 3 Quetzaltenango",a.getCell("A2").font={bold:!0,size:14},a.getCell("A2").alignment={horizontal:"center"},a.mergeCells("A3:E3"),a.getCell("A3").value="Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",a.getCell("A3").font={bold:!0,size:14},a.getCell("A3").alignment={horizontal:"center"},a.mergeCells("A5:E5"),a.getCell("A5").value="Reporte de Pacientes que Hubo en cada Lugar de la Fecha: ".concat(F()(r).format("DD/MM/YYYY")," | Hasta: ").concat(F()(o).format("DD/MM/YYYY")),a.getCell("A5").font={bold:!0,size:14},a.mergeCells("A6:E6"),a.getCell("A6").value="Generado el: ".concat(i),a.getCell("A6").font={italic:!0};var n=7;this.procesarDetalles(e.detalles).then((function(r){Object.keys(e.detalles).forEach((function(t){var r=e.detalles[t];r.length>0&&(a.mergeCells("A".concat(n,":E").concat(n)),a.getCell("A".concat(n)).value="".concat(t.toUpperCase()," - Total: ").concat(r.length," pacientes"),a.getCell("A".concat(n)).font={bold:!0,size:12},a.addRow(["Nombres","Apellidos","CUI","Fecha","Lugar"]),n++,r.forEach((function(e){a.addRow({nombre:e.nombres||"N/A",apellidos:e.apellidos||"N/A",cui:e.cui||"N/A",fecha:new Date(e.fecha).toLocaleDateString(),lugar:t||"N/A"}),n++})),a.addRow([]),n++)})),t.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download="Reporte_Pacientes_hubo_en_cada_Lugar.xlsx",r.click(),console.log("¡Archivo Excel generado correctamente!")})).catch((function(e){console.error("Error al generar el archivo Excel:",e)}))})).catch((function(e){console.error("Error al procesar los detalles:",e)}))},procesarDetalles:function(e){return new Promise((function(t,a){var r=[];Object.keys(e).forEach((function(t){var a=e[t];a.forEach((function(e){r.push({nombre:e.nombres||"N/A",apellidos:e.apellidos||"N/A",cui:e.cui||"N/A",fecha:new Date(e.fecha).toLocaleDateString(),lugar:t||"N/A"})}))})),t(r)}))},segundoReporteEnfermeria:function(e,t){var a=this;ie.a.get(q["a"]+"/reporte/enfermeria/pacientesActuales",{params:{fechaInicio:e,fechaFin:t}}).then((function(r){a.dataEnfermeria1=r.data,a.startDateEnfermeria=e,a.endDateEnfermeria=t,console.log(r.data)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),a.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",a.showAlertError()}))},generarPDFPacientes2:function(){var e=this.dataEnfermeria1,t=this.startDateEnfermeria,a=this.endDateEnfermeria;try{var r=new Ma["default"];r.addImage(Oa.a,"JPEG",14,10,30,25),r.setFontSize(14).setFont(void 0,"bold"),r.text("HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",110,20,{align:"center"}),r.setFontSize(10).setFont(void 0,"normal"),r.text("6ta. Calle 12-28 Zona 3 Quetzaltenango",110,26,{align:"center"}),r.text("Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",105,32,{align:"center"}),r.setFontSize(16),r.text("Reporte de Pacientes Actuales",105,50,{align:"center"}),r.setFontSize(12),r.text("Desde: ".concat(F()(t).format("DD/MM/YYYY")," | Hasta: ").concat(F()(a).format("DD/MM/YYYY")),105,58,{align:"center"});var o=75,i=[{nombre:"Hospitalización",pacientes:e.pacientes.filter((function(e){return"Hospitalizacion"===e.estado}))},{nombre:"Quirofano",pacientes:e.pacientes.filter((function(e){return"Quirofano"===e.estado}))},{nombre:"Intensivos",pacientes:e.pacientes.filter((function(e){return"Intensivos"===e.estado}))},{nombre:"Emergencia",pacientes:e.pacientes.filter((function(e){return"Emergencia"===e.estado}))}];i.forEach((function(e){var t=["#","Nombre Completo","CUI","Fecha de Ingreso"],a=e.pacientes.map((function(e,t){return[t+1,"".concat(e.nombres," ").concat(e.apellidos),e.cui||"N/A",e.updatedAt?new Date(e.updatedAt).toLocaleDateString():"N/A"]}));r.setFontSize(14),r.text("".concat(e.nombre," (").concat(e.pacientes.length," paciente(s))"),14,o),r.autoTable({head:[t],body:a,startY:o+5,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),o=r.lastAutoTable.finalY+10,o>270&&(r.addPage(),o=20)})),r.save("Reporte_Pacientes_Actuales_".concat(t,"_a_").concat(a,".pdf"))}catch(n){console.error("Error al generar el reporte:",n),alert("Ocurrió un error al generar el reporte. Por favor, intente de nuevo.")}},generarExcelPacientes2:function(){var e=this.dataEnfermeria1,t=new Ra.a.Workbook,a=t.addWorksheet("Reporte de Pacientes Actuales en cada Lugar");a.columns=[{header:"Nombres",key:"nombre",width:30},{header:"Apellidos",key:"apellidos",width:30},{header:"CUI",key:"cui",width:20},{header:"Fecha",key:"fecha",width:20},{header:"Lugar",key:"estado",width:25}];var r=this.startDateEnfermeria,o=this.endDateEnfermeria,i=(new Date).toLocaleDateString("es-ES");a.mergeCells("A1:E1"),a.getCell("A1").value="HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",a.getCell("A1").font={bold:!0,size:16},a.getCell("A1").alignment={horizontal:"center"},a.mergeCells("A2:E2"),a.getCell("A2").value="6ta. Calle 12-28 Zona 3 Quetzaltenango",a.getCell("A2").font={bold:!0,size:14},a.getCell("A2").alignment={horizontal:"center"},a.mergeCells("A3:E3"),a.getCell("A3").value="Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",a.getCell("A3").font={bold:!0,size:14},a.getCell("A3").alignment={horizontal:"center"},a.mergeCells("A5:E5"),a.getCell("A5").value="Reporte de Pacientes Actuales en cada Lugar de la Fecha: ".concat(F()(r).format("DD/MM/YYYY")," | Hasta: ").concat(F()(o).format("DD/MM/YYYY")),a.getCell("A5").font={bold:!0,size:14},a.mergeCells("A6:E6"),a.getCell("A6").value="Generado el: ".concat(i),a.getCell("A6").font={italic:!0};var n=7,s=this.procesarDetalles2(e.pacientes);Object.keys(s).forEach((function(e){var t=s[e];t.length>0&&(a.mergeCells("A".concat(n,":E").concat(n)),a.getCell("A".concat(n)).value="".concat(e," - Total: ").concat(t.length," pacientes"),a.getCell("A".concat(n)).font={bold:!0,size:12},a.addRow(["Nombres","Apellidos","CUI","Fecha","Lugar"]),n++,t.forEach((function(t){a.addRow({nombre:t.nombres||"N/A",apellidos:t.apellidos||"N/A",cui:t.cui||"N/A",fecha:t.updatedAt?new Date(t.updatedAt).toLocaleDateString():"N/A",estado:e||"N/A"}),n++})),a.addRow([]),n++)})),t.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download="Reporte_Pacientes_Actuales.xlsx",r.click(),console.log("¡Archivo Excel generado correctamente!")})).catch((function(e){console.error("Error al generar el archivo Excel:",e)}))},procesarDetalles2:function(e){var t={};return e.forEach((function(e){var a=e.estado;t[a]||(t[a]=[]),t[a].push(e)})),t},tercerReporteEnfermeria:function(e,t){var a=this;ie.a.get(q["a"]+"/reporte/enfermeria/pacientesTodos",{params:{fechaInicio:e,fechaFin:t}}).then((function(r){a.dataEnfermeria1=r.data,a.startDateEnfermeria=e,a.endDateEnfermeria=t,console.log(r.data)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),a.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",a.showAlertError()}))},generarPDFPacientes3:function(){var e=this.dataEnfermeria1,t=this.startDateEnfermeria,a=this.endDateEnfermeria;try{var r={0:{estado:"Fallecido",pacientes:[]},1:{estado:"Hospitalización",pacientes:[]},3:{estado:"Quirófano",pacientes:[]},4:{estado:"Intensivos",pacientes:[]},5:{estado:"Emergencia",pacientes:[]},6:{estado:"Desahuciado",pacientes:[]},7:{estado:"Egreso normal",pacientes:[]},8:{estado:"Contraindicado",pacientes:[]},9:{estado:"Referido",pacientes:[]},10:{estado:"Pendiente",pacientes:[]},11:{estado:"Laboratorio",pacientes:[]}};e.forEach((function(e){if(r[e.estado]){var t=[0,6,7,8].includes(e.estado);r[e.estado].pacientes.push({nombreCompleto:"".concat(e.nombres," ").concat(e.apellidos),cui:e.cui||"N/A",fechaIngreso:t?e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A":e.updatedAt?new Date(e.updatedAt).toLocaleDateString():"N/A",fechaEgreso:t?e.updatedAt?new Date(e.updatedAt).toLocaleDateString():"N/A":"Sin Egreso"})}}));var o=new Ma["default"];o.addImage(Oa.a,"JPEG",14,10,30,25),o.setFontSize(14).setFont(void 0,"bold"),o.text("HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",110,20,{align:"center"}),o.setFontSize(10).setFont(void 0,"normal"),o.text("6ta. Calle 12-28 Zona 3 Quetzaltenango",110,26,{align:"center"}),o.text("Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",105,32,{align:"center"}),o.setFontSize(16),o.text("Reporte Detallado de Todos los Pacientes",105,50,{align:"center"}),o.setFontSize(12),o.text("Desde: ".concat(F()(t).format("DD/MM/YYYY")," | Hasta: ").concat(F()(a).format("DD/MM/YYYY")),105,58,{align:"center"});var i=65;Object.keys(r).forEach((function(e){var t=r[e],a=t.estado,n=t.pacientes;if(n.length>0){o.setFontSize(14),o.text("".concat(a," (").concat(n.length," paciente(s))"),14,i);var s=[];n.forEach((function(e,t){s.push([t+1,e.nombreCompleto,e.fechaIngreso,e.fechaEgreso])})),o.autoTable({head:[["#","Nombre Completo","Fecha Ingreso","Fecha Egreso"]],body:s,startY:i+5,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),i=o.lastAutoTable.finalY+10,i>270&&(o.addPage(),i=20)}})),o.save("reporte_detallado_de_pacientes_".concat(t,"_a_").concat(a,".pdf"))}catch(n){console.error("Error al generar el reporte:",n),alert("Ocurrió un error al generar el reporte. Por favor, intente de nuevo.")}},generarExcelPacientes3:function(){var e=this.dataEnfermeria1,t=new Ra.a.Workbook,a=t.addWorksheet("Reporte de Pacientes");a.columns=[{header:"Nombres",key:"nombre",width:30},{header:"Apellidos",key:"apellidos",width:30},{header:"Fecha Ingreso",key:"fechaIngreso",width:20},{header:"Fecha Egreso",key:"fechaEgreso",width:20},{header:"Lugar",key:"estado",width:25}];var r=this.startDateEnfermeria,o=this.endDateEnfermeria,i=(new Date).toLocaleDateString("es-ES");a.mergeCells("A1:F1"),a.getCell("A1").value="HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",a.getCell("A1").font={bold:!0,size:16},a.getCell("A1").alignment={horizontal:"center"},a.mergeCells("A2:F2"),a.getCell("A2").value="6ta. Calle 12-28 Zona 3 Quetzaltenango",a.getCell("A2").font={bold:!0,size:14},a.getCell("A2").alignment={horizontal:"center"},a.mergeCells("A3:F3"),a.getCell("A3").value="Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",a.getCell("A3").font={bold:!0,size:14},a.getCell("A3").alignment={horizontal:"center"},a.mergeCells("A5:F5"),a.getCell("A5").value="Reporte de Pacientes desde la Fecha: ".concat(F()(r).format("DD/MM/YYYY")," | Hasta: ").concat(F()(o).format("DD/MM/YYYY")),a.getCell("A5").font={bold:!0,size:14},a.mergeCells("A6:F6"),a.getCell("A6").value="Generado el: ".concat(i),a.getCell("A6").font={italic:!0};var n=7,s=this.procesarDetalles3(e);Object.keys(s).forEach((function(e){var t=s[e];t.length>0&&(a.mergeCells("A".concat(n,":F").concat(n)),a.getCell("A".concat(n)).value="".concat(e," - Total: ").concat(t.length," pacientes"),a.getCell("A".concat(n)).font={bold:!0,size:12},n++,a.addRow({nombre:"Nombres",apellidos:"Apellidos",fechaIngreso:"Fecha Ingreso",fechaEgreso:"Fecha Egreso",estado:"Estado"}),t.forEach((function(t){var r=["Fallecido","Desahuciado","Egreso normal","Contraindicado"].includes(e)?t.createdAt?new Date(t.createdAt).toLocaleDateString():"N/A":t.updatedAt?new Date(t.updatedAt).toLocaleDateString():"N/A",o=["Fallecido","Desahuciado","Egreso normal","Contraindicado"].includes(e)?t.updatedAt?new Date(t.updatedAt).toLocaleDateString():"N/A":"Sin Egreso";a.addRow({nombre:t.nombres||"N/A",apellidos:t.apellidos||"N/A",fechaIngreso:r,fechaEgreso:o,estado:e}),n++})),a.addRow([]),n++)})),t.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download="Reporte_Pacientes.xlsx",r.click(),console.log("¡Archivo Excel generado correctamente!")})).catch((function(e){console.error("Error al generar el archivo Excel:",e)}))},procesarDetalles3:function(e){var t={0:"Fallecido",1:"Hospitalización",3:"Quirófano",4:"Intensivos",5:"Emergencia",6:"Desahuciado",7:"Egreso normal",8:"Contraindicado",9:"Referido",10:"Pendiente",11:"Laboratorio"},a={};return e.forEach((function(e){var r=t[e.estado]||"Desconocido";a[r]||(a[r]=[]),a[r].push(e)})),a},cuartoReporteEnfermeria:function(e,t){var a=this;ie.a.get(q["a"]+"/reporte/enfermeria/serviciosMasConsumidos",{params:{fechaInicio:e,fechaFin:t}}).then((function(r){a.dataEnfermeria1=r.data,a.startDateEnfermeria=e,a.endDateEnfermeria=t,console.log(r.data)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),a.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",a.showAlertError()}))},generarPDFPacientes4:function(){var e=this.dataEnfermeria1,t=e.consumos,a=e.consumoMasAlto,r=this.startDateEnfermeria,o=this.endDateEnfermeria;try{var i=t.sort((function(e,t){return t.total_consumido-e.total_consumido})),n=new Ma["default"];n.addImage(Oa.a,"JPEG",14,10,30,25),n.setFontSize(14).setFont(void 0,"bold"),n.text("HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",110,20,{align:"center"}),n.setFontSize(10).setFont(void 0,"normal"),n.text("6ta. Calle 12-28 Zona 3 Quetzaltenango",110,26,{align:"center"}),n.text("Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",105,32,{align:"center"}),n.setFontSize(16),n.text("Reporte de Consumos de Servicios",105,50,{align:"center"}),n.setFontSize(12),n.text("Desde: ".concat(F()(r).format("DD/MM/YYYY")," | Hasta: ").concat(F()(o).format("DD/MM/YYYY")),105,58,{align:"center"}),n.setFontSize(14),n.text("Servicio Más Consumido",14,70),n.setFontSize(12),n.setTextColor(0,0,0),n.text("Nombre: ".concat(a.nombre_servicio),14,78),n.text("Precio Unitario: Q".concat(a.precio_unitario),14,84),n.text("Cantidad: ".concat(a.cantidad),14,90),n.setFontSize(14),n.text("Otros Consumos",14,110);var s=i.map((function(e,t){return[t+1,e.nombre_servicio,"Q".concat(e.precio_unitario),e.cantidad,"Q".concat(e.total_consumido)]}));n.autoTable({head:[["#","Nombre del Servicio","Precio Unitario","Cantidad"]],body:s,startY:120,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),n.save("reporte_consumo_de_servicios_".concat(r,"_a_").concat(o,".pdf"))}catch(l){console.error("Error al generar el reporte:",l),this.$alert("Ocurrió un error al generar el reporte. Por favor, intente de nuevo.","Error")}},generarExcelPacientes4:function(){var e=this.dataEnfermeria1,t=e.consumos,a=e.consumoMasAlto,r=new Ra.a.Workbook,o=r.addWorksheet("Reporte de consumo de servicios");o.columns=[{header:"#",key:"numero_orden",width:10},{header:"Nombre del Servicio",key:"nombre_servicio",width:30},{header:"Precio Unitario",key:"precio_unitario",width:20},{header:"Cantidad",key:"cantidad",width:15}];var i=this.startDateEnfermeria,n=this.endDateEnfermeria,s=(new Date).toLocaleDateString("es-ES");o.mergeCells("A1:E1"),o.getCell("A1").value="HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",o.getCell("A1").font={bold:!0,size:16},o.getCell("A1").alignment={horizontal:"center"},o.mergeCells("A2:E2"),o.getCell("A2").value="6ta. Calle 12-28 Zona 3 Quetzaltenango",o.getCell("A2").font={bold:!0,size:14},o.getCell("A2").alignment={horizontal:"center"},o.mergeCells("A3:E3"),o.getCell("A3").value="Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",o.getCell("A3").font={bold:!0,size:14},o.getCell("A3").alignment={horizontal:"center"},o.mergeCells("A5:E5"),o.getCell("A5").value="Reporte de Consumos de Servicios (".concat(F()(i).format("DD/MM/YYYY")," - ").concat(F()(n).format("DD/MM/YYYY"),")"),o.getCell("A5").font={bold:!0,size:14},o.getCell("A5").alignment={horizontal:"center"},o.mergeCells("A6:E6"),o.getCell("A6").value="Generado el: ".concat(s),o.getCell("A6").font={italic:!0},o.getCell("A6").alignment={horizontal:"center"},o.mergeCells("A8:E8"),o.getCell("A8").value="Servicio Más Consumido",o.getCell("A8").font={bold:!0,size:14},o.getCell("A9").value="Nombre",o.getCell("B9").value=a.nombre_servicio,o.getCell("A10").value="Precio Unitario",o.getCell("B10").value="Q".concat(a.precio_unitario),o.getCell("A11").value="Cantidad",o.getCell("B11").value=a.cantidad,o.getColumn("B").width=30,o.addRow([]),o.addRow(["#","Nombre del Servicio","Precio Unitario","Cantidad"]),o.getRow(9).font={bold:!0},o.getRow(9).alignment={horizontal:"center"};var l=t.sort((function(e,t){return t.cantidad-e.cantidad}));l.forEach((function(e,t){o.addRow({numero_orden:t+1,nombre_servicio:e.nombre_servicio,precio_unitario:"Q".concat(e.precio_unitario),cantidad:e.cantidad})})),r.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download="Reporte_Consumo_Servicios_".concat(i,"_a_").concat(n,".xlsx"),r.click(),console.log("¡Archivo Excel generado correctamente!")})).catch((function(e){console.error("Error al generar el archivo Excel:",e)}))},quintoReporteEnfermeria:function(e,t){var a=this;ie.a.get(q["a"]+"/reporte/enfermeria/medicamentos",{params:{fechaInicio:e,fechaFin:t}}).then((function(r){a.dataEnfermeria1=r.data,a.startDateEnfermeria=e,a.endDateEnfermeria=t,console.log(r.data)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),a.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",a.showAlertError()}))},generarPDFPacientes5:function(){var e=this.dataEnfermeria1.medicamentos,t=this.dataEnfermeria1.mas_consumido,a=this.startDateEnfermeria,r=this.endDateEnfermeria;try{if(!t||!t.nombre_medicamento||!t.precio_unitario||!t.cantidad_total)return void this.$alert("No se encontraron datos del medicamento más consumido.","Error");if(!Array.isArray(e)||0===e.length)return void this.$alert("No se encontraron datos de medicamentos consumidos.","Error");var o=e.sort((function(e,t){return t.total_consumido-e.total_consumido})),i=new Ma["default"];i.addImage(Oa.a,"JPEG",14,10,30,25),i.setFontSize(14).setFont(void 0,"bold"),i.text("HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",110,20,{align:"center"}),i.setFontSize(10).setFont(void 0,"normal"),i.text("6ta. Calle 12-28 Zona 3 Quetzaltenango",110,26,{align:"center"}),i.text("Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",105,32,{align:"center"}),i.setFontSize(16),i.text("Reporte de Consumo de Medicamentos",105,50,{align:"center"}),i.setFontSize(12),i.text("Desde: ".concat(F()(a).format("DD/MM/YYYY")," | Hasta: ").concat(F()(r).format("DD/MM/YYYY")),105,58,{align:"center"}),i.setFontSize(14),i.text("Medicamento Más Consumido",14,70),i.setFontSize(12),i.setTextColor(0,0,0),i.text("Nombre: ".concat(t.nombre_medicamento),14,78),i.text("Precio Unitario: Q".concat(t.precio_unitario),14,84),i.text("Cantidad: ".concat(t.cantidad_total),14,90),i.setFontSize(14),i.text("Otros Consumos",14,110);var n=o.map((function(e,t){return[t+1,e.nombre_medicamento||"Desconocido","Q".concat(e.precio_unitario||"0.00"),e.cantidad_total||"0","Q".concat(e.total_consumido||"0.00")]}));if(0===n.length)return void this.$alert("No se encontraron datos de consumos para mostrar en la tabla.","Error");i.autoTable({head:[["#","Nombre del Medicamento","Precio Unitario","Cantidad"]],body:n,startY:120,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),i.save("reporte_consumo_de_medicamentos_".concat(a,"_a_").concat(r,".pdf"))}catch(s){console.error("Error al generar el reporte:",s),this.$alert("Ocurrió un error al generar el reporte. Por favor, intente de nuevo.","Error")}},generarExcelPacientes5:function(){var e=this.dataEnfermeria1.mas_consumido,t=this.dataEnfermeria1.medicamentos,a=new Ra.a.Workbook,r=a.addWorksheet("Reporte de Consumo Medicamentos");r.columns=[{header:"#",key:"numero_orden",width:10},{header:"Nombre Medicamento",key:"nombre_servicio",width:30},{header:"Precio Unitario",key:"precio_unitario",width:20},{header:"Cantidad",key:"cantidad",width:15}];var o=this.startDateEnfermeria,i=this.endDateEnfermeria,n=(new Date).toLocaleDateString("es-ES");r.mergeCells("A1:E1"),r.getCell("A1").value="HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",r.getCell("A1").font={bold:!0,size:16},r.getCell("A1").alignment={horizontal:"center"},r.mergeCells("A2:E2"),r.getCell("A2").value="6ta. Calle 12-28 Zona 3 Quetzaltenango",r.getCell("A2").font={bold:!0,size:14},r.getCell("A2").alignment={horizontal:"center"},r.mergeCells("A3:E3"),r.getCell("A3").value="Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",r.getCell("A3").font={bold:!0,size:14},r.getCell("A3").alignment={horizontal:"center"},r.mergeCells("A5:E5"),r.getCell("A5").value="Reporte de Medicamentos de la Fecha: (".concat(F()(o).format("DD/MM/YYYY")," - ").concat(F()(i).format("DD/MM/YYYY"),")"),r.getCell("A5").font={bold:!0,size:14},r.getCell("A5").alignment={horizontal:"center"},r.mergeCells("A6:E6"),r.getCell("A6").value="Generado el: ".concat(n),r.getCell("A6").font={italic:!0},r.getCell("A6").alignment={horizontal:"center"},r.mergeCells("A8:E8"),r.getCell("A8").value="Servicio Más Consumido",r.getCell("A8").font={bold:!0,size:14},r.getCell("A9").value="Nombre",r.getCell("B9").value=e.nombre_medicamento,r.getCell("A10").value="Precio Unitario",r.getCell("B10").value="Q".concat(e.precio_unitario),r.getCell("A11").value="Cantidad",r.getCell("B11").value=e.cantidad_total,r.getColumn("B").width=30,r.addRow([]),r.addRow(["#","Nombre del Medicamento","Precio Unitario","Cantidad"]),r.getRow(9).font={bold:!0},r.getRow(9).alignment={horizontal:"center"};var s=t.sort((function(e,t){return t.cantidad_total-e.cantidad_total}));s.forEach((function(e,t){r.addRow({numero_orden:t+1,nombre_servicio:e.nombre_medicamento,precio_unitario:"Q".concat(e.precio_unitario),cantidad:e.cantidad_total})})),a.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download="Reporte_Consumo_Medicamentos_".concat(o,"_a_").concat(i,".xlsx"),r.click(),console.log("¡Archivo Excel generado correctamente!")})).catch((function(e){console.error("Error al generar el archivo Excel:",e)}))},sextoReporteEnfermeria:function(e,t){var a=this;ie.a.get(q["a"]+"/reporte/enfermeria/fallecidos",{params:{fechaInicio:e,fechaFin:t}}).then((function(r){a.dataEnfermeria1=r.data,a.startDateEnfermeria=e,a.endDateEnfermeria=t,console.log(r.data)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),a.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",a.showAlertError()}))},generarPDFPacientes6:function(){var e=this.dataEnfermeria1,t=this.startDateEnfermeria,a=this.endDateEnfermeria;try{var r={0:{estado:"Fallecido",pacientes:[]}};e.forEach((function(e){r[e.estado]&&r[e.estado].pacientes.push({nombreCompleto:"".concat(e.nombres," ").concat(e.apellidos),cui:e.cui||"N/A",fechaIngreso:e.updatedAt?new Date(e.updatedAt).toLocaleDateString():"N/A"})}));var o=new Ma["default"];o.addImage(Oa.a,"JPEG",14,10,30,25),o.setFontSize(14).setFont(void 0,"bold"),o.text("HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",110,20,{align:"center"}),o.setFontSize(10).setFont(void 0,"normal"),o.text("6ta. Calle 12-28 Zona 3 Quetzaltenango",110,26,{align:"center"}),o.text("Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",105,32,{align:"center"}),o.setFontSize(16),o.text("Reporte de Pacientes Fallecidos",105,50,{align:"center"}),o.setFontSize(12),o.text("Desde: ".concat(F()(t).format("DD/MM/YYYY")," | Hasta: ").concat(F()(a).format("DD/MM/YYYY")),105,58,{align:"center"});var i=65;Object.keys(r).forEach((function(e){var t=r[e],a=t.estado,n=t.pacientes;if(n.length>0){o.setFontSize(14),o.text("".concat(a," (").concat(n.length," paciente(s))"),14,i);var s=[];n.forEach((function(e,t){s.push([t+1,e.nombreCompleto,e.cui,e.fechaIngreso])})),o.autoTable({head:[["#","Nombre Completo","CUI","Fecha de Fallecimiento"]],body:s,startY:i+5,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),i=o.lastAutoTable.finalY+10,i>270&&(o.addPage(),i=20)}})),o.save("reporte_pacientes_fallecidos_".concat(t,"_a_").concat(a,".pdf"))}catch(n){console.error("Error al generar el reporte:",n),alert("Ocurrió un error al generar el reporte. Por favor, intente de nuevo.")}},generarExcelPacientes6:function(){var e=this.dataEnfermeria1,t=new Ra.a.Workbook,a=t.addWorksheet("Reporte de Pacientes Fallecidos");a.columns=[{header:"Nombres",key:"nombre",width:30},{header:"Apellidos",key:"apellidos",width:30},{header:"CUI",key:"cui",width:20},{header:"Fecha de Fallecimiento",key:"fecha",width:20},{header:"Lugar",key:"estado",width:25}];var r=this.startDateEnfermeria,o=this.endDateEnfermeria,i=(new Date).toLocaleDateString("es-ES");a.mergeCells("A1:E1"),a.getCell("A1").value="HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",a.getCell("A1").font={bold:!0,size:16},a.getCell("A1").alignment={horizontal:"center"},a.mergeCells("A2:E2"),a.getCell("A2").value="6ta. Calle 12-28 Zona 3 Quetzaltenango",a.getCell("A2").font={bold:!0,size:14},a.getCell("A2").alignment={horizontal:"center"},a.mergeCells("A3:E3"),a.getCell("A3").value="Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",a.getCell("A3").font={bold:!0,size:14},a.getCell("A3").alignment={horizontal:"center"},a.mergeCells("A5:E5"),a.getCell("A5").value="Reporte de Pacientes Fallecidos desde la Fecha: ".concat(F()(r).format("DD/MM/YYYY")," | Hasta: ").concat(F()(o).format("DD/MM/YYYY")),a.getCell("A5").font={bold:!0,size:14},a.mergeCells("A6:E6"),a.getCell("A6").value="Generado el: ".concat(i),a.getCell("A6").font={italic:!0};var n=8,s=this.procesarDetalles6(e);Object.keys(s).forEach((function(e){var t=s[e];t.length>0&&(a.mergeCells("A".concat(n,":E").concat(n)),a.getCell("A".concat(n)).value="".concat(e," - Total: ").concat(t.length," pacientes"),a.getCell("A".concat(n)).font={bold:!0,size:12},a.addRow(["Nombres","Apellidos","CUI","Fecha de Fallecimiento","Estado"]),n++,t.forEach((function(t){a.addRow({nombre:t.nombres||"N/A",apellidos:t.apellidos||"N/A",cui:t.cui||"N/A",fecha:t.updatedAt?new Date(t.updatedAt).toLocaleDateString():"N/A",estado:e||"N/A"}),n++})),a.addRow([]),n++)})),t.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download="Reporte_Pacientes_fallecidos.xlsx",r.click(),console.log("¡Archivo Excel generado correctamente!")})).catch((function(e){console.error("Error al generar el archivo Excel:",e)}))},procesarDetalles6:function(e){var t={0:"Fallecido"},a={};return e.forEach((function(e){var r=t[e.estado]||"Desconocido";a[r]||(a[r]=[]),a[r].push(e)})),a},septimoReporteEnfermeria:function(e,t){var a=this;ie.a.get(q["a"]+"/reporte/enfermeria/egresados",{params:{fechaInicio:e,fechaFin:t}}).then((function(r){a.dataEnfermeria1=r.data,a.startDateEnfermeria=e,a.endDateEnfermeria=t,console.log(r.data)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),a.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",a.showAlertError()}))},generarPDFPacientes7:function(){var e=this.dataEnfermeria1,t=this.startDateEnfermeria,a=this.endDateEnfermeria;try{var r={0:{estado:"Fallecidos",pacientes:[]},6:{estado:"Desahuciados",pacientes:[]},7:{estado:"Egreso normal",pacientes:[]},8:{estado:"Egreso Contraindicado",pacientes:[]}};e.forEach((function(e){r[e.estado]&&r[e.estado].pacientes.push({nombreCompleto:"".concat(e.nombres," ").concat(e.apellidos),cui:e.cui||"N/A",fechaIngreso:e.updatedAt?new Date(e.updatedAt).toLocaleDateString():"N/A"})}));var o=new Ma["default"];o.addImage(Oa.a,"JPEG",14,10,30,25),o.setFontSize(14).setFont(void 0,"bold"),o.text("HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",110,20,{align:"center"}),o.setFontSize(10).setFont(void 0,"normal"),o.text("6ta. Calle 12-28 Zona 3 Quetzaltenango",110,26,{align:"center"}),o.text("Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",105,32,{align:"center"}),o.setFontSize(16),o.text("Reporte de Pacientes Egresados",105,50,{align:"center"}),o.setFontSize(12),o.text("Desde: ".concat(F()(t).format("DD/MM/YYYY")," | Hasta: ").concat(F()(a).format("DD/MM/YYYY")),105,58,{align:"center"});var i=65;Object.keys(r).forEach((function(e){var t=r[e],a=t.estado,n=t.pacientes;if(n.length>0){o.setFontSize(14),o.text("".concat(a," (").concat(n.length," paciente(s))"),14,i);var s=[];n.forEach((function(e,t){s.push([t+1,e.nombreCompleto,e.cui,e.fechaIngreso])})),o.autoTable({head:[["#","Nombre Completo","CUI","Fecha Egreso"]],body:s,startY:i+5,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),i=o.lastAutoTable.finalY+10,i>270&&(o.addPage(),i=20)}})),o.save("reporte_pacientes_egresados_".concat(t,"_a_").concat(a,".pdf"))}catch(n){console.error("Error al generar el reporte:",n),alert("Ocurrió un error al generar el reporte. Por favor, intente de nuevo.")}},generarExcelPacientes7:function(){var e=this.dataEnfermeria1,t=new Ra.a.Workbook,a=t.addWorksheet("Reporte de Egreso de Pacientes");a.columns=[{header:"Nombres",key:"nombre",width:30},{header:"Apellidos",key:"apellidos",width:30},{header:"CUI",key:"cui",width:20},{header:"Fecha de Egreso",key:"fecha",width:20},{header:"Lugar",key:"estado",width:25}];var r=this.startDateEnfermeria,o=this.endDateEnfermeria,i=(new Date).toLocaleDateString("es-ES");a.mergeCells("A1:E1"),a.getCell("A1").value="HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",a.getCell("A1").font={bold:!0,size:16},a.getCell("A1").alignment={horizontal:"center"},a.mergeCells("A2:E2"),a.getCell("A2").value="6ta. Calle 12-28 Zona 3 Quetzaltenango",a.getCell("A2").font={bold:!0,size:14},a.getCell("A2").alignment={horizontal:"center"},a.mergeCells("A3:E3"),a.getCell("A3").value="Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",a.getCell("A3").font={bold:!0,size:14},a.getCell("A3").alignment={horizontal:"center"},a.mergeCells("A5:E5"),a.getCell("A5").value="Reporte de Egreso de Pacientes desde la Fecha: ".concat(F()(r).format("DD/MM/YYYY")," | Hasta: ").concat(F()(o).format("DD/MM/YYYY")),a.getCell("A5").font={bold:!0,size:14},a.mergeCells("A6:E6"),a.getCell("A6").value="Generado el: ".concat(i),a.getCell("A6").font={italic:!0};var n=8,s=this.procesarDetalles7(e);Object.keys(s).forEach((function(e){var t=s[e];t.length>0&&(a.mergeCells("A".concat(n,":E").concat(n)),a.getCell("A".concat(n)).value="".concat(e," - Total: ").concat(t.length," pacientes"),a.getCell("A".concat(n)).font={bold:!0,size:12},a.addRow(["Nombres","Apellidos","CUI","Fecha de Egreso","Estado"]),n++,t.forEach((function(t){a.addRow({nombre:t.nombres||"N/A",apellidos:t.apellidos||"N/A",cui:t.cui||"N/A",fecha:t.updatedAt?new Date(t.updatedAt).toLocaleDateString():"N/A",estado:e||"N/A"}),n++})),a.addRow([]),n++)})),t.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download="Reporte__De_Egreso_Pacientes.xlsx",r.click(),console.log("¡Archivo Excel generado correctamente!")})).catch((function(e){console.error("Error al generar el archivo Excel:",e)}))},procesarDetalles7:function(e){var t={0:"Fallecido",6:"Desahuciado",7:"Egreso normal",8:"Egreso Contraindicado"},a={};return e.forEach((function(e){var r=t[e.estado]||"Desconocido";a[r]||(a[r]=[]),a[r].push(e)})),a},primerReporteMedicos:function(e,t){var a=this;ie.a.get(q["a"]+"/reporte/medicos/honorarios",{params:{fechaInicio:e,fechaFin:t}}).then((function(r){a.dataMedicos=r.data,a.startDateEnfermeria=e,a.endDateEnfermeria=t})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),a.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",a.showAlertError()}))},generarPDFMedicos:function(){var e=this.dataMedicos,t=this.startDateEnfermeria,a=this.endDateEnfermeria;try{var r=e.sinPagar,o=e.pagados,i=r.sort((function(e,t){return t.total_honorario-e.total_honorario})),n=o.sort((function(e,t){return t.total_honorario-e.total_honorario})),s=new Ma["default"];if(s.addImage(Oa.a,"JPEG",14,10,30,25),s.setFontSize(14).setFont(void 0,"bold"),s.text("HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",110,20,{align:"center"}),s.setFontSize(10).setFont(void 0,"normal"),s.text("6ta. Calle 12-28 Zona 3 Quetzaltenango",110,26,{align:"center"}),s.text("Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",105,32,{align:"center"}),s.setFontSize(16),s.text("Corte de Honorarios Medicos",105,50,{align:"center"}),s.setFontSize(12),s.text("Desde: ".concat(F()(t).format("DD/MM/YYYY")," | Hasta: ").concat(F()(a).format("DD/MM/YYYY")),105,58,{align:"center"}),s.setFontSize(14).setFont(void 0,"bold"),s.text("Honorarios Sin Pagar",14,70),i.length>0){var l=i.map((function(e,t){return[t+1,e.nombre_medico,e.paciente||"Desconocido",e.lugar,e.descripcion,"Q".concat(e.total_honorario.toFixed(2)),e.fecha,"Sin Pagar"]}));s.autoTable({head:[["#","Nombre del Medico","Nombre del Paciente","Lugar","Descripción","Total Honorarios","Fecha","Estado"]],body:l,startY:75,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[255,99,71],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}})}else s.setFontSize(10),s.text("No hay honorarios pendientes de pago.",14,90);var c=s.lastAutoTable?s.lastAutoTable.finalY+20:120;if(s.setFontSize(14).setFont(void 0,"bold"),s.text("Honorarios Pagados",14,c),n.length>0){var d=n.map((function(e,t){return[t+1,e.nombre_medico,e.paciente||"Desconocido",e.lugar,e.descripcion,"Q".concat(e.total_honorario.toFixed(2)),e.fecha,"Pagado"]}));s.autoTable({head:[["#","Nombre del Medico","Nombre del Paciente","Lugar","Descripción","Total Honorarios","Fecha","Estado"]],body:d,startY:c+5,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}})}else s.setFontSize(10),s.text("No hay honorarios pagados.",14,c+10);s.save("Corte_de_honorarios_".concat(t,"_a_").concat(a,".pdf"))}catch(m){console.error("Error al generar el reporte:",m),this.$alert("Ocurrió un error al generar el reporte. Por favor, intente de nuevo.","Error")}},generarExcelMedicos:function(){var e=this.dataMedicos,t=new Ra.a.Workbook,a=t.addWorksheet("Corte de Honorarios Médicos");a.columns=[{header:"#",key:"numero_orden",width:10},{header:"Nombre del Médico",key:"nombre_medico",width:30},{header:"Nombre del Paciente",key:"nombre_paciente",width:30},{header:"Lugar",key:"lugar",width:20},{header:"Descripción",key:"descripcion",width:20},{header:"Total Honorarios",key:"total_honorarios",width:20},{header:"Fecha",key:"fecha",width:15},{header:"Estado",key:"estado",width:15}];var r=this.startDateEnfermeria,o=this.endDateEnfermeria,i=(new Date).toLocaleDateString("es-ES");a.mergeCells("A1:H1"),a.getCell("A1").value="HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",a.getCell("A1").font={bold:!0,size:16},a.getCell("A1").alignment={horizontal:"center"},a.mergeCells("A2:H2"),a.getCell("A2").value="6ta. Calle 12-28 Zona 3 Quetzaltenango",a.getCell("A2").font={bold:!0,size:14},a.getCell("A2").alignment={horizontal:"center"},a.mergeCells("A3:H3"),a.getCell("A3").value="Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",a.getCell("A3").font={bold:!0,size:14},a.getCell("A3").alignment={horizontal:"center"},a.mergeCells("A5:H5"),a.getCell("A5").value="Corte de Honorarios Médicos (".concat(F()(r).format("DD/MM/YYYY")," - ").concat(F()(o).format("DD/MM/YYYY"),")"),a.getCell("A5").font={bold:!0,size:14},a.getCell("A5").alignment={horizontal:"center"},a.mergeCells("A6:H6"),a.getCell("A6").value="Generado el: ".concat(i),a.getCell("A6").font={italic:!0},a.getCell("A6").alignment={horizontal:"center"},a.addRow([]),a.addRow(["Honorarios Sin Pagar"]),a.getRow(8).font={bold:!0,size:14},a.addRow([]),a.getRow(10).values=["#","Nombre del Médico","Nombre del Paciente","Lugar","Descripción","Total Honorarios","Fecha","Estado"],a.getRow(10).font={bold:!0},a.getRow(10).alignment={horizontal:"center"};var n=e.sinPagar.sort((function(e,t){return t.total_honorario-e.total_honorario}));n.forEach((function(e,t){a.addRow({numero_orden:t+1,nombre_medico:e.nombre_medico,nombre_paciente:e.paciente||"Desconocido",lugar:e.lugar,descripcion:e.descripcion,total_honorarios:"Q".concat(e.total_honorario.toFixed(2)),fecha:e.fecha,estado:"Sin Pagar"})}));var s=a.lastRow.number+2;a.addRow([]),a.addRow(["Honorarios Pagados"]),a.getRow(s).font={bold:!0,size:14},a.addRow([]),a.getRow(s+2).values=["#","Nombre del Médico","Nombre del Paciente","Lugar","Descripción","Total Honorarios","Fecha","Estado"],a.getRow(s+2).font={bold:!0},a.getRow(s+2).alignment={horizontal:"center"};var l=e.pagados.sort((function(e,t){return t.total_honorario-e.total_honorario}));l.forEach((function(e,t){a.addRow({numero_orden:t+1,nombre_medico:e.nombre_medico,nombre_paciente:e.paciente||"Desconocido",lugar:e.lugar,descripcion:e.descripcion,total_honorarios:"Q".concat(e.total_honorario.toFixed(2)),fecha:e.fecha,estado:"Pagado"})})),t.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=URL.createObjectURL(t),i=document.createElement("a");i.href=a,i.download="Corte_de_Honorarios_".concat(r,"_a_").concat(o,".xlsx"),i.click(),console.log("¡Archivo Excel generado correctamente!")})).catch((function(e){console.error("Error al generar el archivo Excel:",e)}))},segundoReporteMedicos:function(e,t){var a=this;ie.a.get(q["a"]+"/reporte/medicos/medicoMasHonorarios",{params:{fechaInicio:e,fechaFin:t}}).then((function(r){a.dataMedicos=r.data,a.startDateEnfermeria=e,a.endDateEnfermeria=t,console.log(r.data)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),a.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",a.showAlertError()}))},generarPDFMedicos2:function(){var e=this.dataMedicos,t=e.listaDeMedicos,a=e.medicoConMasHonorarios,r=this.startDateEnfermeria,o=this.endDateEnfermeria;try{var i=t.sort((function(e,t){return t.total_honorarios-e.total_honorarios})),n=new Ma["default"];n.addImage(Oa.a,"JPEG",14,10,30,25),n.setFontSize(14).setFont(void 0,"bold"),n.text("HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",110,20,{align:"center"}),n.setFontSize(10).setFont(void 0,"normal"),n.text("6ta. Calle 12-28 Zona 3 Quetzaltenango",110,26,{align:"center"}),n.text("Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",105,32,{align:"center"}),n.setFontSize(16),n.text("Reporte De Honorarios Medicos",105,50,{align:"center"}),n.setFontSize(12),n.text("Desde: ".concat(F()(r).format("DD/MM/YYYY")," | Hasta: ").concat(F()(o).format("DD/MM/YYYY")),105,58,{align:"center"}),n.setFontSize(14),n.text("Medico que ha recibido mas honorarios",14,70),n.setFontSize(12),n.setTextColor(0,0,0),n.text("Nombre: ".concat(a.nombre_medico),14,78),n.text("Total Honorarios: Q".concat(a.total_honorarios),14,84);var s=i.map((function(e,t){return[t+1,e.nombre_medico,"Q".concat(e.total_honorarios)]}));n.autoTable({head:[["#","Nombre del Medico","Honorarios Recibidos"]],body:s,startY:120,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),n.save("Reporte_Medicos_Con_Mas_Honorarios_".concat(r,"_a_").concat(o,".pdf"))}catch(l){console.error("Error al generar el reporte:",l),this.$alert("Ocurrió un error al generar el reporte. Por favor, intente de nuevo.","Error")}},generarExcelMedicos2:function(){var e=this.dataMedicos,t=e.listaDeMedicos,a=e.medicoConMasHonorarios,r=new Ra.a.Workbook,o=r.addWorksheet("Reporte de Honrarios Medicos");o.columns=[{header:"#",key:"numero_orden",width:10},{header:"Nombre del Medico",key:"nombre_medico",width:30},{header:"Honorarios Recibidos",key:"total_honorarios",width:20}];var i=this.startDateEnfermeria,n=this.endDateEnfermeria,s=(new Date).toLocaleDateString("es-ES");o.mergeCells("A1:E1"),o.getCell("A1").value="HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",o.getCell("A1").font={bold:!0,size:16},o.getCell("A1").alignment={horizontal:"center"},o.mergeCells("A2:E2"),o.getCell("A2").value="6ta. Calle 12-28 Zona 3 Quetzaltenango",o.getCell("A2").font={bold:!0,size:14},o.getCell("A2").alignment={horizontal:"center"},o.mergeCells("A3:E3"),o.getCell("A3").value="Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",o.getCell("A3").font={bold:!0,size:14},o.getCell("A3").alignment={horizontal:"center"},o.mergeCells("A5:E5"),o.getCell("A5").value="Reporte de Medicos Con Más honorarios (".concat(F()(i).format("DD/MM/YYYY")," - ").concat(F()(n).format("DD/MM/YYYY"),")"),o.getCell("A5").font={bold:!0,size:14},o.getCell("A5").alignment={horizontal:"center"},o.mergeCells("A6:E6"),o.getCell("A6").value="Generado el: ".concat(s),o.getCell("A6").font={italic:!0},o.getCell("A6").alignment={horizontal:"center"},o.mergeCells("A8:E8"),o.getCell("A8").value="Medico que ha recibido mas honorarios",o.getCell("A8").font={bold:!0,size:14},o.getCell("A9").value="Nombre",o.getCell("B9").value=a.nombre_medico,o.getCell("A10").value="Total Honorarios Recibidos",o.getCell("B10").value="Q".concat(a.total_honorarios),o.getColumn("B").width=30,o.addRow([]),o.addRow(["#","Nombre del Medico","Honorarios Recibidos"]),o.getRow(9).font={bold:!0},o.getRow(9).alignment={horizontal:"center"};var l=t.sort((function(e,t){return t.total_honorarios-e.total_honorarios}));l.forEach((function(e,t){o.addRow({numero_orden:t+1,nombre_medico:e.nombre_medico,total_honorarios:"Q".concat(e.total_honorarios)})})),r.xlsx.writeBuffer().then((function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download="Reporte_Medicos_Con_Mas_Honorarios_".concat(i,"_a_").concat(n,".xlsx"),r.click(),console.log("¡Archivo Excel generado correctamente!")})).catch((function(e){console.error("Error al generar el archivo Excel:",e)}))},onSearchDatosMedicos:function(e,t){e.length&&(t(!0),this.onSearchMedicos(e,t))},onSearchMedicos:function(e,t){var a=this;ie.a.get(q["a"]+"/voucher/getSearch",{params:{search:e}}).then((function(e){a.fechaActual=e.data.fechaActual,a.numero_voucher=e.data.numero,a.medicos=e.data.Medicos,t(!1)}))},agregarPacientes:function(e){var t=this;this.formVoucher.medico=e;var a=e.id;ie.a.get(q["a"]+"/reporte/medicos/optenerPacientes",{params:{idMedico:a}}).then((function(e){t.pacientes=e.data.pacientes,t.formVoucher.cantidad=e.data.Total;var a=t.pacientes.map((function(e){return e.id}));t.formVoucher.id_paciente=a,console.log(e.data),0===e.data.Total&&alert("El medico seleccionado no posee honorarios")})).catch((function(e){console.error("Error al obtener los pacientes:",e)}))},crearVoucher:function(){var e=this;this.formVoucher.cantidadEscrita&&""!==this.formVoucher.cantidadEscrita.trim()?ie.a.post(q["a"]+"/voucher/create",this.formVoucher).then((function(t){e.generarPDFMedicos3(),e.closeModal("save")})).catch((function(e){console.error("Error al crear el voucher:",e)})):alert("Debe agregar la cantidad por escrito.")},generarPDFMedicos3:function(){var e=this.formVoucher,t=this.pacientes,a=this.numero_voucher,r=this.fechaActual;try{var o=new Ma["default"];o.addImage(Oa.a,"JPEG",14,10,30,25),o.setFontSize(16),o.text("VOUCHER DE PAGO No. ".concat(a),65,20),o.setFontSize(12),o.text("HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",50,26),o.setFontSize(10),o.text("TIPO DE PAGO:     HONORARIOS.",15,50),o.text("FECHA DE PAGO:     ".concat(F()(r).format("DD/MM/YYYY")),140,50),o.setFontSize(10),o.text("PROVEEDOR:      HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",15,60);var i=70,n=t.map((function(e,t){return[t+1,e.paciente,e.expediente,e.tipoPago,new Date(e.fecha).toLocaleDateString(),"Q".concat(e.total)]}));o.autoTable({head:[["#","Nombre del Paciente","No. Expediente","Tipo pago","Fecha","Honorarios"]],body:n,startY:i+5,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),i=o.lastAutoTable.finalY+10,o.setFontSize(10).setFont(void 0,"bold"),o.text("TOTAL:             Q".concat(e.cantidad),143,i-5),o.text("__________________________",143,i-4),o.text("__________________________",143,i-3),o.setFontSize(10).setFont(void 0,"normal"),o.text("F)._________________________________________",20,i+10),o.text("PAGUESE A: ".concat(e.medico.nombre,"."),20,i+16),o.text("LA SUMA DE: ".concat(e.cantidadEscrita,"."),20,i+22),null!=e.observaciones?(o.autoTable({body:[[{content:"Observaciones",styles:{halign:"center"}}],[{content:"".concat(e.observaciones),styles:{halign:"left"}}]],startY:i+28,theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0]}}),i=o.lastAutoTable.finalY):i+=18,0!==e.total&&(o.autoTable({body:[[{content:"Total entregado",styles:{halign:"center"}}],[{content:"".concat(e.total),styles:{halign:"rigth"}}]],startY:i+10,theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0]}}),i=o.lastAutoTable.finalY),o.save("Vaoucher_Pago_Honorarios_".concat(e.medico.nombre,"_Fecha_").concat(F()(r).format("DD/MM/YYYY"),".pdf"))}catch(s){console.error("Error al generar el reporte:",s),this.$alert("Ocurrió un error al generar el reporte. Por favor, intente de nuevo.","Error")}}}},Ha=za,La=Object($["a"])(Ha,Ta,Pa,!1,null,null,null),Qa=La.exports,Ua=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-traslado",attrs:{id:"modal-1-traslado",title:"Trasladar paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onValidate(),this.selectedHab=null}}},[e._v("Ingresar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-1-traslado")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea trasladar el paciente: "+e._s(e.form.nombres)+" ? ")]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-col",[a("b-form-group",{attrs:{label:"Área a la que desea trasladar:"}},[a("b-form-radio-group",{attrs:{id:"radio-group-2",options:e.optionsTraslado,name:"radio-options"},model:{value:e.selectedTrasOption,callback:function(t){e.selectedTrasOption=t},expression:"selectedTrasOption"}}),1==e.selectedTrasOption||4==e.selectedTrasOption?a("div",[e._v(" Habitación "),a("v-select",{ref:"selectHab",attrs:{options:e.habitaciones,label:"numero",value:"id"},model:{value:e.selectedHab,callback:function(t){e.selectedHab=t},expression:"selectedHab"}})],1):e._e()],1)],1)],1)],1),a("b-modal",{ref:"modal-2-account",attrs:{id:"modal-2-account",title:"Pagar cuenta",size:"xl"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onPatientQuit()}}},[e._v("Aceptar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-2-account")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),[a("div",[a("h6",[e._v("Cuentas activas para "+e._s(this.form.nombres)+" "+e._s(this.form.apellidos))]),a("b-card",[a("b-card-body",[a("b-table",{attrs:{hover:"",items:e.cuentas,fields:e.fieldsAccounts,"select-mode":"single",selectable:""}}),a("b-form-group",{attrs:{label:"Seleccione métodos para pagar:"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.ariaDescribedby;return[a("b-form-checkbox-group",{attrs:{id:"checkbox-group-1",options:e.paymentOptions,"aria-describedby":r,name:"flavour-1"},model:{value:e.selectedPayment,callback:function(t){e.selectedPayment=t},expression:"selectedPayment"}})]}}])}),-1!==e.selectedPayment.indexOf(1)?a("div",[e._v(" Efectivo "),a("b-input",{ref:"CashTypeInput",attrs:{type:"number",id:"CashTypeInput"},model:{value:e.paymentType.Efectivo,callback:function(t){e.$set(e.paymentType,"Efectivo",t)},expression:"paymentType.Efectivo"}})],1):e._e(),-1!==e.selectedPayment.indexOf(2)?a("div",[e._v(" Tarjeta "),a("b-input",{ref:"CardTypeInput",attrs:{type:"number",id:"CardTypeInput"},model:{value:e.paymentType.Tarjeta,callback:function(t){e.$set(e.paymentType,"Tarjeta",t)},expression:"paymentType.Tarjeta"}})],1):e._e(),-1!==e.selectedPayment.indexOf(3)?a("div",[e._v(" Depósito "),a("b-input",{ref:"DepositTypeInput",attrs:{type:"number",id:"DepositTypeInput"},model:{value:e.paymentType.Deposito,callback:function(t){e.$set(e.paymentType,"Deposito",t)},expression:"paymentType.Deposito"}})],1):e._e(),-1!==e.selectedPayment.indexOf(4)?a("div",[e._v(" Cheque "),a("b-input",{ref:"CheckTypeInput",attrs:{type:"number",id:"CheckTypeInput"},model:{value:e.paymentType.Cheque,callback:function(t){e.$set(e.paymentType,"Cheque",t)},expression:"paymentType.Cheque"}})],1):e._e(),-1!==e.selectedPayment.indexOf(5)?a("div",[e._v(" Seguro "),a("b-input",{ref:"InsuranceTypeInput",attrs:{type:"number",id:"InsuranceTypeInput"},model:{value:e.paymentType.Seguro,callback:function(t){e.$set(e.paymentType,"Seguro",t)},expression:"paymentType.Seguro"}}),e._v(" Seleccione un seguro "),a("v-select",{ref:"selectAssurance",attrs:{options:e.assurances,label:"no_poliza",value:"id"},model:{value:e.selectAssurance,callback:function(t){e.selectAssurance=t},expression:"selectAssurance"}})],1):e._e(),-1!==e.selectedPayment.indexOf(6)?a("div",[e._v(" Transferencia "),a("b-input",{ref:"InsuranceTypeInput",attrs:{type:"number",id:"InsuranceTypeInput"},model:{value:e.paymentType.Transferencia,callback:function(t){e.$set(e.paymentType,"Transferencia",t)},expression:"paymentType.Transferencia"}})],1):e._e(),a("div",[a("strong",[e._v(" TOTAL INGRESADO: "+e._s(parseFloat(this.paymentType.Efectivo)+parseFloat(this.paymentType.Tarjeta)+parseFloat(this.paymentType.Deposito)+parseFloat(this.paymentType.Cheque)+parseFloat(this.paymentType.Seguro)+parseFloat(this.paymentType.Transferencia)))])]),a("div",[a("strong",[e._v(" TOTAL A PAGAR: "+e._s(this.totalPayment))])])],1),a("div")],1)],1)]],2),a("b-modal",{ref:"modal-3-discount",attrs:{id:"modal-3-discount",title:"Validar descuento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){return e.requestDiscount()}}},[e._v("Validar")]),a("b-button",{attrs:{type:"submit",variant:"danger"},on:{click:function(t){return e.negateDiscount()}}},[e._v("Negar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-discount")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea validar un descuento para: "+e._s(this.form.name)+" "+e._s(this.form.apellidos)+" ? ")]),a("div",[e._v(" Descuento: "),a("b-input",{ref:"discountAmount",attrs:{type:"number",id:"discountAmount"},model:{value:e.discountAmount,callback:function(t){e.discountAmount=t},expression:"discountAmount"}})],1),a("div",[a("h6",[e._v(" Total: "+e._s(this.form.total)+" ")])]),a("div",[a("h6",[e._v(" Total pagado: "+e._s(this.form.total_pagado)+" ")])])],1),a("b-modal",{ref:"modal-4-bank",attrs:{id:"modal-4-bank",title:"Activar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-bank")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-bank")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al banco: "+e._s(e.form.name)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Validar Descuentos")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("PENDIENTE DE PAGO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("EN EMERGENCIAS")])])])],1)])}},{key:"solicitud_descuento",fn:function(t){return a("div",{},[3==t.rowData.solicitud_descuento?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("SIN DESCUENTO")])])])],1):e._e(),1==t.rowData.solicitud_descuento?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("Q. "+e._s(t.rowData.descuento))])])])],1):e._e(),2==t.rowData.solicitud_descuento?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("PENDIENTE APROBACIÓN")])])])],1):e._e(),0==t.rowData.solicitud_descuento?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("DESCUENTO NEGADO")])])])],1):e._e()])}},{key:"actions",fn:function(t){return[a("div",{staticClass:"button-container"},[a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-3-discount")}}},[e._v("Validar descuento")])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},ja=[],Ya={name:"CuentasPorCobrarHospital",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){this.getHabitaciones(0)},mounted:function(){g["a"].index()},data:function(){return{from:0,to:0,total:0,perPage:5,search:"",totPagado:0,assurances:[],selectAssurance:null,expediente:0,form:{id:0,nombres:"",apellidos:"",expediente:"",cui:"",state:1,numero:1,total_pagado:0,pendiente_de_pago:0,total:0},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",selectedPayment:[],paymentOptions:[{text:"Efectivo",value:1},{text:"Tarjeta",value:2},{text:"Depósito",value:3},{text:"Cheque",value:4},{text:"Seguro",value:5},{text:"Transferencia",value:6}],paymentType:{Efectivo:0,Tarjeta:0,Deposito:0,Cheque:0,Seguro:0,Transferencia:0},paymentSum:0,alertVariant:"",selectedHab:null,habitaciones:[],selectedAccount:null,totalPayment:0,cuentas:[],selectedTrasOption:1,optionsTraslado:[{text:"Quirófano",value:3},{text:"Hospitalización",value:1},{text:"Intensivos",value:4}],apiBase:q["a"]+"/cuentas/listDiscount",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"expediente.nombres",sortField:"expediente.nombres",title:"Nombres",dataClass:"list-item-heading"},{name:"expediente.apellidos",sortField:"expediente.apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"numero",sortField:"numero",title:"Numero de Cuenta",dataClass:"list-item-heading"},{name:"motivo",sortField:"motivo",title:"Motivo",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Total",dataClass:"list-item-heading"},{name:"pendiente_de_pago",sortField:"pendiente_de_pago",title:"Pendiente de pago",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"},{name:"__slot:solicitud_descuento",title:"Solicitud descuento",titleClass:"",dataClass:"text-muted",width:"25%"}],fieldsAccounts:[{key:"numero",label:"Numero",sortable:!0},{key:"motivo",label:"Motivo",sortable:!0},{key:"pendiente_de_pago",label:"Total a pagar",sortable:!0},{key:"total",label:"Total",sortable:!0}]}},validations:function(){return{form:{name:{required:_a["c"]}}}},methods:{onRowSelected:function(e){this.selectedAccount=e[0].id,this.totalPayment=e[0].pendiente_de_pago,this.totPagado=e[0].total_pagado},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-traslado"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-account"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),null!==this.selectedHab||1!==this.selectedTrasOption&&4!==this.selectedTrasOption?(this.onState(),this.$bvModal.hide("modal-1-traslado")):(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.discountAmount=e.descuento,this.form.name=e.expediente.nombres,this.form.apellidos=e.expediente.apellidos,this.form.state=e.estado,this.form.id=e.id,this.form.numero=e.numero,this.form.total_pagado=e.total_pagado,this.form.pendiente_de_pago=e.pendiente_de_pago,this.form.total=e.total,this.cuentas[0]=e,this.selectedAccount=e.id,this.totalPayment=e.pendiente_de_pago,this.totPagado=e.total_pagado,this.expediente=e.id_expediente,console.log(this.cuentas),this.onLoadAssurances(e.id_expediente)},onSave:function(){var e=this;ie.a.post(q["a"]+"/banco/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/banco/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this,t=this;ie.a.put(q["a"]+"/expedientes/changeState",{id:this.form.id,estado:this.selectedTrasOption}).then((function(a){t.alertVariant="info",t.showAlert(),t.alertText="Se ha trasladado el paciente "+t.form.nombres+" exitosamente",t.$refs.vuetable.refresh(),t.$refs["modal-1-traslado"].hide(),1!==e.selectedTrasOption&&4!==e.selectedTrasOption||ie.a.put(q["a"]+"/habitaciones/inUse",{id:e.selectedHab.id,ocupante:e.form.id}).then((function(a){e.selectedHab=null,console.log(e.selectedHab),e.getHabitaciones(0).then(t.$refs.selectHab.refresh())}))})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",e)}))},onLoadAssurances:function(e){var t=this;console.log(e),ie.a.get(q["a"]+"/seguros/getByExp",{params:{id_expediente:e}}).then((function(e){t.assurances=e.data,console.log(e)}))},requestDiscount:function(){var e=this;this.discountAmount<=0?(this.alertErrorText="El descuento debe ser mayor a 0.00",this.showAlertError()):this.discountAmount>this.totalPayment?(this.alertErrorText="El descuento debe ser menor a ".concat(this.totalPayment),this.showAlertError()):ie.a.post(q["a"]+"/cuentas/requestDiscount",{form:{id:this.form.id,solicitud_descuento:1,descuento:this.discountAmount}}).then((function(t){e.discountAmount=0,e.$bvModal.hide("modal-3-discount"),e.$refs.vuetable.refresh()})).catch((function(e){console.error(e)}))},negateDiscount:function(){var e=this;ie.a.post(q["a"]+"/cuentas/requestDiscount",{form:{id:this.form.id,solicitud_descuento:0,descuento:this.discountAmount}}).then((function(t){e.discountAmount=0,e.$bvModal.hide("modal-3-discount"),e.$refs.vuetable.refresh()})).catch((function(e){console.error(e)}))},onPatientQuit:function(){if(this.paymentSum=parseFloat(this.paymentType.Efectivo)+parseFloat(this.paymentType.Tarjeta)+parseFloat(this.paymentType.Deposito)+parseFloat(this.paymentType.Cheque)+parseFloat(this.paymentType.Seguro)+parseFloat(this.paymentType.Transferencia),this.paymentSum!==parseFloat(this.totalPayment))this.alertErrorText="El total a pagar no concuerda con el total ingresado",this.showAlertError();else{var e=this;console.log(this.selectedAccount),console.log(this.id_seguro),ie.a.put(q["a"]+"/cuentas/deactivate",{id:this.selectedAccount,total_pagado:parseFloat(this.totPagado)+parseFloat(this.paymentSum),pendiente_de_pago:parseFloat(parseFloat(this.totalPayment)-parseFloat(this.paymentSum)),efectivo:this.paymentType.Efectivo,tarjeta:this.paymentType.Tarjeta,deposito:this.paymentType.Deposito,cheque:this.paymentType.Cheque,seguro:this.paymentType.Seguro,transferencia:this.paymentType.Transferencia,total:this.paymentSum,id_seguro:this.seguro>0?this.selectAssurance.id:0,id_expediente:this.expediente,tipo:"finiquito"}).then(this.selectedAccount=null,this.paymentType.Efectivo=0,this.paymentType.Tarjeta=0,this.paymentType.Deposito=0,this.paymentType.Cheque=0,this.paymentType.Seguro=0,this.paymentType.transferencia=0,this.paymentSum=0,this.selectAssurance=null).catch((function(e){console.error(e)})),e.alertVariant="info",e.showAlert(),e.alertText="Se ha egresado el paciente "+e.form.nombres+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-2-account"].hide().catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))}},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},getHabitaciones:function(e){var t=this;ie.a.get(q["a"]+"/habitaciones/get",{params:{tipo:e}}).then((function(e){t.habitaciones=e.data,console.log(e.data)}))},getCuentas:function(e){var t=this;ie.a.get(q["a"]+"/cuentas/getByExp",{params:{id:e}}).then((function(e){t.cuentas=e.data,console.log(e.data)}))},inputPaymentType:function(e){this.paymentType=e}}},Ba=Ya,Ga=Object($["a"])(Ba,Ua,ja,!1,null,null,null),Za=Ga.exports,Wa={name:"AdminParent",components:{Users:ya,Asuetos:Sa,Reportes:Qa,ValidarDescuentos:Za},data:function(){return{patient:{},patientId:0}},mounted:function(){g["a"].index()},beforeMount:function(){this.patientId=this.$route.params.id,this.getPatient(this.patientId)},methods:{getPatient:function(e){var t=this;ie.a.get(q["a"]+"/paciente/get?id=".concat(e)).then((function(e){t.patient=e.data})).catch((function(e){console.log(e)}))},backToPatients:function(){this.$router.push({name:"patient.patients"})}}},Ka=Wa,Ja=Object($["a"])(Ka,pa,ba,!1,null,null,null),Xa=Ja.exports,er=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-modal",{ref:"modal-1",attrs:{id:"modal-1",title:"Agregar usuario"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("form",[a("div",{staticClass:"col-md-12 mb-3"},[a("label",{attrs:{for:"user"}},[e._v("Usuario")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.form.user.$model,expression:"$v.form.user.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{required:"",type:"text",id:"user",state:!e.$v.form.user.$error,placeholder:"Ingresar usuario"},domProps:{value:e.$v.form.user.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.user,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a("div",{staticClass:"valid-feedback"},[e._v(" Looks good! ")]),a("div",{staticClass:"invalid-feedback"},[e._v("Example invalid feedback text")])]),a("div",{staticClass:"col-md-12 mb-3"},[a("label",{attrs:{for:"password"}},[e._v("Contraseña")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.form.password.$model,expression:"$v.form.password.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{required:"",type:"password",id:"password",state:!e.$v.form.password.$error,placeholder:"Ingresar contraseña"},domProps:{value:e.$v.form.password.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.password,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a("div",{staticClass:"valid-feedback"},[e._v(" Looks good! ")]),a("div",{staticClass:"invalid-feedback"},[e._v("Example invalid feedback text")])]),a("div",{staticClass:"col-md-12 mb-3"},[a("label",{attrs:{for:"type"}},[e._v("Tipo de usuario")]),a("v-select",{attrs:{name:"type",state:!e.$v.form.userType.$error,options:e.typeOptions,label:"nombre",placeholder:"Seleccione tipo de usuario"},model:{value:e.$v.form.userType.$model,callback:function(t){e.$set(e.$v.form.userType,"$model",t)},expression:"$v.form.userType.$model"}}),a("div",{staticClass:"valid-feedback"},[e._v(" Looks good! ")]),a("div",{staticClass:"invalid-feedback"},[e._v("Example invalid feedback text")])],1)])]),a("b-modal",{ref:"modal-2",attrs:{id:"modal-2",title:"Editar especialidad"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("form",[a("div",{staticClass:"col-md-12 mb-3"},[a("label",{attrs:{for:"user"}},[e._v("Usuario")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.form.user.$model,expression:"$v.form.user.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{required:"",type:"text",id:"user",state:!e.$v.form.user.$error,placeholder:"Ingresar usuario"},domProps:{value:e.$v.form.user.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.user,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a("div",{staticClass:"valid-feedback"},[e._v(" Looks good! ")]),a("div",{staticClass:"invalid-feedback"},[e._v("Example invalid feedback text")])]),a("div",{staticClass:"col-md-12 mb-3"},[a("label",{attrs:{for:"password"}},[e._v("Contraseña")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.form.password.$model,expression:"$v.form.password.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{required:"",type:"text",id:"password",state:!e.$v.form.password.$error,placeholder:"Ingresar contraseña"},domProps:{value:e.$v.form.password.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.password,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a("div",{staticClass:"valid-feedback"},[e._v(" Looks good! ")]),a("div",{staticClass:"invalid-feedback"},[e._v("Example invalid feedback text")])]),a("div",{staticClass:"col-md-12 mb-3"},[a("label",{attrs:{for:"type"}},[e._v("Tipo de usuario")]),a("v-select",{attrs:{name:"type",state:!e.$v.form.userType.$error,options:e.typeOptions,label:"nombre",placeholder:"Seleccione tipo de usuario"},model:{value:e.$v.form.userType.$model,callback:function(t){e.$set(e.$v.form.userType,"$model",t)},expression:"$v.form.userType.$model"}}),a("div",{staticClass:"valid-feedback"},[e._v(" Looks good! ")]),a("div",{staticClass:"invalid-feedback"},[e._v("Example invalid feedback text")])],1)])]),a("b-modal",{ref:"modal-3",attrs:{id:"modal-3",title:"Desactivar especialidad"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3")}}},[e._v("Cancelar")])]}}])},[a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el usuario: "+e._s(e.form.user)+" ? ")])]),a("b-modal",{ref:"modal-4",attrs:{id:"modal-4",title:"Activar especialidad"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4")}}},[e._v("Cancelar")])]}}])},[a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar el usuario: "+e._s(e.form.user)+" ? ")])]),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Cuartos")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1),a("div",{staticClass:"col-sm"},[a("b-dropdown",{staticClass:"mr-1 float-md-left btn-group",attrs:{id:"ddown1",text:e.columna.nombre,variant:"outline-dark",size:"xs"}},e._l(e.options,(function(t,r){return a("b-dropdown-item",{key:r,on:{click:function(a){return e.changeTypeSearch(t)}}},[e._v(e._s(t.nombre))])})),1)],1)])])]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2",modifiers:{"modal-2":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info"},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3"):e.$bvModal.show("modal-4")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},tr=[],ar={name:"Users",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){var e=this;g["a"].index(),ie.a.get(q["a"]+"/type/get").then((function(t){e.typeOptions=t.data}))},data:function(){return{from:0,to:0,total:0,perPage:5,search:"",form:{id:0,user:"",password:"",userType:[],state:1},apiBase:q["a"]+"/user/list",typeOptions:[],options:[{value:"1",nombre:"Usuario"},{value:"2",nombre:"Tipo usuario"}],columna:{value:"1",nombre:"Usuario"},fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"user",sortField:"user",title:"Usuario",dataClass:"list-item-heading"},{name:"tipo_usuario.nombre",sortField:"user",title:"Tipo de usuario",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{user:{required:_a["c"]},password:{required:_a["c"]},userType:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.user="",this.form.password="",this.form.userType=[],this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1"].hide(),this.form.id=0,this.form.user="",this.form.password="",this.form.userType=[],this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2"].hide(),this.form.id=0,this.form.user="",this.form.password="",this.form.userType=[],this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error&&("save"===e?this.onSave():"update"===e&&this.onUpdate())},setData:function(e){this.form.user=e.user,this.form.state=e.estado,this.form.id=e.id,this.form.userType=e.tipo_usuario},onSave:function(){var e=this;ie.a.post(q["a"]+"/user/create",{form:e.form}).then((function(t){e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(e){console.error("Error!",e)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/user/update",{form:e.form}).then((function(t){e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(e){console.error("Error!",e)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/user/deactivate",{id:this.form.id}).then((function(t){e.$refs.vuetable.refresh(),e.$refs["modal-3"].hide()})).catch((function(e){console.error("There was an error!",e)})):ie.a.put(q["a"]+"/user/activate",{id:this.form.id}).then((function(t){e.$refs.vuetable.refresh(),e.$refs["modal-4"].hide()})).catch((function(e){console.error("There was an error!",e)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search,columna:this.columna.value}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},changeTypeSearch:function(e){this.columna=e}}},rr=ar,or=Object($["a"])(rr,er,tr,!1,null,null,null),ir=or.exports,nr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-create",attrs:{id:"modal-1-create",title:"Agregar seguro"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Póliza:"}},[a("b-input",{ref:"poliza",attrs:{id:"poliza"},model:{value:e.poliza,callback:function(t){e.poliza=t},expression:"poliza"}})],1),a("b-form-group",{attrs:{label:"Asegurado:"}},[a("b-input",{ref:"nombreAsegurado",attrs:{id:"nombreAsegurado"},model:{value:e.nombreAsegurado,callback:function(t){e.nombreAsegurado=t},expression:"nombreAsegurado"}})],1),a("b-form-group",{attrs:{label:"Teléfono del asegurado:"}},[a("b-input",{ref:"telefonoAsegurado",attrs:{id:"telefonoAsegurado"},model:{value:e.telefonoAsegurado,callback:function(t){e.telefonoAsegurado=t},expression:"telefonoAsegurado"}})],1),a("b-form-group",{attrs:{label:"Correo del asegurado:"}},[a("b-input",{ref:"correoAsegurado",attrs:{id:"correoAsegurado"},model:{value:e.correoAsegurado,callback:function(t){e.correoAsegurado=t},expression:"correoAsegurado"}})],1),a("div",[e._v("Aseguradora")]),a("v-select",{ref:"selectAseg",attrs:{options:e.aseguradoras,label:"nombre",value:"id"},model:{value:e.selectedAseg,callback:function(t){e.selectedAseg=t},expression:"selectedAseg"}}),a("div",[e._v("Pacientes")]),a("v-select",{ref:"selectAseg",attrs:{options:e.expedientes,label:"nombres",value:"id"},model:{value:e.selectedExp,callback:function(t){e.selectedExp=t},expression:"selectedExp"}})],1)],1),a("b-modal",{ref:"modal-2-contract",attrs:{id:"modal-2-contract",title:"Editar contrato"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre del contrato"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1),a("b-form-group",{attrs:{label:"Contenido:"}},[a("quill-editor",{ref:"myQuillEditor",attrs:{options:e.editorOption,theme:"snow"},model:{value:e.form.contrato,callback:function(t){e.$set(e.form,"contrato",t)},expression:"form.contrato"}})],1)],1)],1),a("b-modal",{ref:"modal-3-contract",attrs:{id:"modal-3-contract",title:"Desactivar contrato"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-contract")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-contract")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el contrato: "+e._s(e.form.nombre)+" ? ")])],1),a("b-modal",{ref:"modal-4-contract",attrs:{id:"modal-4-contract",title:"Activar contrato"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-contract")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-contract")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al contrato: "+e._s(e.form.nombre)+" ? ")])],1),a("b-modal",{ref:"modal-5-create",attrs:{id:"modal-5-create",title:"Agregar seguro"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidateAseguradora()}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-input",{ref:"placeName",attrs:{id:"placeName"},model:{value:e.placeName,callback:function(t){e.placeName=t},expression:"placeName"}})],1),a("b-form-group",{attrs:{label:"placePhone:"}},[a("b-input",{ref:"placePhone",attrs:{id:"placePhone"},model:{value:e.placePhone,callback:function(t){e.placePhone=t},expression:"placePhone"}})],1)],1)],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Seguros")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-create",modifiers:{"modal-1-create":!0}}],attrs:{variant:"primary"},on:{click:function(t){e.getInsurancesCompanies(),e.getExpedients()}}},[e._v("AGREGAR SEGURO")]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-5-create",modifiers:{"modal-5-create":!0}}],attrs:{variant:"primary",disabled:!e.hasPermission([5,7])},on:{click:function(t){e.getInsurancesCompanies(),e.getExpedients()}}},[e._v("AGREGAR ASEGURADORA")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.solvente?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("SOLVENTE")])])])],1):0==t.rowData.solvente?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("PENDIENTE DE PAGO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("DESACTIVADO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-contract",modifiers:{"modal-2-contract":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info"},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-contract"):e.$bvModal.show("modal-4-contract")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},sr=[],lr=(a("a753"),a("8096"),a("14e1"),a("953d")),cr={name:"Contratos",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H,quillEditor:lr["quillEditor"]},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])({currentUser:"currentUser"})),data:function(){return{editorOption:{placeholder:"",modules:{toolbar:[["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["clean"]]}},from:0,to:0,total:0,perPage:5,search:"",form:{id:0,contrato:"",nombre:"",state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/seguros/list",selectedAseg:null,aseguradoras:[],expedientes:[],selectedExp:null,fields:[{name:"expediente.nombres",sortField:"expediente.nombres",title:"Nombres",dataClass:"list-item-heading"},{name:"expediente.apellidos",sortField:"expediente.apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"no_poliza",sortField:"no_poliza",title:"Numero de Póliza",dataClass:"list-item-heading"},{name:"aseguradora.nombre",sortField:"aseguradora.nombre",title:"Aseguradora",dataClass:"list-item-heading"},{name:"aseguradora.telefono",sortField:"aseguradora.telefono",title:"Teléfono de la aseguradora",dataClass:"list-item-heading"},{name:"nombre_asegurado",sortField:"nombre_asegurado",title:"Persona asegurada",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{contrato:{required:_a["c"]},nombre:{required:_a["c"]}}}},methods:{hasPermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.includes(this.currentUser.user_type)},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.contrato="",this.form.nombre="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-create"].hide(),this.form.id=0,this.form.contrato="",this.form.nombre="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-contract"].hide(),this.form.id=0,this.form.contrato="",this.form.nombre="",this.form.state=1;break;case"place":this.$v.$reset(),this.$refs["modal52-create"].hide(),this.form.id=0,this.form.contrato="",this.form.nombre="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),null!==this.selectedAseg&&""!==this.poliza&&""!==this.nombreAsegurado&&null!==this.selectedExp?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.contrato=e.contrato,this.form.nombre=e.nombre,this.form.state=e.estado,this.form.id=e.id},onValidateAseguradora:function(){var e=this;ie.a.post(q["a"]+"/aseguradoras/create",{telefono:this.placePhone,nombre:this.placeName}).then((function(t){e.$refs["modal-5-create"].hide(),e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado la aseguradora exitosamente"}))},onSave:function(){var e=this;ie.a.post(q["a"]+"/seguros/create",{id_expediente:this.selectedExp,id_aseguradora:this.selectedAseg,no_poliza:this.poliza,nombre_asegurado:this.nombreAsegurado,tel_asegurado:this.telefonoAsegurado,correo_asegurado:this.correoAsegurado}).then((function(t){e.selectAseg=null,e.selectedExp=null,e.no_poliza="",e.nombre_asegurado="",e.tel_asegurado="",e.correoAsegurado="",e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el contrato exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/contrato/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el contrato exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/contrato/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el contrato exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-contract"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/contrato/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el contrato exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-contract"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},getInsurancesCompanies:function(){var e=this;ie.a.get(q["a"]+"/aseguradoras/get").then((function(t){e.aseguradoras=t.data,console.log(t.data)}))},getExpedients:function(){var e=this;ie.a.get(q["a"]+"/expedientes/getAll").then((function(t){e.expedientes=t.data,console.log(t.data)}))}}},dr=cr,mr=Object($["a"])(dr,nr,sr,!1,null,null,null),ur=mr.exports,fr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-contract",attrs:{id:"modal-1-contract",title:"Agregar contrato"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre del contrato"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1),a("b-form-group",{attrs:{label:"Contenido:"}},[a("quill-editor",{ref:"myQuillEditor",attrs:{options:e.editorOption,theme:"snow"},model:{value:e.form.contrato,callback:function(t){e.$set(e.form,"contrato",t)},expression:"form.contrato"}})],1)],1)],1),a("b-modal",{ref:"modal-2-contract",attrs:{id:"modal-2-contract",title:"Editar contrato"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre del contrato"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1),a("b-form-group",{attrs:{label:"Contenido:"}},[a("quill-editor",{ref:"myQuillEditor",attrs:{options:e.editorOption,theme:"snow"},model:{value:e.form.contrato,callback:function(t){e.$set(e.form,"contrato",t)},expression:"form.contrato"}})],1)],1)],1),a("b-modal",{ref:"modal-3-contract",attrs:{id:"modal-3-contract",title:"Desactivar contrato"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-contract")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-contract")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el contrato: "+e._s(e.form.nombre)+" ? ")])],1),a("b-modal",{ref:"modal-4-contract",attrs:{id:"modal-4-contract",title:"Activar contrato"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-contract")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-contract")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al contrato: "+e._s(e.form.nombre)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Contratos")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-contract",modifiers:{"modal-1-contract":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-contract",modifiers:{"modal-2-contract":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info"},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-contract"):e.$bvModal.show("modal-4-contract")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},hr=[],pr={name:"Contratos",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H,quillEditor:lr["quillEditor"]},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},data:function(){return{editorOption:{placeholder:"",modules:{toolbar:[["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["clean"]]}},from:0,to:0,total:0,perPage:5,search:"",form:{id:0,contrato:"",nombre:"",state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/contrato/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"nombre",title:"Nombre",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{contrato:{required:_a["c"]},nombre:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.contrato="",this.form.nombre="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-contract"].hide(),this.form.id=0,this.form.contrato="",this.form.nombre="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-contract"].hide(),this.form.id=0,this.form.contrato="",this.form.nombre="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.contrato=e.contrato,this.form.nombre=e.nombre,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/contrato/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el contrato exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/contrato/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el contrato exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/contrato/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el contrato exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-contract"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/contrato/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el contrato exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-contract"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs}}},br=pr,vr=Object($["a"])(br,fr,hr,!1,null,null,null),gr=vr.exports,_r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Cuentas por cobrar")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}})],1),a("div",{staticClass:"col-sm"})])])]},proxy:!0},{key:"body",fn:function(){return[a("b-tabs",[a("b-tab",{attrs:{title:"Cuentas por cobrar",lazy:""}},[a("CuentasPorCobrar")],1),a("b-tab",{attrs:{title:"Seguros por cobrar",lazy:""}},[a("SegurosPorCobrar")],1)],1)]},proxy:!0}])})],1)],1)],1)},xr=[],Cr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-traslado",attrs:{id:"modal-1-traslado",title:"Trasladar paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onValidate(),this.selectedHab=null}}},[e._v("Ingresar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-1-traslado")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea trasladar el paciente: "+e._s(e.form.nombres)+" ? ")]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-col",[a("b-form-group",{attrs:{label:"Área a la que desea trasladar:"}},[a("b-form-radio-group",{attrs:{id:"radio-group-2",options:e.optionsTraslado,name:"radio-options"},model:{value:e.selectedTrasOption,callback:function(t){e.selectedTrasOption=t},expression:"selectedTrasOption"}}),1==e.selectedTrasOption||4==e.selectedTrasOption?a("div",[e._v(" Habitación "),a("v-select",{ref:"selectHab",attrs:{options:e.habitaciones,label:"numero",value:"id"},model:{value:e.selectedHab,callback:function(t){e.selectedHab=t},expression:"selectedHab"}})],1):e._e()],1)],1)],1)],1),a("b-modal",{ref:"modal-2-account",attrs:{id:"modal-2-account",title:"Pagar cuenta",size:"xl"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onPatientQuit()}}},[e._v("Aceptar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-2-account")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),[a("div",[a("h6",[e._v("Cuentas activas para "+e._s(this.form.nombres)+" "+e._s(this.form.apellidos))]),a("b-card",[a("b-card-body",[a("b-table",{attrs:{hover:"",items:e.cuentas,fields:e.fieldsAccounts,"select-mode":"single",selectable:""}}),a("b-form-group",{attrs:{label:"Seleccione métodos para pagar:"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.ariaDescribedby;return[a("b-form-checkbox-group",{attrs:{id:"checkbox-group-1",options:e.paymentOptions,"aria-describedby":r,name:"flavour-1"},model:{value:e.selectedPayment,callback:function(t){e.selectedPayment=t},expression:"selectedPayment"}})]}}])}),-1!==e.selectedPayment.indexOf(1)?a("div",[e._v(" Efectivo "),a("b-input",{ref:"CashTypeInput",attrs:{type:"number",id:"CashTypeInput"},model:{value:e.paymentType.Efectivo,callback:function(t){e.$set(e.paymentType,"Efectivo",t)},expression:"paymentType.Efectivo"}})],1):e._e(),-1!==e.selectedPayment.indexOf(2)?a("div",[e._v(" Tarjeta "),a("b-input",{ref:"CardTypeInput",attrs:{type:"number",id:"CardTypeInput"},model:{value:e.paymentType.Tarjeta,callback:function(t){e.$set(e.paymentType,"Tarjeta",t)},expression:"paymentType.Tarjeta"}}),e._v(" Recargo (%) "),a("b-input",{ref:"CardRechargeTypeInput",attrs:{type:"number",id:"CardRechargeTypeInput"},model:{value:e.paymentType.Tarjeta,callback:function(t){e.$set(e.paymentType,"Tarjeta",t)},expression:"paymentType.Tarjeta"}})],1):e._e(),-1!==e.selectedPayment.indexOf(3)?a("div",[e._v(" Depósito "),a("b-input",{ref:"DepositTypeInput",attrs:{type:"number",id:"DepositTypeInput"},model:{value:e.paymentType.Deposito,callback:function(t){e.$set(e.paymentType,"Deposito",t)},expression:"paymentType.Deposito"}})],1):e._e(),-1!==e.selectedPayment.indexOf(4)?a("div",[e._v(" Cheque "),a("b-input",{ref:"CheckTypeInput",attrs:{type:"number",id:"CheckTypeInput"},model:{value:e.paymentType.Cheque,callback:function(t){e.$set(e.paymentType,"Cheque",t)},expression:"paymentType.Cheque"}})],1):e._e(),-1!==e.selectedPayment.indexOf(5)?a("div",[e._v(" Seguro "),a("b-input",{ref:"InsuranceTypeInput",attrs:{type:"number",id:"InsuranceTypeInput"},model:{value:e.paymentType.Seguro,callback:function(t){e.$set(e.paymentType,"Seguro",t)},expression:"paymentType.Seguro"}}),e._v(" Seleccione un seguro "),a("v-select",{ref:"selectAssurance",attrs:{options:e.assurances,label:"no_poliza",value:"id"},model:{value:e.selectAssurance,callback:function(t){e.selectAssurance=t},expression:"selectAssurance"}})],1):e._e(),-1!==e.selectedPayment.indexOf(6)?a("div",[e._v(" Transferencia "),a("b-input",{ref:"InsuranceTypeInput",attrs:{type:"number",id:"InsuranceTypeInput"},model:{value:e.paymentType.Transferencia,callback:function(t){e.$set(e.paymentType,"Transferencia",t)},expression:"paymentType.Transferencia"}})],1):e._e(),a("div",[a("strong",[e._v(" TOTAL INGRESADO: "+e._s(parseFloat(this.paymentType.Efectivo)+parseFloat(this.paymentType.Tarjeta)+parseFloat(this.paymentType.Recargo*this.paymentType.Tarjeta)+parseFloat(this.paymentType.Deposito)+parseFloat(this.paymentType.Cheque)+parseFloat(this.paymentType.Seguro)+parseFloat(this.paymentType.Transferencia)))])]),a("div",[a("strong",[e._v(" TOTAL A PAGAR: "+e._s(this.totalPayment))])])],1),a("div")],1)],1)]],2),a("b-modal",{ref:"modal-3-discount",attrs:{id:"modal-3-discount",title:"Solicitar descuento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){return e.requestDiscount()}}},[e._v("Solicitar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-discount")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea solicitar un descuento para: "+e._s(e.form.name)+" "+e._s(e.form.apellidos)+" ? ")]),a("label",{attrs:{for:"discountAmount"}},[e._v("Descuento (%):")]),a("b-input",{ref:"discountAmount",attrs:{type:"number",id:"discountAmount",min:"0",max:"100",placeholder:"Ingrese porcentaje de descuento"},model:{value:e.discountAmount,callback:function(t){e.discountAmount=t},expression:"discountAmount"}})],1),a("b-modal",{ref:"modal-4-bank",attrs:{id:"modal-4-bank",title:"Activar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-bank")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-bank")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al banco: "+e._s(e.form.name)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Cuentas por cobrar")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("PENDIENTE DE PAGO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("EN EMERGENCIAS")])])])],1)])}},{key:"solicitud_descuento",fn:function(t){return a("div",{},[3==t.rowData.solicitud_descuento?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("SIN DESCUENTO")])])])],1):e._e(),1==t.rowData.solicitud_descuento?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("Q. "+e._s(t.rowData.descuento))])])])],1):e._e(),2==t.rowData.solicitud_descuento?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("PENDIENTE APROBACIÓN")])])])],1):e._e(),0==t.rowData.solicitud_descuento?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("SIN DESCUENTO")])])])],1):e._e()])}},{key:"actions",fn:function(t){return[1==t.rowData.expediente.estado||3==t.rowData.expediente.estado||4==t.rowData.expediente.estado||5==t.rowData.expediente.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("PACIENTE NO EGRESADO")])])])],1):a("div",[3==t.rowData.solicitud_descuento?a("div",{staticClass:"button-container"},[a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-2-account")}}},[e._v("Cobrar")]),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){return e.generarReporteCuentaParcial(t.rowData.id,t.rowData.expediente.nombres,t.rowData.expediente.apellidos)}}},[e._v("Cuenta Total")])],1):2==t.rowData.solicitud_descuento?a("div",{staticClass:"button-container"},[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("EN ESPERA")])])])],1):a("div",{staticClass:"button-container"},[a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-2-account")}}},[e._v("Cobrar")])],1)])]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},$r=[],yr={name:"CuentasPorCobrarHospital",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){this.getHabitaciones(0)},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])(["currentUser"])),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",totPagado:0,assurances:[],selectAssurance:null,expediente:0,form:{id:0,nombres:"",apellidos:"",expediente:"",cui:"",state:1,numero:1,total_pagado:0,pendiente_de_pago:0,total:0},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",selectedPayment:[],paymentOptions:[{text:"Efectivo",value:1},{text:"Tarjeta",value:2},{text:"Depósito",value:3},{text:"Cheque",value:4},{text:"Seguro",value:5},{text:"Transferencia",value:6}],paymentType:{Efectivo:0,Tarjeta:0,Recargo:0,Deposito:0,Cheque:0,Seguro:0,Transferencia:0},paymentSum:0,alertVariant:"",selectedHab:null,habitaciones:[],selectedAccount:null,totalPayment:0,cuentas:[],selectedTrasOption:1,optionsTraslado:[{text:"Quirófano",value:3},{text:"Hospitalización",value:1},{text:"Intensivos",value:4}],apiBase:q["a"]+"/cuentas/debtList",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"expediente.nombres",sortField:"expediente.nombres",title:"Nombres",dataClass:"list-item-heading"},{name:"expediente.apellidos",sortField:"expediente.apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"numero",sortField:"numero",title:"Numero de Cuenta",dataClass:"list-item-heading"},{name:"motivo",sortField:"motivo",title:"Motivo",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Total",dataClass:"list-item-heading"},{name:"pendiente_de_pago",sortField:"pendiente_de_pago",title:"Pendiente de pago",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"},{name:"__slot:solicitud_descuento",title:"Solicitud descuento",titleClass:"",dataClass:"text-muted",width:"25%"}],fieldsAccounts:[{key:"numero",label:"Numero",sortable:!0},{key:"motivo",label:"Motivo",sortable:!0},{key:"pendiente_de_pago",label:"Total a pagar",sortable:!0},{key:"total",label:"Total",sortable:!0}]}},validations:function(){return{form:{name:{required:_a["c"]}}}},methods:{onRowSelected:function(e){this.selectedAccount=e[0].id,this.totalPayment=e[0].pendiente_de_pago,this.totPagado=e[0].total_pagado},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-traslado"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-account"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),null!==this.selectedHab||1!==this.selectedTrasOption&&4!==this.selectedTrasOption?(this.onState(),this.$bvModal.hide("modal-1-traslado")):(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.name=e.expediente.nombres,this.form.apellidos=e.expediente.apellidos,this.form.state=e.estado,this.form.id=e.id,this.form.numero=e.numero,this.form.total_pagado=e.total_pagado,this.form.pendiente_de_pago=e.pendiente_de_pago,this.form.total=e.total,this.cuentas[0]=e,this.selectedAccount=e.id,this.totalPayment=e.pendiente_de_pago,this.totPagado=e.total_pagado,this.expediente=e.id_expediente,this.onLoadAssurances(e.id_expediente)},onSave:function(){var e=this;ie.a.post(q["a"]+"/banco/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/banco/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this,t=this;ie.a.put(q["a"]+"/expedientes/changeState",{id:this.form.id,estado:this.selectedTrasOption,user:t.currentUser.user}).then((function(a){t.alertVariant="info",t.showAlert(),t.alertText="Se ha trasladado el paciente "+t.form.nombres+" exitosamente",t.$refs.vuetable.refresh(),t.$refs["modal-1-traslado"].hide(),1!==e.selectedTrasOption&&4!==e.selectedTrasOption||ie.a.put(q["a"]+"/habitaciones/inUse",{id:e.selectedHab.id,ocupante:e.form.id}).then((function(a){e.selectedHab=null,console.log(e.selectedHab),e.getHabitaciones(0).then(t.$refs.selectHab.refresh())}))})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",e)}))},onLoadAssurances:function(e){var t=this;console.log(e),ie.a.get(q["a"]+"/seguros/getByExp",{params:{id_expediente:e}}).then((function(e){t.assurances=e.data,console.log(e)}))},requestDiscount:function(){var e=this;this.discountAmount<=0?(this.alertErrorText="El descuento debe ser mayor a 0.00",this.showAlertError()):this.discountAmount>this.totalPayment?(this.alertErrorText="El descuento debe ser menor a ".concat(this.totalPayment),this.showAlertError()):ie.a.post(q["a"]+"/cuentas/requestDiscount",{form:{id:this.form.id,solicitud_descuento:2,descuento:parseFloat(this.discountAmount)}}).then((function(t){e.discountAmount=0,e.$bvModal.hide("modal-3-discount"),e.$refs.vuetable.refresh()})).catch((function(e){console.error(e)}))},onPatientQuit:function(){if(this.paymentSum=parseFloat(this.paymentType.Efectivo)+parseFloat(this.paymentType.Tarjeta)+parseFloat(this.paymentType.Deposito)+parseFloat(this.paymentType.Cheque)+parseFloat(this.paymentType.Seguro)+parseFloat(this.paymentType.Transferencia),this.paymentSum!==parseFloat(this.totalPayment))this.alertErrorText="El total a pagar neto no concuerda con el total ingresado",this.showAlertError();else{var e=this;console.log(this.selectedAccount),console.log(this.id_seguro),ie.a.put(q["a"]+"/cuentas/deactivate",{id:this.selectedAccount,total_pagado:parseFloat(this.totPagado)+parseFloat(this.paymentSum),pendiente_de_pago:parseFloat(parseFloat(this.totalPayment)-parseFloat(this.paymentSum)),efectivo:this.paymentType.Efectivo,tarjeta:this.paymentType.Tarjeta,recargoTarjeta:this.paymentType.Recargo*this.paymentType.Tarjeta,deposito:this.paymentType.Deposito,cheque:this.paymentType.Cheque,seguro:this.paymentType.Seguro,transferencia:this.paymentType.Transferencia,total:this.paymentSum,id_seguro:this.seguro>0?this.selectAssurance.id:0,id_expediente:this.expediente,tipo:"finiquito"}).then(this.selectedAccount=null,this.paymentType.Efectivo=0,this.paymentType.Tarjeta=0,this.paymentType.Recargo=0,this.paymentType.Deposito=0,this.paymentType.Cheque=0,this.paymentType.Seguro=0,this.paymentType.transferencia=0,this.paymentSum=0,this.selectAssurance=null).catch((function(e){console.error(e)})),e.alertVariant="info",e.showAlert(),e.alertText="Se ha egresado el paciente "+e.form.nombres+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-2-account"].hide().catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))}},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},getHabitaciones:function(e){var t=this;ie.a.get(q["a"]+"/habitaciones/get",{params:{tipo:e}}).then((function(e){t.habitaciones=e.data,console.log(e.data)}))},getCuentas:function(e){var t=this;ie.a.get(q["a"]+"/cuentas/getByExp",{params:{id:e}}).then((function(e){t.cuentas=e.data,console.log(e.data)}))},inputPaymentType:function(e){this.paymentType=e},generarReporteCuentaParcial:function(e,t,a){var r=this;console.log(t),ie.a.get(q["a"]+"/consumos/sumario/".concat(e)).then((function(e){var o=t+" "+a,i=e.data.fechaFormateada;r.generarPDF_CuentaParcial(e.data,o,i)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),r.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",r.showAlertError()}))},generarPDF_CuentaParcial:function(e,t,a){var r=this;return Object(pe["a"])(regeneratorRuntime.mark((function o(){var i,n,s,l,c,d,m,u,f,h,p,b,v,g,_,x,C,$,y,w,E,k,D,A,S;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:i=new Date,n=i.toLocaleDateString("es-ES"),s={hour:"2-digit",minute:"2-digit",hour12:!0},l=i.toLocaleTimeString("es-ES",s),a?(d=new Date(a),m=i-d,u=Math.floor(m/864e5),c=u):c="NO ASIGNADA",f=c>=2?e.costo2*c:e.costo1;try{h=e.consumos.reduce((function(e,t){return e+parseFloat(t.subtotal)}),0),p=e.consumosComunes.reduce((function(e,t){return e+parseFloat(t.total)}),0),b=e.consumosMedicamentos.reduce((function(e,t){return e+parseFloat(t.total)}),0),v=e.consumosQuirurgicos.reduce((function(e,t){return e+parseFloat(t.total)}),0),g=e.examenes.reduce((function(e,t){return e+parseFloat(t.total)}),0),_=e.salaOperaciones.reduce((function(e,t){return e+parseFloat(t.total)}),0),x=e.honorarios.reduce((function(e,t){return e+parseFloat(t.total)}),0),C=e.honorarios.sort((function(e,t){return t.total-e.total})),$=h+p+b+v+g+_+f,y=h+p+b+v+_+f,w=y+x+g,E=new Ma["default"],E.setFontSize(10).setFont(void 0,"bold"),E.text("HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",110,10,{align:"center"}),E.setFontSize(10).setFont(void 0,"normal"),E.text("CUENTA TOTAL DE PACIENTE",110,14,{align:"center"}),E.setFontSize(8).setFont(void 0,"normal"),E.text("NOMBRE DEL PACIENTE:",14,20),E.text("".concat(t),50,20),E.text("_____________________________________________________________________________________________",50,21),E.text("CUARTRO NO.:",14,27),E.text("".concat(e.numerohabitacion),40,27),E.text("__________",35,28),E.text("TIPO DE SERVICIO:",60,27),E.text("",87,27),E.text("___________________________",87,28),E.text("D/ESTANCIA: ",130,27),E.text("".concat(c),170,27),E.text("_____________________________",150,28),E.text("MD TRATANTE:",14,34),E.text("".concat(e.nombremedico),36,34),E.text("______________________________________________________________________________________________________",36,35),E.autoTable({body:[["HOSPITALIZACION","Q".concat(f.toFixed(2))],["SALA DE OPERACIONES","Q".concat(_.toFixed(2))],["CONSUMO MEDICAMENTOS","Q".concat(b.toFixed(2))],["MATERIAL MEDICO QUIRÚRGICO","Q".concat(v.toFixed(2))],["ANESTESICOS",""],["MATERIAL COMÚN","Q".concat(p.toFixed(2))],["SERVICIOS","Q".concat(h.toFixed(2))],["RECUPERACION",""],["INTENSIVO","Q 0.00"],["EMERGENCIAS  Medico Interno",""],["OTROS",""],["TOTAL HOSPITALIZACION =","Q".concat(y.toFixed(2))],["TOTAL LAB. BIOMEDICO E.O. S.A. =","Q".concat(g.toFixed(2))],["TOTAL MENOS DESCUENTO =","Q".concat($.toFixed(2))]],startY:41,theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0]},columnStyles:{0:{halign:"left"},1:{halign:"left"}},didParseCell:function(e){var t=e.row.index,a=e.column.index;t>=11&&0===a&&(e.cell.styles.halign="right")}}),k=E.lastAutoTable.finalY+10,E.setFontSize(12).setFont(void 0,"normal"),E.text("FECHA ".concat(n," ").concat(l),14,k),E.setFontSize(10).setFont(void 0,"bold"),E.text("HONORARIOS MEDICOS Y OTROS SERVICIOS",100,k+15,{align:"center"}),D=C.map((function(e,t){return[t+1,e.medico.nombre,e.descripcion,"Q".concat((Number(e.total)||0).toFixed(2))]})),E.autoTable({head:[["#","MEDICO","DESCRIPCION","VALOR"]],body:D,startY:k+20,theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0]},headStyles:{fillColor:[255,255,255],textColor:[0,0,0],fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),A=E.lastAutoTable.finalY+10,E.setFontSize(10).setFont(void 0,"bold"),E.text("LIQUIDACION",100,A,{align:"center"}),E.autoTable({body:[["TOTAL HOSPITALIZACION","Q".concat(y.toFixed(2))],["TOTAL LAB. BIOMEDICO E.O. S.A.","Q".concat(g.toFixed(2))],["TOTAL HONORARIOS MEDICOS Y OTROS SERVICIOS","Q".concat(x.toFixed(2))],["TOTAL A PAGAR =","Q".concat(w.toFixed(2))]],startY:A+5,theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0]},columnStyles:{0:{halign:"left"},1:{halign:"left"}},didParseCell:function(e){var t=e.row.index,a=e.column.index;t>=3&&0===a&&(e.cell.styles.halign="right")}}),S=E.lastAutoTable.finalY+10,E.setFontSize(10).setFont(void 0,"normal"),E.text("_______________________________________",110,S,{align:"center"}),E.text("Nombre y Firma del Cajero",110,S+5,{align:"center"}),E.save("cuenta_Total_Paciente ".concat(t,".PDF"))}catch(T){console.error("Error al generar el reporte:",T),r.$alert("Ocurrió un error al generar el reporte. Por favor, intente de nuevo.","Error")}case 7:case"end":return o.stop()}}),o)})))()}}},wr=yr,Er=Object($["a"])(wr,Cr,$r,!1,null,null,null),kr=Er.exports,Dr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-traslado",attrs:{id:"modal-1-traslado",title:"Trasladar paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onValidate(),this.selectedHab=null}}},[e._v("Ingresar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-1-traslado")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea trasladar el paciente: "+e._s(e.form.nombres)+" ? ")]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-col",[a("b-form-group",{attrs:{label:"Área a la que desea trasladar:"}},[a("b-form-radio-group",{attrs:{id:"radio-group-2",options:e.optionsTraslado,name:"radio-options"},model:{value:e.selectedTrasOption,callback:function(t){e.selectedTrasOption=t},expression:"selectedTrasOption"}}),1==e.selectedTrasOption||4==e.selectedTrasOption?a("div",[e._v(" Habitación "),a("v-select",{ref:"selectHab",attrs:{options:e.habitaciones,label:"numero",value:"id"},model:{value:e.selectedHab,callback:function(t){e.selectedHab=t},expression:"selectedHab"}})],1):e._e()],1)],1)],1)],1),a("b-modal",{ref:"modal-2-pay",attrs:{id:"modal-2-pay",title:"Pagar seguro",size:"xl"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onPay()}}},[e._v("Aceptar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-2-pay")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",[e._v("¿Desea cobrar el seguro de "+e._s(this.form.nombres)+" "+e._s(this.form.apellidos)+"?")])],1),a("b-modal",{ref:"modal-3-deactivate",attrs:{id:"modal-3-deactivate",title:"Desactivar seguro"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onDeactivate(),e.$bvModal.hide("modal-3-deactivate")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-deactivate")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el seguro: "+e._s(e.form.id)+" ? ")])],1),a("b-modal",{ref:"modal-4-bank",attrs:{id:"modal-4-bank",title:"Activar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-bank")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-bank")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al banco: "+e._s(e.form.name)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Seguros por cobrar")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.solvente?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("SOLVENTE")])])])],1):0==t.rowData.solvente?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("PENDIENTE DE PAGO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("DESACTIVADO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[0===t.rowData.solvente?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Pagar",expression:"'Pagar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-2-pay")}}},[a("i",{class:"fas fa-money"})]):e._e(),t.rowData.solvente<=1?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Desactivar",expression:"'Desactivar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-danger"},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-3-deactivate")}}},[a("i",{class:"fa fa-trash"})]):e._e()],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},Ar=[],Sr={name:"Bank",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){this.getHabitaciones(0)},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])(["currentUser"])),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",totPagado:0,form:{id:0,assurance:0,nombres:"",apellidos:"",expediente:"",cui:"",state:1,numero:1,total_pagado:0,pendiente_de_pago:0,total:0},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",selectedPayment:[],paymentOptions:[{text:"Efectivo",value:1},{text:"Tarjeta",value:2},{text:"Depósito",value:3},{text:"Cheque",value:4},{text:"Seguro",value:5},{text:"Transferencia",value:6}],paymentType:{Efectivo:0,Tarjeta:0,Deposito:0,Cheque:0,Seguro:0,Transferencia:0},paymentSum:0,alertVariant:"",selectedHab:null,habitaciones:[],selectedAccount:null,totalPayment:0,cuentas:[],selectedTrasOption:1,optionsTraslado:[{text:"Quirófano",value:3},{text:"Hospitalización",value:1},{text:"Intensivos",value:4}],apiBase:q["a"]+"/seguros/debtList",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"expediente.nombres",sortField:"expediente.nombres",title:"Nombres",dataClass:"list-item-heading"},{name:"expediente.apellidos",sortField:"expediente.apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"no_poliza",sortField:"no_poliza",title:"Numero de Póliza",dataClass:"list-item-heading"},{name:"aseguradora.nombre",sortField:"aseguradora.nombre",title:"Aseguradora",dataClass:"list-item-heading"},{name:"aseguradora.telefono",sortField:"aseguradora.telefono",title:"Teléfono de la aseguradora",dataClass:"list-item-heading"},{name:"nombre_asegurado",sortField:"nombre_asegurado",title:"Persona asegurada",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}],fieldsAccounts:[{key:"numero",label:"Numero",sortable:!0},{key:"motivo",label:"Motivo",sortable:!0},{key:"pendiente_de_pago",label:"Total a pagar",sortable:!0},{key:"total",label:"Total",sortable:!0}]}},validations:function(){return{form:{name:{required:_a["c"]}}}},methods:{onRowSelected:function(e){this.selectedAccount=e[0].id,this.totalPayment=e[0].pendiente_de_pago,this.totPagado=e[0].total_pagado},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-traslado"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-pay"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),null!==this.selectedHab||1!==this.selectedTrasOption&&4!==this.selectedTrasOption?(this.onState(),this.$bvModal.hide("modal-1-traslado")):(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.name=e.nombres,this.form.apellidos=e.apellidos,this.form.state=e.estado,this.form.id=e.id,this.form.numero=e.numero,this.form.total_pagado=e.total_pagado,this.form.pendiente_de_pago=e.pendiente_de_pago,this.form.total=e.total,this.cuentas[0]=e,this.selectedAccount=e.id,this.totalPayment=e.pendiente_de_pago,this.totPagado=e.total_pagado,console.log(this.cuentas)},onSave:function(){var e=this;ie.a.post(q["a"]+"/banco/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/banco/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onDeactivate:function(){console.log(this.form.id);var e=this;ie.a.put(q["a"]+"/seguros/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh()}))},onPay:function(){console.log(this.form.id);var e=this;ie.a.put(q["a"]+"/seguros/paid",{id:this.form.id}).then((function(t){e.$refs["modal-2-pay"].hide(),e.alertVariant="info",e.showAlert(),e.alertText="Se ha desactivado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh()}))},onState:function(){var e=this,t=this;ie.a.put(q["a"]+"/expedientes/changeState",{id:this.form.id,estado:this.selectedTrasOption,user:t.currentUser.user}).then((function(a){t.alertVariant="info",t.showAlert(),t.alertText="Se ha trasladado el paciente "+t.form.nombres+" exitosamente",t.$refs.vuetable.refresh(),t.$refs["modal-1-traslado"].hide(),1!==e.selectedTrasOption&&4!==e.selectedTrasOption||ie.a.put(q["a"]+"/habitaciones/inUse",{id:e.selectedHab.id,ocupante:e.form.id}).then((function(a){e.selectedHab=null,console.log(e.selectedHab),e.getHabitaciones(0).then(t.$refs.selectHab.refresh())}))})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",e)}))},onPatientQuit:function(){if(this.paymentSum=parseFloat(this.paymentType.Efectivo)+parseFloat(this.paymentType.Tarjeta)+parseFloat(this.paymentType.Deposito)+parseFloat(this.paymentType.Cheque)+parseFloat(this.paymentType.Seguro)+parseFloat(this.paymentType.Transferencia),this.paymentSum!==parseFloat(this.totalPayment))this.alertErrorText="El total a pagar no concuerda con el total ingresado",this.showAlertError();else{var e=this;ie.a.put(q["a"]+"/cuentas/deactivate",{id:this.selectedAccount,total_pagado:parseFloat(this.totPagado)+parseFloat(this.paymentSum),pendiente_de_pago:parseFloat(parseFloat(this.totalPayment)-parseFloat(this.paymentSum)),efectivo:this.paymentType.Efectivo,tarjeta:this.paymentType.Tarjeta,deposito:this.paymentType.Deposito,cheque:this.paymentType.Cheque,seguro:this.paymentType.Seguro,transferencia:this.paymentType.Transferencia,total:this.paymentSum,tipo:"finiquito"}).then(this.selectedAccount=null,this.paymentType.Efectivo=0,this.paymentType.Tarjeta=0,this.paymentType.Deposito=0,this.paymentType.Cheque=0,this.paymentType.Seguro=0,this.paymentType.transferencia=0,this.paymentSum=0),e.alertVariant="info",e.showAlert(),e.alertText="Se ha egresado el paciente "+e.form.nombres+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-2-pay"].hide().catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))}},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},getHabitaciones:function(e){var t=this;ie.a.get(q["a"]+"/habitaciones/get",{params:{tipo:e}}).then((function(e){t.habitaciones=e.data,console.log(e.data)}))},getCuentas:function(e){var t=this;ie.a.get(q["a"]+"/cuentas/getByExp",{params:{id:e}}).then((function(e){t.cuentas=e.data,console.log(e.data)}))},inputPaymentType:function(e){this.paymentType=e}}},Tr=Sr,Pr=Object($["a"])(Tr,Dr,Ar,!1,null,null,null),Mr=Pr.exports,qr={name:"CuentasParent",components:{CuentasPorCobrar:kr,SegurosPorCobrar:Mr},data:function(){return{patient:{},patientId:0}},mounted:function(){g["a"].index()},beforeMount:function(){this.patientId=this.$route.params.id,this.getPatient(this.patientId)},methods:{getPatient:function(e){var t=this;ie.a.get(q["a"]+"/paciente/get?id=".concat(e)).then((function(e){t.patient=e.data})).catch((function(e){console.log(e)}))},backToPatients:function(){this.$router.push({name:"patient.patients"})}}},Ir=qr,Fr=Object($["a"])(Ir,_r,xr,!1,null,null,null),Or=Fr.exports,Nr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Egresos")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}})],1),a("div",{staticClass:"col-sm"})])])]},proxy:!0},{key:"body",fn:function(){return[a("b-tabs",[a("b-tab",{attrs:{title:"Egresos hospitalización",lazy:""}},[a("EgresosHospitalizacion")],1),a("b-tab",{attrs:{title:"Egresos emergencia",lazy:""}},[a("EgresosEmergencia")],1),a("b-tab",{attrs:{title:"Egresos cuidados intensivos",lazy:""}},[a("EgresosIntensivo")],1)],1)]},proxy:!0}])})],1)],1)],1)},Rr=[],Vr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-trasladoHosp",attrs:{id:"modal-1-trasladoHosp",title:"Trasladar paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onValidate(),this.selectedHab=null}}},[e._v("Ingresar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-1-trasladoHosp")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea trasladar el paciente: "+e._s(e.form.nombres)+" ? ")]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-col",[a("b-form-group",{attrs:{label:"Área a la que desea trasladar:"}},[a("b-form-radio-group",{attrs:{id:"radio-group-2",options:e.optionsTraslado,name:"radio-options"},model:{value:e.selectedTrasOption,callback:function(t){e.selectedTrasOption=t},expression:"selectedTrasOption"}}),4==e.selectedTrasOption?a("div",[e._v(" Habitación "),a("v-select",{ref:"selectHab",attrs:{options:e.habitaciones,label:"numero",value:"id"},model:{value:e.selectedHab,callback:function(t){e.selectedHab=t},expression:"selectedHab"}})],1):e._e()],1)],1)],1),a("div",[e._v(" Ingrese un motivo para el traslado ")]),a("div",[a("b-input",{ref:"motivoTraslado",attrs:{id:"motivoTraslado"},model:{value:e.motivoTrasladoHospi,callback:function(t){e.motivoTrasladoHospi=t},expression:"motivoTrasladoHospi"}})],1)],1),a("b-modal",{ref:"modal-2-egresarHosp",attrs:{id:"modal-2-egresarHosp",title:"Egresar paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onPatientQuit()}}},[e._v("Aceptar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-2-egresarHosp")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",[e._v("¿Desea dar egreso al paciente "+e._s(e.form.nombres)+" "+e._s(e.form.apellidos)+"?")]),[a("div",[a("b-form-group",{attrs:{label:"Motivo del egreso:"}},[a("b-form-radio-group",{attrs:{id:"radio-group-egreso",options:e.optionsQuit,name:"radio-options-2"},model:{value:e.selectedQuitOption,callback:function(t){e.selectedQuitOption=t},expression:"selectedQuitOption"}})],1)],1),a("div",[e._v(" Nota de egreso ")]),a("div",[a("b-input",{ref:"motivoEgreso",attrs:{id:"motivoEgreso"},model:{value:e.motivoEgresoHospi,callback:function(t){e.motivoEgresoHospi=t},expression:"motivoEgresoHospi"}})],1)]],2),a("b-modal",{ref:"modal-3-bank",attrs:{id:"modal-3-bank",title:"Desactivar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-bank")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-bank")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el banco: "+e._s(e.form.name)+" ? ")])],1),a("b-modal",{ref:"modal-4-bank",attrs:{id:"modal-4-bank",title:"Activar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-bank")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-bank")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al banco: "+e._s(e.form.name)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Egresos hospitalización")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetableHosp",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("EN HABITACIÓN")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("EN HABITACIÓN")])])])],1)])}},{key:"actions",fn:function(t){return[a("div",{staticClass:"button-container"},[a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-2-egresarHosp")}}},[e._v(" Egresar paciente ")]),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-1-trasladoHosp")}}},[e._v(" Trasladar paciente ")])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},zr=[],Hr=a("2909"),Lr={name:"Bank",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){this.getHabitaciones(0)},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])(["currentUser"])),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",form:{id:0,nombres:"",apellidos:"",expediente:"",cui:"",state:1},motivoEgresoHospi:"",motivoTrasladoHospi:"",alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",totPagado:0,selectedHab:null,habitaciones:[],selectedAccount:null,cuentas:[],selectedQuitOption:6,optionsQuit:[{text:"Fallecido",value:0},{text:"Egreso normal",value:7},{text:"Contraindicado",value:8},{text:"Referido",value:9}],selectedTrasOption:4,selectedPayment:[],paymentOptions:[{text:"Efectivo",value:1},{text:"Tarjeta",value:2},{text:"Depósito",value:3},{text:"Cheque",value:4},{text:"Seguro",value:5},{text:"Transferencia",value:6}],paymentType:{Efectivo:0,Tarjeta:0,Deposito:0,Cheque:0,Seguro:0,Transferencia:0},paymentSum:0,totalPayment:0,apiBase:q["a"]+"/expedientes/listHospitalizacion",optionsTraslado:[{text:"Quirófano",value:3},{text:"Emergencia",value:5},{text:"Intensivos",value:4}],fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombres",sortField:"nombres",title:"Nombre",dataClass:"list-item-heading"},{name:"apellidos",sortField:"apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}],fieldsAccounts:[{key:"numero",label:"Numero",sortable:!0},{key:"motivo",label:"Motivo",sortable:!0},{key:"pendiente_de_pago",label:"Total a pagar",sortable:!0},{key:"seleccion",label:"Selección",sortable:!0}]}},validations:function(){return{form:{name:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-bank"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-egresarHosp"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),null===this.selectedHab&&(1===this.selectedTrasOption||4===this.selectedTrasOption)||""===this.motivoTrasladoHospi?(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError()):(this.onState(),this.$bvModal.hide("modal-1-trasladoHosp"))},setData:function(e){this.form.name=e.nombres,this.form.state=e.estado,this.form.id=e.id,this.getCuentas(e.id)},onSave:function(){var e=this;ie.a.post(q["a"]+"/banco/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el banco "+e.form.name+" exitosamente",e.$refs.vuetableHosp.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/banco/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el banco "+e.form.name+" exitosamente",e.$refs.vuetableHosp.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this,t=this;ie.a.put(q["a"]+"/expedientes/changeState",{id:this.form.id,estado:this.selectedTrasOption,estado_anterior:1,motivo:this.motivoTrasladoHospi,tipo_cuenta:this.selectedTrasOption,user:t.currentUser.user}).then((function(a){e.motivoTrasladoIntensivo="",t.alertVariant="info",t.showAlert(),t.alertText="Se ha trasladado el paciente "+t.form.nombres+" exitosamente",t.$refs.vuetableHosp.refresh(),t.$refs["modal-1-trasladoHosp"].hide(),ie.a.put(q["a"]+"/habitaciones/available",{ocupante:e.form.id}).then((function(a){1!==e.selectedTrasOption&&4!==e.selectedTrasOption||ie.a.put(q["a"]+"/habitaciones/inUse",{id:e.selectedHab.id,ocupante:e.form.id}).then((function(a){var r;e.selectedHab=null,(r=console).log.apply(r,Object(Hr["a"])(Ur("1319611087_508_22_508_51_4",e.selectedHab))),e.getHabitaciones(0).then(t.$refs.selectHab.refresh())}))}))})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",e)}))},onPatientQuit:function(){var e=this;if(""===this.motivoEgresoHospi)this.alertErrorText="No has ingresado un motivo",this.showAlertError();else{var t=this;ie.a.put(q["a"]+"/expedientes/changeState",{id:this.form.id,estado:this.selectedQuitOption,estado_anterior:1,motivo:this.motivoEgresoHospi,habitaciones:0}).then((function(a){e.motivoEgresoHospi="",ie.a.put(q["a"]+"/habitaciones/available",{ocupante:e.form.id}),t.alertVariant="info",t.showAlert(),t.alertText="Se ha egresado el paciente "+t.form.nombres+" exitosamente",t.$refs.vuetableHosp.refresh(),t.$refs["modal-2-egresarHosp"].hide()})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",e)}))}},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetableHosp.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetableHosp.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetableHosp.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},getHabitaciones:function(e){var t=this;ie.a.get(q["a"]+"/habitaciones/get",{params:{tipo:e}}).then((function(e){var a;t.habitaciones=e.data,(a=console).log.apply(a,Object(Hr["a"])(Ur("1319611087_605_8_605_34_4",e.data)))}))},getCuentas:function(e){var t=this;ie.a.get(q["a"]+"/cuentas/getByExp",{params:{id:e}}).then((function(e){t.cuentas=e.data}))},inputPaymentType:function(e){this.paymentType=e},onRowSelected:function(e){this.selectedAccount=e[0].id,this.totalPayment=e[0].pendiente_de_pago,this.totPagado=e[0].total_pagado}}};function Qr(){try{return(0,eval)("globalThis._console_ninja")||(0,eval)("/* https://github.com/wallabyjs/console-ninja#how-does-it-work */'use strict';function _0x5ae6(_0xe59250,_0x3558db){var _0x207829=_0x2078();return _0x5ae6=function(_0x5ae68f,_0x3d71d3){_0x5ae68f=_0x5ae68f-0x79;var _0x29003a=_0x207829[_0x5ae68f];return _0x29003a;},_0x5ae6(_0xe59250,_0x3558db);}var _0x33751d=_0x5ae6;(function(_0x1580d3,_0x530235){var _0x2d62ab=_0x5ae6,_0x59bf7e=_0x1580d3();while(!![]){try{var _0x4c04e2=-parseInt(_0x2d62ab(0xab))/0x1+parseInt(_0x2d62ab(0x12a))/0x2*(-parseInt(_0x2d62ab(0x126))/0x3)+-parseInt(_0x2d62ab(0x15c))/0x4+parseInt(_0x2d62ab(0x10b))/0x5+parseInt(_0x2d62ab(0xf6))/0x6*(-parseInt(_0x2d62ab(0xd1))/0x7)+parseInt(_0x2d62ab(0x156))/0x8+parseInt(_0x2d62ab(0x164))/0x9;if(_0x4c04e2===_0x530235)break;else _0x59bf7e['push'](_0x59bf7e['shift']());}catch(_0x49e475){_0x59bf7e['push'](_0x59bf7e['shift']());}}}(_0x2078,0xbf608));var K=Object[_0x33751d(0x13b)],Q=Object['defineProperty'],G=Object['getOwnPropertyDescriptor'],ee=Object[_0x33751d(0x15f)],te=Object[_0x33751d(0x13a)],ne=Object[_0x33751d(0x117)]['hasOwnProperty'],re=(_0x378a0b,_0x5be43b,_0x4141ab,_0x5534d0)=>{var _0x1d91a9=_0x33751d;if(_0x5be43b&&typeof _0x5be43b=='object'||typeof _0x5be43b==_0x1d91a9(0x136)){for(let _0x43300f of ee(_0x5be43b))!ne[_0x1d91a9(0x120)](_0x378a0b,_0x43300f)&&_0x43300f!==_0x4141ab&&Q(_0x378a0b,_0x43300f,{'get':()=>_0x5be43b[_0x43300f],'enumerable':!(_0x5534d0=G(_0x5be43b,_0x43300f))||_0x5534d0[_0x1d91a9(0xf0)]});}return _0x378a0b;},V=(_0x1572c3,_0x1a5973,_0xb2e110)=>(_0xb2e110=_0x1572c3!=null?K(te(_0x1572c3)):{},re(_0x1a5973||!_0x1572c3||!_0x1572c3['__es'+'Module']?Q(_0xb2e110,'default',{'value':_0x1572c3,'enumerable':!0x0}):_0xb2e110,_0x1572c3)),x=class{constructor(_0x14c988,_0x3f5869,_0x487fcd,_0xdc6ff5,_0x490feb,_0x3149b4){var _0x3900c8=_0x33751d,_0x1814a9,_0x13a7ce,_0x3692d0,_0x3e7d20;this[_0x3900c8(0x119)]=_0x14c988,this[_0x3900c8(0x11c)]=_0x3f5869,this[_0x3900c8(0xb9)]=_0x487fcd,this[_0x3900c8(0x104)]=_0xdc6ff5,this['dockerizedApp']=_0x490feb,this['eventReceivedCallback']=_0x3149b4,this[_0x3900c8(0x9e)]=!0x0,this[_0x3900c8(0xd2)]=!0x0,this['_connected']=!0x1,this['_connecting']=!0x1,this[_0x3900c8(0x91)]=((_0x13a7ce=(_0x1814a9=_0x14c988[_0x3900c8(0x95)])==null?void 0x0:_0x1814a9[_0x3900c8(0xd3)])==null?void 0x0:_0x13a7ce[_0x3900c8(0xda)])==='edge',this[_0x3900c8(0x7b)]=!((_0x3e7d20=(_0x3692d0=this['global'][_0x3900c8(0x95)])==null?void 0x0:_0x3692d0[_0x3900c8(0xa6)])!=null&&_0x3e7d20[_0x3900c8(0xcf)])&&!this['_inNextEdge'],this[_0x3900c8(0x9f)]=null,this[_0x3900c8(0x9b)]=0x0,this[_0x3900c8(0x101)]=0x14,this[_0x3900c8(0xee)]=_0x3900c8(0xff),this[_0x3900c8(0xdf)]=(this[_0x3900c8(0x7b)]?'Console\\x20Ninja\\x20failed\\x20to\\x20send\\x20logs,\\x20refreshing\\x20the\\x20page\\x20may\\x20help;\\x20also\\x20see\\x20':_0x3900c8(0x102))+this[_0x3900c8(0xee)];}async[_0x33751d(0x113)](){var _0x459110=_0x33751d,_0x438d68,_0x4e623f;if(this[_0x459110(0x9f)])return this[_0x459110(0x9f)];let _0x409225;if(this[_0x459110(0x7b)]||this[_0x459110(0x91)])_0x409225=this[_0x459110(0x119)][_0x459110(0x108)];else{if((_0x438d68=this[_0x459110(0x119)][_0x459110(0x95)])!=null&&_0x438d68['_WebSocket'])_0x409225=(_0x4e623f=this[_0x459110(0x119)][_0x459110(0x95)])==null?void 0x0:_0x4e623f['_WebSocket'];else try{let _0x3e2c3a=await import('path');_0x409225=(await import((await import(_0x459110(0x87)))[_0x459110(0xbc)](_0x3e2c3a[_0x459110(0xae)](this[_0x459110(0x104)],_0x459110(0xd5)))[_0x459110(0x94)]()))[_0x459110(0xc2)];}catch{try{_0x409225=require(require(_0x459110(0xcc))['join'](this['nodeModules'],'ws'));}catch{throw new Error(_0x459110(0x8d));}}}return this[_0x459110(0x9f)]=_0x409225,_0x409225;}['_connectToHostNow'](){var _0x4a8d79=_0x33751d;this[_0x4a8d79(0x141)]||this['_connected']||this[_0x4a8d79(0x9b)]>=this['_maxConnectAttemptCount']||(this[_0x4a8d79(0xd2)]=!0x1,this['_connecting']=!0x0,this['_connectAttemptCount']++,this['_ws']=new Promise((_0x3cbe4d,_0x2e3ad8)=>{var _0x204198=_0x4a8d79;this[_0x204198(0x113)]()[_0x204198(0x85)](_0x3af9a3=>{var _0x5c60f2=_0x204198;let _0xe9f012=new _0x3af9a3(_0x5c60f2(0xeb)+(!this['_inBrowser']&&this[_0x5c60f2(0x7f)]?'gateway.docker.internal':this[_0x5c60f2(0x11c)])+':'+this[_0x5c60f2(0xb9)]);_0xe9f012[_0x5c60f2(0x15b)]=()=>{var _0xda8f41=_0x5c60f2;this[_0xda8f41(0x9e)]=!0x1,this[_0xda8f41(0x137)](_0xe9f012),this['_attemptToReconnectShortly'](),_0x2e3ad8(new Error('logger\\x20websocket\\x20error'));},_0xe9f012[_0x5c60f2(0xf2)]=()=>{var _0x17936b=_0x5c60f2;this[_0x17936b(0x7b)]||_0xe9f012['_socket']&&_0xe9f012[_0x17936b(0xfb)]['unref']&&_0xe9f012['_socket']['unref'](),_0x3cbe4d(_0xe9f012);},_0xe9f012[_0x5c60f2(0xb0)]=()=>{var _0x180c04=_0x5c60f2;this[_0x180c04(0xd2)]=!0x0,this[_0x180c04(0x137)](_0xe9f012),this[_0x180c04(0xa0)]();},_0xe9f012[_0x5c60f2(0x103)]=_0x14a9c0=>{var _0x21a770=_0x5c60f2;try{if(!(_0x14a9c0!=null&&_0x14a9c0[_0x21a770(0x11f)])||!this[_0x21a770(0xc8)])return;let _0x43e137=JSON['parse'](_0x14a9c0['data']);this[_0x21a770(0xc8)](_0x43e137[_0x21a770(0x14f)],_0x43e137[_0x21a770(0x149)],this[_0x21a770(0x119)],this['_inBrowser']);}catch{}};})[_0x204198(0x85)](_0x16cd61=>(this[_0x204198(0xd7)]=!0x0,this[_0x204198(0x141)]=!0x1,this[_0x204198(0xd2)]=!0x1,this[_0x204198(0x9e)]=!0x0,this[_0x204198(0x9b)]=0x0,_0x16cd61))[_0x204198(0x100)](_0x2d78fa=>(this[_0x204198(0xd7)]=!0x1,this[_0x204198(0x141)]=!0x1,console[_0x204198(0x158)](_0x204198(0x161)+this['_webSocketErrorDocsLink']),_0x2e3ad8(new Error('failed\\x20to\\x20connect\\x20to\\x20host:\\x20'+(_0x2d78fa&&_0x2d78fa['message'])))));}));}['_disposeWebsocket'](_0x517ffa){var _0x25991d=_0x33751d;this[_0x25991d(0xd7)]=!0x1,this[_0x25991d(0x141)]=!0x1;try{_0x517ffa['onclose']=null,_0x517ffa[_0x25991d(0x15b)]=null,_0x517ffa[_0x25991d(0xf2)]=null;}catch{}try{_0x517ffa[_0x25991d(0x138)]<0x2&&_0x517ffa[_0x25991d(0xaf)]();}catch{}}['_attemptToReconnectShortly'](){var _0x1a2f4c=_0x33751d;clearTimeout(this[_0x1a2f4c(0x8b)]),!(this[_0x1a2f4c(0x9b)]>=this[_0x1a2f4c(0x101)])&&(this[_0x1a2f4c(0x8b)]=setTimeout(()=>{var _0x4b103d=_0x1a2f4c,_0x5bc6bb;this[_0x4b103d(0xd7)]||this[_0x4b103d(0x141)]||(this[_0x4b103d(0x14b)](),(_0x5bc6bb=this[_0x4b103d(0x107)])==null||_0x5bc6bb[_0x4b103d(0x100)](()=>this[_0x4b103d(0xa0)]()));},0x1f4),this[_0x1a2f4c(0x8b)]['unref']&&this['_reconnectTimeout'][_0x1a2f4c(0x153)]());}async[_0x33751d(0xed)](_0x169a71){var _0x1691d8=_0x33751d;try{if(!this[_0x1691d8(0x9e)])return;this['_allowedToConnectOnSend']&&this[_0x1691d8(0x14b)](),(await this['_ws'])[_0x1691d8(0xed)](JSON[_0x1691d8(0xe0)](_0x169a71));}catch(_0x4c2811){console[_0x1691d8(0x158)](this[_0x1691d8(0xdf)]+':\\x20'+(_0x4c2811&&_0x4c2811[_0x1691d8(0xa4)])),this[_0x1691d8(0x9e)]=!0x1,this['_attemptToReconnectShortly']();}}};function _0x2078(){var _0xe2da9b=['origin','reload','depth','port','_addLoadNode','logger\\x20failed\\x20to\\x20connect\\x20to\\x20host','pathToFileURL','string','Map','disabledLog','undefined','\\x20browser','default','_dateToString','HTMLAllCollection','elements','error','_isNegativeZero','eventReceivedCallback',\"c:\\\\Users\\\\DELL\\\\.vscode\\\\extensions\\\\wallabyjs.console-ninja-1.0.326\\\\node_modules\",'current','substr','path','_undefined','NEGATIVE_INFINITY','node','autoExpandPropertyCount','532VSVcuz','_allowedToConnectOnSend','env','expId','ws/index.js','elapsed','_connected','','background:\\x20rgb(30,30,30);\\x20color:\\x20rgb(255,213,92)','NEXT_RUNTIME','_isPrimitiveType','String','console','isArray','_sendErrorMessage','stringify','indexOf','date','level','webpack','angular','type','get','_consoleNinjaAllowedToStart','_isMap','_processTreeNodeResult','ws://','[object\\x20Set]','send','_webSocketErrorDocsLink','root_exp','enumerable','Buffer','onopen','_setNodePermissions','...','serialize','49458nZLSmu','Number','parent','_addObjectProperty','_setNodeQueryPath','_socket','_hasSymbolPropertyOnItsPath','1719594684561','','https://tinyurl.com/37x8b79t','catch','_maxConnectAttemptCount','Console\\x20Ninja\\x20failed\\x20to\\x20send\\x20logs,\\x20restarting\\x20the\\x20process\\x20may\\x20help;\\x20also\\x20see\\x20','onmessage','nodeModules','_p_name',[\"localhost\",\"127.0.0.1\",\"example.cypress.io\",\"ALEX-PC\",\"192.168.1.25\"],'_ws','WebSocket','forEach','toLowerCase','830785UZMafj','location','_HTMLAllCollection','1.0.0','number','reduceLimits','see\\x20https://tinyurl.com/2vt8jxzw\\x20for\\x20more\\x20info.','_treeNodePropertiesBeforeFullValue','getWebSocketClass','autoExpandLimit','noFunctions','unknown','prototype','_setNodeLabel','global','expressionsToEvaluate','_setNodeExpandableState','host','127.0.0.1','bigint','data','call','rootExpression','_capIfString','push','autoExpandMaxDepth','_isUndefined','345tgHQjs','Set','includes','autoExpandPreviousObjects','500ifQCdk','_regExpToString','time','array','_getOwnPropertyNames','test','[object\\x20Date]','_p_','length','now','_addProperty','name','function','_disposeWebsocket','readyState','charAt','getPrototypeOf','create','[object\\x20Array]','totalStrLength','split','props','value','_connecting','_hasSetOnItsPath','negativeZero','boolean','remix','hostname','pop','edge','args','hrtime','_connectToHostNow','_objectToString','trace','stack','method','_sortProps','cappedProps','strLength','unref','_console_ninja_session','toUpperCase','5711968SyglLm','Boolean','warn','astro','Symbol','onerror','22136rCEGED','_property','autoExpand','getOwnPropertyNames','object','logger\\x20failed\\x20to\\x20connect\\x20to\\x20host,\\x20see\\x20','replace','getOwnPropertySymbols','5333724CAZoaK','_p_length','_treeNodePropertiesAfterFullValue','_inBrowser','capped','constructor','_console_ninja','dockerizedApp','resolveGetters','next.js','_addFunctionsNode','cappedElements','1','then','52712','url','_blacklistedProperty','setter','_isPrimitiveWrapperType','_reconnectTimeout','isExpressionToEvaluate','failed\\x20to\\x20find\\x20and\\x20load\\x20WebSocket','count','_Symbol','allStrLength','_inNextEdge','_type','\\x20server','toString','process','symbol','index','slice','stackTraceLimit','_isSet','_connectAttemptCount','match','sortProps','_allowedToSend','_WebSocketClass','_attemptToReconnectShortly','_keyStrRegExp','[object\\x20Map]','perf_hooks','message','null','versions','_isArray','_getOwnPropertyDescriptor','timeStamp','_additionalMetadata','28157LVqQxE','disabledTrace','coverage','join','close','onclose','positiveInfinity','log','_setNodeId','hits','nuxt'];_0x2078=function(){return _0xe2da9b;};return _0x2078();}function q(_0x26a3dc,_0x52d401,_0x543b86,_0x26b2b8,_0x4dc201,_0x1a2e80,_0x42671b,_0x24f68c=ie){var _0x174ad7=_0x33751d;let _0x45e80b=_0x543b86[_0x174ad7(0x13e)](',')['map'](_0x129428=>{var _0x1b4e7f=_0x174ad7,_0x529bcc,_0x2b5e61,_0x3bcd37,_0xf4afed;try{if(!_0x26a3dc[_0x1b4e7f(0x154)]){let _0x269048=((_0x2b5e61=(_0x529bcc=_0x26a3dc[_0x1b4e7f(0x95)])==null?void 0x0:_0x529bcc[_0x1b4e7f(0xa6)])==null?void 0x0:_0x2b5e61[_0x1b4e7f(0xcf)])||((_0xf4afed=(_0x3bcd37=_0x26a3dc[_0x1b4e7f(0x95)])==null?void 0x0:_0x3bcd37[_0x1b4e7f(0xd3)])==null?void 0x0:_0xf4afed[_0x1b4e7f(0xda)])===_0x1b4e7f(0x148);(_0x4dc201===_0x1b4e7f(0x81)||_0x4dc201===_0x1b4e7f(0x145)||_0x4dc201===_0x1b4e7f(0x159)||_0x4dc201===_0x1b4e7f(0xe5))&&(_0x4dc201+=_0x269048?_0x1b4e7f(0x93):_0x1b4e7f(0xc1)),_0x26a3dc[_0x1b4e7f(0x154)]={'id':+new Date(),'tool':_0x4dc201},_0x42671b&&_0x4dc201&&!_0x269048&&console[_0x1b4e7f(0xb2)]('%c\\x20Console\\x20Ninja\\x20extension\\x20is\\x20connected\\x20to\\x20'+(_0x4dc201[_0x1b4e7f(0x139)](0x0)[_0x1b4e7f(0x155)]()+_0x4dc201[_0x1b4e7f(0xcb)](0x1))+',',_0x1b4e7f(0xd9),_0x1b4e7f(0x111));}let _0x2b8e17=new x(_0x26a3dc,_0x52d401,_0x129428,_0x26b2b8,_0x1a2e80,_0x24f68c);return _0x2b8e17[_0x1b4e7f(0xed)]['bind'](_0x2b8e17);}catch(_0x28f69d){return console['warn'](_0x1b4e7f(0xbb),_0x28f69d&&_0x28f69d[_0x1b4e7f(0xa4)]),()=>{};}});return _0x5496d6=>_0x45e80b[_0x174ad7(0x109)](_0x4ef0c1=>_0x4ef0c1(_0x5496d6));}function ie(_0x87e2ba,_0x507635,_0x3211db,_0xce223e){var _0x6bbbc1=_0x33751d;_0xce223e&&_0x87e2ba===_0x6bbbc1(0xb7)&&_0x3211db[_0x6bbbc1(0x10c)][_0x6bbbc1(0xb7)]();}function b(_0x6a2708){var _0x5bcd25=_0x33751d,_0x42ac56,_0x5099ad;let _0x5a71f4=function(_0x41124a,_0x4e8278){return _0x4e8278-_0x41124a;},_0x4050b9;if(_0x6a2708['performance'])_0x4050b9=function(){var _0x54b501=_0x5ae6;return _0x6a2708['performance'][_0x54b501(0x133)]();};else{if(_0x6a2708[_0x5bcd25(0x95)]&&_0x6a2708[_0x5bcd25(0x95)][_0x5bcd25(0x14a)]&&((_0x5099ad=(_0x42ac56=_0x6a2708[_0x5bcd25(0x95)])==null?void 0x0:_0x42ac56[_0x5bcd25(0xd3)])==null?void 0x0:_0x5099ad[_0x5bcd25(0xda)])!=='edge')_0x4050b9=function(){return _0x6a2708['process']['hrtime']();},_0x5a71f4=function(_0x40d6f0,_0x4477e6){return 0x3e8*(_0x4477e6[0x0]-_0x40d6f0[0x0])+(_0x4477e6[0x1]-_0x40d6f0[0x1])/0xf4240;};else try{let {performance:_0x2f4392}=require(_0x5bcd25(0xa3));_0x4050b9=function(){var _0x7919e3=_0x5bcd25;return _0x2f4392[_0x7919e3(0x133)]();};}catch{_0x4050b9=function(){return+new Date();};}}return{'elapsed':_0x5a71f4,'timeStamp':_0x4050b9,'now':()=>Date[_0x5bcd25(0x133)]()};}function X(_0x5da9f0,_0x5064ba,_0x34bde2){var _0x39bcb0=_0x33751d,_0x3d1d83,_0x4decbf,_0xca2d94,_0x366bbd,_0x4e7dfe;if(_0x5da9f0[_0x39bcb0(0xe8)]!==void 0x0)return _0x5da9f0['_consoleNinjaAllowedToStart'];let _0x2c76a1=((_0x4decbf=(_0x3d1d83=_0x5da9f0['process'])==null?void 0x0:_0x3d1d83[_0x39bcb0(0xa6)])==null?void 0x0:_0x4decbf[_0x39bcb0(0xcf)])||((_0x366bbd=(_0xca2d94=_0x5da9f0[_0x39bcb0(0x95)])==null?void 0x0:_0xca2d94[_0x39bcb0(0xd3)])==null?void 0x0:_0x366bbd[_0x39bcb0(0xda)])===_0x39bcb0(0x148);return _0x2c76a1&&_0x34bde2===_0x39bcb0(0xb5)?_0x5da9f0['_consoleNinjaAllowedToStart']=!0x1:_0x5da9f0[_0x39bcb0(0xe8)]=_0x2c76a1||!_0x5064ba||((_0x4e7dfe=_0x5da9f0[_0x39bcb0(0x10c)])==null?void 0x0:_0x4e7dfe[_0x39bcb0(0x146)])&&_0x5064ba[_0x39bcb0(0x128)](_0x5da9f0[_0x39bcb0(0x10c)][_0x39bcb0(0x146)]),_0x5da9f0[_0x39bcb0(0xe8)];}function H(_0x147917,_0x44a8af,_0x312c1a,_0x47d946){var _0x515290=_0x33751d;_0x147917=_0x147917,_0x44a8af=_0x44a8af,_0x312c1a=_0x312c1a,_0x47d946=_0x47d946;let _0x385283=b(_0x147917),_0x34f28a=_0x385283[_0x515290(0xd6)],_0x45635f=_0x385283[_0x515290(0xa9)];class _0x42c272{constructor(){var _0x2cf18c=_0x515290;this[_0x2cf18c(0xa1)]=/^(?!(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*$/,this['_numberRegExp']=/^(0|[1-9][0-9]*)$/,this['_quotedRegExp']=/'([^\\\\']|\\\\')*'/,this['_undefined']=_0x147917['undefined'],this['_HTMLAllCollection']=_0x147917[_0x2cf18c(0xc4)],this['_getOwnPropertyDescriptor']=Object['getOwnPropertyDescriptor'],this[_0x2cf18c(0x12e)]=Object['getOwnPropertyNames'],this[_0x2cf18c(0x8f)]=_0x147917[_0x2cf18c(0x15a)],this[_0x2cf18c(0x12b)]=RegExp[_0x2cf18c(0x117)][_0x2cf18c(0x94)],this[_0x2cf18c(0xc3)]=Date[_0x2cf18c(0x117)][_0x2cf18c(0x94)];}[_0x515290(0xf5)](_0x418ad9,_0x2914a4,_0x5527e8,_0x2616da){var _0x49280e=_0x515290,_0x2033d9=this,_0x371bb1=_0x5527e8[_0x49280e(0x15e)];function _0x346a2e(_0x4e487a,_0x1a54b8,_0x4c3336){var _0x4a210a=_0x49280e;_0x1a54b8[_0x4a210a(0xe6)]=_0x4a210a(0x116),_0x1a54b8[_0x4a210a(0xc6)]=_0x4e487a[_0x4a210a(0xa4)],_0xf60310=_0x4c3336[_0x4a210a(0xcf)][_0x4a210a(0xca)],_0x4c3336['node']['current']=_0x1a54b8,_0x2033d9[_0x4a210a(0x112)](_0x1a54b8,_0x4c3336);}try{_0x5527e8[_0x49280e(0xe3)]++,_0x5527e8[_0x49280e(0x15e)]&&_0x5527e8[_0x49280e(0x129)][_0x49280e(0x123)](_0x2914a4);var _0x542ff1,_0x790118,_0x1e6337,_0x85e3c8,_0x5a53a5=[],_0x27e8fe=[],_0x113fcf,_0x1750c2=this[_0x49280e(0x92)](_0x2914a4),_0x2fdb3d=_0x1750c2===_0x49280e(0x12d),_0x5900cb=!0x1,_0x5a1921=_0x1750c2==='function',_0x2f0f91=this[_0x49280e(0xdb)](_0x1750c2),_0x224344=this['_isPrimitiveWrapperType'](_0x1750c2),_0x8ad7fe=_0x2f0f91||_0x224344,_0x1cbfb6={},_0x30ef89=0x0,_0x22fbbd=!0x1,_0xf60310,_0x4ebd54=/^(([1-9]{1}[0-9]*)|0)$/;if(_0x5527e8['depth']){if(_0x2fdb3d){if(_0x790118=_0x2914a4[_0x49280e(0x132)],_0x790118>_0x5527e8[_0x49280e(0xc5)]){for(_0x1e6337=0x0,_0x85e3c8=_0x5527e8[_0x49280e(0xc5)],_0x542ff1=_0x1e6337;_0x542ff1<_0x85e3c8;_0x542ff1++)_0x27e8fe[_0x49280e(0x123)](_0x2033d9[_0x49280e(0x134)](_0x5a53a5,_0x2914a4,_0x1750c2,_0x542ff1,_0x5527e8));_0x418ad9[_0x49280e(0x83)]=!0x0;}else{for(_0x1e6337=0x0,_0x85e3c8=_0x790118,_0x542ff1=_0x1e6337;_0x542ff1<_0x85e3c8;_0x542ff1++)_0x27e8fe[_0x49280e(0x123)](_0x2033d9[_0x49280e(0x134)](_0x5a53a5,_0x2914a4,_0x1750c2,_0x542ff1,_0x5527e8));}_0x5527e8[_0x49280e(0xd0)]+=_0x27e8fe[_0x49280e(0x132)];}if(!(_0x1750c2===_0x49280e(0xa5)||_0x1750c2===_0x49280e(0xc0))&&!_0x2f0f91&&_0x1750c2!==_0x49280e(0xdc)&&_0x1750c2!==_0x49280e(0xf1)&&_0x1750c2!==_0x49280e(0x11e)){var _0x1a33b3=_0x2616da[_0x49280e(0x13f)]||_0x5527e8[_0x49280e(0x13f)];if(this['_isSet'](_0x2914a4)?(_0x542ff1=0x0,_0x2914a4[_0x49280e(0x109)](function(_0x1b4f17){var _0xc15325=_0x49280e;if(_0x30ef89++,_0x5527e8[_0xc15325(0xd0)]++,_0x30ef89>_0x1a33b3){_0x22fbbd=!0x0;return;}if(!_0x5527e8['isExpressionToEvaluate']&&_0x5527e8[_0xc15325(0x15e)]&&_0x5527e8[_0xc15325(0xd0)]>_0x5527e8[_0xc15325(0x114)]){_0x22fbbd=!0x0;return;}_0x27e8fe['push'](_0x2033d9[_0xc15325(0x134)](_0x5a53a5,_0x2914a4,_0xc15325(0x127),_0x542ff1++,_0x5527e8,function(_0x33c8d1){return function(){return _0x33c8d1;};}(_0x1b4f17)));})):this[_0x49280e(0xe9)](_0x2914a4)&&_0x2914a4[_0x49280e(0x109)](function(_0x460735,_0x38bc3a){var _0x4d1791=_0x49280e;if(_0x30ef89++,_0x5527e8['autoExpandPropertyCount']++,_0x30ef89>_0x1a33b3){_0x22fbbd=!0x0;return;}if(!_0x5527e8[_0x4d1791(0x8c)]&&_0x5527e8[_0x4d1791(0x15e)]&&_0x5527e8['autoExpandPropertyCount']>_0x5527e8[_0x4d1791(0x114)]){_0x22fbbd=!0x0;return;}var _0x160b68=_0x38bc3a[_0x4d1791(0x94)]();_0x160b68[_0x4d1791(0x132)]>0x64&&(_0x160b68=_0x160b68[_0x4d1791(0x98)](0x0,0x64)+_0x4d1791(0xf4)),_0x27e8fe[_0x4d1791(0x123)](_0x2033d9[_0x4d1791(0x134)](_0x5a53a5,_0x2914a4,_0x4d1791(0xbe),_0x160b68,_0x5527e8,function(_0xdfcf7a){return function(){return _0xdfcf7a;};}(_0x460735)));}),!_0x5900cb){try{for(_0x113fcf in _0x2914a4)if(!(_0x2fdb3d&&_0x4ebd54[_0x49280e(0x12f)](_0x113fcf))&&!this[_0x49280e(0x88)](_0x2914a4,_0x113fcf,_0x5527e8)){if(_0x30ef89++,_0x5527e8[_0x49280e(0xd0)]++,_0x30ef89>_0x1a33b3){_0x22fbbd=!0x0;break;}if(!_0x5527e8[_0x49280e(0x8c)]&&_0x5527e8[_0x49280e(0x15e)]&&_0x5527e8[_0x49280e(0xd0)]>_0x5527e8[_0x49280e(0x114)]){_0x22fbbd=!0x0;break;}_0x27e8fe['push'](_0x2033d9[_0x49280e(0xf9)](_0x5a53a5,_0x1cbfb6,_0x2914a4,_0x1750c2,_0x113fcf,_0x5527e8));}}catch{}if(_0x1cbfb6[_0x49280e(0x79)]=!0x0,_0x5a1921&&(_0x1cbfb6[_0x49280e(0x105)]=!0x0),!_0x22fbbd){var _0x1cd4c1=[]['concat'](this['_getOwnPropertyNames'](_0x2914a4))['concat'](this['_getOwnPropertySymbols'](_0x2914a4));for(_0x542ff1=0x0,_0x790118=_0x1cd4c1['length'];_0x542ff1<_0x790118;_0x542ff1++)if(_0x113fcf=_0x1cd4c1[_0x542ff1],!(_0x2fdb3d&&_0x4ebd54['test'](_0x113fcf[_0x49280e(0x94)]()))&&!this[_0x49280e(0x88)](_0x2914a4,_0x113fcf,_0x5527e8)&&!_0x1cbfb6[_0x49280e(0x131)+_0x113fcf['toString']()]){if(_0x30ef89++,_0x5527e8[_0x49280e(0xd0)]++,_0x30ef89>_0x1a33b3){_0x22fbbd=!0x0;break;}if(!_0x5527e8[_0x49280e(0x8c)]&&_0x5527e8[_0x49280e(0x15e)]&&_0x5527e8[_0x49280e(0xd0)]>_0x5527e8[_0x49280e(0x114)]){_0x22fbbd=!0x0;break;}_0x27e8fe[_0x49280e(0x123)](_0x2033d9['_addObjectProperty'](_0x5a53a5,_0x1cbfb6,_0x2914a4,_0x1750c2,_0x113fcf,_0x5527e8));}}}}}if(_0x418ad9[_0x49280e(0xe6)]=_0x1750c2,_0x8ad7fe?(_0x418ad9[_0x49280e(0x140)]=_0x2914a4['valueOf'](),this['_capIfString'](_0x1750c2,_0x418ad9,_0x5527e8,_0x2616da)):_0x1750c2===_0x49280e(0xe2)?_0x418ad9['value']=this[_0x49280e(0xc3)][_0x49280e(0x120)](_0x2914a4):_0x1750c2===_0x49280e(0x11e)?_0x418ad9[_0x49280e(0x140)]=_0x2914a4['toString']():_0x1750c2==='RegExp'?_0x418ad9['value']=this[_0x49280e(0x12b)][_0x49280e(0x120)](_0x2914a4):_0x1750c2===_0x49280e(0x96)&&this[_0x49280e(0x8f)]?_0x418ad9[_0x49280e(0x140)]=this['_Symbol'][_0x49280e(0x117)]['toString'][_0x49280e(0x120)](_0x2914a4):!_0x5527e8['depth']&&!(_0x1750c2===_0x49280e(0xa5)||_0x1750c2===_0x49280e(0xc0))&&(delete _0x418ad9['value'],_0x418ad9[_0x49280e(0x7c)]=!0x0),_0x22fbbd&&(_0x418ad9[_0x49280e(0x151)]=!0x0),_0xf60310=_0x5527e8[_0x49280e(0xcf)][_0x49280e(0xca)],_0x5527e8[_0x49280e(0xcf)][_0x49280e(0xca)]=_0x418ad9,this['_treeNodePropertiesBeforeFullValue'](_0x418ad9,_0x5527e8),_0x27e8fe['length']){for(_0x542ff1=0x0,_0x790118=_0x27e8fe[_0x49280e(0x132)];_0x542ff1<_0x790118;_0x542ff1++)_0x27e8fe[_0x542ff1](_0x542ff1);}_0x5a53a5[_0x49280e(0x132)]&&(_0x418ad9['props']=_0x5a53a5);}catch(_0x22ab87){_0x346a2e(_0x22ab87,_0x418ad9,_0x5527e8);}return this['_additionalMetadata'](_0x2914a4,_0x418ad9),this[_0x49280e(0x7a)](_0x418ad9,_0x5527e8),_0x5527e8[_0x49280e(0xcf)]['current']=_0xf60310,_0x5527e8[_0x49280e(0xe3)]--,_0x5527e8[_0x49280e(0x15e)]=_0x371bb1,_0x5527e8[_0x49280e(0x15e)]&&_0x5527e8[_0x49280e(0x129)][_0x49280e(0x147)](),_0x418ad9;}['_getOwnPropertySymbols'](_0x272249){var _0x48d3f2=_0x515290;return Object[_0x48d3f2(0x163)]?Object[_0x48d3f2(0x163)](_0x272249):[];}[_0x515290(0x9a)](_0x5217cb){var _0x18f215=_0x515290;return!!(_0x5217cb&&_0x147917[_0x18f215(0x127)]&&this[_0x18f215(0x14c)](_0x5217cb)===_0x18f215(0xec)&&_0x5217cb[_0x18f215(0x109)]);}['_blacklistedProperty'](_0x535ac7,_0x23773a,_0x23d8e9){var _0x1c3919=_0x515290;return _0x23d8e9['noFunctions']?typeof _0x535ac7[_0x23773a]==_0x1c3919(0x136):!0x1;}['_type'](_0x27a6ea){var _0x579764=_0x515290,_0x46b2d1='';return _0x46b2d1=typeof _0x27a6ea,_0x46b2d1==='object'?this['_objectToString'](_0x27a6ea)===_0x579764(0x13c)?_0x46b2d1=_0x579764(0x12d):this[_0x579764(0x14c)](_0x27a6ea)===_0x579764(0x130)?_0x46b2d1=_0x579764(0xe2):this[_0x579764(0x14c)](_0x27a6ea)==='[object\\x20BigInt]'?_0x46b2d1='bigint':_0x27a6ea===null?_0x46b2d1='null':_0x27a6ea[_0x579764(0x7d)]&&(_0x46b2d1=_0x27a6ea['constructor']['name']||_0x46b2d1):_0x46b2d1==='undefined'&&this['_HTMLAllCollection']&&_0x27a6ea instanceof this[_0x579764(0x10d)]&&(_0x46b2d1=_0x579764(0xc4)),_0x46b2d1;}[_0x515290(0x14c)](_0x3dedf3){var _0xa219b5=_0x515290;return Object[_0xa219b5(0x117)][_0xa219b5(0x94)]['call'](_0x3dedf3);}[_0x515290(0xdb)](_0x176eef){var _0x39b258=_0x515290;return _0x176eef===_0x39b258(0x144)||_0x176eef===_0x39b258(0xbd)||_0x176eef===_0x39b258(0x10f);}[_0x515290(0x8a)](_0x2e0cf5){var _0x2faa9c=_0x515290;return _0x2e0cf5===_0x2faa9c(0x157)||_0x2e0cf5===_0x2faa9c(0xdc)||_0x2e0cf5===_0x2faa9c(0xf7);}[_0x515290(0x134)](_0x3e343a,_0x31ac03,_0x5ec52b,_0x577254,_0x3f1b90,_0x380e85){var _0x19b754=this;return function(_0x625083){var _0xde5c64=_0x5ae6,_0x133cc7=_0x3f1b90[_0xde5c64(0xcf)][_0xde5c64(0xca)],_0x1b4287=_0x3f1b90[_0xde5c64(0xcf)][_0xde5c64(0x97)],_0x2f8ace=_0x3f1b90[_0xde5c64(0xcf)]['parent'];_0x3f1b90['node']['parent']=_0x133cc7,_0x3f1b90[_0xde5c64(0xcf)][_0xde5c64(0x97)]=typeof _0x577254==_0xde5c64(0x10f)?_0x577254:_0x625083,_0x3e343a['push'](_0x19b754[_0xde5c64(0x15d)](_0x31ac03,_0x5ec52b,_0x577254,_0x3f1b90,_0x380e85)),_0x3f1b90['node']['parent']=_0x2f8ace,_0x3f1b90[_0xde5c64(0xcf)]['index']=_0x1b4287;};}[_0x515290(0xf9)](_0x51c917,_0xdc8cbd,_0x2da3e6,_0x5cb114,_0x16d968,_0x403e58,_0x290e2e){var _0x32349f=_0x515290,_0x258eae=this;return _0xdc8cbd[_0x32349f(0x131)+_0x16d968[_0x32349f(0x94)]()]=!0x0,function(_0x2f1ad9){var _0x3090b0=_0x32349f,_0xd3b315=_0x403e58[_0x3090b0(0xcf)][_0x3090b0(0xca)],_0x4781e7=_0x403e58['node'][_0x3090b0(0x97)],_0x58c13a=_0x403e58[_0x3090b0(0xcf)][_0x3090b0(0xf8)];_0x403e58[_0x3090b0(0xcf)][_0x3090b0(0xf8)]=_0xd3b315,_0x403e58[_0x3090b0(0xcf)][_0x3090b0(0x97)]=_0x2f1ad9,_0x51c917[_0x3090b0(0x123)](_0x258eae[_0x3090b0(0x15d)](_0x2da3e6,_0x5cb114,_0x16d968,_0x403e58,_0x290e2e)),_0x403e58['node'][_0x3090b0(0xf8)]=_0x58c13a,_0x403e58['node'][_0x3090b0(0x97)]=_0x4781e7;};}[_0x515290(0x15d)](_0x4c74a4,_0x1dd14e,_0x21660d,_0xe55160,_0xef94fe){var _0x99db=_0x515290,_0x32d0cb=this;_0xef94fe||(_0xef94fe=function(_0x5b685e,_0x524c50){return _0x5b685e[_0x524c50];});var _0x230309=_0x21660d['toString'](),_0x45b991=_0xe55160['expressionsToEvaluate']||{},_0x2d80f9=_0xe55160[_0x99db(0xb8)],_0x2a9214=_0xe55160['isExpressionToEvaluate'];try{var _0x58510d=this['_isMap'](_0x4c74a4),_0x3de447=_0x230309;_0x58510d&&_0x3de447[0x0]==='\\x27'&&(_0x3de447=_0x3de447[_0x99db(0xcb)](0x1,_0x3de447[_0x99db(0x132)]-0x2));var _0x4d0249=_0xe55160[_0x99db(0x11a)]=_0x45b991[_0x99db(0x131)+_0x3de447];_0x4d0249&&(_0xe55160[_0x99db(0xb8)]=_0xe55160[_0x99db(0xb8)]+0x1),_0xe55160[_0x99db(0x8c)]=!!_0x4d0249;var _0x5166de=typeof _0x21660d==_0x99db(0x96),_0x2d4f65={'name':_0x5166de||_0x58510d?_0x230309:this['_propertyName'](_0x230309)};if(_0x5166de&&(_0x2d4f65['symbol']=!0x0),!(_0x1dd14e===_0x99db(0x12d)||_0x1dd14e==='Error')){var _0x47c41=this[_0x99db(0xa8)](_0x4c74a4,_0x21660d);if(_0x47c41&&(_0x47c41['set']&&(_0x2d4f65[_0x99db(0x89)]=!0x0),_0x47c41[_0x99db(0xe7)]&&!_0x4d0249&&!_0xe55160[_0x99db(0x80)]))return _0x2d4f65['getter']=!0x0,this[_0x99db(0xea)](_0x2d4f65,_0xe55160),_0x2d4f65;}var _0x781e62;try{_0x781e62=_0xef94fe(_0x4c74a4,_0x21660d);}catch(_0x78b474){return _0x2d4f65={'name':_0x230309,'type':_0x99db(0x116),'error':_0x78b474[_0x99db(0xa4)]},this[_0x99db(0xea)](_0x2d4f65,_0xe55160),_0x2d4f65;}var _0x432271=this[_0x99db(0x92)](_0x781e62),_0x2a878f=this[_0x99db(0xdb)](_0x432271);if(_0x2d4f65[_0x99db(0xe6)]=_0x432271,_0x2a878f)this[_0x99db(0xea)](_0x2d4f65,_0xe55160,_0x781e62,function(){_0x2d4f65['value']=_0x781e62['valueOf'](),!_0x4d0249&&_0x32d0cb['_capIfString'](_0x432271,_0x2d4f65,_0xe55160,{});});else{var _0x22853b=_0xe55160['autoExpand']&&_0xe55160[_0x99db(0xe3)]<_0xe55160[_0x99db(0x124)]&&_0xe55160[_0x99db(0x129)][_0x99db(0xe1)](_0x781e62)<0x0&&_0x432271!==_0x99db(0x136)&&_0xe55160['autoExpandPropertyCount']<_0xe55160[_0x99db(0x114)];_0x22853b||_0xe55160[_0x99db(0xe3)]<_0x2d80f9||_0x4d0249?(this[_0x99db(0xf5)](_0x2d4f65,_0x781e62,_0xe55160,_0x4d0249||{}),this[_0x99db(0xaa)](_0x781e62,_0x2d4f65)):this[_0x99db(0xea)](_0x2d4f65,_0xe55160,_0x781e62,function(){var _0x4063fb=_0x99db;_0x432271===_0x4063fb(0xa5)||_0x432271==='undefined'||(delete _0x2d4f65[_0x4063fb(0x140)],_0x2d4f65[_0x4063fb(0x7c)]=!0x0);});}return _0x2d4f65;}finally{_0xe55160['expressionsToEvaluate']=_0x45b991,_0xe55160[_0x99db(0xb8)]=_0x2d80f9,_0xe55160[_0x99db(0x8c)]=_0x2a9214;}}[_0x515290(0x122)](_0x1fcfd1,_0x240d71,_0x406f49,_0x530746){var _0x2224a6=_0x515290,_0x7aeb6c=_0x530746[_0x2224a6(0x152)]||_0x406f49[_0x2224a6(0x152)];if((_0x1fcfd1==='string'||_0x1fcfd1==='String')&&_0x240d71['value']){let _0x169253=_0x240d71['value'][_0x2224a6(0x132)];_0x406f49['allStrLength']+=_0x169253,_0x406f49[_0x2224a6(0x90)]>_0x406f49[_0x2224a6(0x13d)]?(_0x240d71['capped']='',delete _0x240d71[_0x2224a6(0x140)]):_0x169253>_0x7aeb6c&&(_0x240d71[_0x2224a6(0x7c)]=_0x240d71[_0x2224a6(0x140)][_0x2224a6(0xcb)](0x0,_0x7aeb6c),delete _0x240d71[_0x2224a6(0x140)]);}}[_0x515290(0xe9)](_0x1a765a){var _0x514102=_0x515290;return!!(_0x1a765a&&_0x147917['Map']&&this['_objectToString'](_0x1a765a)===_0x514102(0xa2)&&_0x1a765a[_0x514102(0x109)]);}['_propertyName'](_0x279ef4){var _0x553f98=_0x515290;if(_0x279ef4[_0x553f98(0x9c)](/^\\d+$/))return _0x279ef4;var _0x30360b;try{_0x30360b=JSON[_0x553f98(0xe0)](''+_0x279ef4);}catch{_0x30360b='\\x22'+this[_0x553f98(0x14c)](_0x279ef4)+'\\x22';}return _0x30360b[_0x553f98(0x9c)](/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?_0x30360b=_0x30360b[_0x553f98(0xcb)](0x1,_0x30360b[_0x553f98(0x132)]-0x2):_0x30360b=_0x30360b[_0x553f98(0x162)](/'/g,'\\x5c\\x27')[_0x553f98(0x162)](/\\\\\"/g,'\\x22')['replace'](/(^\"|\"$)/g,'\\x27'),_0x30360b;}[_0x515290(0xea)](_0x4e4a05,_0x4a2256,_0x3c9cc4,_0x109d6d){var _0x4b9a23=_0x515290;this[_0x4b9a23(0x112)](_0x4e4a05,_0x4a2256),_0x109d6d&&_0x109d6d(),this[_0x4b9a23(0xaa)](_0x3c9cc4,_0x4e4a05),this[_0x4b9a23(0x7a)](_0x4e4a05,_0x4a2256);}[_0x515290(0x112)](_0x56d64a,_0x1faec6){var _0x1ceec2=_0x515290;this[_0x1ceec2(0xb3)](_0x56d64a,_0x1faec6),this[_0x1ceec2(0xfa)](_0x56d64a,_0x1faec6),this['_setNodeExpressionPath'](_0x56d64a,_0x1faec6),this[_0x1ceec2(0xf3)](_0x56d64a,_0x1faec6);}[_0x515290(0xb3)](_0x2be4f8,_0x458602){}[_0x515290(0xfa)](_0x43381f,_0xf6f985){}[_0x515290(0x118)](_0x49e48b,_0x51cc48){}[_0x515290(0x125)](_0x29a077){var _0x2765ad=_0x515290;return _0x29a077===this[_0x2765ad(0xcd)];}[_0x515290(0x7a)](_0x36ac5e,_0x19267a){var _0x58faf1=_0x515290;this[_0x58faf1(0x118)](_0x36ac5e,_0x19267a),this[_0x58faf1(0x11b)](_0x36ac5e),_0x19267a['sortProps']&&this['_sortProps'](_0x36ac5e),this[_0x58faf1(0x82)](_0x36ac5e,_0x19267a),this[_0x58faf1(0xba)](_0x36ac5e,_0x19267a),this['_cleanNode'](_0x36ac5e);}['_additionalMetadata'](_0x368138,_0x52343d){var _0x8dfb6e=_0x515290;let _0x3cd82a;try{_0x147917[_0x8dfb6e(0xdd)]&&(_0x3cd82a=_0x147917[_0x8dfb6e(0xdd)][_0x8dfb6e(0xc6)],_0x147917[_0x8dfb6e(0xdd)][_0x8dfb6e(0xc6)]=function(){}),_0x368138&&typeof _0x368138['length']=='number'&&(_0x52343d['length']=_0x368138[_0x8dfb6e(0x132)]);}catch{}finally{_0x3cd82a&&(_0x147917['console'][_0x8dfb6e(0xc6)]=_0x3cd82a);}if(_0x52343d[_0x8dfb6e(0xe6)]===_0x8dfb6e(0x10f)||_0x52343d[_0x8dfb6e(0xe6)]==='Number'){if(isNaN(_0x52343d[_0x8dfb6e(0x140)]))_0x52343d['nan']=!0x0,delete _0x52343d[_0x8dfb6e(0x140)];else switch(_0x52343d[_0x8dfb6e(0x140)]){case Number['POSITIVE_INFINITY']:_0x52343d[_0x8dfb6e(0xb1)]=!0x0,delete _0x52343d[_0x8dfb6e(0x140)];break;case Number[_0x8dfb6e(0xce)]:_0x52343d['negativeInfinity']=!0x0,delete _0x52343d[_0x8dfb6e(0x140)];break;case 0x0:this['_isNegativeZero'](_0x52343d[_0x8dfb6e(0x140)])&&(_0x52343d[_0x8dfb6e(0x143)]=!0x0);break;}}else _0x52343d['type']===_0x8dfb6e(0x136)&&typeof _0x368138['name']=='string'&&_0x368138['name']&&_0x52343d['name']&&_0x368138[_0x8dfb6e(0x135)]!==_0x52343d[_0x8dfb6e(0x135)]&&(_0x52343d['funcName']=_0x368138[_0x8dfb6e(0x135)]);}[_0x515290(0xc7)](_0x20e398){var _0x1c402c=_0x515290;return 0x1/_0x20e398===Number[_0x1c402c(0xce)];}[_0x515290(0x150)](_0x36203f){var _0x5531c6=_0x515290;!_0x36203f[_0x5531c6(0x13f)]||!_0x36203f[_0x5531c6(0x13f)]['length']||_0x36203f[_0x5531c6(0xe6)]==='array'||_0x36203f[_0x5531c6(0xe6)]===_0x5531c6(0xbe)||_0x36203f['type']==='Set'||_0x36203f[_0x5531c6(0x13f)]['sort'](function(_0x4d4ca9,_0x2f219c){var _0x223978=_0x5531c6,_0x8819fe=_0x4d4ca9[_0x223978(0x135)][_0x223978(0x10a)](),_0x1913bb=_0x2f219c[_0x223978(0x135)][_0x223978(0x10a)]();return _0x8819fe<_0x1913bb?-0x1:_0x8819fe>_0x1913bb?0x1:0x0;});}[_0x515290(0x82)](_0x2909c7,_0x1934d3){var _0x235014=_0x515290;if(!(_0x1934d3[_0x235014(0x115)]||!_0x2909c7[_0x235014(0x13f)]||!_0x2909c7['props']['length'])){for(var _0x392bcb=[],_0x5627c4=[],_0x1d353f=0x0,_0x4b2c74=_0x2909c7['props'][_0x235014(0x132)];_0x1d353f<_0x4b2c74;_0x1d353f++){var _0x281b39=_0x2909c7[_0x235014(0x13f)][_0x1d353f];_0x281b39[_0x235014(0xe6)]==='function'?_0x392bcb[_0x235014(0x123)](_0x281b39):_0x5627c4['push'](_0x281b39);}if(!(!_0x5627c4[_0x235014(0x132)]||_0x392bcb['length']<=0x1)){_0x2909c7['props']=_0x5627c4;var _0x256b5c={'functionsNode':!0x0,'props':_0x392bcb};this[_0x235014(0xb3)](_0x256b5c,_0x1934d3),this['_setNodeLabel'](_0x256b5c,_0x1934d3),this['_setNodeExpandableState'](_0x256b5c),this['_setNodePermissions'](_0x256b5c,_0x1934d3),_0x256b5c['id']+='\\x20f',_0x2909c7['props']['unshift'](_0x256b5c);}}}['_addLoadNode'](_0x295cd4,_0x389a81){}[_0x515290(0x11b)](_0x3e7b7d){}[_0x515290(0xa7)](_0x382e53){var _0x110587=_0x515290;return Array[_0x110587(0xde)](_0x382e53)||typeof _0x382e53==_0x110587(0x160)&&this[_0x110587(0x14c)](_0x382e53)===_0x110587(0x13c);}[_0x515290(0xf3)](_0x58b3ab,_0x5a8e17){}['_cleanNode'](_0x25ace0){var _0x51b934=_0x515290;delete _0x25ace0[_0x51b934(0xfc)],delete _0x25ace0[_0x51b934(0x142)],delete _0x25ace0['_hasMapOnItsPath'];}['_setNodeExpressionPath'](_0x2fef7e,_0xe54948){}}let _0x35a9de=new _0x42c272(),_0x330d73={'props':0x64,'elements':0x64,'strLength':0x400*0x32,'totalStrLength':0x400*0x32,'autoExpandLimit':0x1388,'autoExpandMaxDepth':0xa},_0x2be8e5={'props':0x5,'elements':0x5,'strLength':0x100,'totalStrLength':0x100*0x3,'autoExpandLimit':0x1e,'autoExpandMaxDepth':0x2};function _0x2ebdd6(_0x493fe0,_0x4fa987,_0x2b0fe4,_0x5ec792,_0x459c24,_0x39303e){var _0x3d1486=_0x515290;let _0x36e1db,_0x5e6fe8;try{_0x5e6fe8=_0x45635f(),_0x36e1db=_0x312c1a[_0x4fa987],!_0x36e1db||_0x5e6fe8-_0x36e1db['ts']>0x1f4&&_0x36e1db[_0x3d1486(0x8e)]&&_0x36e1db['time']/_0x36e1db['count']<0x64?(_0x312c1a[_0x4fa987]=_0x36e1db={'count':0x0,'time':0x0,'ts':_0x5e6fe8},_0x312c1a['hits']={}):_0x5e6fe8-_0x312c1a[_0x3d1486(0xb4)]['ts']>0x32&&_0x312c1a[_0x3d1486(0xb4)][_0x3d1486(0x8e)]&&_0x312c1a[_0x3d1486(0xb4)][_0x3d1486(0x12c)]/_0x312c1a[_0x3d1486(0xb4)][_0x3d1486(0x8e)]<0x64&&(_0x312c1a[_0x3d1486(0xb4)]={});let _0x290eab=[],_0x2ad36d=_0x36e1db[_0x3d1486(0x110)]||_0x312c1a[_0x3d1486(0xb4)][_0x3d1486(0x110)]?_0x2be8e5:_0x330d73,_0x5b619f=_0x1a5f4d=>{var _0x37329b=_0x3d1486;let _0x164119={};return _0x164119['props']=_0x1a5f4d[_0x37329b(0x13f)],_0x164119[_0x37329b(0xc5)]=_0x1a5f4d[_0x37329b(0xc5)],_0x164119['strLength']=_0x1a5f4d[_0x37329b(0x152)],_0x164119[_0x37329b(0x13d)]=_0x1a5f4d[_0x37329b(0x13d)],_0x164119[_0x37329b(0x114)]=_0x1a5f4d['autoExpandLimit'],_0x164119[_0x37329b(0x124)]=_0x1a5f4d[_0x37329b(0x124)],_0x164119[_0x37329b(0x9d)]=!0x1,_0x164119['noFunctions']=!_0x44a8af,_0x164119[_0x37329b(0xb8)]=0x1,_0x164119[_0x37329b(0xe3)]=0x0,_0x164119[_0x37329b(0xd4)]='root_exp_id',_0x164119[_0x37329b(0x121)]=_0x37329b(0xef),_0x164119[_0x37329b(0x15e)]=!0x0,_0x164119[_0x37329b(0x129)]=[],_0x164119[_0x37329b(0xd0)]=0x0,_0x164119['resolveGetters']=!0x0,_0x164119['allStrLength']=0x0,_0x164119['node']={'current':void 0x0,'parent':void 0x0,'index':0x0},_0x164119;};for(var _0x3b5f7d=0x0;_0x3b5f7d<_0x459c24[_0x3d1486(0x132)];_0x3b5f7d++)_0x290eab['push'](_0x35a9de[_0x3d1486(0xf5)]({'timeNode':_0x493fe0===_0x3d1486(0x12c)||void 0x0},_0x459c24[_0x3b5f7d],_0x5b619f(_0x2ad36d),{}));if(_0x493fe0==='trace'){let _0x195658=Error[_0x3d1486(0x99)];try{Error[_0x3d1486(0x99)]=0x1/0x0,_0x290eab[_0x3d1486(0x123)](_0x35a9de[_0x3d1486(0xf5)]({'stackNode':!0x0},new Error()[_0x3d1486(0x14e)],_0x5b619f(_0x2ad36d),{'strLength':0x1/0x0}));}finally{Error['stackTraceLimit']=_0x195658;}}return{'method':_0x3d1486(0xb2),'version':_0x47d946,'args':[{'ts':_0x2b0fe4,'session':_0x5ec792,'args':_0x290eab,'id':_0x4fa987,'context':_0x39303e}]};}catch(_0x1752b7){return{'method':'log','version':_0x47d946,'args':[{'ts':_0x2b0fe4,'session':_0x5ec792,'args':[{'type':_0x3d1486(0x116),'error':_0x1752b7&&_0x1752b7[_0x3d1486(0xa4)]}],'id':_0x4fa987,'context':_0x39303e}]};}finally{try{if(_0x36e1db&&_0x5e6fe8){let _0x29d45d=_0x45635f();_0x36e1db[_0x3d1486(0x8e)]++,_0x36e1db['time']+=_0x34f28a(_0x5e6fe8,_0x29d45d),_0x36e1db['ts']=_0x29d45d,_0x312c1a[_0x3d1486(0xb4)][_0x3d1486(0x8e)]++,_0x312c1a['hits'][_0x3d1486(0x12c)]+=_0x34f28a(_0x5e6fe8,_0x29d45d),_0x312c1a[_0x3d1486(0xb4)]['ts']=_0x29d45d,(_0x36e1db[_0x3d1486(0x8e)]>0x32||_0x36e1db[_0x3d1486(0x12c)]>0x64)&&(_0x36e1db[_0x3d1486(0x110)]=!0x0),(_0x312c1a['hits'][_0x3d1486(0x8e)]>0x3e8||_0x312c1a[_0x3d1486(0xb4)][_0x3d1486(0x12c)]>0x12c)&&(_0x312c1a[_0x3d1486(0xb4)]['reduceLimits']=!0x0);}}catch{}}}return _0x2ebdd6;}((_0x405643,_0xc56d5c,_0x1d3bf3,_0x515388,_0x2a06dc,_0x5e120d,_0x4eef48,_0x2ed395,_0x3cead1,_0x40f4db,_0x416151)=>{var _0x49cd45=_0x33751d;if(_0x405643[_0x49cd45(0x7e)])return _0x405643[_0x49cd45(0x7e)];if(!X(_0x405643,_0x2ed395,_0x2a06dc))return _0x405643[_0x49cd45(0x7e)]={'consoleLog':()=>{},'consoleTrace':()=>{},'consoleTime':()=>{},'consoleTimeEnd':()=>{},'autoLog':()=>{},'autoLogMany':()=>{},'autoTraceMany':()=>{},'coverage':()=>{},'autoTrace':()=>{},'autoTime':()=>{},'autoTimeEnd':()=>{}},_0x405643[_0x49cd45(0x7e)];let _0x4421ad=b(_0x405643),_0x42696b=_0x4421ad['elapsed'],_0x2e995c=_0x4421ad['timeStamp'],_0x59f487=_0x4421ad['now'],_0x1e40df={'hits':{},'ts':{}},_0xe19f5c=H(_0x405643,_0x3cead1,_0x1e40df,_0x5e120d),_0x508599=_0xcb2a38=>{_0x1e40df['ts'][_0xcb2a38]=_0x2e995c();},_0x5b9cb5=(_0x15db7e,_0x269b70)=>{let _0x2bf66f=_0x1e40df['ts'][_0x269b70];if(delete _0x1e40df['ts'][_0x269b70],_0x2bf66f){let _0x1051e8=_0x42696b(_0x2bf66f,_0x2e995c());_0x25c8f0(_0xe19f5c('time',_0x15db7e,_0x59f487(),_0x813611,[_0x1051e8],_0x269b70));}},_0xd6d65a=_0x23f663=>{var _0xa2c722=_0x49cd45,_0x4c21a4;return _0x2a06dc===_0xa2c722(0x81)&&_0x405643[_0xa2c722(0xb6)]&&((_0x4c21a4=_0x23f663==null?void 0x0:_0x23f663[_0xa2c722(0x149)])==null?void 0x0:_0x4c21a4[_0xa2c722(0x132)])&&(_0x23f663['args'][0x0][_0xa2c722(0xb6)]=_0x405643[_0xa2c722(0xb6)]),_0x23f663;};_0x405643[_0x49cd45(0x7e)]={'consoleLog':(_0x36e667,_0x24b326)=>{var _0x239e42=_0x49cd45;_0x405643['console'][_0x239e42(0xb2)][_0x239e42(0x135)]!==_0x239e42(0xbf)&&_0x25c8f0(_0xe19f5c(_0x239e42(0xb2),_0x36e667,_0x59f487(),_0x813611,_0x24b326));},'consoleTrace':(_0x4b54ce,_0x508460)=>{var _0x5b01c3=_0x49cd45;_0x405643[_0x5b01c3(0xdd)][_0x5b01c3(0xb2)]['name']!==_0x5b01c3(0xac)&&_0x25c8f0(_0xd6d65a(_0xe19f5c(_0x5b01c3(0x14d),_0x4b54ce,_0x59f487(),_0x813611,_0x508460)));},'consoleTime':_0x1ee006=>{_0x508599(_0x1ee006);},'consoleTimeEnd':(_0x1a5381,_0xfd0104)=>{_0x5b9cb5(_0xfd0104,_0x1a5381);},'autoLog':(_0x3107d9,_0xfb2d79)=>{var _0x29d869=_0x49cd45;_0x25c8f0(_0xe19f5c(_0x29d869(0xb2),_0xfb2d79,_0x59f487(),_0x813611,[_0x3107d9]));},'autoLogMany':(_0x3b1378,_0x2a8043)=>{var _0x4aabc7=_0x49cd45;_0x25c8f0(_0xe19f5c(_0x4aabc7(0xb2),_0x3b1378,_0x59f487(),_0x813611,_0x2a8043));},'autoTrace':(_0x128d6a,_0x5ae067)=>{var _0x36f7cf=_0x49cd45;_0x25c8f0(_0xd6d65a(_0xe19f5c(_0x36f7cf(0x14d),_0x5ae067,_0x59f487(),_0x813611,[_0x128d6a])));},'autoTraceMany':(_0xb06e21,_0x57434f)=>{var _0x393941=_0x49cd45;_0x25c8f0(_0xd6d65a(_0xe19f5c(_0x393941(0x14d),_0xb06e21,_0x59f487(),_0x813611,_0x57434f)));},'autoTime':(_0x557530,_0x35115b,_0x53e345)=>{_0x508599(_0x53e345);},'autoTimeEnd':(_0x4f84b0,_0x1b2498,_0x2b1426)=>{_0x5b9cb5(_0x1b2498,_0x2b1426);},'coverage':_0x36aec7=>{var _0x4f94c5=_0x49cd45;_0x25c8f0({'method':_0x4f94c5(0xad),'version':_0x5e120d,'args':[{'id':_0x36aec7}]});}};let _0x25c8f0=q(_0x405643,_0xc56d5c,_0x1d3bf3,_0x515388,_0x2a06dc,_0x40f4db,_0x416151),_0x813611=_0x405643[_0x49cd45(0x154)];return _0x405643[_0x49cd45(0x7e)];})(globalThis,_0x33751d(0x11d),_0x33751d(0x86),_0x33751d(0xc9),_0x33751d(0xe4),_0x33751d(0x10e),_0x33751d(0xfd),_0x33751d(0x106),_0x33751d(0xfe),_0x33751d(0xd8),_0x33751d(0x84));")}catch(e){}}function Ur(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];try{Qr().consoleLog(e,a)}catch(o){}return a}var jr,Yr,Br,Gr,Zr,Wr,Kr,Jr,Xr=Lr,eo=Object($["a"])(Xr,Vr,zr,!1,null,null,null),to=eo.exports,ao=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-traslado",attrs:{id:"modal-1-traslado",title:"Trasladar paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onValidate(),this.selectedHab=null}}},[e._v("Ingresar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-1-traslado")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea trasladar el paciente: "+e._s(e.form.nombres)+" ? ")]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-col",[a("b-form-group",{attrs:{label:"Área a la que desea trasladar:"}},[a("b-form-radio-group",{attrs:{id:"radio-group-2",options:e.optionsTraslado,name:"radio-options"},model:{value:e.selectedTrasOption,callback:function(t){e.selectedTrasOption=t},expression:"selectedTrasOption"}}),1==e.selectedTrasOption||4==e.selectedTrasOption?a("div",[e._v(" Habitación "),a("v-select",{ref:"selectHab",attrs:{options:e.habitaciones,label:"numero",value:"id"},model:{value:e.selectedHab,callback:function(t){e.selectedHab=t},expression:"selectedHab"}})],1):e._e()],1)],1)],1),a("div",[e._v(" Ingrese un motivo para el traslado ")]),a("div",[a("b-input",{ref:"motivoTraslado",attrs:{id:"motivoTraslado"},model:{value:e.motivoTrasladoEmergencia,callback:function(t){e.motivoTrasladoEmergencia=t},expression:"motivoTrasladoEmergencia"}})],1)],1),a("b-modal",{ref:"modal-2-egreso",attrs:{id:"modal-2-egreso",title:"Egresar paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onPatientQuit()}}},[e._v("Aceptar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-2-egreso")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",[e._v("¿Desea dar egreso al paciente "+e._s(this.form.nombres)+" "+e._s(this.form.apellidos)+"?")]),[a("div",[a("b-form-group",{attrs:{label:"Motivo del egreso:"}},[a("b-form-radio-group",{attrs:{id:"radio-group-egreso",options:e.optionsQuit,name:"radio-options-2"},model:{value:e.selectedQuitOption,callback:function(t){e.selectedQuitOption=t},expression:"selectedQuitOption"}})],1)],1),a("div",[e._v(" Nota de egreso ")]),a("div",[a("b-input",{ref:"motivoEgreso",attrs:{id:"motivoEgreso"},model:{value:e.motivoEgresoEmergencia,callback:function(t){e.motivoEgresoEmergencia=t},expression:"motivoEgresoEmergencia"}})],1)]],2),a("b-modal",{ref:"modal-3-bank",attrs:{id:"modal-3-bank",title:"Desactivar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-bank")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-bank")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el banco: "+e._s(e.form.name)+" ? ")]),[a("div",[a("b-form-group",{attrs:{label:"Motivo del egreso:"}},[a("b-form-radio-group",{attrs:{id:"radio-group-egreso",options:e.optionsQuit,name:"radio-options-2"},model:{value:e.selectedQuitOption,callback:function(t){e.selectedQuitOption=t},expression:"selectedQuitOption"}})],1)],1)]],2),a("b-modal",{ref:"modal-4-bank",attrs:{id:"modal-4-bank",title:"Activar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-bank")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-bank")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al banco: "+e._s(e.form.name)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Egresos emergencia")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong")])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("EN EMERGENCIAS")])])])],1)])}},{key:"actions",fn:function(t){return[a("div",{staticClass:"button-container"},[a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-2-egreso")}}},[e._v(" Egresar paciente ")]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Trasladar paciente",expression:"'Trasladar paciente'",modifiers:{top:!0}}],staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-1-traslado")}}},[e._v(" Trasladar paciente ")])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},ro=[],oo={name:"Bank",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){this.getHabitaciones(0)},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])(["currentUser"])),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",totPagado:0,form:{id:0,nombres:"",apellidos:"",expediente:"",cui:"",state:1},alertSecs:5,motivoEgresoEmergencia:"",motivoTrasladoEmergencia:"",alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",selectedPayment:[],paymentOptions:[{text:"Efectivo",value:1},{text:"Tarjeta",value:2},{text:"Depósito",value:3},{text:"Cheque",value:4},{text:"Seguro",value:5},{text:"Transferencia",value:6}],paymentType:{Efectivo:0,Tarjeta:0,Deposito:0,Cheque:0,Seguro:0,Transferencia:0},paymentSum:0,alertVariant:"",selectedHab:null,habitaciones:[],selectedAccount:null,totalPayment:0,cuentas:[],selectedQuitOption:0,optionsQuit:[{text:"Fallecido",value:0},{text:"Egreso normal",value:7},{text:"Contraindicado",value:8},{text:"Referido",value:9}],selectedTrasOption:1,optionsTraslado:[{text:"Quirófano",value:3},{text:"Hospitalización",value:1},{text:"Intensivos",value:4}],apiBase:q["a"]+"/expedientes/listEmergencia",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombres",sortField:"nombres",title:"Nombre",dataClass:"list-item-heading"},{name:"apellidos",sortField:"appellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}],fieldsAccounts:[{key:"numero",label:"Numero",sortable:!0},{key:"motivo",label:"Motivo",sortable:!0},{key:"pendiente_de_pago",label:"Total a pagar",sortable:!0},{key:"seleccion",label:"Selección",sortable:!0}]}},validations:function(){return{form:{name:{required:_a["c"]}}}},methods:{onRowSelected:function(e){this.selectedAccount=e[0].id,this.totalPayment=e[0].pendiente_de_pago,this.totPagado=e[0].total_pagado},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-traslado"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-egreso"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),null===this.selectedHab&&(1===this.selectedTrasOption||4===this.selectedTrasOption)||""===this.motivoTrasladoEmergencia?(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError()):(this.onState(),this.$bvModal.hide("modal-1-traslado"))},setData:function(e){this.form.name=e.nombres+" "+e.apellidos,this.form.apellidos=e.apellidos,this.form.state=e.estado,this.form.id=e.id,this.getCuentas(e.id)},onSave:function(){var e=this;ie.a.post(q["a"]+"/banco/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/banco/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this,t=this;ie.a.put(q["a"]+"/expedientes/changeState",{id:this.form.id,estado:this.selectedTrasOption,estado_anterior:5,motivo:this.motivoTrasladoEmergencia,user:t.currentUser.user,tipo_cuenta:this.selectedTrasOption}).then((function(a){e.motivoTrasladoEmergencia="",t.alertVariant="info",t.showAlert(),t.alertText="Se ha trasladado el paciente "+t.form.nombres+" exitosamente",t.$refs.vuetable.refresh(),t.$refs["modal-1-traslado"].hide(),1!==e.selectedTrasOption&&4!==e.selectedTrasOption||ie.a.put(q["a"]+"/habitaciones/inUse",{id:e.selectedHab.id,ocupante:e.form.id}).then((function(a){e.selectedHab=null,console.log(e.selectedHab),e.getHabitaciones(0).then(t.$refs.selectHab.refresh())}))})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",e)}))},onPatientQuit:function(){var e=this;if(""===this.motivoEgresoEmergencia)this.alertErrorText="No has ingresado un motivo",this.showAlertError();else{var t=this;ie.a.put(q["a"]+"/expedientes/changeState",{id:this.form.id,estado:this.selectedQuitOption,estado_anterior:4,motivo:this.motivoEgresoEmergencia,user:t.currentUser.user}).then((function(a){e.motivoEgresoEmergencia="",t.alertVariant="info",t.showAlert(),t.alertText="Se ha egresado el paciente "+t.form.nombres+" exitosamente",t.$refs.vuetable.refresh(),t.$refs["modal-2-egreso"].hide()})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",e)}))}},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},getHabitaciones:function(e){var t=this;ie.a.get(q["a"]+"/habitaciones/get",{params:{tipo:e}}).then((function(e){t.habitaciones=e.data,console.log(e.data)}))},getCuentas:function(e){var t=this;ie.a.get(q["a"]+"/cuentas/getByExp",{params:{id:e}}).then((function(e){t.cuentas=e.data}))},inputPaymentType:function(e){this.paymentType=e}}},io=oo,no=Object($["a"])(io,ao,ro,!1,null,null,null),so=no.exports,lo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-traslado-uci",attrs:{id:"modal-1-traslado-uci",title:"Trasladar paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onValidate(),this.selectedHab=null}}},[e._v("Ingresar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-1-traslado-uci")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea trasladar el paciente: "+e._s(e.form.nombres)+" ? ")]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-col",[a("b-form-group",{attrs:{label:"Área a la que desea trasladar:"}},[a("b-form-radio-group",{attrs:{id:"radio-group-2",options:e.optionsTraslado,name:"radio-options"},model:{value:e.selectedTrasOption,callback:function(t){e.selectedTrasOption=t},expression:"selectedTrasOption"}}),1==e.selectedTrasOption||4==e.selectedTrasOption?a("div",[e._v(" Habitación "),a("v-select",{ref:"selectHab",attrs:{options:e.habitaciones,label:"numero",value:"id"},model:{value:e.selectedHab,callback:function(t){e.selectedHab=t},expression:"selectedHab"}})],1):e._e()],1)],1)],1),a("div",[e._v(" Ingrese un motivo para el traslado ")]),a("div",[a("b-input",{ref:"motivoTraslado",attrs:{id:"motivoTraslado"},model:{value:e.motivoTrasladoIntensivo,callback:function(t){e.motivoTrasladoIntensivo=t},expression:"motivoTrasladoIntensivo"}})],1)],1),a("b-modal",{ref:"modal-2-uciegreso",attrs:{id:"modal-2-uciegreso",title:"Egresar paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onPatientQuit()}}},[e._v("Aceptar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-2-uciegreso")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",[e._v("¿Desea dar egreso al paciente "+e._s(this.form.nombres)+" "+e._s(this.form.apellidos)+"?")]),[a("div",[a("b-form-group",{attrs:{label:"Motivo del egreso:"}},[a("b-form-radio-group",{attrs:{id:"radio-group-egreso",options:e.optionsQuit,name:"radio-options-2"},model:{value:e.selectedQuitOption,callback:function(t){e.selectedQuitOption=t},expression:"selectedQuitOption"}})],1)],1),a("div",[e._v(" Nota de egreso ")]),a("div",[a("b-input",{ref:"motivoEgreso",attrs:{id:"motivoEgreso"},model:{value:e.motivoEgresoIntensivo,callback:function(t){e.motivoEgresoIntensivo=t},expression:"motivoEgresoIntensivo"}})],1)]],2),a("b-modal",{ref:"modal-3-bank",attrs:{id:"modal-3-bank",title:"Desactivar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-bank")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-bank")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el banco: "+e._s(e.form.name)+" ? ")])],1),a("b-modal",{ref:"modal-4-bank",attrs:{id:"modal-4-bank",title:"Activar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-bank")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-bank")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al banco: "+e._s(e.form.name)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Egresos Unidad de Cuidados Intensivos")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetableUci",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong")])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("EN UCI")])])])],1)])}},{key:"actions",fn:function(t){return[a("div",{staticClass:"button-container"},[a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-2-uciegreso")}}},[e._v(" Egresar paciente ")]),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-1-traslado-uci")}}},[e._v(" Trasladar paciente ")])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},co=[],mo={name:"Bank",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){this.getHabitaciones(0)},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])(["currentUser"])),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",totPagado:0,form:{id:0,nombres:"",apellidos:"",expediente:"",cui:"",state:1},alertSecs:5,motivoEgresoIntensivo:"",motivoTrasladoIntensivo:"",alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",selectedPayment:[],paymentOptions:[{text:"Efectivo",value:1},{text:"Tarjeta",value:2},{text:"Depósito",value:3},{text:"Cheque",value:4},{text:"Seguro",value:5},{text:"Transferencia",value:6}],paymentType:{Efectivo:0,Tarjeta:0,Deposito:0,Cheque:0,Seguro:0,Transferencia:0},paymentSum:0,alertVariant:"",selectedHab:null,habitaciones:[],selectedAccount:null,totalPayment:0,cuentas:[],selectedQuitOption:6,optionsQuit:[{text:"Fallecido",value:0},{text:"Desahuciado",value:6}],selectedTrasOption:1,optionsTraslado:[{text:"Quirófano",value:3},{text:"Hospitalización",value:1},{text:"Emergencia",value:5}],apiBase:q["a"]+"/expedientes/listIntensivo",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombres",sortField:"nombres",title:"Nombre",dataClass:"list-item-heading"},{name:"apellidos",sortField:"appellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}],fieldsAccounts:[{key:"numero",label:"Numero",sortable:!0},{key:"motivo",label:"Motivo",sortable:!0},{key:"pendiente_de_pago",label:"Total a pagar",sortable:!0},{key:"seleccion",label:"Selección",sortable:!0}]}},validations:function(){return{form:{name:{required:_a["c"]}}}},methods:{onRowSelected:function(e){this.selectedAccount=e[0].id,this.totalPayment=e[0].pendiente_de_pago,this.totPagado=e[0].total_pagado},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-traslado-uci"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-uciegreso"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),null===this.selectedHab&&(1===this.selectedTrasOption||4===this.selectedTrasOption)||""===this.motivoTrasladoIntensivo?(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError()):(this.onState(),this.$bvModal.hide("modal-1-traslado-uci"))},setData:function(e){this.form.name=e.nombres+" "+e.apellidos,this.form.apellidos=e.apellidos,this.form.state=e.estado,this.form.id=e.id,this.getCuentas(e.id)},onSave:function(){var e=this;ie.a.post(q["a"]+"/banco/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el banco "+e.form.name+" exitosamente",e.$refs.vuetableUci.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/banco/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el banco "+e.form.name+" exitosamente",e.$refs.vuetableUci.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this,t=this;ie.a.put(q["a"]+"/expedientes/changeState",{id:this.form.id,estado:this.selectedTrasOption,estado_anterior:4,motivo:this.motivoTrasladoIntensivo,user:t.currentUser.user,tipo_cuenta:this.selectedTrasOption}).then((function(a){e.motivoTrasladoIntensivo="",ie.a.put(q["a"]+"/habitaciones/available",{ocupante:e.form.id}),t.alertVariant="info",t.showAlert(),t.alertText="Se ha trasladado el paciente "+t.form.nombres+" exitosamente",t.$refs.vuetableUci.refresh(),t.$refs["modal-1-traslado-uci"].hide(),1!==e.selectedTrasOption&&4!==e.selectedTrasOption||ie.a.put(q["a"]+"/habitaciones/inUse",{id:e.selectedHab.id,ocupante:e.form.id}).then((function(a){var r;e.selectedHab=null,(r=console).log.apply(r,Object(Hr["a"])(oo_oo("2046176019_511_16_511_45_4",e.selectedHab))),e.getHabitaciones(0).then(t.$refs.selectHab.refresh())}))})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",e)}))},onPatientQuit:function(){var e=this;if(this.paymentSum=0,this.totalPayment=0,""===this.motivoEgresoIntensivo)this.alertErrorText="No has ingresado un motivo",this.showAlertError();else if(this.paymentSum!==parseFloat(this.totalPayment))this.alertErrorText="El total a pagar no concuerda con el total ingresado",this.showAlertError();else{var t=this;ie.a.put(q["a"]+"/expedientes/changeState",{id:this.form.id,estado:this.selectedQuitOption,estado_anterior:4,motivo:this.motivoEgresoIntensivo,habitaciones:0}).then((function(a){e.motivoEgresoIntensivo="",ie.a.put(q["a"]+"/habitaciones/available",{ocupante:e.form.id}),t.alertVariant="info",t.showAlert(),t.alertText="Se ha egresado el paciente "+t.form.nombres+" exitosamente",t.$refs.vuetableUci.refresh(),t.$refs["modal-2-uciegreso"].hide()})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",e)}))}},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetableUci.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetableUci.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetableUci.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},getHabitaciones:function(e){var t=this;ie.a.get(q["a"]+"/habitaciones/get",{params:{tipo:e}}).then((function(e){var a;t.habitaciones=e.data,(a=console).log.apply(a,Object(Hr["a"])(oo_oo("2046176019_635_8_635_34_4",e.data)))}))},getCuentas:function(e){var t=this;ie.a.get(q["a"]+"/cuentas/getByExp",{params:{id:e}}).then((function(e){t.cuentas=e.data}))},inputPaymentType:function(e){this.paymentType=e}}},uo=mo,fo=Object($["a"])(uo,lo,co,!1,null,null,null),ho=fo.exports,po={name:"EgresosParent",components:{EgresosHospitalizacion:to,EgresosEmergencia:so,EgresosIntensivo:ho},data:function(){return{patient:{},patientId:0}},mounted:function(){g["a"].index()},beforeMount:function(){this.patientId=this.$route.params.id,this.getPatient(this.patientId)},methods:{getPatient:function(e){var t=this;ie.a.get(q["a"]+"/paciente/get?id=".concat(e)).then((function(e){t.patient=e.data})).catch((function(e){console.log(e)}))},backToPatients:function(){this.$router.push({name:"patient.patients"})}}},bo=po,vo=Object($["a"])(bo,Nr,Rr,!1,null,null,null),go=vo.exports,_o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-pago",attrs:{id:"modal-1-pago",title:"Pagar por adelantado",size:"xl"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onPatientQuit()}}},[e._v("Aceptar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-1-pago")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),[a("div",[a("h6",[e._v("Cuentas activas para "+e._s(this.form.nombres)+" "+e._s(this.form.apellidos))]),a("b-card",[a("b-card-body",[a("b-table",{attrs:{hover:"",items:e.cuentas,fields:e.fieldsAccounts,"select-mode":"single",selectable:""},on:{"row-selected":e.onRowSelected},scopedSlots:e._u([{key:"cell(seleccion)",fn:function(t){var r=t.rowSelected;return[r?[a("span",{attrs:{"aria-hidden":"true"}},[e._v("✓")]),a("span",{staticClass:"sr-only"},[e._v("Selected")])]:[a("span",{attrs:{"aria-hidden":"true"}},[e._v(" ")]),a("span",{staticClass:"sr-only"},[e._v("Not selected")])]]}}])}),a("div",[e._v("Total por pagar: "+e._s(this.totalSUM))]),a("b-form-group",{attrs:{label:"Seleccione métodos para pagar:"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.ariaDescribedby;return[a("b-form-checkbox-group",{attrs:{id:"checkbox-group-1",options:e.paymentOptions,"aria-describedby":r,name:"flavour-1"},model:{value:e.selectedPayment,callback:function(t){e.selectedPayment=t},expression:"selectedPayment"}})]}}])}),-1!==e.selectedPayment.indexOf(1)?a("div",[e._v(" Efectivo "),a("b-input",{ref:"CashTypeInput",attrs:{type:"number",id:"CashTypeInput"},model:{value:e.paymentType.Efectivo,callback:function(t){e.$set(e.paymentType,"Efectivo",t)},expression:"paymentType.Efectivo"}})],1):e._e(),-1!==e.selectedPayment.indexOf(2)?a("div",[e._v(" Tarjeta "),a("b-input",{ref:"CardTypeInput",attrs:{type:"number",id:"CardTypeInput"},model:{value:e.paymentType.Tarjeta,callback:function(t){e.$set(e.paymentType,"Tarjeta",t)},expression:"paymentType.Tarjeta"}}),e._v(" Recargo (%) "),a("b-input",{ref:"CardRechargeTypeInput",attrs:{type:"number",id:"CardRechargeTypeInput"},model:{value:e.paymentType.Tarjeta,callback:function(t){e.$set(e.paymentType,"Tarjeta",t)},expression:"paymentType.Tarjeta"}})],1):e._e(),-1!==e.selectedPayment.indexOf(3)?a("div",[e._v(" Depósito "),a("b-input",{ref:"DepositTypeInput",attrs:{type:"number",id:"DepositTypeInput"},model:{value:e.paymentType.Deposito,callback:function(t){e.$set(e.paymentType,"Deposito",t)},expression:"paymentType.Deposito"}})],1):e._e(),-1!==e.selectedPayment.indexOf(4)?a("div",[e._v(" Cheque "),a("b-input",{ref:"CheckTypeInput",attrs:{type:"number",id:"CheckTypeInput"},model:{value:e.paymentType.Cheque,callback:function(t){e.$set(e.paymentType,"Cheque",t)},expression:"paymentType.Cheque"}})],1):e._e(),-1!==e.selectedPayment.indexOf(5)?a("div",[e._v(" Seguro "),a("b-input",{ref:"InsuranceTypeInput",attrs:{type:"number",id:"InsuranceTypeInput"},model:{value:e.paymentType.Seguro,callback:function(t){e.$set(e.paymentType,"Seguro",t)},expression:"paymentType.Seguro"}})],1):e._e(),a("div",[a("strong",[e._v(" TOTAL INGRESADO: "+e._s(parseFloat(this.paymentType.Efectivo)+parseFloat(this.paymentType.Tarjeta)+parseFloat(this.paymentType.Deposito)+parseFloat(this.paymentType.Cheque)+parseFloat(this.paymentType.Seguro)))])]),a("div",[a("strong",[e._v(" TOTAL A PAGAR: "+e._s(this.totalPayment))])])],1),a("div")],1)],1)]],2),a("b-modal",{ref:"modal-2-expediente",attrs:{id:"modal-2-expediente",size:"xl",title:"Editar expediente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("div",[a("b-tabs",{attrs:{"content-class":"mt-3"}},[a("b-tab",{attrs:{title:"Paciente",active:""}},[a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("span",{staticClass:"required-asterisk",staticStyle:{position:"absolute",top:"50%",transform:"translateY(-50%)",right:"5px",color:"red"}}),a("b-form-input",{class:{"is-invalid":e.$v.form.nombre.$error},attrs:{placeholder:"Ingresar nombre",required:""},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.$error?a("div",{staticClass:"invalid-feedback"},[e.$v.form.nombre.required.$error?e._e():a("div",[e._v("Debe ingresar nombre")]),e.$v.form.nombre.ValidateName.$error?e._e():a("div",[e._v("El nombre solo debe contener letras mayúsculas y con tildes")])]):e._e()],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Apellidos:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.apellidos.$error},attrs:{placeholder:"Ingresar apellidos"},model:{value:e.$v.form.apellidos.$model,callback:function(t){e.$set(e.$v.form.apellidos,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.apellidos.$model"}}),e.$v.form.apellidos.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Ingresar los apellidos ")]):e._e()],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Apellido de casada: "}},[a("b-form-input",{attrs:{placeholder:"Ingresar apellido de casada"},model:{value:e.form.casada,callback:function(t){e.$set(e.form,"casada","string"===typeof t?t.trim():t)},expression:"form.casada"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Fecha de nacimiento:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.nacimiento.$error},attrs:{type:"date",placeholder:"Ingresar fecha de nacimiento"},model:{value:e.form.nacimiento,callback:function(t){e.$set(e.form,"nacimiento",t)},expression:"form.nacimiento"}}),e.$v.form.nacimiento.$error?a("div",{staticClass:"invalid-feedback"},[e.$v.form.nombre.required.$error?e._e():a("div",[e._v("Debe ingresar fecha de nacimiento")])]):e._e()],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Telefono:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.telefono.$error},attrs:{placeholder:"Ingresar telefono"},model:{value:e.$v.form.telefono.$model,callback:function(t){e.$set(e.$v.form.telefono,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.telefono.$model"}}),e.$v.form.telefono.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el telefono ")]):e._e(),e.$v.form.telefono.numeric.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar unicamente numeros ")]):e._e()],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Sexo:"}},[a("v-select",{attrs:{name:"type",options:e.generos,placeholder:"Seleccione el sexo"},model:{value:e.form.genero,callback:function(t){e.$set(e.form,"genero",t)},expression:"form.genero"}})],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"CUI:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.cui.$error},attrs:{placeholder:"Ingresar el CUI"},model:{value:e.$v.form.cui.$model,callback:function(t){e.$set(e.$v.form.cui,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.cui.$model"}}),e.$v.form.cui.$error?a("div",{staticClass:"invalid-feedback"},[e._v(" El valor del CUI debe ser numerico. ")]):e._e(),e.$v.form.cui.numeric.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar unicamente numeros ")]):e._e()],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Nacionalidad:"}},[a("v-select",{attrs:{name:"type",options:e.nacionalidades,placeholder:"Seleccione nacionalidad"},model:{value:e.form.nacionalidad,callback:function(t){e.$set(e.form,"nacionalidad",t)},expression:"form.nacionalidad"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Dirección:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.direccion.$error},attrs:{placeholder:"Ingresar dirección"},model:{value:e.$v.form.direccion.$model,callback:function(t){e.$set(e.$v.form.direccion,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.direccion.$model"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Lugar de nacimiento:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar lugar de nacimiento"},model:{value:e.form.lugar_nacimiento,callback:function(t){e.$set(e.form,"lugar_nacimiento","string"===typeof t?t.trim():t)},expression:"form.lugar_nacimiento"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Profesión u oficio:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar profesión"},model:{value:e.form.profesion,callback:function(t){e.$set(e.form,"profesion","string"===typeof t?t.trim():t)},expression:"form.profesion"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Estado civil:"}},[a("v-select",{attrs:{name:"type",options:e.estados_civiles,placeholder:"Seleccione estado civil"},model:{value:e.form.estado_civil,callback:function(t){e.$set(e.form,"estado_civil",t)},expression:"form.estado_civil"}})],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Nombre del padre:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar nombre del padre"},model:{value:e.form.nombre_padre,callback:function(t){e.$set(e.form,"nombre_padre","string"===typeof t?t.trim():t)},expression:"form.nombre_padre"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Nombre de la madre:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar nombre de la madre"},model:{value:e.form.nombre_madre,callback:function(t){e.$set(e.form,"nombre_madre","string"===typeof t?t.trim():t)},expression:"form.nombre_madre"}})],1)],1)],1)],1),a("b-tab",{attrs:{title:"Encargado"}},[a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.nombre_encargado.$error},attrs:{placeholder:"Ingresar nombre"},model:{value:e.$v.form.nombre_encargado.$model,callback:function(t){e.$set(e.$v.form.nombre_encargado,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre_encargado.$model"}}),e.$v.form.nombre_encargado.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre del encargado ")]):e._e()],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Telefono:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.contacto_encargado.$error},attrs:{placeholder:"Ingresar telefono"},model:{value:e.$v.form.contacto_encargado.$model,callback:function(t){e.$set(e.$v.form.contacto_encargado,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.contacto_encargado.$model"}}),e.$v.form.contacto_encargado.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el telefono ")]):e._e(),e.$v.form.contacto_encargado.numeric.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar unicamente numeros ")]):e._e()],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"CUI:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.cui_encargado.$error},attrs:{placeholder:"Ingresar el CUI"},model:{value:e.$v.form.cui_encargado.$model,callback:function(t){e.$set(e.$v.form.cui_encargado,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.cui_encargado.$model"}}),e.$v.form.cui_encargado.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el CUI del encargado ")]):e._e(),e.$v.form.cui_encargado.$error?a("div",{staticClass:"invalid-feedback"},[e._v(" El valor del CUI debe ser numerico. ")]):e._e()],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Estado civil:"}},[a("v-select",{attrs:{name:"type",options:e.estados_civiles,placeholder:"Seleccione estado civil de encargado"},model:{value:e.form.estado_civil_encargado,callback:function(t){e.$set(e.form,"estado_civil_encargado",t)},expression:"form.estado_civil_encargado"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Parentesco:"}},[a("v-select",{attrs:{name:"type",options:e.parentescos,placeholder:"Seleccione parentesco"},model:{value:e.form.parentesco_encargado,callback:function(t){e.$set(e.form,"parentesco_encargado",t)},expression:"form.parentesco_encargado"}})],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Dirección de encargado:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar dirección"},model:{value:e.form.direccion_encargado,callback:function(t){e.$set(e.form,"direccion_encargado","string"===typeof t?t.trim():t)},expression:"form.direccion_encargado"}})],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Profesión u oficio de encargado:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar profesión u oficio"},model:{value:e.form.profesion_encargado,callback:function(t){e.$set(e.form,"profesion_encargado","string"===typeof t?t.trim():t)},expression:"form.profesion_encargado"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Edad de encargado:"}},[a("b-form-input",{attrs:{type:"number",min:"0",max:"100",placeholder:"Ingresar edad"},model:{value:e.form.edad_encargado,callback:function(t){e.$set(e.form,"edad_encargado","string"===typeof t?t.trim():t)},expression:"form.edad_encargado"}})],1)],1)],1)],1),a("b-tab",{attrs:{title:"Cónyugue"}},[a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar nombre de conyuge"},model:{value:e.form.nombre_conyuge,callback:function(t){e.$set(e.form,"nombre_conyuge","string"===typeof t?t.trim():t)},expression:"form.nombre_conyuge"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Telefono:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar telefono de conyuge"},model:{value:e.form.telefono_conyuge,callback:function(t){e.$set(e.form,"telefono_conyuge","string"===typeof t?t.trim():t)},expression:"form.telefono_conyuge"}})],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Dirección de conyuge:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar dirección de conyuge"},model:{value:e.form.direccion_conyuge,callback:function(t){e.$set(e.form,"direccion_conyuge","string"===typeof t?t.trim():t)},expression:"form.direccion_conyuge"}})],1)],1)],1)],1)],1)],1)])],1),a("b-modal",{ref:"modal-3-medico",attrs:{id:"modal-3-medico",title:"Asignar médico",size:"md"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onDoctorAssignment()}}},[e._v("Asignar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-medico")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),[a("div",[a("b-card",[a("b-card-body",[a("v-select",{attrs:{name:"type",options:e.doctors,reduce:function(e){return e.value},placeholder:"Seleccione un médico",label:"text"},on:{search:e.onSearchMedicos},model:{value:e.selectedDoctor,callback:function(t){e.selectedDoctor=t},expression:"selectedDoctor"}})],1)],1)],1)]],2),a("b-modal",{ref:"modal-contrato",attrs:{id:"modal-contrato",title:"Generar Contrato",size:"xl"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.descargarpdf()}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("contrato")}}},[e._v("Cancelar")])]}}])},[a("div",{attrs:{id:"previewContainer"}},[a("iframe",{attrs:{src:e.previewURL,width:"100%",height:"700px"}})])]),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Expedientes")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1===t.rowData.estado?a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:""}},[e._v("INGRESADO EN HOSPITAL")]):e._e(),2===t.rowData.estado?a("button",{staticClass:"btn btn-warning",attrs:{type:"button",disabled:""}},[e._v("EGRESADO")]):e._e(),3===t.rowData.estado?a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:""}},[e._v("INGRESADO EN QUIRÓFANO")]):e._e(),4===t.rowData.estado?a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:""}},[e._v("INGRESADO EN INTENSIVO")]):e._e(),5===t.rowData.estado?a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:""}},[e._v("INGRESADO EN EMERGENCIA")]):e._e(),6===t.rowData.estado?a("button",{staticClass:"btn btn-dark",attrs:{type:"button",disabled:""}},[e._v("DESAHUCIADO")]):e._e(),7===t.rowData.estado?a("button",{staticClass:"btn btn-dark",attrs:{type:"button",disabled:""}},[e._v("ALTA MÉDICA")]):e._e(),8===t.rowData.estado?a("button",{staticClass:"btn btn-dark",attrs:{type:"button",disabled:""}},[e._v("EGRESO CONTRAINDICADO")]):e._e(),9===t.rowData.estado?a("button",{staticClass:"btn btn-dark",attrs:{type:"button",disabled:""}},[e._v("REFERIDO A OTRA UBICACIÓN")]):e._e(),10===t.rowData.estado?a("button",{staticClass:"btn btn-dark",attrs:{type:"button",disabled:""}},[e._v("EXPEDIENTE INCOMPLETO")]):e._e(),0===t.rowData.estado?a("button",{staticClass:"btn btn-dark",attrs:{type:"button",disabled:""}},[e._v("FALLECIDO")]):e._e()])}},{key:"actions",fn:function(t){return[a("div",{staticClass:"button-container"},[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-expediente",modifiers:{"modal-2-expediente":!0}}],staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){return e.setData(t.rowData)}}},[e._v("Editar")]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Pago adelantado",expression:"'Pago adelantado'",modifiers:{top:!0}}],staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-1-pago")}}},[e._v("Pago por adelantado")]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Asignar médico",expression:"'Asignar médico'",modifiers:{top:!0}}],staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark",disabled:!e.hasPermission([5,7])},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-3-medico"),e.getDoctors()}}},[e._v("Asignar un médico")]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Generar Contrato",expression:"'Generar Contrato'",modifiers:{top:!0}}],staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){e.$bvModal.show("modal-responsable"),e.setDatos(t.rowData)}}},[e._v("Generar contrato")]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Generar Sumario",expression:"'Generar Sumario'",modifiers:{top:!0}}],staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){return e.generarSumario(t.rowData)}}},[e._v("Generar sumario de paciente")]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Generar Cuenta Total",expression:"'Generar Cuenta Total'",modifiers:{top:!0}}],staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success",disabled:!e.hasPermission([5,7])},on:{click:function(a){return e.generarCuentaTotal(t.rowData.id,t.rowData.nombres,t.rowData.apellidos)}}},[e._v("Generar Cuenta Total de paciente")])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},xo=[],Co=a("3835"),$o=(a("1276"),{name:"Bank",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])({currentUser:"currentUser"})),data:function(){return{from:0,totalSUM:0,to:0,total:0,perPage:5,search:"",form:{id:0,name:"",nombre:"",apellidos:"",expediente:"",casada:"",nacimiento:null,cui:null,nacionalidad:null,telefono:"",direccion:"",generos:"",nombre_encargado:"",contacto_encargado:"",parentesco_encargado:"",edad_encargado:"",state:1,id_usuario:null,estado_civil:null,profesion:"",nombre_madre:"",nombre_padre:"",lugar_nacimiento:"",estado_civil_encargado:null,profesion_encargado:"",direccion_encargado:"",cui_encargado:"",nombre_conyuge:"",direccion_conyuge:"",telefono_conyuge:"",selectedOption:"hospi",assignedDoctor:0,tipo_paciente:"0",motivo:" ",fecha:null,hora:null},selectedDoctor:[],nacionalidades:["Guatemala","El Salvador","México","Honduras","Belice","Otro"],generos:["Masculino","Femenino"],parentescos:["Padre/Madre","Hermano/a","Hijo/a","Cónyuge","Otro"],estados_civiles:["Soltero/a","Casado/a","Viudo/a","Separado/a","Divorciado/a","Otro"],doctors:[],totPagado:0,alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",selectedAccount:null,cuentas:[],selectedTrasOption:4,selectedPayment:[],fieldsAccounts:[{key:"numero",label:"Numero",sortable:!0},{key:"motivo",label:"Motivo",sortable:!0},{key:"pendiente_de_pago",label:"Total a pagar",sortable:!0},{key:"seleccion",label:"Selección",sortable:!0}],paymentOptions:[{text:"Efectivo",value:1},{text:"Tarjeta",value:2},{text:"Depósito",value:3},{text:"Cheque",value:4},{text:"Seguro",value:5}],paymentType:{Efectivo:0,Tarjeta:0,Deposito:0,Cheque:0,Seguro:0},paymentSum:0,totalPayment:0,apiBase:q["a"]+"/expedientes/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombres",sortField:"nombres",title:"Nombre",dataClass:"list-item-heading"},{name:"apellidos",sortField:"apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"expediente",sortField:"expediente",title:"Expediente",dataClass:"list-item-heading"},{name:"medico.nombre",title:"Médico asignado",dataClass:"list-item-heading"},{name:"nacimiento",sortField:"nacimiento",title:"Fecha de nacimiento",dataClass:"list-item-heading"},{name:"edad",title:"Edad",dataClass:"list-item-heading"},{name:"genero",sortField:"genero",title:"Género",dataClass:"list-item-heading"},{name:"nombre_encargado",sortField:"nombre_encargado",title:"Nombre de encargado",dataClass:"list-item-heading"},{name:"contacto_encargado",sortField:"contacto_encargado",title:"Contacto de encargado",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}],paciente:null,previewURL:null,pdf:null,pdfName:"Contrato_General.pdf",contrato:{nombre:"",edad:null,cui:null,estadoCivil:"",nacionalidad:"",profesion:"",domicilio:"",direccion:""},dataPDFsumario:null,nombrePaciente:null}},validations:function(){return{form:{name:{required:_a["c"]},nombre:{required:_a["c"],ValidateName:_a["a"].regex(/^[A-ZÁÉÍÓÚÜÑ\s]+$/)},apellidos:{required:_a["c"],ValidateName:_a["a"].regex(/^[A-ZÁÉÍÓÚÜÑ\s]+$/)},telefono:{required:_a["c"],numeric:_a["b"]},nacimiento:{required:_a["c"]},cui:{numeric:_a["b"],required:_a["c"]},direccion:{required:_a["c"]},nombre_encargado:{required:_a["c"],ValidateName:_a["a"].regex(/^[A-ZÁÉÍÓÚÜÑ\s]+$/)},contacto_encargado:{required:_a["c"],numeric:_a["b"]},cui_encargado:{required:_a["c"],numeric:_a["b"]},telefono_conyuge:{numeric:_a["b"]}}}},methods:{hasPermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.includes(this.currentUser.user_type)},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.state=1;break;case"update":break}},closeModal:function(e){switch(e){case"update":this.$v.$reset(),this.$refs["modal-2-expediente"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"assignDoctor":this.$refs["modal-3-medico"].hide();break;case"contrato":this.$refs["modal-contrato"].hide();break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},calcularEdad:function(e){if(!e)return"";var t=F()(e,"DD-MM-YYYY").format("YYYY-MM-DD"),a=new Date,r=new Date(t),o=a.getFullYear()-r.getFullYear(),i=r.getMonth(),n=r.getDate();return(a.getMonth()<i||a.getMonth()===i&&a.getDate()<n)&&o--,o},setData:function(e){this.form.id=e.id,this.form.name=e.nombres+" "+e.apellidos,this.form.nombre=e.nombres,this.form.apellidos=e.apellidos,this.form.casada=e.casada;var t=e.nacimiento,a=t.split("/"),r=Object(Co["a"])(a,3),o=r[0],i=r[1],n=r[2];this.form.nacimiento="".concat(n,"-").concat(i,"-").concat(o),this.form.cui=e.cui,this.form.nacionalidad=e.nacionalidad,this.form.telefono=e.telefono,this.form.direccion=e.direccion,this.form.genero=e.genero,this.form.nombre_encargado=e.nombre_encargado,this.form.contacto_encargado=e.contacto_encargado,this.form.parentesco_encargado=e.parentesco_encargado,this.form.edad_encargado=e.edad_encargado,this.form.estado_civil=e.estado_civil,this.form.profesion=e.profesion,this.form.nombre_madre=e.nombre_madre,this.form.nombre_padre=e.nombre_padre,this.form.lugar_nacimiento=e.lugar_nacimiento,this.form.estado_civil_encargado=e.estado_civil_encargado,this.form.cui_encargado=e.cui_encargado,this.form.profesion_encargado=e.profesion_encargado,this.form.nombre_conyuge=e.nombre_conyuge,this.form.direccion_conyuge=e.direccion_conyuge,this.form.telefono_conyuge=e.telefono_conyuge,this.form.expediente=e.expediente,this.form.state=e.estado,this.form.id=e.id,this.getCuentas(e.id)},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/expedientes/update",{form:e.form,user:e.currentUser.user}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el expediente "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){var t=this;this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data.map((function(e){return e.nacimiento=F()(e.nacimiento).format("DD/MM/YYYY"),e.edad=t.calcularEdad(e.nacimiento),{nacimiento:e.nacimiento,edad:e.edad}})),this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs,this.alertCountDown=this.alertSecs},getCuentas:function(e){var t=this;this.totalSUM=0,ie.a.get(q["a"]+"/cuentas/getByExp",{params:{id:e}}).then((function(e){t.totalSUM=e.data.map((function(e){return e.pendiente_de_pago})).reduce((function(e,t){return e+t}),0),t.cuentas=e.data}))},getDoctors:function(e){var t=this;ie.a.get(q["a"]+"/medicos/getSearch",{params:{search:e}}).then((function(e){t.doctors=e.data.map((function(e){return{value:e.id,text:e.nombre}}))}))},onSearchMedicos:function(e){e.length&&this.getDoctors(e)},onPatientQuit:function(){if(this.paymentSum=parseFloat(this.paymentType.Efectivo)+parseFloat(this.paymentType.Tarjeta)+parseFloat(this.paymentType.Deposito)+parseFloat(this.paymentType.Cheque)+parseFloat(this.paymentType.Seguro),null===this.selectedAccount)this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError();else{var e=this;ie.a.put(q["a"]+"/cuentas/deactivate",{id:this.selectedAccount,total_pagado:parseFloat(this.totPagado)+parseFloat(this.paymentSum),pendiente_de_pago:parseFloat(parseFloat(this.totalPayment)-parseFloat(this.paymentSum)),efectivo:this.paymentType.Efectivo,tarjeta:this.paymentType.Tarjeta,deposito:this.paymentType.Deposito,cheque:this.paymentType.Cheque,seguro:this.paymentType.Seguro,total:this.paymentSum,tipo:"adelanto"}).then(this.selectedAccount=null,this.paymentType.Efectivo=0,this.paymentType.Tarjeta=0,this.paymentType.Deposito=0,this.paymentType.Cheque=0,this.paymentType.Seguro=0,this.paymentSum=0,e.alertVariant="info",e.showAlert(),e.alertText="Se ha pagado por adelantado la cuenta del paciente "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-1-pago"].hide()).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))}},onRowSelected:function(e){this.selectedAccount=e[0].id,this.totalPayment=e[0].pendiente_de_pago,this.totPagado=e[0].total_pagado},onDoctorAssignment:function(){var e=this;this.form.assignedDoctor=this.selectedDoctor,ie.a.put(q["a"]+"/expedientes/assignDoctor",{form:this.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el expediente "+e.form.expediente+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("assignDoctor")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},setDatos:function(e){this.paciente=e,this.generatePDF()},generatePDF:function(){this.pdf=new Ma["default"]({unit:"cm",format:"legal"});var e=new Date,t=["","uno","dos","tres","cuatro","cinco","seis","siete","ocho","nueve","diez","once","doce","trece","catorce","quince","dieciséis","diecisiete","dieciocho","diecinueve","veinte","veintiuno","veintidós","veintitrés","veinticuatro","veinticinco","veintiséis","veintisiete","veintiocho","veintinueve","treinta","treinta y uno","treinta y dos","treinta y tres","treinta y cuatro","treinta y cinco","treinta y seis","treinta y siete","treinta y ocho","treinta y nueve","cuarenta","cuarenta y uno","cuarenta y dos","cuarenta y tres","cuarenta y cuatro","cuarenta y cinco","cuarenta y seis","cuarenta y siete","cuarenta y ocho","cuarenta y nueve","cincuenta","cincuenta y uno","cincuenta y dos","cincuenta y tres","cincuenta y cuatro","cincuenta y cinco","cincuenta y seis","cincuenta y siete","cincuenta y ocho","cincuenta y nueve","sesenta","sesenta y uno","sesenta y dos","sesenta y tres","sesenta y cuatro","sesenta y cinco","sesenta y seis","sesenta y siete","sesenta y ocho","sesenta y nueve","setenta","setenta y uno","setenta y dos","setenta y tres","setenta y cuatro","setenta y cinco","setenta y seis","setenta y siete","setenta y ocho","setenta y nueve","ochenta","ochenta y uno","ochenta y dos","ochenta y tres","ochenta y cuatro","ochenta y cinco","ochenta y seis","ochenta y siete","ochenta y ocho","ochenta y nueve","noventa"],a={2025:"dos mil veinticinco",2026:"dos mil veintiséis",2027:"dos mil veintisiete",2028:"dos mil veintiocho",2029:"dos mil veintinueve",2030:"dos mil treinta",2031:"dos mil treinta y uno"},r=e.getDate(),o=t[r],i=e.toLocaleString("es-ES",{month:"long"}),n=e.getFullYear(),s=a[n]||"Actualizar sistema",l=t[this.paciente.edad_encargado];this.pdf.addImage(Oa.a,"JPEG",1.5,1,3,3),this.pdf.setFontSize(16).setFont(void 0,"bold"),this.pdf.text("HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A.",12,1.5,{align:"center"}),this.pdf.text("QUETZALTENANGO",12,2.2,{align:"center"}),this.pdf.setFontSize(14),this.pdf.text("6ta. Calle 12-28 Zona 3 Quetzaltenango",12,3,{align:"center"}),this.pdf.text("Tels: 7763-5225-7763-6167-7763-5226 Fax 7763-5223",12,3.5,{align:"center"}),this.pdf.setFontSize(18).setFont(void 0,"bold");var c="CONTRATO DE SERVICIOS DE HOSPITALIZACION",d=10.5,m=4.5;this.pdf.text(c,d,m,{align:"center"});var u=this.pdf.getTextWidth(c);this.pdf.setLineWidth(.05);var f=m+.2;this.pdf.line(d-u/2,f,d+u/2,f);var h=6;this.pdf.setFontSize(12).setFont(void 0,"normal"),this.pdf.text("YO: ".concat(this.paciente.nombre_encargado),2,h,{maxWidth:17}),this.pdf.text("_____________________________________________________________________",2.8,h+.1,{maxWidth:17}),h+=.7,this.pdf.setFontSize(12).setFont(void 0,"normal"),this.pdf.text("DE:                  ".concat(l,"                          años"),2,h,{maxWidth:17}),this.pdf.text("_____________________________",2.8,h+.1,{maxWidth:17}),h+=.7,this.pdf.setFontSize(12).setFont(void 0,"normal"),this.pdf.text("De estado civil: ".concat(this.paciente.estado_civil_encargado),2,h,{maxWidth:17}),this.pdf.text("____________________________________________________________",5,h+.1,{maxWidth:17}),h+=.7,this.pdf.setFontSize(12).setFont(void 0,"normal"),this.pdf.text("De nacionalidad: ".concat(this.paciente.nacionalidad),2,h,{maxWidth:17}),this.pdf.text("___________________________________________________________",5.2,h+.1,{maxWidth:17}),h+=.7,this.pdf.setFontSize(12).setFont(void 0,"normal"),this.pdf.text("Profesion u oficio: ".concat(this.paciente.profesion_encargado),2,h,{maxWidth:17}),this.pdf.text("__________________________________________________________",5.4,h+.1,{maxWidth:17}),h+=.7,this.pdf.setFontSize(12).setFont(void 0,"normal"),this.pdf.text("Domiciliado en: ".concat(this.paciente.direccion_encargado),2,h,{maxWidth:17}),this.pdf.text("____________________________________________________________",5,h+.1,{maxWidth:17}),h+=.7,this.pdf.setFontSize(12).setFont(void 0,"normal"),this.pdf.text("Con residencia:  ".concat(this.paciente.direccion_encargado),2,h,{maxWidth:17}),this.pdf.text("____________________________________________________________",5,h+.1,{maxWidth:17}),h+=1,this.pdf.setFontSize(10).setFont(void 0,"normal"),this.pdf.text("Lugar que  señalo  para recibir  notificaciones  por  el  presente documento  hago constar:  PRIMERO: que autorizo\nexpresamente al  HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. para que le preste tratamiento  médico\nnecesario a: ".concat(this.paciente.nombres," ").concat(this.paciente.apellidos," utilizando los servicios médicos necesarios así\ncomo  los  medicamentos  que  los  profesionales  de  mérito  estimen  conveniente,  aplicando los tratamientos que\nestos  prescriban. SEGUNDO: que  me  comprometo expresamente  a  cancelar  el monto  de la liquidación que me\npresente  el  HOSPITAL  DE  ESPECIALIDADES  DE  OCCIDENTE,  S.A.  Por los conceptos indicados en el punto\nanterior,  ósea  HOSPITALIZACIÓN,  MEDICINAS,  Y  HONORARIOS  por servicios  médicos prestados;  y para tal\nefecto  acepto  desde ya  como  líquidas,  exigibles,  ejecutivas y de  plazo  vencido,  las  cantidades  que  arroje  la\nliquidación relacionada. TERCERO:  la falta de pago de la cantidad a que haciende la liquidación mencionada en el\npunto anterior, dará derecho al  HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. a cobrar ejecutivamente\nla misma, para cuyo efecto servirá de título ejecutivo el presente documento y la liquidación que presente la entidad\nindicada,  que formará  parte del mismo  renunciando para dicho efecto al fuero de mi domicilio y sujetándome a los\ntribunales que fija el HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. CUARTO: en fe de lo anterior, firmo\neste documento como FIADOR SOLIDARIO DE. ").concat(this.paciente.nombres," ").concat(this.paciente.apellidos,"\n        "),2,h,{maxWidth:18}),h+=7,this.pdf.text("En la ciudad de Quetzaltenango, el dia ".concat(o," del mes de ").concat(i," de ").concat(s,"\n\n                                            Quetzaltenango ").concat(r," de ").concat(i," de ").concat(n,"\n\n\n\n\n\n\n______________________________________               ______________________________________\n\n                   F) Paciente o responsable                                                        f) fiador\n\n\n\n                       ").concat(this.paciente.cui_encargado,"\n______________________________________               ______________________________________\n\n                             No. DPI                                                                                       No. DPI\n\n\n\n\n Direccion: ").concat(this.paciente.direccion_encargado,"\n\n Tel: ").concat(this.paciente.contacto_encargado,"\n______________________________________               ______________________________________\n\n                   Dirección y Teléfono                                                               Dirección y Teléfono\n      "),2,h,{maxWidth:18}),h+=12,this.pdf.text("COMO NOTARIO DOY FE: que las firmas que anteceden son autenticas por haber sido puestas en mi presencia el\ndia de hoy por ".concat(this.paciente.nombre_encargado," con el Código Único de Identificación arriba indicadas y que los nombrados firman al pie de la presente, en la ciudad de Quetzaltenango, el dia ").concat(o," del mes de ").concat(i," de ").concat(s,"\n\nANTE MI\n\n\n                                                                  F)_________________________                        "),2,h,{maxWidth:18});var p=this.pdf.output("blob"),b=URL.createObjectURL(p);this.previewURL=b,this.$refs["modal-contrato"].show()},descargarpdf:function(){this.pdf.save(this.pdfName)},generarSumario:function(e){var t=this;10===e.estado&&(this.alertVariant="danger",this.showAlert(),this.alertText="No se puede generar el sumario de un paciente con datos incompletos"),ie.a.get(q["a"]+"/consumos/sumario/".concat(e.id)).then((function(a){t.dataPDFsumario=a.data,t.generarPdfSumario(e)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),t.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",t.showAlertError()}))},generarPdfSumario:function(e){var t=new Ma["default"]("p","mm","letter");function a(e,a,r,o){t.rect(e,a,r,o)}function r(e,a,r,o){t.line(e,a,r,o)}function o(e,a,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"normal";t.setFontSize(o),t.setFont("helvetica",i),t.text(e,a,r)}a(10,5,200,250),t.addImage(Oa.a,"JPEG",14,6,25,20),t.setFontSize(14).setFont(void 0,"bold"),t.text("HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A.",120,13,{align:"center"}),t.text("QUETZALTENANGO",120,20,{align:"center"}),r(10,25,210,25);var i=30;o("Apellidos:",12,i,10,"bold"),o(e.apellidos,12,i+=5),o("Nombres:",87,i-=5,10,"bold"),o(e.nombres,87,i+=5),o("Exp:",185,i-=5,10,"bold"),o(e.expediente,185,i+=5),i+=2,r(10,i,210,i),i+=5,o("Dirección:",12,i,10,"bold"),o(e.direccion,30,i),o("Tel:",165,i,10,"bold"),o(e.telefono,175,i),i+=2,r(10,i,210,i),i+=5,o("Fecha Nacimiento:",12,i,10,"bold"),o(e.nacimiento,45,i),o("Edad:",70,i,10,"bold"),o(String(e.edad),80,i),o("Sexo:",100,i,10,"bold"),o(e.genero,115,i),i+=2,r(10,i,210,i),i+=5,o("Lugar de Nacimiento:",12,i,10,"bold"),o(e.lugar_nacimiento,60,i),i+=2,r(10,i,210,i),i+=5,o("Estado Civil:",12,i,10,"bold"),o(e.estado_civil,12,i+=5),o("Ocupacion:",40,i-=5,10,"bold"),o(e.profesion,40,i+=5),o("Nacionalidad",155,i-=5,10,"bold"),o(e.nacionalidad,155,i+=5),o("CUI:",180,i-=5,10,"bold"),o(e.cui,180,i+=5),i+=2,r(10,i,210,i),i+=5,o("Nombre  de Conyugue:",12,i,10,"bold"),o(e.nombre_conyuge,12,i+=5),o("Direccion:",105,i-=5,10,"bold"),o(e.direccion_conyuge,105,i+=5),o("Tel:",180,i-=5,10,"bold"),o(e.telefono_conyuge,180,i+=5),i+=2,r(10,i,210,i),i+=5,o("Nombre del Padre:",12,i,10,"bold"),o(e.nombre_padre,44,i),i+=2,r(10,i,210,i),i+=5,o("Nombre de la Madre:",12,i,10,"bold"),o(e.nombre_madre,47,i),i+=2,r(10,i,210,i),i+=10,o("En caso de emergencia notificar a:",12,i-=6,10,"bold"),o(e.nombre_encargado,12,i+=6),o("Parentesco:",87,i-=6,10,"bold"),o(e.parentesco_encargado,87,i+=6),o("Direccion:",115,i-=6,10,"bold"),o(e.direccion_encargado,115,i+=6),o("Tel:",190,i-=6,10,"bold"),o(e.contacto_encargado,190,i+=6),i+=2,r(10,i,210,i),i+=5,o("Otras Hospitalizaciones:",12,i,10,"bold"),o("Referido de:",112,i,10,"bold"),o(e.medico.nombre,134,i),i+=5,r(10,i,210,i),i+=5,o("Ingreso:",12,i,10,"bold"),o(e.fecha_ingreso_reciente,30,i),o(String(e.hora_ingreso_reciente),50,i),o("Egreso:",80,i,10,"bold"),o("Dias Estancia:",160,i,10,"bold"),i+=5,r(10,i,210,i),i+=5,o("Diagnóstico de Impresión:",12,i,10,"bold"),i+=10,r(10,i,210,i),i+=5,o("Diagnóstico final: Enumero en orden de importacia",12,i,10,"bold"),i+=2,r(10,i,210,i),i+=5,i+=5,r(10,i,210,i),i+=5,i+=5,r(10,i,210,i),i+=5,i+=5,r(10,i,210,i),i+=5,o("Complicaciones:",12,i,10,"bold"),i+=2,r(10,i,210,i),i+=5,i+=5,r(10,i,210,i),i+=5,i+=5,r(10,i,210,i),i+=5,o("Operaciones: Enumero en orden de importacia",12,i,10,"bold"),i+=2,r(10,i,210,i),i+=5,i+=5,r(10,i,210,i),i+=5,i+=5,r(10,i,210,i),i+=2,o("Egreso",12,i+6,10,"bold");var n,s=[["Vivo","Contraindicación","Transferencia a otra institución"],["Muerto","Antes de 48 horas","Después de 48 horas"]],l=5,c=22;s.forEach((function(e){n=35,e.forEach((function(e){t.rect(n,i,l,l),o(e,n+6,i+3,5,"bold"),n+=c})),i+=l+2})),i-=7,o("Autopsia",125,i,10,"bold");var d,m=[["Si","No"]],u=5,f=15;i-=3,m.forEach((function(e){d=150,e.forEach((function(e){t.rect(d,i,u,u),o(e,d+6,i+3,5,"bold"),d+=f})),i+=u+2})),i+=8,o("Causa de muerte",12,i+3,10,"bold"),i+=5,r(10,i,210,i),i+=5,o("Fecha",12,i,10,"bold"),i+=2,r(10,i,210,i),i+=5,o("Firma Médico Responsable:",150,i,10,"bold"),t.save("Sumario_Paciente_".concat(e.nombres,"_").concat(e.apellidos,".pdf"))},generarCuentaTotal:function(e,t,a){var r=this;ie.a.get(q["a"]+"/consumos/sumario/".concat(e)).then((function(e){r.dataPDFsumario=e.data,r.nombrePaciente=t+" "+a,r.generarPDF_CuentaTotal(r.dataPDFsumario.fechaFormateada)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),r.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",r.showAlertError()}))},generarPDF_CuentaTotal:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r,o,i,n,s,l,c,d,m,u,f,h,p,b,v,g,_,x,C,$,y,w,E,k,D,A,S,T,P;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.dataPDFsumario,o=new Date,i=o.toLocaleDateString("es-ES"),n={hour:"2-digit",minute:"2-digit",hour12:!0},s=o.toLocaleTimeString("es-ES",n),e?(c=new Date(e),d=o-c,m=Math.floor(d/864e5),l=m):l="NO ASIGNADA",u=l>=2?r.costo2*l:r.costo1,a.prev=7,f=r.consumos.reduce((function(e,t){return e+parseFloat(t.subtotal)}),0),h=r.consumosComunes.reduce((function(e,t){return e+parseFloat(t.total)}),0),p=r.consumosMedicamentos.reduce((function(e,t){return e+parseFloat(t.total)}),0),b=r.consumosQuirurgicos.reduce((function(e,t){return e+parseFloat(t.total)}),0),v=r.examenes.reduce((function(e,t){return e+t.total}),0),g=r.salaOperaciones.reduce((function(e,t){return e+parseFloat(t.total)}),0),_=r.honorarios.reduce((function(e,t){return e+parseFloat(t.total)}),0),x=r.honorarios.sort((function(e,t){return t.total-e.total})),C=f+h+p+b+v+g+u,$=f+h+p+b+g+u,y=$+_+v,w=new Ra.a.Workbook,E=w.addWorksheet("Resumen"),E.mergeCells("A1:F1"),E.getCell("A1").value="HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",E.getCell("A1").alignment={horizontal:"center",vertical:"middle"},E.mergeCells("A2:F2"),E.getCell("A2").value="CUENTA TOTAL DETALLADA",E.getCell("A2").alignment={horizontal:"center",vertical:"middle"},E.getCell("A3").value="NOMBRE DEL PACIENTE:",E.getCell("B3").value="".concat(t.nombrePaciente),E.getCell("A4").value="CUARTO NO.:",E.getCell("B4").value="".concat(r.numerohabitacion),E.getCell("A5").value="TIPO DE SERVICIO:",E.getCell("B5").value="",E.getCell("A6").value="D/ESTANCIA:",E.getCell("B6").value="".concat(l),E.getCell("A7").value="MD TRATANTE:",E.getCell("B7").value="".concat(r.nombremedico),E.getCell("A9").value="CONSUMOS",E.getCell("A10").value="HOSPITALIZACION",E.getCell("B10").value="".concat(u.toFixed(2)),E.getCell("A11").value="SALA DE OPERACIONES",E.getCell("B11").value="Q".concat(g.toFixed(2)),E.getCell("A12").value="CONSUMO MEDICAMENTOS",k=12,r.consumosMedicamentos.forEach((function(e){k++,E.getCell("A".concat(k)).value="".concat(e.medicamento.nombre,"  Cantidad: ").concat(parseFloat(e.cantidad).toFixed(0)),E.getCell("B".concat(k)).value=parseFloat(e.total).toFixed(2)})),k++,E.getCell("A".concat(k)).value="MATERIAL MEDICO QUIRÚRGICO",r.consumosQuirurgicos.forEach((function(e){k++,E.getCell("A".concat(k)).value="".concat(e.quirurgico.nombre,"  Cantidad: ").concat(parseFloat(e.cantidad).toFixed(0)),E.getCell("B".concat(k)).value=parseFloat(e.total).toFixed(2)})),k++,E.getCell("A".concat(k)).value="ANESTESICOS",E.getCell("B".concat(k)).value="",k++,E.getCell("A".concat(k)).value="MATERIAL COMÚN",r.consumosComunes.forEach((function(e){k++,E.getCell("A".concat(k)).value="".concat(e.comune.nombre,"  Cantidad: ").concat(parseFloat(e.cantidad).toFixed(0)),E.getCell("B".concat(k)).value=parseFloat(e.total).toFixed(2)})),k++,E.getCell("A".concat(k)).value="SERVICIOS",r.consumos.forEach((function(e){k++,E.getCell("A".concat(k)).value="".concat(e.servicio.descripcion,"  Cantidad: ").concat(parseFloat(e.cantidad).toFixed(0)),E.getCell("B".concat(k)).value=parseFloat(e.subtotal).toFixed(2)})),k++,E.getCell("A".concat(k)).value="RECUPERACION",E.getCell("B".concat(k)).value="",k++,E.getCell("A".concat(k)).value="INTENSIVO",E.getCell("B".concat(k)).value="Q 0.00",k++,E.getCell("A".concat(k)).value="EMERGENCIAS Medico Interno",E.getCell("B".concat(k)).value="",k++,E.getCell("A".concat(k)).value="OTROS",E.getCell("B".concat(k)).value="",k++,E.getCell("A".concat(k)).value="TOTAL HOSPITALIZACION =",E.getCell("A".concat(k)).alignment={horizontal:"right",vertical:"middle"},E.getCell("B".concat(k)).value="Q".concat($.toFixed(2)),k++,E.getCell("A".concat(k)).value="TOTAL LAB. BIOMEDICO E.O. S.A. =",E.getCell("A".concat(k)).alignment={horizontal:"right",vertical:"middle"},E.getCell("B".concat(k)).value="Q".concat(v.toFixed(2)),k++,E.getCell("A".concat(k)).value="TOTAL MENOS DESCUENTO =",E.getCell("A".concat(k)).alignment={horizontal:"right",vertical:"middle"},E.getCell("B".concat(k)).value="Q".concat(C.toFixed(2)),k++,E.getCell("A".concat(k)).value="FECHA: ".concat(i," ").concat(s),k++,E.mergeCells("A".concat(k,":D").concat(k)),E.getCell("A".concat(k)).value="HONORARIOS MEDICOS Y OTROS SERVICIOS",E.getCell("A".concat(k)).alignment={horizontal:"center",vertical:"middle"},E.getCell("A".concat(k)).font={bold:!0},D=k+1,E.getCell("A".concat(D)).value="#",E.getCell("B".concat(D)).value="MEDICO",E.getCell("C".concat(D)).value="DESCRIPCION",E.getCell("D".concat(D)).value="VALOR",x.forEach((function(e,t){D++,E.getCell("A".concat(D)).value=t+1,E.getCell("B".concat(D)).value=e.medico.nombre,E.getCell("C".concat(D)).value=e.descripcion,E.getCell("D".concat(D)).value="Q".concat((Number(e.total)||0).toFixed(2))})),D+=2,E.mergeCells("A".concat(D,":D").concat(D)),E.getCell("A".concat(D)).value="LIQUIDACION",E.getCell("A".concat(D)).alignment={horizontal:"center",vertical:"middle"},E.getCell("A".concat(D)).font={bold:!0},D++,E.getCell("A".concat(D)).value="TOTAL HOSPITALIZACION =",E.getCell("B".concat(D)).value="Q".concat((Number($)||0).toFixed(2)),E.getCell("A".concat(D)).alignment={horizontal:"right"},E.getCell("B".concat(D)).alignment={horizontal:"left"},D++,E.getCell("A".concat(D)).value="TOTAL LAB. BIOMEDICO E.O. S.A. =",E.getCell("B".concat(D)).value="Q".concat((Number(v)||0).toFixed(2)),E.getCell("A".concat(D)).alignment={horizontal:"right"},E.getCell("B".concat(D)).alignment={horizontal:"left"},D++,E.getCell("A".concat(D)).value="TOTAL HONORARIOS MEDICOS Y OTROS SERVICIOS =",E.getCell("B".concat(D)).value="Q".concat((Number(_)||0).toFixed(2)),E.getCell("A".concat(D)).alignment={horizontal:"right"},E.getCell("B".concat(D)).alignment={horizontal:"left"},D++,E.getCell("A".concat(D)).value="TOTAL A PAGAR =",E.getCell("B".concat(D)).value="Q".concat((Number(y)||0).toFixed(2)),E.getCell("A".concat(D)).alignment={horizontal:"right"},E.getCell("B".concat(D)).alignment={horizontal:"left"},E.getCell("A".concat(D)).font={bold:!0},E.getCell("B".concat(D)).font={bold:!0},D++,E.mergeCells("A".concat(D,":D").concat(D)),E.getCell("A".concat(D)).value="_______________________________________",E.getCell("A".concat(D)).alignment={horizontal:"center",vertical:"middle"},D++,E.mergeCells("A".concat(D,":D").concat(D)),E.getCell("A".concat(D)).value="Nombre y Firma del Cajero",E.getCell("A".concat(D)).alignment={horizontal:"center",vertical:"middle"},a.next=131,w.xlsx.writeBuffer();case 131:A=a.sent,S=new Blob([A],{type:"application/octet-stream"}),T=window.URL.createObjectURL(S),P=document.createElement("a"),P.href=T,P.download="Cuenta_Total_Detalla_".concat(t.nombrePaciente,".xlsx"),P.click(),window.URL.revokeObjectURL(T),a.next=145;break;case 141:a.prev=141,a.t0=a["catch"](7),console.error("Error al generar el reporte:",a.t0),t.$alert("Ocurrió un error al generar el reporte. Por favor, intente de nuevo.","Error");case 145:case"end":return a.stop()}}),a,null,[[7,141]])})))()}}}),yo=$o,wo=Object($["a"])(yo,_o,xo,!1,null,null,null),Eo=wo.exports,ko=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-account",attrs:{id:"modal-1-account",title:"Agregar cuenta"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Fecha de ingreso:"}},[a("b-form-input",{attrs:{type:"date",state:!e.$v.form.fecha_ingreso.$error,placeholder:"Ingresar la fecha de ingreso"},model:{value:e.$v.form.fecha_ingreso.$model,callback:function(t){e.$set(e.$v.form.fecha_ingreso,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.fecha_ingreso.$model"}}),e.$v.form.fecha_ingreso.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar una fecha de ingreso ")]):e._e()],1),a("b-form-group",{attrs:{label:"Motivo:"}},[a("b-form-input",{attrs:{state:!e.$v.form.motivo.$error,placeholder:"Ingresar motivo"},model:{value:e.$v.form.motivo.$model,callback:function(t){e.$set(e.$v.form.motivo,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.motivo.$model"}}),e.$v.form.motivo.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar un motivo ")]):e._e()],1),a("b-form-group",{attrs:{label:"Descripción:"}},[a("b-form-input",{attrs:{state:!e.$v.form.descripcion.$error,placeholder:"Ingresar descripción"},model:{value:e.$v.form.descripcion.$model,callback:function(t){e.$set(e.$v.form.descripcion,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.descripcion.$model"}})],1),a("b-form-group",{attrs:{label:"Otros:"}},[a("b-form-input",{attrs:{state:!e.$v.form.otros.$error,placeholder:"Ingresar otros"},model:{value:e.$v.form.otros.$model,callback:function(t){e.$set(e.$v.form.otros,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.otros.$model"}})],1),a("b-form-group",{attrs:{label:"Expediente:"}},[a("v-select",{attrs:{name:"type",state:!e.$v.form.id_expediente.$error,options:e.expedientes,filterable:!1,placeholder:"Seleccione el expediente"},on:{search:e.onSearchExpedientes},model:{value:e.form.id_expediente,callback:function(t){e.$set(e.form,"id_expediente",t)},expression:"form.id_expediente"}})],1)],1)],1),a("b-modal",{ref:"modal-2-account",attrs:{id:"modal-2-account",title:"Editar cuenta"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-group",{attrs:{label:"Fecha de ingreso:"}},[a("b-form-input",{attrs:{type:"date",state:!e.$v.form.fecha_ingreso.$error,placeholder:"Ingresar fecha de ingreso"},model:{value:e.$v.form.fecha_ingreso.$model,callback:function(t){e.$set(e.$v.form.fecha_ingreso,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.fecha_ingreso.$model"}}),e.$v.form.fecha_ingreso.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar una fecha válida ")]):e._e()],1),a("b-form-group",{attrs:{label:"Motivo:"}},[a("b-form-input",{attrs:{state:!e.$v.form.motivo.$error,placeholder:"Ingresar motivo"},model:{value:e.$v.form.motivo.$model,callback:function(t){e.$set(e.$v.form.motivo,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.motivo.$model"}}),e.$v.form.motivo.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar un motivo ")]):e._e()],1),a("b-form-group",{attrs:{label:"Descripción:"}},[a("b-form-input",{attrs:{state:!e.$v.form.descripcion.$error,placeholder:"Ingresar descripción"},model:{value:e.$v.form.descripcion.$model,callback:function(t){e.$set(e.$v.form.descripcion,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.descripcion.$model"}})],1),a("b-form-group",{attrs:{label:"Otros:"}},[a("b-form-input",{attrs:{state:!e.$v.form.otros.$error,placeholder:"Ingresar otros"},model:{value:e.$v.form.otros.$model,callback:function(t){e.$set(e.$v.form.otros,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.otros.$model"}})],1)],1)],1)],1),a("b-modal",{ref:"modal-3-account",attrs:{id:"modal-3-account",title:"Desactivar cuenta"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-account")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-account")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar la cuenta: "+e._s(e.form.numero)+" ? ")])],1),a("b-modal",{ref:"modal-4-account",attrs:{id:"modal-4-account",title:"Activar cuenta"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-account")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-account")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar la cuenta: "+e._s(e.form.numero)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Cuentas activas")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-account",modifiers:{"modal-2-account":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning",disabled:!e.hasPermission([5,7])},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info",disabled:!e.hasPermission([5,7])},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-account"):e.$bvModal.show("modal-4-account")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},Do=[],Ao={name:"CuentasPendientes",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index(),this.fetchExpedientes()},computed:Object(s["a"])({},Object(_["c"])({currentUser:"currentUser"})),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",form:{id:0,numero:0,fecha_ingreso:"",motivo:"",descripcion:"",otros:"",total:0,state:1,id_expediente:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/cuentas/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"expediente.expediente",sortField:"expediente.expediente",title:"Expediente",dataClass:"list-item-heading"},{name:"expediente.nombres",sortField:"expediente.nombres",title:"Nombre",dataClass:"list-item-heading"},{name:"expediente.apellidos",sortField:"expediente.apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"numero",sortField:"numero",title:"Número",dataClass:"list-item-heading"},{name:"fecha_ingreso",sortField:"fecha_ingreso",title:"Fecha de ingreso",dataClass:"list-item-heading"},{name:"motivo",sortField:"motivo",title:"Motivo",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Descripción",dataClass:"list-item-heading"},{name:"otros",sortField:"otros",title:"Otros...",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Total",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}],expedientes:[]}},validations:function(){return{form:{fecha_ingreso:{required:_a["c"]},descripcion:{required:_a["c"]},motivo:{required:_a["c"]},otros:{required:_a["c"]},total:{required:_a["c"]},id_expediente:{required:_a["c"]},state:{required:_a["c"]}}}},methods:{hasPermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.includes(this.currentUser.user_type)},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.fecha_ingreso="",this.form.descripcion="",this.form.motivo="",this.form.otros="",this.form.total=0,this.form.id_expediente=1,this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-account"].hide(),this.form.id=0,this.form.fecha_ingreso="",this.form.descripcion="",this.form.motivo="",this.form.otros="",this.form.total=0,this.form.id_expediente=1,this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-account"].hide(),this.form.id=0,this.form.fecha_ingreso="",this.form.descripcion="",this.form.motivo="",this.form.otros="",this.form.total=0,this.form.id_expediente=1,this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.numero=e.numero,this.form.fecha_ingreso=e.fecha_ingreso,this.form.descripcion=e.descripcion,this.form.motivo=e.motivo,this.form.otros=e.otros,this.form.total=e.total,this.form.id_expediente=e.id_expediente,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/cuentas/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado la cuenta '"+e.form.numero+"' exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/cuentas/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado la cuenta '"+e.form.numero+"' exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/cuentas/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado la cuenta '"+e.form.numero+"' exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-account"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/cuentas/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado la cuenta '"+e.form.numero+"' exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-account"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"numero",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertC.ountDownError=this.alertSecs},onSearchExpedientes:function(e,t){e.length&&(t(!0),this.searchingExpedientes(e,t))},searchingExpedientes:function(e,t){var a=this;ie.a.get(q["a"]+"/expedientes/getSearch",{params:{search:e}}).then((function(e){a.expedientes=e.data,t(!1)}))}}},So=Ao,To=Object($["a"])(So,ko,Do,!1,null,null,null),Po=To.exports,Mo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Primer ingreso de paciente")])]},proxy:!0},{key:"body",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Datos de paciente")]),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("span",{staticClass:"required-asterisk",staticStyle:{position:"absolute",top:"50%",transform:"translateY(-50%)",right:"5px",color:"red"}}),a("b-form-input",{class:{"is-invalid":e.$v.form.nombre.$error},attrs:{placeholder:"Ingresar nombre",required:""},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v("Debe ingresar nombre")]):e._e(),e.$v.form.nombre.ValidateName.$error?e._e():a("div",{staticClass:"invalid-feedback"},[e._v("El nombre solo debe contener letras mayúsculas y con tildes")])],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Apellidos:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.apellidos.$error},attrs:{placeholder:"Ingresar apellidos"},model:{value:e.$v.form.apellidos.$model,callback:function(t){e.$set(e.$v.form.apellidos,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.apellidos.$model"}}),e.$v.form.apellidos.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Ingresar los apellidos ")]):e._e()],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Apellido de casada: "}},[a("b-form-input",{attrs:{placeholder:"Ingresar apellido de casada"},model:{value:e.form.casada,callback:function(t){e.$set(e.form,"casada","string"===typeof t?t.trim():t)},expression:"form.casada"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Fecha de nacimiento:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.nacimiento.$error},attrs:{type:"date",placeholder:"Ingresar fecha de nacimiento"},on:{input:e.validarAnoNacimiento},model:{value:e.$v.form.nacimiento.$model,callback:function(t){e.$set(e.$v.form.nacimiento,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nacimiento.$model"}}),e.$v.form.nacimiento.$error?a("div",{staticClass:"invalid-feedback"},[e.$v.form.nacimiento.required?e._e():a("div",[e._v("Debe ingresar la fecha de nacimiento")]),e.$v.form.nacimiento.isValidYear?e._e():a("div",[e._v("El año no puede tener más de 4 dígitos")]),e.$v.form.nacimiento.isPastYear?e._e():a("div",[e._v("El año de nacimiento no puede ser mayor al actual")])]):e._e()],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Edad:"}},[a("b-form-input",{attrs:{value:e.calcularEdad,disabled:""}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Telefono:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.telefono.$error},attrs:{placeholder:"Ingresar telefono"},model:{value:e.$v.form.telefono.$model,callback:function(t){e.$set(e.$v.form.telefono,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.telefono.$model"}}),e.$v.form.telefono.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el telefono ")]):e._e(),e.$v.form.telefono.numeric.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar unicamente numeros ")]):e._e()],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Sexo:"}},[a("v-select",{attrs:{name:"type",options:e.generos,placeholder:"Seleccione el sexo"},model:{value:e.form.generos,callback:function(t){e.$set(e.form,"generos",t)},expression:"form.generos"}})],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"CUI:"}},[e.calcularEdad>=18?a("div",[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar el CUI"},model:{value:e.form.cui,callback:function(t){e.$set(e.form,"cui","string"===typeof t?t.trim():t)},expression:"form.cui"}})],1):a("div",[a("b-form-input",{attrs:{value:"NO DISPONIBLE",placeholder:"Ingresar el CUI",disabled:""},model:{value:e.form.cui,callback:function(t){e.$set(e.form,"cui","string"===typeof t?t.trim():t)},expression:"form.cui"}})],1)])],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Nacionalidad:"}},[a("v-select",{attrs:{name:"type",options:e.nacionalidades,placeholder:"Seleccione nacionalidad"},model:{value:e.form.nacionalidad,callback:function(t){e.$set(e.form,"nacionalidad",t)},expression:"form.nacionalidad"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Dirección:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.direccion.$error},attrs:{placeholder:"Ingresar dirección"},model:{value:e.$v.form.direccion.$model,callback:function(t){e.$set(e.$v.form.direccion,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.direccion.$model"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Lugar de nacimiento:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar lugar de nacimiento"},model:{value:e.form.lugar_nacimiento,callback:function(t){e.$set(e.form,"lugar_nacimiento","string"===typeof t?t.trim():t)},expression:"form.lugar_nacimiento"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Profesión u oficio:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar profesión"},model:{value:e.form.profesion,callback:function(t){e.$set(e.form,"profesion","string"===typeof t?t.trim():t)},expression:"form.profesion"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Estado civil:"}},[a("v-select",{attrs:{name:"type",options:e.estados_civiles,placeholder:"Seleccione estado civil"},model:{value:e.form.estado_civil,callback:function(t){e.$set(e.form,"estado_civil",t)},expression:"form.estado_civil"}})],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Nombre del padre:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar nombre del padre"},model:{value:e.form.nombre_padre,callback:function(t){e.$set(e.form,"nombre_padre","string"===typeof t?t.trim():t)},expression:"form.nombre_padre"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Nombre de la madre:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar nombre de la madre"},model:{value:e.form.nombre_madre,callback:function(t){e.$set(e.form,"nombre_madre","string"===typeof t?t.trim():t)},expression:"form.nombre_madre"}})],1)],1)],1),a("h4",{staticClass:"card-title mt-3"},[e._v("Ingreso de encargado")]),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.nombre_encargado.$error},attrs:{placeholder:"Ingresar nombre"},model:{value:e.$v.form.nombre_encargado.$model,callback:function(t){e.$set(e.$v.form.nombre_encargado,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre_encargado.$model"}}),e.$v.form.nombre_encargado.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre del encargado ")]):e._e(),e.$v.form.nombre_encargado.ValidateName.$error?e._e():a("div",{staticClass:"invalid-feedback"},[e._v(" El nombre solo debe contener letras mayúsculas y con tildes ")])],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Telefono:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.contacto_encargado.$error},attrs:{type:"number",placeholder:"Ingresar telefono"},model:{value:e.$v.form.contacto_encargado.$model,callback:function(t){e.$set(e.$v.form.contacto_encargado,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.contacto_encargado.$model"}}),e.$v.form.contacto_encargado.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el telefono ")]):e._e(),e.$v.form.contacto_encargado.numeric.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar unicamente numeros ")]):e._e()],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"CUI:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.cui_encargado.$error},attrs:{type:"number",placeholder:"Ingresar el CUI"},model:{value:e.$v.form.cui_encargado.$model,callback:function(t){e.$set(e.$v.form.cui_encargado,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.cui_encargado.$model"}}),e.$v.form.cui_encargado.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el CUI del encargado ")]):e._e(),e.$v.form.cui_encargado.$error?a("div",{staticClass:"invalid-feedback"},[e._v(" El valor del CUI debe ser numerico. ")]):e._e()],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Estado civil:"}},[a("v-select",{attrs:{name:"type",options:e.estados_civiles,placeholder:"Seleccione estado civil de encargado"},model:{value:e.form.estado_civil_encargado,callback:function(t){e.$set(e.form,"estado_civil_encargado",t)},expression:"form.estado_civil_encargado"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Parentesco:"}},[a("v-select",{attrs:{name:"type",options:e.parentescos,placeholder:"Seleccione parentesco"},model:{value:e.form.parentesco_encargado,callback:function(t){e.$set(e.form,"parentesco_encargado",t)},expression:"form.parentesco_encargado"}})],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Dirección de encargado:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar dirección"},model:{value:e.form.direccion_encargado,callback:function(t){e.$set(e.form,"direccion_encargado","string"===typeof t?t.trim():t)},expression:"form.direccion_encargado"}})],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Profesión u oficio de encargado:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar profesión u oficio"},model:{value:e.form.profesion_encargado,callback:function(t){e.$set(e.form,"profesion_encargado","string"===typeof t?t.trim():t)},expression:"form.profesion_encargado"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Edad de encargado:"}},[a("b-form-input",{attrs:{type:"number",min:"0",max:"100",placeholder:"Ingresar edad "},model:{value:e.form.edad_encargado,callback:function(t){e.$set(e.form,"edad_encargado","string"===typeof t?t.trim():t)},expression:"form.edad_encargado"}})],1)],1)],1),a("h4",{staticClass:"card-title mt-3"},[e._v("Ingreso de conyuge")]),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar nombre de conyuge"},model:{value:e.form.nombre_conyuge,callback:function(t){e.$set(e.form,"nombre_conyuge","string"===typeof t?t.trim():t)},expression:"form.nombre_conyuge"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Telefono:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar telefono de conyuge"},model:{value:e.form.telefono_conyuge,callback:function(t){e.$set(e.form,"telefono_conyuge","string"===typeof t?t.trim():t)},expression:"form.telefono_conyuge"}})],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Dirección de conyuge:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar dirección de conyuge"},model:{value:e.form.direccion_conyuge,callback:function(t){e.$set(e.form,"direccion_conyuge","string"===typeof t?t.trim():t)},expression:"form.direccion_conyuge"}})],1)],1)],1)]},proxy:!0}])})],1)],1),a("b-button",{attrs:{block:"",variant:"primary"},on:{click:e.onValidate}},[e._v("Registrar paciente")])],1)},qo=[],Io=(a("a630"),a("25f0"),{name:"Patients",setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){this.form.id_usuario=this.currentUser.uid},mounted:function(){g["a"].index()},computed:Object(s["a"])(Object(s["a"])({},Object(_["c"])(["currentUser"])),{},{calcularEdad:function(){if(!this.form.nacimiento)return"";var e=new Date,t=new Date(this.form.nacimiento),a=e.getFullYear()-t.getFullYear(),r=t.getMonth(),o=t.getDate();return(e.getMonth()<r||e.getMonth()===r&&e.getDate()<o)&&a--,a}}),data:function(){return{hours:Array.from({length:24},(function(e,t){return t})),editorOption:{placeholder:"",modules:{toolbar:[["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["clean"]]}},from:0,to:0,total:0,perPage:5,search:"",form:{id:0,nombre:"",apellidos:"",casada:"",nacimiento:null,cui:"NO DISPONIBLE",nacionalidad:null,telefono:"",direccion:"",generos:"",nombre_encargado:"",contacto_encargado:"",parentesco_encargado:"",edad_encargado:"",state:1,id_usuario:null,estado_civil:null,profesion:"",nombre_madre:"",nombre_padre:"",lugar_nacimiento:"",estado_civil_encargado:null,profesion_encargado:"",direccion_encargado:"",cui_encargado:"",nombre_conyuge:"",direccion_conyuge:"",telefono_conyuge:"",selectedOption:"hospi",tipo_paciente:"0",motivo:" ",fecha:null,hora:null,tipo_cuenta:1},nacionalidades:["Guatemala","El Salvador","México","Honduras","Belice","Otro"],generos:["Masculino","Femenino"],parentescos:["Padre/Madre","Hermano/a","Hijo/a","Cónyuge","Otro"],estados_civiles:["Soltero/a","Casado/a","Viudo/a","Separado/a","Divorciado/a","Otro"],alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/paciente/list"}},validations:function(){return{form:{nombre:{required:_a["c"],ValidateName:_a["a"].regex(/^[A-ZÁÉÍÓÚÜÑ\s]+$/)},apellidos:{required:_a["c"],ValidateName:_a["a"].regex(/^[A-ZÁÉÍÓÚÜÑ\s]+$/)},telefono:{required:_a["c"],numeric:_a["b"]},nacimiento:{required:_a["c"],isValidYear:function(e){if(!e)return!0;var t=new Date(e).getFullYear();return t.toString().length<=4},isPastYear:function(e){if(!e)return!0;var t=new Date(e).getFullYear(),a=(new Date).getFullYear();return t<=a}},direccion:{required:_a["c"]},nombre_encargado:{required:_a["c"],ValidateName:_a["a"].regex(/^[A-ZÁÉÍÓÚÜÑ\s]+$/)},contacto_encargado:{required:_a["c"],numeric:_a["b"]},cui_encargado:{required:_a["c"],numeric:_a["b"]},telefono_conyuge:{numeric:_a["b"]}}}},methods:{validarAnoNacimiento:function(){this.$v.form.nacimiento.$touch()},onValidate:function(){this.$v.$touch(),!0!==this.$v.$error?this.onSave():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},onSave:function(){var e=this;ie.a.post(q["a"]+"/expedientes/create",{form:e.form,user:e.currentUser.user}).then((function(){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el paciente "+e.form.nombre+" "+e.form.apellidos+" exitosamente",e.$router.push({name:"caja.expedientes"})})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs}}}),Fo=Io,Oo=(a("43c9"),Object($["a"])(Fo,Mo,qo,!1,null,"6ebe23f0",null)),No=Oo.exports,Ro=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-servicios",attrs:{id:"modal-1-servicios",title:"Agregar servicio"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Descripción:"}},[a("b-form-input",{attrs:{state:!e.$v.form.descripcion.$error,placeholder:"Ingresar la descripción del servicio"},model:{value:e.$v.form.descripcion.$model,callback:function(t){e.$set(e.$v.form.descripcion,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.descripcion.$model"}}),e.$v.form.descripcion.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la descripción ")]):e._e()],1),a("b-form-group",{attrs:{label:"Unidad de medida:"}},[a("b-form-input",{attrs:{state:!e.$v.form.unidadDeMedida.$error,placeholder:"Ingresar la unidad de medida del servicio"},model:{value:e.$v.form.unidadDeMedida.$model,callback:function(t){e.$set(e.$v.form.unidadDeMedida,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.unidadDeMedida.$model"}}),e.$v.form.unidadDeMedida.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la unidad de medida ")]):e._e()],1),a("b-form-group",{attrs:{label:"Precio:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.precio.$error,placeholder:"Ingresar precio del servicio"},model:{value:e.$v.form.precio.$model,callback:function(t){e.$set(e.$v.form.precio,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio.$model"}}),e.$v.form.precio.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el precio ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-2-servicios",attrs:{id:"modal-2-servicios",title:"Editar servicio"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Descripción:"}},[a("b-form-input",{attrs:{state:!e.$v.form.descripcion.$error,placeholder:"Ingresar descripcion del servicio"},model:{value:e.$v.form.descripcion.$model,callback:function(t){e.$set(e.$v.form.descripcion,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.descripcion.$model"}}),e.$v.form.descripcion.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la descripción ")]):e._e()],1),a("b-form-group",{attrs:{label:"Unidad de medida:"}},[a("b-form-input",{attrs:{state:!e.$v.form.unidadDeMedida.$error,placeholder:"Ingresar la unidad de medida del servicio"},model:{value:e.$v.form.unidadDeMedida.$model,callback:function(t){e.$set(e.$v.form.unidadDeMedida,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.unidadDeMedida.$model"}}),e.$v.form.unidadDeMedida.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la unidad de medida ")]):e._e()],1),a("b-form-group",{attrs:{label:"Precio:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.precio.$error,placeholder:"Ingresar precio del servicio"},model:{value:e.$v.form.precio.$model,callback:function(t){e.$set(e.$v.form.precio,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio.$model"}}),e.$v.form.precio.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el precio ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-3-servicios",attrs:{id:"modal-3-servicios",title:"Desactivar servicio"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-servicios")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-servicios")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el servicio: "+e._s(e.form.nombre)+" ? ")])],1),a("b-modal",{ref:"modal-4-servicios",attrs:{id:"modal-4-servicios",title:"Ingresar paciente"},on:{show:function(e){this.selectedHab=null}},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onValidate(),this.selectedHab=null}}},[e._v("Ingresar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-servicios")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea ingresar el paciente: "+e._s(e.form.nombres)+" ? ")]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-col",[a("b-form-group",{attrs:{label:"Área a la que desea trasladar:"}},[a("b-form-radio-group",{attrs:{id:"radio-group-2",options:e.optionsTraslado,name:"radio-options"},model:{value:e.selectedTrasOption,callback:function(t){e.selectedTrasOption=t},expression:"selectedTrasOption"}}),1==e.selectedTrasOption||4==e.selectedTrasOption?a("div",[e._v(" Habitación "),a("v-select",{ref:"selectHab",attrs:{options:e.habitaciones,label:"numero",value:"id"},model:{value:e.selectedHab,callback:function(t){e.selectedHab=t},expression:"selectedHab"}})],1):e._e(),a("div",[e._v(" Motivo "),a("b-form-input",{model:{value:e.varMotivo,callback:function(t){e.varMotivo="string"===typeof t?t.trim():t},expression:"varMotivo"}})],1),a("div",[a("strong",[e._v(" ENCARGADO ")]),e._v(" Nombre "),a("b-form-input",{attrs:{state:!e.varNombreEncargadoError,placeholder:"Ingresar nombre del encargado"},model:{value:e.varNombreEncargado,callback:function(t){e.varNombreEncargado="string"===typeof t?t.trim():t},expression:"varNombreEncargado"}}),e._v(" Contacto "),a("b-form-input",{attrs:{state:!e.varContactoEncargadoError,error:e.varContactoEncargadoError,placeholder:"Ingresar teléfono del encargado"},model:{value:e.varContactoEncargado,callback:function(t){e.varContactoEncargado="string"===typeof t?t.trim():t},expression:"varContactoEncargado"}}),e._v(" Parentesco "),a("b-form-input",{attrs:{state:!e.varParentescoEncargadoError,placeholder:"Ingresar parentesco del encargado"},model:{value:e.varParentescoEncargado,callback:function(t){e.varParentescoEncargado="string"===typeof t?t.trim():t},expression:"varParentescoEncargado"}}),e._v(" Edad "),a("b-form-input",{attrs:{state:!e.varEdadEncargado,placeholder:"Ingresar edad del encargado"},model:{value:e.varEdadEncargado,callback:function(t){e.varEdadEncargado="string"===typeof t?t.trim():t},expression:"varEdadEncargado"}}),e._v(" CUI "),a("b-form-input",{attrs:{state:!e.varCuiEncargadoError,placeholder:"Ingresar cui del encargado"},model:{value:e.varCuiEncargado,callback:function(t){e.varCuiEncargado="string"===typeof t?t.trim():t},expression:"varCuiEncargado"}})],1)],1)],1)],1)],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Reingreso")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{placeholder:"Buscar..."},on:{input:e.handleSearchInput},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})]),a("b-form-radio-group",{attrs:{id:"radio-group-1",options:e.options,name:"radio-options"},on:{change:e.handleSearchInput},model:{value:e.selectedCriteria,callback:function(t){e.selectedCriteria=t},expression:"selectedCriteria"}})],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("FUERA DE HOSPITAL")])])])],1)])}},{key:"solvencia",fn:function(t){return a("div",{},[1==t.rowData.solvencia?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("SOLVENTE")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"warning"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("CON CUENTAS POR PAGAR")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[1==t.rowData.solvencia?a("div",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Ingresar",expression:"'Ingresar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info"},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-servicios"):e.$bvModal.show("modal-4-servicios")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1):e._e(),0==t.rowData.solvencia?a("div",[e._v(" DEBE DE ESTAR SOLVENTE PARA INGRESAR AL PACIENTE ")]):e._e()])]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},Vo=[],zo={name:"Reingreso",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){this.getHabitaciones(0)},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])(["currentUser"])),data:function(){return{from:0,to:0,total:0,perPage:5,search:this.search,selectedCriteria:"nombres",selectedTrasOption:1,varMotivo:"",varMotivoError:0,varCuiEncargado:"",varCuiEncargadoError:null,varEdadEncargado:"",varEdadEncargadoError:null,varParentescoEncargado:"",varParentescoEncargadoError:null,varContactoEncargado:"",varContactoEncargadoError:null,varNombreEncargado:"",varNombreEncargadoError:null,form:{id:0,nombres:"",apellidos:"",expediente:"",cui:"",state:1,habitacion:null},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",selectedHab:null,apiBase:q["a"]+"/expedientes/listReingreso",habitaciones:[],options:[{text:"Nombres",value:"nombres"},{text:"Apellidos",value:"apellidos"},{text:"Expediente",value:"expediente"},{text:"CUI",value:"cui"}],optionsTraslado:[{text:"Hospitalización",value:1},{text:"Quirófano",value:3},{text:"Emergencia",value:5},{text:"Intensivos",value:4}],fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombres",sortField:"nombres",title:"Nombres",dataClass:"list-item-heading"},{name:"apellidos",sortField:"apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"expediente",sortField:"expediente",title:"Expediente",dataClass:"list-item-heading"},{name:"cui",sortField:"cui",title:"CUI",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"},{name:"__slot:solvencia",title:"Solvencia",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{descripcion:{required:_a["c"]},unidadDeMedida:{required:_a["c"]},precio:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.descripcion="",this.form.unidadDeMedida="",this.form.precio="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-servicios"].hide(),this.form.id=0,this.form.descripcion="",this.form.unidadDeMedida="",this.form.precio="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-servicios"].hide(),this.form.id=0,this.form.descripcion="",this.form.unidadDeMedida="",this.form.precio="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),null!==this.selectedHab||1!==this.selectedTrasOption&&4!==this.selectedTrasOption?""===this.varContactoEncargado||(this.onState(),this.$bvModal.hide("modal-4-servicios")):(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.nombres=e.nombres,this.form.apellidos=e.apellidos,this.varNombreEncargado=e.nombre_encargado,this.varContactoEncargado=e.contacto_encargado,this.varCuiEncargado=e.cui_encargado,this.varParentescoEncargado=e.parentesco_encargado,this.varEdadEncargado=e.edad_encargado,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/servicios/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el servicio "+e.form.descripcion+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/servicios/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el servicio "+e.form.descripcion+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this,t=new Date,a=this,r=null;r=null==this.selectedHab?0:this.selectedHab.id,ie.a.put(q["a"]+"/expedientes/changeState",{id:this.form.id,estado:this.selectedTrasOption,nombre_encargado:this.varNombreEncargado,contacto_encargado:this.varContactoEncargado,cui_encargado:this.varCuiEncargado,parentesco_encargado:this.varParentescoEncargado,edad_encargado:this.varEdadEncargado,estado_anterior:2,habitaciones:r,user:a.currentUser.user}).then((function(r){a.alertVariant="info",a.showAlert(),a.alertText="Se ha ingresado el paciente "+a.form.nombres+" exitosamente",a.$refs.vuetable.refresh(),a.$refs["modal-4-servicios"].hide(),1!==e.selectedTrasOption&&4!==e.selectedTrasOption||ie.a.put(q["a"]+"/habitaciones/inUse",{id:e.selectedHab.id,ocupante:e.form.id}).then((function(t){e.selectedHab=null,e.getHabitaciones(0).then(a.$refs.selectHab.refresh())})),ie.a.post(q["a"]+"/cuentas/create",{numero:1,fecha_ingreso:t,motivo:e.varMotivo,descripcion:" ",otros:" ",total:0,estado:1,id_expediente:e.form.id}).then((function(e){return console.log(e)}))})).catch((function(e){a.alertVariant="danger",a.showAlertError(),a.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!!",e)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:this.selectedCriteria,order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},handleSearchInput:function(){this.currentPage=1,this.$refs.vuetable.refresh()},handleFilter:function(){this.currentPage=1,this.$refs.vuetable.refresh()},handleCancel:function(){this.$refs.vuetable.refresh()},getHabitaciones:function(e){var t=this;ie.a.get(q["a"]+"/habitaciones/get",{params:{tipo:e}}).then((function(e){t.habitaciones=e.data}))}}},Ho=zo,Lo=Object($["a"])(Ho,Ro,Vo,!1,null,null,null),Qo=Lo.exports,Uo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Caja chica")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}})],1),a("div",{staticClass:"col-sm"})])])]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{attrs:{variant:"primary",disabled:!0}},[e._v("VER CAJA DEL DÍA")])]},proxy:!0},{key:"body",fn:function(){return[a("b-tabs",[a("b-tab",{attrs:{title:"Registro de caja chica",active:""}},[a("CajaChica")],1),e.hasPermission([5,7])?a("b-tab",{attrs:{title:"Rubros",lazy:""}},[a("Rubros")],1):e._e()],1)]},proxy:!0}])})],1)],1)],1)},jo=[],Yo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Caja Chica")])]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Fecha:"}},[a("b-input",{ref:"fecha",attrs:{id:"fecha",type:"date",placeholder:"Ingrese la fecha"},model:{value:e.fecha,callback:function(t){e.fecha=t},expression:"fecha"}})],1),a("b-form-group",{attrs:{label:"Proveedor:"}},[a("b-input",{ref:"proveedorNombre",attrs:{id:"proveedorNombre",placeholder:"Ingrese el proveedor"},model:{value:e.proveedorNombre,callback:function(t){e.proveedorNombre=t},expression:"proveedorNombre"}})],1),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-input",{ref:"cajaCant",attrs:{id:"cajaCant",placeholder:"Ingrese la cantidad a retirar",type:"number",min:"0.0",step:"0.1"},model:{value:e.cajaCant,callback:function(t){e.cajaCant=t},expression:"cajaCant"}})],1),a("b-form-group",{attrs:{label:"Descripción:"}},[a("b-input",{ref:"cajaDesc",attrs:{id:"cajaDesc",placeholder:"Ingrese la descripción del retiro"},model:{value:e.cajaDesc,callback:function(t){e.cajaDesc=t},expression:"cajaDesc"}})],1),a("b-form-group",{attrs:{label:"Rubro de caja chica"}},[a("v-select",{ref:"selectedRubro",attrs:{options:e.rubros,label:"nombre",value:"id",placeholder:"Ingrese el rubro del retiro"},model:{value:e.selectedRubro,callback:function(t){e.selectedRubro=t},expression:"selectedRubro"}})],1)],1),a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("RETIRAR DINERO")]),a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-contract",modifiers:{"modal-2-contract":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info"},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-contract"):e.$bvModal.show("modal-4-contract")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},Bo=[],Go={name:"CajaChica",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){this.getRubros(),g["a"].index()},data:function(){return{editorOption:{placeholder:"",modules:{toolbar:[["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["clean"]]}},from:0,to:0,total:0,perPage:5,search:"",form:{id:0,nombre:"",state:1},cajaCant:null,cajaDesc:null,proveedorNombre:null,fecha:null,selectedRubro:null,alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/cajaChica/list",rubros:[],fields:[{name:"fecha",sortField:"fecha",title:"Fecha",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Descripción",dataClass:"list-item-heading"},{name:"proveedor",sortField:"proveedor",title:"Proveedor",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"rubro.nombre",sortField:"rubro.nombre",title:"Rubro",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Creado por",dataClass:"list-item-heading"}]}},validations:function(){return{fecha:{required:_a["c"]},proveedorNombre:{required:_a["c"]},cajaCant:{required:_a["c"]},cajaDesc:{required:_a["c"]},selectedRubro:{required:_a["c"]}}},computed:Object(s["a"])({},Object(_["c"])(["currentUser"])),methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.nombre="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.nombre="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),null!==this.cajaDesc&&null!==this.cajaCant&&null!==this.fecha&&this.selectedRubro&&this.proveedorNombre?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.nombre=e.nombre,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this,t={fecha:e.fecha,selectedRubro:e.selectedRubro,cajaCant:e.cajaCant,cajaDesc:e.cajaDesc,proveedorNombre:e.proveedorNombre};ie.a.post(q["a"]+"/cajaChica/create",{form:t,user:e.currentUser.user}).then((function(t){e.fecha=null,e.selectedRubro=null,e.cajaCant=null,e.cajaDesc=null,e.proveedorNombre=null,e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el registro exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},getRubros:function(){var e=this;ie.a.get(q["a"]+"/rubros/get").then((function(t){e.rubros=t.data}))}}},Zo=Go,Wo=Object($["a"])(Zo,Yo,Bo,!1,null,null,null),Ko=Wo.exports,Jo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-2-rubro",attrs:{id:"modal-2-rubro",title:"Editar rubro"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.rubName.$error,placeholder:"Ingresar nombre del rubro"},model:{value:e.$v.rubName.$model,callback:function(t){e.$set(e.$v.rubName,"$model","string"===typeof t?t.trim():t)},expression:"$v.rubName.$model"}}),e.$v.rubName.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre del rubro ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-3-rubro",attrs:{id:"modal-3-rubro",title:"Desactivar rubro"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-rubro")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-rubro")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el rubro: "+e._s(e.rubName)+" ? ")])],1),a("b-modal",{ref:"modal-4-rubro",attrs:{id:"modal-4-rubro",title:"Activar rubro"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-rubro")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-rubro")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al rubro: "+e._s(e.form.nombre)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Rubros")])]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-input",{ref:"rubName",attrs:{id:"rubName"},model:{value:e.rubName,callback:function(t){e.rubName=t},expression:"rubName"}})],1)],1),a("b-button",{attrs:{variant:"primary"},on:{click:e.onValidateRubro}},[e._v("AGREGAR RUBRO")]),a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-rubro",modifiers:{"modal-2-rubro":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info"},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-rubro"):e.$bvModal.show("modal-4-rubro")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},Xo=[],ei={name:"Rubros",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},data:function(){return{editorOption:{placeholder:"",modules:{toolbar:[["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["clean"]]}},from:0,to:0,total:0,perPage:5,search:"",form:{id:0,nombre:"",state:1},rubName:"",alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/rubros/list",selectedAseg:null,aseguradoras:[],expedientes:[],selectedExp:null,fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"nombre",title:"Rubros",dataClass:"list-item-heading"}]}},validations:function(){return{rubName:{required:_a["c"]}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.nombre="",this.form.state=1;break}},closeModal:function(e){switch(e){case"update":this.$v.$reset(),this.$refs["modal-2-rubro"].hide(),this.form.id=0,this.form.nombre="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),""!==this.rubName?this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.rubName=e.nombre,this.form.state=e.estado,this.form.id=e.id},onValidateRubro:function(){var e=this;""!==this.rubName?ie.a.post(q["a"]+"/rubros/create",{form:{nombre:this.rubName}}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el rubro",e.$refs.vuetable.refresh(),e.rubName=""})).catch((function(){e.alertVariant="error",e.showAlert(),e.alertText="Ha ocurrido un error"})):(this.alertVariant="error",this.showAlert(),this.alertText="No pueden haber campos vacios")},onUpdate:function(){var e=this;e.form.name=e.rubName,ie.a.put(q["a"]+"/rubros/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el rubro exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/rubros/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el rubro exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-rubro"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/rubros/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el rubro exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-rubro"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs}}},ti=ei,ai=Object($["a"])(ti,Jo,Xo,!1,null,null,null),ri=ai.exports,oi={name:"CajaChicaParent",components:{CajaChica:Ko,Rubros:ri},data:function(){return{patient:{},patientId:0}},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])({currentUser:"currentUser"})),beforeMount:function(){this.patientId=this.$route.params.id},methods:{hasPermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.includes(this.currentUser.user_type)},backToPatients:function(){this.$router.push({name:"patient.patients"})}}},ii=oi,ni=Object($["a"])(ii,Uo,jo,!1,null,null,null),si=ni.exports,li=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Pedidos")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}})],1),a("div",{staticClass:"col-sm"})])])]},proxy:!0},{key:"body",fn:function(){return[a("b-tabs",[a("b-tab",{attrs:{title:"Pedidos medicamento",active:""}},[a("PedidosMedicamento")],1),a("b-tab",{attrs:{title:"Pedidos material común",lazy:""}},[a("PedidosComun")],1),a("b-tab",{attrs:{title:"Pedidos material quirurgico",lazy:""}},[a("PedidosQuirurgico")],1)],1)]},proxy:!0}])})],1)],1)],1)},ci=[],di=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-pedidos-com",attrs:{id:"modal-1-pedidos-com",title:"Agregar producto comun"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("comun")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("comun")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",[a("b-form-group",{attrs:{label:"Producto común:"}},[a("v-select",{attrs:{options:e.comunes,reduce:function(e){return e.value},state:!e.$v.formComun.id_comun.$error,label:"text",placeholder:"Seleccione el producto común"},on:{input:e.onChangeComun},model:{value:e.$v.formComun.id_comun.$model,callback:function(t){e.$set(e.$v.formComun.id_comun,"$model","string"===typeof t?t.trim():t)},expression:"$v.formComun.id_comun.$model"}}),a("label",[e._v(e._s(this.existencias_selected_com))]),e.$v.formComun.id_comun.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe seleccionar un producto común ")]):e._e()],1),e.$v.formComun.id_comun.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el producto común ")]):e._e(),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.formComun.cantidad.$error,min:1,max:e.max_cant,placeholder:"Ingresar Cantidad"},model:{value:e.$v.formComun.cantidad.$model,callback:function(t){e.$set(e.$v.formComun.cantidad,"$model","string"===typeof t?t.trim():t)},expression:"$v.formComun.cantidad.$model"}})],1),e.$v.formComun.cantidad.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la cantidad ")]):e._e()],1)],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"body",fn:function(){return[a("h5",{staticClass:"card-title mt-3"},[e._v("Datos de generales del pedido")]),a("hr"),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Código de pedido:"}},[a("b-form-input",{attrs:{readonly:"",placeholder:"Ingresar código del pedido"},model:{value:e.$v.form.codigoPedido.$model,callback:function(t){e.$set(e.$v.form.codigoPedido,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.codigoPedido.$model"}})],1),e.$v.form.codigoPedido.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el código ")]):e._e()],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Fecha:"}},[a("b-form-input",{attrs:{type:"date",state:!e.$v.form.fecha.$error},model:{value:e.$v.form.fecha.$model,callback:function(t){e.$set(e.$v.form.fecha,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.fecha.$model"}}),e.$v.form.fecha.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la fecha ")]):e._e()],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Pedido a:"}},[a("b-row",{attrs:{md:"4"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.picked.$model,expression:"$v.form.picked.$model"}],attrs:{type:"radio",id:"farmacia",value:"0"},domProps:{checked:e._q(e.$v.form.picked.$model,"0")},on:{change:function(t){return e.$set(e.$v.form.picked,"$model","0")}}}),a("label",{staticClass:"mt-2 ml-1",attrs:{for:"farmacia"}},[e._v("Farmacia")])]),a("b-row",{attrs:{md:"4"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.picked.$model,expression:"$v.form.picked.$model"}],attrs:{type:"radio",id:"quirofano",value:"1"},domProps:{checked:e._q(e.$v.form.picked.$model,"1")},on:{change:function(t){return e.$set(e.$v.form.picked,"$model","1")}}}),a("label",{staticClass:"mt-2 ml-1",attrs:{for:"quirofano"}},[e._v("Quirófano")])])],1)],1)],1),a("h5",{staticClass:"card-title mt-3"},[e._v("Comunes para pedido")]),a("hr"),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Agregar producto común:"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-pedidos-com",modifiers:{"modal-1-pedidos-com":!0}}],attrs:{variant:"info"}},[e._v("AGREGAR PRODUCTO COMÚN")])],1)],1)],1),a("br"),a("br"),a("table",{staticClass:"table table-hover product_item_list c_table theme-color mb-0"},[a("thead",[a("tr",[a("th",[e._v("Acciones")]),a("th",[e._v("Nombre")]),a("th",[e._v("Cantidad")])])]),a("tbody",e._l(e.arrayDetalles,(function(t){return a("tr",{key:t.id},[a("td",[[a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(a){return e.deleteDetail(t.id,t.total)}}},[a("i",{staticClass:"fas fa-trash-alt"})])]],2),a("td",{domProps:{textContent:e._s(t.nombre)}}),a("td",{domProps:{textContent:e._s(t.cantidad)}})])})),0)]),a("br"),a("br"),e.arrayDetalles.length>0?a("b-button",{attrs:{variant:"dark"},on:{click:function(t){return e.onValidateAll()}}},[e._v("AGREGAR PEDIDO")]):e._e()]},proxy:!0}])})],1)],1)],1)},mi=[],ui=(a("7db0"),a("c740"),a("a434"),(new Date).toISOString().split("T")[0]),fi={name:"CrearPedido",components:{},setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){this.fetchComunes(),this.fetchPedidos()},mounted:function(){g["a"].index()},beforeDestroy:function(){},computed:Object(s["a"])({},Object(_["c"])(["currentUser"])),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",id:0,arrayDetalles:[],comunes:[],pedidos:[],total_array:0,max_cant:0,existencias_selected_com:"",formComun:{id_comun:null,cantidad:null,comun:null,existencias_actuales:null},form:{id:0,codigoPedido:"",cantidadUnidades:0,fecha:ui,id_usuario:0,estado:1,picked:0,comunId:0},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/pedidos/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"codigoPedido",sortField:"codigoPedido",title:"Código de pedido",dataClass:"list-item-heading"},{name:"cantidadUnidades",sortField:"cantidadUnidades",title:"Cantidad de unidades",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{codigoPedido:{required:_a["c"]},fecha:{required:_a["c"]},cantidadUnidades:{required:_a["c"]},comunId:{required:_a["c"]},picked:{required:_a["c"]}},formComun:{id_comun:{required:_a["c"]},cantidad:{required:_a["c"]}}}},methods:{fetchComunes:function(){var e=this;ie.a.get(q["a"]+"/comun/list").then((function(t){e.comunes=t.data.data.map((function(e){return{value:e.id,text:e.nombre,existencias_actuales:e.existencia_actual}})),console.log("coms",t.data)})).catch((function(t){console.error("Error fetching comunes:",t),e.alertErrorText="Error al cargar los productos comunes",e.showAlertError()}))},fetchPedidos:function(){var e=this;ie.a.get(q["a"]+"/pedidos/getPerYear").then((function(t){e.pedidos=t.data.map((function(e){return{value:e.id,text:e.codigoPedido}}));var a="0";a=e.pedidos.length<10?"000":e.pedidos.length<100&&e.pedidos.length>9?"00":e.pedidos.length<1e3&&e.pedidos.length>99?"0":"",e.form.codigoPedido="P"+a+e.pedidos.length+"-"+ui.split("-")[0]})).catch((function(t){console.error("Error fetching pedidos:",t),e.alertErrorText="Error al cargar los pedidos",e.showAlertError()}))},addNewCom:function(){var e=this,t=this;t.total_array=t.total_array+1;var a=t.comunes.find((function(e){return e.value===t.formComun.id_comun})),r={cantidad:t.formComun.cantidad,nombre:a.text,existencias_actuales:parseInt(a.existencias_actuales)-parseInt(t.formComun.cantidad),id_comun:t.formComun.id_comun,is_medicine:!1,is_quirurgico:!1,is_comun:!0},o=t.comunes.findIndex((function(t){return t.value===e.formComun.id_comun}));this.comunes[o].existencias_actuales=parseInt(a.existencias_actuales)-parseInt(t.formComun.cantidad),this.form.cantidadUnidades=parseInt(this.form.cantidadUnidades)+parseInt(t.formComun.cantidad),t.arrayDetalles.push(r)},addComun:function(){var e=this;if(e.arrayDetalles.length>0){var t=this.arrayDetalles.findIndex((function(t){return t.comun===e.formComun.comun}));null===t||void 0===t||t<0?this.addNewCom():(e.arrayDetalles[t].cantidad=parseInt(e.arrayDetalles[t].cantidad)+parseInt(e.formComun.cantidad),console.log(e.arrayDetalles[t]))}else this.addNewCom();e.closeModal("comun")},deleteDetail:function(e,t){var a=this,r=a.arrayDetalles.findIndex((function(t){return t.id===e}));r>-1&&a.arrayDetalles.splice(r,1)},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.formComun.id_comun=null,this.formComun.cantidad=null,this.existencias_selected_com="";break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-pedidos-com"].hide(),this.formComun.id_comun=null,this.formComun.cantidad=null,this.existencias_selected_com="",this.picked=0;break;case"comun":this.$v.formComun.$reset(),this.$refs["modal-1-pedidos-com"].hide(),this.formComun.id_comun=null,this.formComun.cantidad=null,this.existencias_selected_com="";break;case"update":this.$v.$reset(),this.$refs["modal-2-pedidos-com"].hide(),this.formComun.id_comun=null,this.formComun.cantidad=null,this.existencias_selected_com="";break;case"ver":this.$v.$reset(),this.$refs["modal-ver-pedidos-com"].hide(),this.formComun.id_comun=null,this.formComun.cantidad=null,this.existencias_selected_com="";break}},onValidate:function(e){this.$v.formComun.$touch(),console.log(this.$v.$error),!0!==this.$v.$error?this.formComun.cantidad>0?this.formComun.cantidad<=this.max_cant?this.addComun():(this.alertErrorText="La cantidad de producto debe ser menor a la existencia actual del producto ("+this.max_cant+").",this.showAlertError()):(console.log(this.formComun.cantidad),this.alertErrorText="La cantidad del producto debe ser mayor a 0",this.showAlertError()):(this.alertErrorText="Revisa que todos los campos requeridos esten llenos, o si ya le puso un código al pedido",this.showAlertError())},onValidateAll:function(){this.id_usuario=this.currentUser.id,this.form.estado=1,this.form.comunId=1,this.$v.form.$touch(),this.total_array>0?!0!==this.$v.$error?(this.fetchPedidos(),this.onSave()):(this.alertText="Ha ocurrido un error en el pedido",this.showAlertError()):(this.alertText="Debe ingresar productos comunes al pedido.",this.showAlertError())},resetData:function(){this.formComun.comun=null,this.formComun.cantidad=null,this.formComun.existencias_actuales=null,this.formComun.id_comun=null},onSave:function(){var e=this;console.log("idUser",this.currentUser.id),ie.a.post(q["a"]+"/pedidos/create",{detalle:e.arrayDetalles,codigoPedido:e.form.codigoPedido,fecha:e.form.fecha,id_usuario:e.currentUser.id,estado:1,comunId:1,cantidadUnidades:e.form.cantidadUnidades}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el pedido exitosamente",e.fetchPedidos(),e.closeModal("save"),e.arrayDetalles=[],e.paciente=null})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertText=t.response.data.msg,console.error("Error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search,search_exam:this.search_exam,columna:this.columna.value}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.search_exam=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},changeTypeSearch:function(e){this.columna=e},onSearch:function(e,t){e.length&&(t(!0),this.searching(e,t))},onSearchQuirurgicos:function(e,t){e.length&&(t(!0),this.searchingQuirurgico(e,t))},onSearchComunes:function(e,t){e.length&&(t(!0),this.searchingComun(e,t))},searching:function(e,t){var a=this;ie.a.get(q["a"]+"/comun/getSearch",{params:{search:e}}).then((function(e){a.comunes=e.data,t(!1)}))},onChangeComun:function(){var e=this,t=this.comunes.find((function(t){return t.value===e.formComun.id_comun}));this.max_cant=t.existencias_actuales,this.existencias_selected_com=t.existencias_actuales+" unidades en existencia."}}},hi=fi,pi=Object($["a"])(hi,di,mi,!1,null,null,null),bi=pi.exports,vi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-pedidos-med",attrs:{id:"modal-1-pedidos-med",title:"Agregar medicamento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("medicamento")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("medicamento")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",[a("b-form-group",{attrs:{label:"Medicamento:"}},[a("v-select",{attrs:{options:e.medicamentos,reduce:function(e){return e.value},state:!e.$v.formMedicamento.id_medicine.$error,label:"text",placeholder:"Seleccione el medicamento"},on:{input:e.onChangeMedicamento},model:{value:e.$v.formMedicamento.id_medicine.$model,callback:function(t){e.$set(e.$v.formMedicamento.id_medicine,"$model","string"===typeof t?t.trim():t)},expression:"$v.formMedicamento.id_medicine.$model"}}),a("label",[e._v(e._s(this.existencias_selected_med))]),e.$v.formMedicamento.id_medicine.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe seleccionar un medicamento ")]):e._e()],1),e.$v.formMedicamento.id_medicine.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el medicamento ")]):e._e(),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.formMedicamento.cantidad.$error,min:1,max:e.max_cant,placeholder:"Ingresar Cantidad"},model:{value:e.$v.formMedicamento.cantidad.$model,callback:function(t){e.$set(e.$v.formMedicamento.cantidad,"$model","string"===typeof t?t.trim():t)},expression:"$v.formMedicamento.cantidad.$model"}})],1),e.$v.formMedicamento.cantidad.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la cantidad ")]):e._e()],1)],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"body",fn:function(){return[a("h5",{staticClass:"card-title mt-3"},[e._v("Datos de generales del pedido")]),a("hr"),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Código de pedido:"}},[a("b-form-input",{attrs:{readonly:"",placeholder:"Ingresar código del pedido"},model:{value:e.$v.form.codigoPedido.$model,callback:function(t){e.$set(e.$v.form.codigoPedido,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.codigoPedido.$model"}})],1),e.$v.form.codigoPedido.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el código ")]):e._e()],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Fecha:"}},[a("b-form-input",{attrs:{type:"date",state:!e.$v.form.fecha.$error},model:{value:e.$v.form.fecha.$model,callback:function(t){e.$set(e.$v.form.fecha,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.fecha.$model"}}),e.$v.form.fecha.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la fecha ")]):e._e()],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Pedido a:"}},[a("b-row",{attrs:{md:"4"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.picked.$model,expression:"$v.form.picked.$model"}],attrs:{type:"radio",id:"farmacia",value:"0"},domProps:{checked:e._q(e.$v.form.picked.$model,"0")},on:{change:function(t){return e.$set(e.$v.form.picked,"$model","0")}}}),a("label",{staticClass:"mt-2 ml-1",attrs:{for:"farmacia"}},[e._v("Farmacia")])]),a("b-row",{attrs:{md:"4"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.picked.$model,expression:"$v.form.picked.$model"}],attrs:{type:"radio",id:"quirofano",value:"1"},domProps:{checked:e._q(e.$v.form.picked.$model,"1")},on:{change:function(t){return e.$set(e.$v.form.picked,"$model","1")}}}),a("label",{staticClass:"mt-2 ml-1",attrs:{for:"quirofano"}},[e._v("Quirófano")])])],1)],1)],1),a("h5",{staticClass:"card-title mt-3"},[e._v("Medicamentos para pedido")]),a("hr"),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Agregar medicamento:"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-pedidos-med",modifiers:{"modal-1-pedidos-med":!0}}],attrs:{variant:"info"}},[e._v("AGREGAR MEDICAMENTO")])],1)],1)],1),a("br"),a("br"),a("table",{staticClass:"table table-hover product_item_list c_table theme-color mb-0"},[a("thead",[a("tr",[a("th",[e._v("Acciones")]),a("th",[e._v("Nombre")]),a("th",[e._v("Cantidad")])])]),a("tbody",e._l(e.arrayDetalles,(function(t){return a("tr",{key:t.id},[a("td",[[a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(a){return e.deleteDetail(t.id,t.total)}}},[a("i",{staticClass:"fas fa-trash-alt"})])]],2),a("td",{domProps:{textContent:e._s(t.nombre)}}),a("td",{domProps:{textContent:e._s(t.cantidad)}})])})),0)]),a("br"),a("br"),e.arrayDetalles.length>0?a("b-button",{attrs:{variant:"dark"},on:{click:function(t){return e.onValidateAll()}}},[e._v("AGREGAR PEDIDO")]):e._e()]},proxy:!0}])})],1)],1)],1)},gi=[],_i=(new Date).toISOString().split("T")[0],xi={name:"CrearPedido",components:{},setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){this.fetchPedidos(),this.fetchMedicamentos()},mounted:function(){g["a"].index()},beforeDestroy:function(){},computed:Object(s["a"])({},Object(_["c"])(["currentUser"])),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",id:0,arrayDetalles:[],medicamentos:[],pedidos:[],total_array:0,max_cant:0,existencias_selected_med:"",formMedicamento:{id_medicine:null,cantidad:null,medicine:null,existencias_actuales:null},form:{id:0,codigoPedido:"",cantidadUnidades:0,fecha:_i,id_usuario:0,estado:1,picked:0,medicamentoId:0},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/pedidos/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"codigoPedido",sortField:"codigoPedido",title:"Código de pedido",dataClass:"list-item-heading"},{name:"cantidadUnidades",sortField:"cantidadUnidades",title:"Cantidad de unidades",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{codigoPedido:{required:_a["c"]},fecha:{required:_a["c"]},cantidadUnidades:{required:_a["c"]},medicamentoId:{required:_a["c"]},picked:{required:_a["c"]}},formMedicamento:{id_medicine:{required:_a["c"]},cantidad:{required:_a["c"]}}}},methods:{fetchMedicamentos:function(){var e=this;ie.a.get(q["a"]+"/medicamentos/list2").then((function(t){e.medicamentos=t.data.map((function(e){return{value:e.id,text:e.nombre,existencias_actuales:e.existencia_actual}}))})).catch((function(t){console.error("Error fetching medicamentos:",t),e.alertErrorText="Error al cargar los medicamentos",e.showAlertError()}))},fetchPedidos:function(){var e=this;ie.a.get(q["a"]+"/pedidos/getPerYear").then((function(t){e.pedidos=t.data.map((function(e){return{value:e.id,text:e.codigoPedido}}));var a="0";a=e.pedidos.length<10?"000":e.pedidos.length<100&&e.pedidos.length>9?"00":e.pedidos.length<1e3&&e.pedidos.length>99?"0":"",e.form.codigoPedido="P"+a+e.pedidos.length+"-"+_i.split("-")[0]})).catch((function(t){console.error("Error fetching pedidos:",t),e.alertErrorText="Error al cargar los pedidos",e.showAlertError()}))},addNewMed:function(){var e=this,t=this;t.total_array=t.total_array+1;var a=t.medicamentos.find((function(e){return e.value===t.formMedicamento.id_medicine})),r={cantidad:t.formMedicamento.cantidad,nombre:a.text,existencias_actuales:parseInt(a.existencias_actuales)-parseInt(t.formMedicamento.cantidad),id_medicine:t.formMedicamento.id_medicine,is_medicine:!0,is_quirurgico:!1,is_comun:!1},o=t.medicamentos.findIndex((function(t){return t.value===e.formMedicamento.id_medicine}));this.medicamentos[o].existencias_actuales=parseInt(a.existencias_actuales)-parseInt(t.formMedicamento.cantidad),this.form.cantidadUnidades=parseInt(this.form.cantidadUnidades)+parseInt(t.formMedicamento.cantidad),t.arrayDetalles.push(r)},addMedicine:function(){var e=this;if(e.arrayDetalles.length>0){var t=this.arrayDetalles.findIndex((function(t){return t.id_medicine===e.formMedicamento.id_medicine}));null===t||void 0===t||t<0?this.addNewMed():(e.arrayDetalles[t].cantidad=parseInt(e.arrayDetalles[t].cantidad)+parseInt(e.formMedicamento.cantidad),console.log(e.arrayDetalles[t]))}else this.addNewMed();e.closeModal("medicamento")},deleteDetail:function(e,t){var a=this,r=a.arrayDetalles.findIndex((function(t){return t.id===e}));r>-1&&a.arrayDetalles.splice(r,1)},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.formMedicamento.id_medicine=null,this.formMedicamento.cantidad=null,this.existencias_selected_med=null;break}},closeModal:function(e){switch(e){case"save":this.$v.form.$reset(),this.$v.formMedicamento.$reset(),this.$refs["modal-1-pedidos-med"].hide(),this.formMedicamento.id_medicine=null,this.formMedicamento.cantidad=null,this.existencias_selected_med="",this.picked=0;break;case"medicamento":this.$v.formMedicamento.$reset(),this.$refs["modal-1-pedidos-med"].hide(),this.formMedicamento.id_medicine=null,this.formMedicamento.cantidad=null,this.existencias_selected_med="";break;case"update":this.$v.form.$reset(),this.$v.formMedicamento.$reset(),this.$refs["modal-2-pedidos-med"].hide(),this.formMedicamento.id_medicine=null,this.formMedicamento.cantidad=null,this.existencias_selected_med="";break;case"ver":this.$v.form.$reset(),this.$v.formMedicamento.$reset(),this.$refs["modal-ver-pedidos-med"].hide(),this.formMedicamento.id_medicine=null,this.formMedicamento.cantidad=null,this.existencias_selected_med="";break}},onValidate:function(e){this.$v.formMedicamento.$touch(),console.log(this.$v.$error),!0!==this.$v.$error?this.formMedicamento.cantidad>0?this.formMedicamento.cantidad<=this.max_cant?this.addMedicine():(this.alertErrorText="La cantidad de producto debe ser menor a la existencia actual del producto ("+this.max_cant+").",this.showAlertError()):(this.alertErrorText="La cantidad de producto debe ser mayor a 0.",this.showAlertError()):(this.alertErrorText="Revisa que todos los campos requeridos esten llenos, o si ya le puso un código al pedido",this.showAlertError())},onValidateAll:function(){this.id_usuario=this.currentUser.id,this.form.estado=1,this.form.medicamentoId=1,this.$v.form.$touch(),this.total_array>0?!0!==this.$v.$error?this.onSave():(this.alertText="Ha ocurrido un error en el pedido",this.showAlertError()):(this.alertText="Debe ingresar medicamentos al pedido.",this.showAlertError())},resetData:function(){this.formMedicamento.medicine=null,this.formMedicamento.cantidad=null,this.formMedicamento.existencias_actuales=null,this.formMedicamento.id_medicine=null},onSave:function(){var e=this;console.log("idUser",this.currentUser.id),ie.a.post(q["a"]+"/pedidos/create",{detalle:e.arrayDetalles,codigoPedido:e.form.codigoPedido,fecha:e.form.fecha,id_usuario:e.currentUser.id,estado:1,medicamentoId:1,picked:e.form.picked,cantidadUnidades:e.form.cantidadUnidades}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el pedido exitosamente",e.fetchPedidos(),e.closeModal("save"),e.arrayDetalles=[],e.paciente=null})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertText=t.response.data.msg,console.error("Error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search,search_exam:this.search_exam,columna:this.columna.value}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.search_exam=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},changeTypeSearch:function(e){this.columna=e},onSearch:function(e,t){e.length&&(t(!0),this.searching(e,t))},onSearchQuirurgicos:function(e,t){e.length&&(t(!0),this.searchingQuirurgico(e,t))},onSearchComunes:function(e,t){e.length&&(t(!0),this.searchingComun(e,t))},searching:function(e,t){var a=this;ie.a.get(q["a"]+"/medicamentos/getSearch",{params:{search:e}}).then((function(e){a.medicines=e.data,t(!1)}))},onChangeMedicamento:function(){var e=this,t=this.medicamentos.find((function(t){return t.value===e.formMedicamento.id_medicine}));this.max_cant=t.existencias_actuales,this.existencias_selected_med=t.existencias_actuales+" unidades en existencia."}}},Ci=xi,$i=Object($["a"])(Ci,vi,gi,!1,null,null,null),yi=$i.exports,wi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-pedidos-qui",attrs:{id:"modal-1-pedidos-qui",title:"Agregar producto quirúrgico"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("quirurgico")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("quirurgico")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",[a("b-form-group",{attrs:{label:"Quirurgico:"}},[a("v-select",{attrs:{options:e.quirurgicos,reduce:function(e){return e.value},state:!e.$v.formQuirurgico.id_quirurgico.$error,label:"text",placeholder:"Seleccione el producto quirúrgico"},on:{input:e.onChangeQuirurgico},model:{value:e.$v.formQuirurgico.id_quirurgico.$model,callback:function(t){e.$set(e.$v.formQuirurgico.id_quirurgico,"$model","string"===typeof t?t.trim():t)},expression:"$v.formQuirurgico.id_quirurgico.$model"}}),a("label",[e._v(e._s(this.existencias_selected_qui))]),e.$v.formQuirurgico.id_quirurgico.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe seleccionar un producto quirúrgico ")]):e._e()],1),e.$v.formQuirurgico.id_quirurgico.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el producto quirúrgico ")]):e._e(),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.formQuirurgico.cantidad.$error,min:1,max:e.max_cant,placeholder:"Ingresar Cantidad"},model:{value:e.$v.formQuirurgico.cantidad.$model,callback:function(t){e.$set(e.$v.formQuirurgico.cantidad,"$model","string"===typeof t?t.trim():t)},expression:"$v.formQuirurgico.cantidad.$model"}})],1),e.$v.formQuirurgico.cantidad.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la cantidad ")]):e._e()],1)],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"body",fn:function(){return[a("h5",{staticClass:"card-title mt-3"},[e._v("Datos de generales del pedido")]),a("hr"),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Código de pedido:"}},[a("b-form-input",{attrs:{readonly:"",placeholder:"Ingresar código del pedido"},model:{value:e.$v.form.codigoPedido.$model,callback:function(t){e.$set(e.$v.form.codigoPedido,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.codigoPedido.$model"}})],1),e.$v.form.codigoPedido.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el código ")]):e._e()],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Fecha:"}},[a("b-form-input",{attrs:{type:"date",state:!e.$v.form.fecha.$error},model:{value:e.$v.form.fecha.$model,callback:function(t){e.$set(e.$v.form.fecha,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.fecha.$model"}}),e.$v.form.fecha.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la fecha ")]):e._e()],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Pedido a:"}},[a("b-row",{attrs:{md:"4"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.picked.$model,expression:"$v.form.picked.$model"}],attrs:{type:"radio",id:"farmacia",value:"0"},domProps:{checked:e._q(e.$v.form.picked.$model,"0")},on:{change:function(t){return e.$set(e.$v.form.picked,"$model","0")}}}),a("label",{staticClass:"mt-2 ml-1",attrs:{for:"farmacia"}},[e._v("Farmacia")])]),a("b-row",{attrs:{md:"4"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.picked.$model,expression:"$v.form.picked.$model"}],attrs:{type:"radio",id:"quirofano",value:"1"},domProps:{checked:e._q(e.$v.form.picked.$model,"1")},on:{change:function(t){return e.$set(e.$v.form.picked,"$model","1")}}}),a("label",{staticClass:"mt-2 ml-1",attrs:{for:"quirofano"}},[e._v("Quirófano")])])],1)],1)],1),a("h5",{staticClass:"card-title mt-3"},[e._v("Quirurgicos para pedido")]),a("hr"),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Agregar producto quirúrgico:"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-pedidos-qui",modifiers:{"modal-1-pedidos-qui":!0}}],attrs:{variant:"info"}},[e._v("AGREGAR PRODUCTO QUIRÚRGICO")])],1)],1)],1),a("br"),a("br"),a("table",{staticClass:"table table-hover product_item_list c_table theme-color mb-0"},[a("thead",[a("tr",[a("th",[e._v("Acciones")]),a("th",[e._v("Nombre")]),a("th",[e._v("Cantidad")])])]),a("tbody",e._l(e.arrayDetalles,(function(t){return a("tr",{key:t.id},[a("td",[[a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(a){return e.deleteDetail(t.id,t.total)}}},[a("i",{staticClass:"fas fa-trash-alt"})])]],2),a("td",{domProps:{textContent:e._s(t.nombre)}}),a("td",{domProps:{textContent:e._s(t.cantidad)}})])})),0)]),a("br"),a("br"),e.arrayDetalles.length>0?a("b-button",{attrs:{variant:"dark"},on:{click:function(t){return e.onValidateAll()}}},[e._v("AGREGAR PEDIDO")]):e._e()]},proxy:!0}])})],1)],1)],1)},Ei=[],ki=(new Date).toISOString().split("T")[0],Di={name:"CrearPedido",components:{},setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){this.fetchQuirurgicos(),this.fetchPedidos()},mounted:function(){g["a"].index()},beforeDestroy:function(){},computed:Object(s["a"])({},Object(_["c"])(["currentUser"])),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",id:0,arrayDetalles:[],quirurgicos:[],pedidos:[],total_array:0,max_cant:0,existencias_selected_qui:"",formQuirurgico:{id_quirurgico:null,cantidad:null,quirurgico:null,existencias_actuales:null},form:{id:0,codigoPedido:"",cantidadUnidades:0,fecha:ki,id_usuario:0,estado:1,picked:0,quirurgicoId:0},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/pedidos/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"codigoPedido",sortField:"codigoPedido",title:"Código de pedido",dataClass:"list-item-heading"},{name:"cantidadUnidades",sortField:"cantidadUnidades",title:"Cantidad de unidades",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{codigoPedido:{required:_a["c"]},fecha:{required:_a["c"]},cantidadUnidades:{required:_a["c"]},quirurgicoId:{required:_a["c"]},picked:{required:_a["c"]}},formQuirurgico:{id_quirurgico:{required:_a["c"]},cantidad:{required:_a["c"]}}}},methods:{fetchQuirurgicos:function(){var e=this;ie.a.get(q["a"]+"/quirurgico/list").then((function(t){e.quirurgicos=t.data.data.map((function(e){return{value:e.id,text:e.nombre,existencias_actuales:e.existencia_actual}}))})).catch((function(t){console.error("Error fetching quirurgicos:",t),e.alertErrorText="Error al cargar los quirurgicos",e.showAlertError()}))},fetchPedidos:function(){var e=this;ie.a.get(q["a"]+"/pedidos/getPerYear").then((function(t){e.pedidos=t.data.map((function(e){return{value:e.id,text:e.codigoPedido}}));var a="0";a=e.pedidos.length<10?"000":e.pedidos.length<100&&e.pedidos.length>9?"00":e.pedidos.length<1e3&&e.pedidos.length>99?"0":"",e.form.codigoPedido="P"+a+e.pedidos.length+"-"+ki.split("-")[0]})).catch((function(t){console.error("Error fetching pedidos:",t),e.alertErrorText="Error al cargar los pedidos",e.showAlertError()}))},addNewQui:function(){var e=this,t=this;t.total_array=t.total_array+1;var a=t.quirurgicos.find((function(e){return e.value===t.formQuirurgico.id_quirurgico})),r={cantidad:t.formQuirurgico.cantidad,nombre:a.text,existencias_actuales:parseInt(a.existencias_actuales)-parseInt(t.formQuirurgico.cantidad),id_quirurgico:t.formQuirurgico.id_quirurgico,is_quirurgico:!0,is_medicine:!1,is_comun:!1},o=t.quirurgicos.findIndex((function(t){return t.value===e.formQuirurgico.id_quirurgico}));this.quirurgicos[o].existencias_actuales=parseInt(a.existencias_actuales)-parseInt(t.formQuirurgico.cantidad),this.form.cantidadUnidades=parseInt(this.form.cantidadUnidades)+parseInt(t.formQuirurgico.cantidad),t.arrayDetalles.push(r)},addQuirurgico:function(){var e=this;if(e.arrayDetalles.length>0){var t=this.arrayDetalles.findIndex((function(t){return t.id_quirurgico===e.formQuirurgico.id_quirurgico}));null===t||void 0===t||t<0?this.addNewQui():(e.arrayDetalles[t].cantidad=parseInt(e.arrayDetalles[t].cantidad)+parseInt(e.formQuirurgico.cantidad),console.log(e.arrayDetalles[t]))}else this.addNewQui();e.closeModal("quirurgico")},deleteDetail:function(e,t){var a=this,r=a.arrayDetalles.findIndex((function(t){return t.id===e}));r>-1&&a.arrayDetalles.splice(r,1)},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.formQuirurgico.id_quirurgico=null,this.formQuirurgico.cantidad=null,this.existencias_selected_qui=null;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-pedidos-qui"].hide(),this.formQuirurgico.id_quirurgico=null,this.formQuirurgico.cantidad=null,this.existencias_selected_qui=null,this.picked=0;break;case"quirurgico":this.$v.formQuirurgico.$reset(),this.$refs["modal-1-pedidos-qui"].hide(),this.formQuirurgico.id_quirurgico=null,this.formQuirurgico.cantidad=null,this.existencias_selected_qui=null;break;case"update":this.$v.$reset(),this.$refs["modal-2-pedidos-qui"].hide(),this.formQuirurgico.id_quirurgico=null,this.formQuirurgico.cantidad=null,this.existencias_selected_qui=null;break;case"ver":this.$v.$reset(),this.$refs["modal-ver-pedidos-qui"].hide(),this.formQuirurgico.id_quirurgico=null,this.formQuirurgico.cantidad=null,this.existencias_selected_qui=null;break}},onValidate:function(e){this.$v.formQuirurgico.$touch(),console.log(this.$v.$error),!0!==this.$v.$error?this.formQuirurgico.cantidad>0?this.formQuirurgico.cantidad<=this.max_cant?this.addQuirurgico():(this.alertErrorText="La cantidad de producto debe ser menor a la existencia actual del producto ("+this.max_cant+").",this.showAlertError()):(console.log(this.formQuirurgico.cantidad),this.alertErrorText="La cantidad del producto debe ser mayor a 0",this.showAlertError()):(this.alertErrorText="Revisa que todos los campos requeridos esten llenos, o si ya le puso un código al pedido",this.showAlertError())},onValidateAll:function(){this.id_usuario=this.currentUser.id,this.form.estado=1,this.form.quirurgicoId=1,this.$v.form.$touch(),this.total_array>0?!0!==this.$v.$error?(this.onSave(),this.fetchPedidos()):(this.alertText="Ha ocurrido un error en el pedido",this.showAlertError()):(this.alertText="Debe ingresar productos quirúrgicos al pedido.",this.showAlertError())},resetData:function(){this.formQuirurgico.quirurgico=null,this.formQuirurgico.cantidad=null,this.formQuirurgico.existencias_actuales=null,this.formQuirurgico.id_quirurgico=null},onSave:function(){var e=this;console.log("idUser",this.currentUser.id),ie.a.post(q["a"]+"/pedidos/create",{detalle:e.arrayDetalles,codigoPedido:e.form.codigoPedido,fecha:e.form.fecha,id_usuario:e.currentUser.id,estado:1,quirurgicoId:1,cantidadUnidades:e.form.cantidadUnidades}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el pedido exitosamente",e.fetchPedidos(),e.closeModal("save"),e.arrayDetalles=[],e.paciente=null})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertText=t.response.data.msg,console.error("Error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search,search_exam:this.search_exam,columna:this.columna.value}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.search_exam=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},changeTypeSearch:function(e){this.columna=e},onSearch:function(e,t){e.length&&(t(!0),this.searching(e,t))},onSearchQuirurgicos:function(e,t){e.length&&(t(!0),this.searchingQuirurgico(e,t))},onSearchComunes:function(e,t){e.length&&(t(!0),this.searchingComun(e,t))},searching:function(e,t){var a=this;ie.a.get(q["a"]+"/quirurgico/getSearch",{params:{search:e}}).then((function(e){a.quirurgicos=e.data,t(!1)}))},onChangeQuirurgico:function(){var e=this,t=this.quirurgicos.find((function(t){return t.value===e.formQuirurgico.id_quirurgico}));this.max_cant=t.existencias_actuales,this.existencias_selected_qui=t.existencias_actuales+" unidades en existencia."}}},Ai=Di,Si=Object($["a"])(Ai,wi,Ei,!1,null,null,null),Ti=Si.exports,Pi={name:"PedidosParent",components:{PedidosComun:bi,PedidosMedicamento:yi,PedidosQuirurgico:Ti},data:function(){return{patient:{},patientId:0}},mounted:function(){g["a"].index()},beforeMount:function(){this.patientId=this.$route.params.id,this.getPatient(this.patientId)},methods:{getPatient:function(e){var t=this;ie.a.get(q["a"]+"/paciente/get?id=".concat(e)).then((function(e){t.patient=e.data})).catch((function(e){console.log(e)}))},backToPatients:function(){this.$router.push({name:"patient.patients"})}}},Mi=Pi,qi=Object($["a"])(Mi,li,ci,!1,null,null,null),Ii=qi.exports,Fi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-traslado",attrs:{id:"modal-traslado",title:"Trasladar paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){return e.onRelocation()}}},[e._v("Ingresar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-traslado")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea trasladar el paciente: "+e._s(e.form.nombres)+" ? ")]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-col",[a("b-form-group",{attrs:{label:"Área a la que desea trasladar:"}},[a("b-form-radio-group",{attrs:{id:"radio-group-2",options:e.optionsTraslado,name:"radio-options"},model:{value:e.selectedTrasOption,callback:function(t){e.selectedTrasOption=t},expression:"selectedTrasOption"}})],1)],1)],1),a("div",[e._v(" Ingrese un motivo para el traslado ")]),a("div",[a("b-input",{ref:"motivoTraslado",attrs:{id:"motivoTraslado"},model:{value:e.motivoTrasladoEmergencia,callback:function(t){e.motivoTrasladoEmergencia=t},expression:"motivoTrasladoEmergencia"}})],1)],1),a("b-modal",{ref:"modal-add-receta",attrs:{size:"lg",id:"modal-add-receta",title:"Contenido de receta"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.saveReceta()}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("add-receta")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Contenido:"}},[a("quill-editor",{staticClass:"custom-editor",attrs:{options:e.editorOptions},model:{value:e.form.receta,callback:function(t){e.$set(e.form,"receta",t)},expression:"form.receta"}})],1)],1)],1),a("b-modal",{ref:"modal-add-evolucion",attrs:{size:"lg",id:"modal-add-evolucion",title:"Evolución de paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.saveEvolucion()}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("add-evolucion")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Contenido:"}},[a("quill-editor",{staticClass:"custom-editor",attrs:{options:e.editorOptions2},model:{value:e.form.evolucion,callback:function(t){e.$set(e.form,"evolucion",t)},expression:"form.evolucion"}})],1)],1)],1),a("b-modal",{ref:"modal-add-orden",attrs:{size:"lg",id:"modal-add-orden",title:"Orden médica"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.saveOrden()}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("add-orden")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Contenido:"}},[a("quill-editor",{staticClass:"custom-editor",attrs:{options:e.editorOptions3},model:{value:e.form.orden,callback:function(t){e.$set(e.form,"orden",t)},expression:"form.orden"}})],1)],1)],1),a("b-modal",{ref:"modal-ver-receta",attrs:{size:"lg",id:"modal-ver-receta",title:e.tituloVer},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("ver-receta")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("ver-receta")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("vuetable",{ref:"vuetableRecetas",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseReceta,"query-params":e.makeQueryParamsReceta,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsReceta,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationDataReceta},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Generar voucher de pago",expression:"'Generar voucher de pago'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-info"},on:{click:function(a){return e.voucherData(t.rowData)}}},[a("i",{class:"fas fa-money-bill"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"paginationReceta",on:{"vuetable-pagination:change-page":e.onChangePageReceta}})],1),a("b-modal",{ref:"modal-add-servicio",attrs:{id:"modal-add-servicio",title:"Añadir consumo de servicio"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.saveServicio("add-servicio")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("add-servicio")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Servicio a agregar:"}},[a("v-select",{attrs:{name:"servicio",options:e.servicios,filterable:!1,placeholder:"Seleccione un servicio a agregar"},on:{search:e.onSearchServicios},scopedSlots:e._u([{key:"option",fn:function(t){return[e._v(" "+e._s(t.descripcion+" - Precio: "+t.precio)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s(t.descripcion+" - Precio: "+t.precio)+" ")]}}]),model:{value:e.servicio,callback:function(t){e.servicio=t},expression:"servicio"}})],1),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar cantidad utilizada",type:"number"},model:{value:e.form.cantidad,callback:function(t){e.$set(e.form,"cantidad","string"===typeof t?t.trim():t)},expression:"form.cantidad"}})],1)],1)],1),a("b-modal",{ref:"modal-ver-servicio",attrs:{id:"modal-ver-servicio",size:"lg",title:"Ver servicio"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("ver-servicio")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("ver-servicio")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("vuetable",{ref:"vuetableConsumos",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumo,"query-params":e.makeQueryParamsConsumo,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumo,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationDataConsumo},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Generar voucher de pago",expression:"'Generar voucher de pago'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-info"},on:{click:function(a){return e.voucherData(t.rowData)}}},[a("i",{class:"fas fa-money-bill"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1),a("b-modal",{ref:"modal-ver-servicio2",attrs:{id:"modal-ver-servicio2",size:"lg",title:"Ver servicios"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("ver-servicio2")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("ver-servicio2")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("vuetable",{ref:"vuetableConsumos",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumo,"query-params":e.makeQueryParamsConsumo,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumo2,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationDataConsumo},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Generar voucher de pago",expression:"'Generar voucher de pago'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-info"},on:{click:function(a){return e.voucherData(t.rowData)}}},[a("i",{class:"fas fa-money-bill"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1),a("b-modal",{ref:"modal-add-honorarios",attrs:{id:"modal-add-honorarios",size:"lg",title:"Agregar honorarios a medico"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.agregarHonorario()}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("add-honorarios")}}},[e._v("Cancelar")])]},proxy:!0}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Seleccionar Medico"}},[a("v-select",{attrs:{options:e.medicos,"item-text":"nombre","item-value":"id",label:"nombre",filterable:!1,placeholder:"Seleccione un médico",required:""},on:{search:e.onSearchMedicos},scopedSlots:e._u([{key:"option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}}]),model:{value:e.honorario.medico,callback:function(t){e.$set(e.honorario,"medico",t)},expression:"honorario.medico"}})],1),a("b-form-group",{attrs:{label:"Descripción"}},[a("b-form-textarea",{attrs:{placeholder:"Ingrese una descripción"},model:{value:e.honorario.descripcion,callback:function(t){e.$set(e.honorario,"descripcion",t)},expression:"honorario.descripcion"}})],1),a("b-form-group",{attrs:{label:"Total de honorarios"}},[a("b-form-input",{attrs:{placeholder:"Ingresar Total Honorarios",type:"number",required:""},model:{value:e.honorario.total,callback:function(t){e.$set(e.honorario,"total","string"===typeof t?t.trim():t)},expression:"honorario.total"}})],1)],1)],1),a("b-modal",{ref:"modal-ver-honorarios",attrs:{id:"modal-ver-honorarios",size:"lg",title:"Ver honorarios"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("ver-honorarios")}}},[e._v("Cerrar")])]},proxy:!0}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-table",{attrs:{striped:"",hover:"",items:e.honorarios,fields:e.fieldsHonorarios},scopedSlots:e._u([{key:"cell(medico)",fn:function(t){return[e._v(" "+e._s(t.item.medico)+" ")]}},{key:"cell(total)",fn:function(t){return[a("b-form-input",{attrs:{type:"number"},on:{change:function(a){return e.updateTotal(t.item)}},model:{value:t.item.total,callback:function(a){e.$set(t.item,"total",a)},expression:"row.item.total"}})]}}])}),e.pagination.total>0?a("b-pagination",{attrs:{"total-rows":e.pagination.total,"per-page":e.pagination.perPage},on:{change:e.onChangePageHonorario},model:{value:e.pagination.currentPage,callback:function(t){e.$set(e.pagination,"currentPage",t)},expression:"pagination.currentPage"}}):e._e()],1),a("b-modal",{ref:"modal-ver-resultados",attrs:{size:"lg",id:"modal-ver-resultados",title:"Ver Resultados"}},[e.resultados?[a("b-table",{attrs:{small:"",striped:"",hover:"",items:e.resultados,fields:e.campos},scopedSlots:e._u([{key:"cell(fecha_hora)",fn:function(t){return[e._v(" "+e._s(new Date(t.item.fecha_hora).toLocaleString())+" ")]}},{key:"cell(valor_minimo)",fn:function(t){return[e._v(" "+e._s(parseFloat(t.item.valor_minimo).toFixed(2))+" ")]}},{key:"cell(valor_maximo)",fn:function(t){return[e._v(" "+e._s(parseFloat(t.item.valor_maximo).toFixed(2))+" ")]}}],null,!1,2693531662)})]:[a("p",{staticClass:"text-center"},[e._v("No hay resultados para mostrar")])]],2),a("b-modal",{ref:"modal-1-movimiento",attrs:{id:"modal-1-movimiento",size:"xl",title:"Agregar Consumo"},on:{shown:e.openModal2},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:e.onSave}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]},proxy:!0}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Agregar Insumo:"}},[a("br"),a("b-row",{staticClass:"ml-5 mt-negativo-r1"},[a("b-col",{attrs:{md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.selected_insumo.$model,expression:"$v.form.selected_insumo.$model"}],attrs:{type:"radio",id:"medicamento",value:"0"},domProps:{checked:e._q(e.$v.form.selected_insumo.$model,"0")},on:{change:[function(t){return e.$set(e.$v.form.selected_insumo,"$model","0")},e.onSelectChange]}}),a("label",{staticClass:"ml-1",attrs:{for:"medicamento"}},[e._v("Medicamento")])]),a("b-col",{attrs:{md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.selected_insumo.$model,expression:"$v.form.selected_insumo.$model"}],attrs:{type:"radio",id:"quirurgico",value:"1"},domProps:{checked:e._q(e.$v.form.selected_insumo.$model,"1")},on:{change:[function(t){return e.$set(e.$v.form.selected_insumo,"$model","1")},e.onSelectChange]}}),a("label",{staticClass:"ml-1",attrs:{for:"quirurgico"}},[e._v("Quirúrgico")])]),a("b-col",{attrs:{md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.selected_insumo.$model,expression:"$v.form.selected_insumo.$model"}],attrs:{type:"radio",id:"uso_comun",value:"2"},domProps:{checked:e._q(e.$v.form.selected_insumo.$model,"2")},on:{change:[function(t){return e.$set(e.$v.form.selected_insumo,"$model","2")},e.onSelectChange]}}),a("label",{staticClass:"ml-1",attrs:{for:"uso_comun"}},[e._v("Uso común")])])],1),a("v-select",{attrs:{name:"medicamentos",options:e.insumosActuales,filterable:!0,reduce:function(e){return e.value},state:!e.$v.formMe.id_medicine.$error,placeholder:"Seleccione el insumo",label:"text"},on:{input:e.onSeleccionarInsumo},model:{value:e.$v.formMe.id_medicine.$model,callback:function(t){e.$set(e.$v.formMe.id_medicine,"$model","string"===typeof t?t.trim():t)},expression:"$v.formMe.id_medicine.$model"}})],1),a("h5",{staticClass:"mt-3"},[e._v("INSUMOS SELECCIONADOS")]),a("b-table",{attrs:{striped:"",hover:"",items:e.consumosTemporales,fields:["nombre","cantidad","existencias","acciones"],small:""},scopedSlots:e._u([{key:"cell(cantidad)",fn:function(t){return[a("b-form-input",{attrs:{type:"number",min:1,placeholder:"Cantidad"},model:{value:t.item.cantidad,callback:function(a){e.$set(t.item,"cantidad",a)},expression:"row.item.cantidad"}})]}},{key:"cell(acciones)",fn:function(t){return[a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(a){return e.eliminarDeLista(t.item.id)}}},[e._v("Eliminar")])]}}])}),a("h5",{staticClass:"mt-4"},[e._v("CONSUMOS REALIZADOS")]),a("b-tabs",{attrs:{"content-class":"mt-3"}},[a("b-tab",{attrs:{title:"Medicamento",active:""}},[a("vuetable",{ref:"vuetableConsumoInsumos",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumoMedicamento,"query-params":e.makeQueryParamsConsumoInsumo,"data-path":"data","pagination-path":"","per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumoInsumoMedicamento}}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1),a("b-tab",{attrs:{title:"Quirúrgico"}},[a("vuetable",{ref:"vuetableConsumoQuirurgicos",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumoQuirurgico,"query-params":e.makeQueryParamsConsumoInsumo,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumoInsumoQuirurgico}}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1),a("b-tab",{attrs:{title:"Común"}},[a("vuetable",{ref:"vuetableConsumoComunes",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumoComun,"query-params":e.makeQueryParamsConsumoInsumo,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumoInsumo}}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1)],1)],1)],1),a("b-modal",{ref:"modal-1-movimiento2",attrs:{id:"modal-1-movimiento2",size:"xl",title:"Agregar Consumo"},on:{shown:e.openModal2},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:e.onSave}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save2")}}},[e._v("Cancelar")])]},proxy:!0}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Agregar Insumo:"}},[a("br"),a("b-row",{staticClass:"ml-5 mt-negativo-r1"},[a("b-col",{attrs:{md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.selected_insumo.$model,expression:"$v.form.selected_insumo.$model"}],attrs:{type:"radio",id:"medicamento",value:"0"},domProps:{checked:e._q(e.$v.form.selected_insumo.$model,"0")},on:{change:[function(t){return e.$set(e.$v.form.selected_insumo,"$model","0")},e.onSelectChange]}}),a("label",{staticClass:"ml-1",attrs:{for:"medicamento"}},[e._v("Medicamento")])]),a("b-col",{attrs:{md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.selected_insumo.$model,expression:"$v.form.selected_insumo.$model"}],attrs:{type:"radio",id:"quirurgico",value:"1"},domProps:{checked:e._q(e.$v.form.selected_insumo.$model,"1")},on:{change:[function(t){return e.$set(e.$v.form.selected_insumo,"$model","1")},e.onSelectChange]}}),a("label",{staticClass:"ml-1",attrs:{for:"quirurgico"}},[e._v("Quirúrgico")])]),a("b-col",{attrs:{md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.selected_insumo.$model,expression:"$v.form.selected_insumo.$model"}],attrs:{type:"radio",id:"uso_comun",value:"2"},domProps:{checked:e._q(e.$v.form.selected_insumo.$model,"2")},on:{change:[function(t){return e.$set(e.$v.form.selected_insumo,"$model","2")},e.onSelectChange]}}),a("label",{staticClass:"ml-1",attrs:{for:"uso_comun"}},[e._v("Uso común")])])],1),a("v-select",{attrs:{name:"medicamentos",options:e.insumosActuales,filterable:!0,reduce:function(e){return e.value},state:!e.$v.formMe.id_medicine.$error,placeholder:"Seleccione el insumo",label:"text"},on:{input:e.onSeleccionarInsumo},model:{value:e.$v.formMe.id_medicine.$model,callback:function(t){e.$set(e.$v.formMe.id_medicine,"$model","string"===typeof t?t.trim():t)},expression:"$v.formMe.id_medicine.$model"}})],1),a("h5",{staticClass:"mt-3"},[e._v("INSUMOS SELECCIONADOS")]),a("b-table",{attrs:{striped:"",hover:"",items:e.consumosTemporales,fields:["nombre","cantidad","existencias","acciones"],small:""},scopedSlots:e._u([{key:"cell(cantidad)",fn:function(t){return[a("b-form-input",{attrs:{type:"number",min:1,placeholder:"Cantidad"},model:{value:t.item.cantidad,callback:function(a){e.$set(t.item,"cantidad",a)},expression:"row.item.cantidad"}})]}},{key:"cell(acciones)",fn:function(t){return[a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(a){return e.eliminarDeLista(t.item.id)}}},[e._v("Eliminar")])]}}])}),a("h5",{staticClass:"mt-4"},[e._v("CONSUMOS REALIZADOS")]),a("b-tabs",{attrs:{"content-class":"mt-3"}},[a("b-tab",{attrs:{title:"Medicamento",active:""}},[a("vuetable",{ref:"vuetableConsumoInsumos",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumoMedicamento,"query-params":e.makeQueryParamsConsumoInsumo,"data-path":"data","pagination-path":"","per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumoInsumoMedicamento2}}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1),a("b-tab",{attrs:{title:"Quirúrgico"}},[a("vuetable",{ref:"vuetableConsumoQuirurgicos",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumoQuirurgico,"query-params":e.makeQueryParamsConsumoInsumo,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumoInsumoQuirurgico2}}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1),a("b-tab",{attrs:{title:"Común"}},[a("vuetable",{ref:"vuetableConsumoComunes",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumoComun,"query-params":e.makeQueryParamsConsumoInsumo,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumoInsumo2}}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1)],1)],1)],1),a("b-modal",{attrs:{id:"reporteModal",title:"Reporte de Cuenta Parcial",size:"lg"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:e.generarPDF_CuentaParcial}},[e._v("Generar PDF")]),a("b-button",{attrs:{variant:"secondary"},on:{click:function(t){return e.$bvModal.hide("reporteModal")}}},[e._v("Cerrar")])]},proxy:!0}])},[a("div",{staticClass:"modal-body"},[a("p",[a("strong",[e._v("Total consumo de servicios:")]),e._v(" Q"+e._s(e.reporte.ConsumoTotal))]),a("p",[a("strong",[e._v("Total consumo de materiales comunes:")]),e._v(" Q"+e._s(e.reporte.ConsumoComunTotal))]),a("p",[a("strong",[e._v("Total consumo de medicamentos:")]),e._v(" Q"+e._s(e.reporte.ConsumoMedicamentosTotal))]),a("p",[a("strong",[e._v("Total consumo de materiales quirúrgicos:")]),e._v(" Q"+e._s(e.reporte.ConsumoQuirurgicosTotal))]),a("p",[a("strong",[e._v("Total de exámenes realizados:")]),e._v(" Q"+e._s(e.reporte.ExamenesTotal))]),a("p",[a("strong",[e._v("Total de servicios en sala de operaciones:")]),e._v(" Q"+e._s(e.reporte.ServicioSalaOperacionesTotal))]),a("hr"),a("p",[a("strong",[a("u",[e._v("Total deuda:")]),e._v(" Q"+e._s(e.reporte.TotalDeuda))])])])]),a("b-modal",{attrs:{id:"HistorialCuenta",title:"Historial de las Cuentas",size:"lg"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:e.generarPDF_Historial}},[e._v("Generar PDF")]),a("b-button",{attrs:{variant:"secondary"},on:{click:function(t){return e.$bvModal.hide("HistorialCuenta")}}},[e._v("Cerrar")])]},proxy:!0}])},[a("div",{staticClass:"modal-body"},[a("p",[a("strong",[e._v("Total consumo de servicios:")]),e._v(" Q"+e._s(e.reporteHisotiral.ConsumoTotal))]),a("p",[a("strong",[e._v("Total consumo de materiales comunes:")]),e._v(" Q"+e._s(e.reporteHisotiral.ConsumoComunTotal))]),a("p",[a("strong",[e._v("Total consumo de medicamentos:")]),e._v(" Q"+e._s(e.reporteHisotiral.ConsumoMedicamentosTotal))]),a("p",[a("strong",[e._v("Total consumo de materiales quirúrgicos:")]),e._v(" Q"+e._s(e.reporteHisotiral.ConsumoQuirurgicosTotal))]),a("p",[a("strong",[e._v("Total de exámenes realizados:")]),e._v(" Q"+e._s(e.reporteHisotiral.ExamenesTotal))]),a("p",[a("strong",[e._v("Total de servicios en sala de operaciones:")]),e._v(" Q"+e._s(e.reporteHisotiral.ServicioSalaOperacionesTotal))]),a("hr")])]),a("b-modal",{ref:"modal_agregar",attrs:{id:"modal_agregar",size:"xl",title:"Ingresar nuevo examen"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("div",{staticClass:"ml-auto"},[a("span",{staticClass:"mr-2"},[e._v("Total: Q"+e._s(e.TotalAPagar2))])]),a("b-button",{attrs:{variant:"primary"},on:{click:e.guardarExamenRealizado}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("modal_agregar")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Nombre del medico:"}},[a("v-select",{attrs:{name:"medico",options:e.medicos,filterable:!1,placeholder:"Seleccione el médico"},on:{search:e.onSearchMedicos},scopedSlots:e._u([{key:"option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}}]),model:{value:e.formExamen.comision,callback:function(t){e.$set(e.formExamen,"comision",t)},expression:"formExamen.comision"}})],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Total:"}},[a("b-form-input",{attrs:{disabled:"",placeholder:"Ingresar el total"},model:{value:e.formExamen.total,callback:function(t){e.$set(e.formExamen,"total",t)},expression:"formExamen.total"}})],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Tipo de Examen:"}},[a("Multiselect",{attrs:{options:e.examenes_almacenadosBuscar,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Seleccionar exámenes",label:"nombre","track-by":"id",pagination:!0,page:e.currentPageExa},on:{"search-change":e.onSearch_id_examenes_almacenados,"page-change":e.onPageChangeExa},scopedSlots:e._u([{key:"option",fn:function(t){var r=t.option;return[a("div",{staticClass:"custom-option"},[a("strong",[e._v(e._s(r.nombre))]),e._v(" -- "),a("small",[e._v(" "+e._s(r.tipo_examen))]),e._v(" | "),a("small",[e._v("Precio: Q"+e._s(r.precio_normal))]),e._v(" | ")])]}},{key:"selection",fn:function(t){var r=t.values,o=(t.search,t.isOpen);return[r.length&&!o?a("span",{staticClass:"multiselect__single"},[e._v(" "+e._s(r.length)+" exámenes seleccionados ")]):e._e()]}}]),model:{value:e.selectedExamenes,callback:function(t){e.selectedExamenes=t},expression:"selectedExamenes"}}),a("div",[e.selectedExamenes.length>0?a("ul",{staticClass:"selected-options-list"},e._l(e.selectedExamenes,(function(t,r){return a("li",{key:t.id},[e._v(" "+e._s(r+1)+". "+e._s(t.nombre)+" - Precio: Q"+e._s(t.precio_normal)+" ")])})),0):e._e()])],1)],1)],1)],1),a("b-row",[a("b-col",{attrs:{sm:"12"}},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[e._v("Acciones")]),a("th",[e._v("Nombre")]),a("th",[e._v("CUI")]),a("th",[e._v("Examen Realizado")]),a("th",[e._v("Fecha y Hora")])])]),a("tbody",e._l(e.item_examenes,(function(t){return a("tr",{key:t.id},[a("td",[a("b-button",{attrs:{variant:"success"},on:{click:function(a){return e.verResultado(t.id)}}},[e._v("Ver resultado")])],1),a("td",[e._v(e._s(t.nombre))]),a("td",[e._v(e._s(t.cui))]),a("td",[e._v(e._s(t.nombre_examen))]),a("td",[e._v(e._s(t.fecha_hora))])])})),0)])])],1)],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Emergencias")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("router-link",{attrs:{to:{name:"enfermeria.ingresosemergencia"}}},[a("b-button",{attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])],1)]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("div",{staticClass:"button-container"},[a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){e.setData(t.rowData),e.traslado(t.rowData.id)}}},[e._v("Trasladar")]),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){return e.addReceta(t.rowData.id)}}},[e._v("Agregar receta")]),"PENDIENTE"!==t.rowData.nombres?a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){return e.verReceta(t.rowData.id)}}},[e._v("Ver recetas")]):e._e(),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){return e.addServicio(t.rowData.id)}}},[e._v("Agregar servicios")]),"PENDIENTE"!==t.rowData.nombres?a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){return e.mostrarVerServicio(t.rowData.id)}}},[e._v("Ver servicios")]):e._e(),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){e.showModal("modal-add-honorarios"),e.obtenerIdCuenta(t.rowData.id)}}},[e._v("Agregar honorarios")]),"PENDIENTE"!==t.rowData.nombres?a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){e.showModal("modal-ver-honorarios"),e.getDataHonorarios(t.rowData.id)}}},[e._v("Ver honorarios")]):e._e(),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){e.showModal("modal_agregar"),e.ver_examen_realizado(t.rowData.id),e.realizar_examen(t.rowData.id,t.rowData.nombres,t.rowData.apellidos,t.rowData.cui,t.rowData.telefono,t.rowData.nacimiento)}}},[e._v("Agregar Examen")]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Agregar consumo",expression:"'Agregar consumo'",modifiers:{top:!0}}],staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){return e.mostrarModalConsumos(t.rowData.id)}}},[e._v("Consumos")]),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success",disabled:!e.hasPermission([9,10])},on:{click:function(a){return e.generarReporteCuentaParcial(t.rowData.id,t.rowData.nombres,t.rowData.apellidos)}}},[e._v("Cuenta parcial")]),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark",disabled:!e.hasPermission([9,10,11])},on:{click:function(a){return e.generarHistorialCuentas(t.rowData.id)}}},[e._v("Historial Cuenta")]),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success",disabled:!e.hasPermission([10])},on:{click:function(a){return e.addEvolucion(t.rowData.id)}}},[e._v("Agregar evolución")]),"PENDIENTE"!==t.rowData.nombres?a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){return e.verEvolucion(t.rowData.id)}}},[e._v("Ver evolución")]):e._e(),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success",disabled:!e.hasPermission([10])},on:{click:function(a){return e.addOrdenes(t.rowData.id)}}},[e._v("Agregar orden médica")]),"PENDIENTE"!==t.rowData.nombres?a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){return e.verOrden(t.rowData.id)}}},[e._v("Ver órdenes médicas")]):e._e(),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success",disabled:!e.hasPermission([9,10])},on:{click:function(a){return e.generarReporteHojaEmergenciaPDF(t.rowData.id,t.rowData)}}},[e._v("Hoja de Emergencia")])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},Oi=[],Ni=a("b85c"),Ri=(a("d9e2"),a("8e5f")),Vi=a.n(Ri),zi={name:"Emergencias",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H,quillEditor:lr["quillEditor"],Multiselect:Vi.a},setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){this.getHabitaciones(0),this.searchingMedicamentos()},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])({currentUser:"currentUser"})),data:function(){return{resultados:null,campos:[{key:"campo",label:"Campo"},{key:"tipo_examen",label:"Tipo de Examen"},{key:"unidades",label:"Unidades"},{key:"resultado",label:"Resultado"},{key:"valor_minimo",label:"Valor Mínimo"},{key:"valor_maximo",label:"Valor Máximo"},{key:"alarma",label:"Alarma"},{key:"fecha_hora",label:"Fecha/Hora"}],tituloVer:"",consumosTemporales:[],insumosActuales:[],tipoInsumoActual:"0",from:0,to:0,total:0,editorOptions:{modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],["clean"]]},placeholder:"Escribir contenido de la receta",theme:"snow"},editorOptions2:{modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],["clean"]]},placeholder:"Escribir la evolución",theme:"snow"},editorOptions3:{modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],["clean"]]},placeholder:"Escribir la orden médica",theme:"snow"},perPage:25,search:"",existencias_selected_med:null,max_cant:0,selectedTrasOption:1,selectedHab:null,habitaciones:[],motivoTrasladoEmergencia:"",optionsTraslado:[{text:"Quirófano",value:3},{text:"Hospitalización",value:1},{text:"Intensivos",value:4}],form:{id:0,name:"",nombres:"",state:1,selectedOption:"hospi",receta:null,evolucion:null,orden:null,id_receta:null,cantidad:null,selected_insumo:"0"},servicio:null,alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/expedientes/listEmergencia",apiBaseReceta:"",apiBaseConsumo:"",apiBaseConsumoMedicamento:"",apiBaseConsumoQuirurgico:"",apiBaseConsumoComun:"",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombres",sortField:"nombres",title:"Nombre",dataClass:"list-item-heading"},{name:"apellidos",sortField:"apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"expediente",sortField:"expediente",title:"Expediente",dataClass:"list-item-heading"},{name:"medico.nombre",sortField:"medico.nombre",title:"Médico tratante",dataClass:"list-item-heading"},{name:"habitacione.numero",title:"Habitación",dataClass:"list-item-heading"},{name:"fecha_ingreso_reciente",sortField:"fecha_ingreso_reciente",title:"Fecha de ingreso",dataClass:"list-item-heading"},{name:"hora_ingreso_reciente",sortField:"hora_ingreso_reciente",title:"Hora de ingreso",dataClass:"list-item-heading"},{name:"__slot:tipo_paciente",title:"Tipo de paciente"}],fieldsReceta:[{name:"contenido",sortField:"contenido",title:"Indicaciones",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Creado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha de creación",dataClass:"list-item-heading"}],fieldsConsumo:[{name:"servicio.descripcion",sortField:"servicio.descripcion",title:"Nombre del servicio",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"subtotal",sortField:"subtotal",title:"Subtotal",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de consumo",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Creación",dataClass:"list-item-heading"}],fieldsConsumo2:[{name:"servicio.descripcion",sortField:"servicio.descripcion",title:"Nombre del servicio",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de consumo",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Creación",dataClass:"list-item-heading"}],fieldsConsumoInsumo:[{name:"comune.nombre",sortField:"comune.nombre",title:"Nombre del insumo",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"comune.presentacione.nombre",sortField:"comune.presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"precio_venta",sortField:"precio_venta",title:"Precio unitario",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Subtotal",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha y hora",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de distribución",dataClass:"list-item-heading"}],fieldsConsumoInsumoQuirurgico:[{name:"quirurgico.nombre",sortField:"quirurgico.nombre",title:"Nombre del insumo",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"quirurgico.presentacione.nombre",sortField:"quirurgico.presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"precio_venta",sortField:"precio_venta",title:"Precio unitario",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Subtotal",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha y hora",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de distribución",dataClass:"list-item-heading"}],fieldsConsumoInsumoMedicamento:[{name:"medicamento.nombre",sortField:"medicamento.nombre",title:"Nombre del insumo",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"medicamento.presentacione.nombre",sortField:"medicamento.presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"precio_venta",sortField:"precio_venta",title:"Precio unitario",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Subtotal",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha y hora",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de distribución",dataClass:"list-item-heading"}],fieldsConsumoInsumo2:[{name:"comune.nombre",sortField:"comune.nombre",title:"Nombre del insumo",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"comune.presentacione.nombre",sortField:"comune.presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha y hora",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de distribución",dataClass:"list-item-heading"}],fieldsConsumoInsumoQuirurgico2:[{name:"quirurgico.nombre",sortField:"quirurgico.nombre",title:"Nombre del insumo",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"quirurgico.presentacione.nombre",sortField:"quirurgico.presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha y hora",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de distribución",dataClass:"list-item-heading"}],fieldsConsumoInsumoMedicamento2:[{name:"medicamento.nombre",sortField:"medicamento.nombre",title:"Nombre del insumo",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"medicamento.presentacione.nombre",sortField:"medicamento.presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha y hora",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de distribución",dataClass:"list-item-heading"}],servicios:[],honorario:{medico:null,lugar:"Emergencia",descripcion:"",total:null},idCuentaSeleccionada:null,medicos:[],apiBaseHonorarios:q["a"]+"/detalle_honorarios",honorarios:[],fieldsHonorarios:[{key:"medico",label:"Nombre del Médico"},{key:"descripcion",label:"Descripción"},{key:"total",label:"Total"},{key:"createdAt",label:"Fecha y Hora"},{key:"updated_by",label:"Creado por"}],pagination:{currentPage:1,perPage:10,total:0},currentExpedienteId:null,medicamentos:[],formMe:{id_cuenta:0,id_medicine:null,cantidad:null,medicamento:null,state:1,precio_venta:0,existencias_actualees:null,movimiento:"SALIDAE"},Comunes:[],formCom:{id_cuenta:0,cantidad:0,comun:null,state:1,movimiento:"SALIDAE"},Quirurgicos:[],formQui:{id_cuenta:0,cantidad:0,quirurgico:null,state:1,movimiento:"SALIDAE"},camposResulado:[],item_examenes:[],examenes_almacenados:[],examenes_almacenadosBuscar:[],encargados:[],currentPageExa:1,selectedExamenes:[],TotalAPagar2:0,formExamen:{id:0,nombre:"",apellido:"",cui:0,edad:0,comision:"",total:0,correo:"",whatsapp:"",numero_muestra:0,existencia_actual:0,referido:"EMERGENCIA",id_encargado:null,pagado:0,por_pagar:0,id_examenes_almacenados:null,NewExpediente:!1,id_expediente:0,examenExterior:!1,nacimiento:null},selectedExamenAlmacenado:null,fromExamenes:0,toExamenes:0,totalExamenes:0,perPageExamenes:5,searchExamenes:"",fechaDesdeExamenes:null,fechaHastaExamenes:null,apiBaseExamenes:null,formResultado:{id:null,id_campo:"",id_tipo:"",resultado:null,alarma:""},fieldsCampos:[{key:"nombre",label:"Nombre"},{key:"unidades",label:"Unidades"},{key:"resultado",label:"Resultado"}],reporte:{ConsumoTotal:"0.00",ConsumoComunTotal:"0.00",ConsumoMedicamentosTotal:"0.00",ConsumoQuirurgicosTotal:"0.00",ExamenesTotal:"0.00",ServicioSalaOperacionesTotal:"0.00",TotalDeuda:"0.00"},dataPDFsumario:null,nombrePaciente:null,nacimientoPaciente:null,fechaIngreso:null,dataPDF_Historial:null,reporteHisotiral:{ConsumoTotal:"0.00",ConsumoComunTotal:"0.00",ConsumoMedicamentosTotal:"0.00",ConsumoQuirurgicosTotal:"0.00",ExamenesTotal:"0.00",ServicioSalaOperacionesTotal:"0.00",TotalDeuda:"0.00"}}},validations:function(){return{form:{name:{required:_a["c"]},selected_insumo:{required:_a["c"]}},formMe:{id_medicine:{required:_a["c"]},cantidad:{required:_a["c"]}}}},watch:{"salaOperaciones.categoria":"calcularTotalAPagar","salaOperaciones.oximetro":"calcularTotalAPagar","salaOperaciones.monitor":"calcularTotalAPagar","salaOperaciones.cauterio":"calcularTotalAPagar","salaOperaciones.horas":"calcularTotalAPagar","salaOperaciones.minutos":"calcularTotalAPagar",selectedExamenAlmacenado:function(e){e&&(this.formExamen.por_pagar=e.precio_normal,this.formExamen.id_examenes_almacenados=e.id,this.formExamen.total=e.precio_normal)},selectedExamenes:function(e){e?(this.TotalAPagar2=e.reduce((function(e,t){return parseFloat(e)+parseFloat(t.precio_normal)}),0),this.formExamen.total=this.TotalAPagar2,this.formExamen.id_examenes_almacenados=e.map((function(e){return e.id})),this.formExamen.por_pagar=this.TotalAPagar2):console.log("ERROR AL CARGAR EL TOTAL A PAGAR EN LA FUNCION WATCH")}},methods:{cargarInsumos:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r="",a.t0=e,a.next="0"===a.t0?4:"1"===a.t0?6:"2"===a.t0?8:10;break;case 4:return r="/medicamentos/list2",a.abrupt("break",10);case 6:return r="/quirurgico/list2",a.abrupt("break",10);case 8:return r="/comun/list2",a.abrupt("break",10);case 10:return a.prev=10,a.next=13,ie.a.get(q["a"]+r);case 13:o=a.sent,t.insumosActuales=o.data.map((function(e){return{value:e.id,text:e.nombre+" --- "+e.presentacione.nombre,existencias_actuales:e.existencia_actual,precio_venta:e.precio_venta,inventariado:e.inventariado}})),a.next=20;break;case 17:a.prev=17,a.t1=a["catch"](10),console.error("Error cargando insumos:",a.t1);case 20:case"end":return a.stop()}}),a,null,[[10,17]])})))()},onSelectChange:function(){this.tipoInsumoActual=this.form.selected_insumo,this.cargarInsumos(this.form.selected_insumo),this.formMe.id_medicine=null},onSeleccionarInsumo:function(e){var t=this;if(e){var a=this.insumosActuales.find((function(t){return t.value===e}));if(a){var r=this.consumosTemporales.some((function(a){return a.id===e&&a.tipo===t.tipoInsumoActual}));if(r)return this.alertErrorText="Este insumo ya fue agregado.",void(this.alertCountDownError=5);if(0===a.existencias_actuales&&"INVENTARIADO"===a.inventariado)return this.alertErrorText="El insumo no posee existencias",void(this.alertCountDownError=5);this.consumosTemporales.push({id:e,tipo:this.tipoInsumoActual,nombre:a.text,cantidad:1,existencias:a.existencias_actuales,precio_venta:a.precio_venta,inventariado:a.inventariado}),this.$nextTick((function(){t.formMe.id_medicine=null}))}}},onSave:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){var a,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.consumosTemporales.length){t.next=4;break}return e.alertErrorText="Debe agregar al menos un insumo.",e.alertCountDownError=5,t.abrupt("return");case 4:t.prev=4,a=Object(Ni["a"])(e.consumosTemporales),t.prev=6,a.s();case 8:if((r=a.n()).done){t.next=26;break}if(o=r.value,!(o.cantidad<=0||o.cantidad>o.existencias&&"INVENTARIADO"===o.inventariado)){t.next=12;break}throw new Error("Cantidad inválida para ".concat(o.nombre));case 12:if("0"!==o.tipo){t.next=17;break}return t.next=15,e.onSaveMedicamento(o);case 15:t.next=24;break;case 17:if("1"!==o.tipo){t.next=22;break}return t.next=20,e.onSaveQuirurgico(o);case 20:t.next=24;break;case 22:return t.next=24,e.onSaveComunes(o);case 24:t.next=8;break;case 26:t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](6),a.e(t.t0);case 31:return t.prev=31,a.f(),t.finish(31);case 34:e.alertVariant="success",e.alertText="Consumos registrados exitosamente!",e.showAlert(),e.consumosTemporales=[],e.$refs.vuetableConsumoInsumos.refresh(),e.$refs.vuetableConsumoQuirurgicos.refresh(),e.$refs.vuetableConsumoComunes.refresh(),e.$refs["modal-1-movimiento"].hide(),t.next=50;break;case 44:t.prev=44,t.t1=t["catch"](4),e.alertVariant="danger",e.alertText="Error al guardar consumos",e.showAlert(),console.error("Error:",t.t1);case 50:case"end":return t.stop()}}),t,null,[[4,44],[6,28,31,34]])})))()},openModal2:function(){this.tipoInsumoActual="0",this.cargarInsumos("0")},eliminarDeLista:function(e){this.consumosTemporales=this.consumosTemporales.filter((function(t){return t.id!==e}))},mostrarModalConsumos:function(e){[9,10].includes(this.currentUser.user_type)?this.showModal("modal-1-movimiento2"):this.showModal("modal-1-movimiento"),this.getConsumoMedicamentos(e),this.obtenerIdCuenta(e)},mostrarVerServicio:function(e){[9,10].includes(this.currentUser.user_type)?this.$refs["modal-ver-servicio2"].show():this.$refs["modal-ver-servicio"].show(),this.getDataConsumos(e),this.form.id_consumo=e},hasPermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.includes(this.currentUser.user_type)},openModal:function(e,t){switch(this.form.selected_insumo="0",this.onSelectChange(),e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.state=1,this.form.selected_insumo="0",this.existencias_selected_med=null,this.formMe.precio_venta=0,this.formMe.existencias_actuales=null;break}},closeModal:function(e){switch(e){case"traslado":this.$v.$reset(),this.$refs["modal-traslado"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"add-receta":this.$v.$reset(),this.$refs["modal-add-receta"].hide(),this.form.id=0,this.form.receta=null,this.form.name="",this.form.state=1,this.form.selected_insumo="0";break;case"add-evolucion":this.$v.$reset(),this.$refs["modal-add-evolucion"].hide(),this.form.id=0,this.form.evolucion=null,this.form.name="",this.form.state=1,this.form.selected_insumo="0";break;case"add-orden":this.$v.$reset(),this.$refs["modal-add-orden"].hide(),this.form.id=0,this.form.orden=null,this.form.name="",this.form.state=1,this.form.selected_insumo="0";break;case"ver-receta":this.$v.$reset(),this.$refs["modal-ver-receta"].hide(),this.form.id=0,this.form.name="",this.form.state=1,this.form.id_receta=null;break;case"add-servicio":this.$v.$reset(),this.$refs["modal-add-servicio"].hide(),this.form.id=0,this.form.name="",this.form.state=1,this.form.cantidad=null,this.servicio=null,this.form.servicio=null;break;case"ver-servicio":this.$v.$reset(),this.$refs["modal-ver-servicio"].hide(),this.form.id=0,this.form.name="",this.form.state=1,this.honorarios=[],this.pagination.currentPage=1,this.pagination.total=0,this.honorario={medico:null,descripcion:"",total:null};break;case"ver-servicio2":this.$v.$reset(),this.$refs["modal-ver-servicio2"].hide(),this.form.id=0,this.form.name="",this.form.state=1,this.honorarios=[],this.pagination.currentPage=1,this.pagination.total=0,this.honorario={medico:null,descripcion:"",total:null};break;case"ver-honorarios":this.$v.$reset(),this.$refs["modal-ver-honorarios"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"add-honorarios":this.$v.$reset(),this.$refs["modal-add-honorarios"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"save":this.$v.$reset(),this.$refs["modal-1-movimiento"].hide(),this.formMe.id_cuenta=0,this.formMe.cantidad=0,this.formMe.medicamento=null,this.formMe.movimiento="SALIDAE",this.form.selected_insumo="0",this.existencias_selected_med=null;break;case"save2":this.$v.$reset(),this.$refs["modal-1-movimiento2"].hide(),this.formMe.id_cuenta=0,this.formMe.cantidad=0,this.formMe.medicamento=null,this.formMe.movimiento="SALIDAE",this.form.selected_insumo="0",this.existencias_selected_med=null;break;case"SaveQuirurgico":this.$v.$reset(),this.$refs["modal-1-movimiento"].hide(),this.formQui.id_cuenta=0,this.formQui.cantidad=0,this.formQui.quirurgico=null,this.formQui.movimiento="SALIDAE",this.existencias_selected_med=null;break;case"SaveComunes":this.$v.$reset(),this.$refs["modal-1-movimiento"].hide(),this.formCom.id_cuenta=0,this.formCom.cantidad=0,this.formCom.quirurgico=null,this.formCom.movimiento="SALIDAE",this.existencias_selected_med=null;break;case"ver-consumo":this.$v.$reset(),this.$refs["modal-ver-consumo"].hide(),this.form.id=0,this.form.name="",this.form.state=1,this.form.id_receta=null,this.form.selected_insumo="0";break;case"modal_agregar":this.$v.$reset(),this.$refs["modal_agregar"].hide(),this.formExamen.id=0,this.formExamen.nombre="",this.formExamen.cui=0,this.formExamen.edad=0,this.formExamen.comision="",this.formExamen.total=0,this.formExamen.correo="",this.formExamen.whatsapp="",this.formExamen.numero_muestra="",this.formExamen.referido="",this.formExamen.id_encargago=null,this.formExamen.pagado=0,this.formExamen.por_pagar=0,this.formExamen.id_examenes_almacenados=null,this.formExamen.id_expediente=0,this.formExamen.examenExterior=!1,this.formExamen.nacimiento=null,this.apiBaseExamenes=null,this.item_examenes=[],this.examenes_almacenados=[],this.examenes_almacenadosBuscar=[],this.currentPageExa=1,this.selectedExamenes=[];break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},calcularEdad:function(e){if(!e)return"";var t=F()(e,"DD-MM-YYYY").format("YYYY-MM-DD"),a=new Date,r=new Date(t),o=a.getFullYear()-r.getFullYear(),i=r.getMonth(),n=r.getDate();return(a.getMonth()<i||a.getMonth()===i&&a.getDate()<n)&&o--,o},onSaveMedicamento:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,r={id_cuenta:t.idCuentaSeleccionada,id_medicamento:e.id,cantidad:e.cantidad,precio_venta:e.precio_venta,movimiento:"SALIDAE",state:1,existencias_actuales:e.existencias,user:t.currentUser.user},o=t.currentUser,a.next=5,ie.a.post(q["a"]+"/detalle_consumo_medicamentos/create",{form:r,currentUser:o});case 5:t.form.selected_insumo="0",a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](0),console.error("Error en onSaveMedicamento:",a.t0),a.t0;case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},onSaveQuirurgico:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,r={id_cuenta:t.idCuentaSeleccionada,id_medicamento:e.id,cantidad:e.cantidad,precio_venta:e.precio_venta,movimiento:"SALIDAE",state:1,existencias_actuales:e.existencias,user:t.currentUser.user,inventariado:e.inventariado},o=t.currentUser,a.next=5,ie.a.post(q["a"]+"/detalle_consumo_quirugicos/create",{form:r,currentUser:o});case 5:t.form.selected_insumo="0",a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](0),console.error("Error en onSaveQuirurgico:",a.t0),a.t0;case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},onSaveComunes:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,r={id_cuenta:t.idCuentaSeleccionada,id_medicamento:e.id,cantidad:e.cantidad,precio_venta:e.precio_venta,movimiento:"SALIDAE",state:1,existencias_actuales:e.existencias,user:t.currentUser.user,inventariado:e.inventariado},o=t.currentUser,a.next=5,ie.a.post(q["a"]+"/detalle_consumo_comun/create",{form:r,currentUser:o});case 5:t.form.selected_insumo="0",a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](0),console.error("Error en onSaveComunes:",a.t0),a.t0;case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},traslado:function(e){this.$refs["modal-traslado"].show(),this.form.id=e},saveTraslado:function(){var e=this;ie.a.put(q["a"]+"/expedientes/changeStatus",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha trasladado el expediente exitosamente",e.$refs.vuetable.refresh(),e.closeModal("traslado"),e.form.id=0,e.form.selectedOption="hospi"})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},addReceta:function(e){this.$refs["modal-add-receta"].show(),this.form.id=e},addEvolucion:function(e){this.$refs["modal-add-evolucion"].show(),this.form.id=e},addOrdenes:function(e){this.$refs["modal-add-orden"].show(),this.form.id=e},saveReceta:function(){var e=this;null!==e.form.receta&&ie.a.post(q["a"]+"/recetas/create",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha creado la receta exitosamente",e.$refs.vuetable.refresh(),e.closeModal("add-receta"),e.form.id=0})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},saveEvolucion:function(){var e=this;null!==e.form.evolucion&&ie.a.post(q["a"]+"/evoluciones/create",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha creado la nota de evolución exitosamente",e.$refs.vuetable.refresh(),e.closeModal("add-evolucion"),e.form.id=0})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},saveOrden:function(){var e=this;null!==e.form.orden&&ie.a.post(q["a"]+"/ordenes/create",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha creado la orden médica exitosamente",e.$refs.vuetable.refresh(),e.closeModal("add-orden"),e.form.id=0})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},verReceta:function(e){this.$refs["modal-ver-receta"].show(),this.getDataRecetas(e),this.form.id_receta=e,this.tituloVer="Ver receta"},verEvolucion:function(e){this.$refs["modal-ver-receta"].show(),this.getDataEvoluciones(e),this.form.id_receta=e,this.tituloVer="Ver evolución del paciente"},verOrden:function(e){this.$refs["modal-ver-receta"].show(),this.getDataOrdenes(e),this.form.id_receta=e,this.tituloVer="Ver órdenes del paciente"},addServicio:function(e){this.$refs["modal-add-servicio"].show(),this.form.id=e},saveServicio:function(){var e=this;null!==e.servicio&&null!==e.form.cantidad?(e.form.servicio=e.servicio,e.form.descripcion="Añadido en emergencia",ie.a.post(q["a"]+"/consumos/create",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha creado el consumo de un servicio exitosamente",e.$refs.vuetable.refresh(),e.closeModal("add-servicio"),e.form.id=0})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))):(e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Por favor llene los campos solicitados")},addhonorarios:function(e){this.obtenerIdCuenta(e),this.$refs["modal-add-honorarios"].show()},agregarHonorario:function(){try{ie.a.post(q["a"]+"/detalle_honorarios/created",{id_medico:this.honorario.medico.id,id_cuenta:this.idCuentaSeleccionada,descripcion:this.honorario.descripcion,total:this.honorario.total,lugar:"Hospitalización"}),this.$refs["modal-add-honorarios"].hide(),this.honorario={medico:null,descripcion:"",total:null}}catch(e){console.error(e),this.alertErrorText="Error al agregar honorarios",this.showAlertError()}},showModal:function(e){this.$bvModal.show(e)},verHonorarios:function(e){this.obtenerIdCuenta(e),this.$refs["modal-ver-honorarios"].show()},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/expedientes/update",{form:e.form,user:e.currentUser.user}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el expediente "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){var t=this;this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data.map((function(e){return e.nacimiento=F()(e.nacimiento).format("DD/MM/YYYY"),e.edad=t.calcularEdad(e.nacimiento),e.fecha_ingreso_reciente=F()(e.fecha_ingreso_reciente).format("DD/MM/YYYY"),{nacimiento:e.nacimiento,edad:e.edad}})),this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},makeQueryParamsReceta:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage}},onPaginationDataReceta:function(e){this.fromP=e.from,this.toP=e.to,this.totalP=e.total,this.lastPageP=e.last_page,this.items=e.data.map((function(e){return e.createdAt=F()(e.createdAt).format("DD/MM/YYYY"),e.updatedAt=F()(e.updatedAt).format("DD/MM/YYYY"),{createdAt:e.createdAt,updatedAt:e.updatedAt}})),this.$refs.paginationReceta.setPaginationData(e)},onChangePageReceta:function(e){this.$refs.vuetableRecetas.changePage(e)},getDataRecetas:function(e){this.form.id=e,this.apiBaseReceta=q["a"]+"/recetas/getId?id=".concat(e)},getDataEvoluciones:function(e){this.form.id=e,this.apiBaseReceta=q["a"]+"/evoluciones/getId?id=".concat(e)},getDataOrdenes:function(e){this.form.id=e,this.apiBaseReceta=q["a"]+"/ordenes/getId?id=".concat(e)},onSearchServicios:function(e,t){e.length&&this.searchingServicios(e,t)},searchingServicios:function(e,t){var a=this;ie.a.get(q["a"]+"/servicios/getSearch",{params:{search:e}}).then((function(e){a.servicios=e.data}))},makeQueryParamsConsumo:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage}},onPaginationDataConsumo:function(e){this.fromP=e.from,this.toP=e.to,this.totalP=e.total,this.lastPageP=e.last_page,this.items=e.data.map((function(e){return e.createdAt=F()(e.createdAt).format("DD/MM/YYYY"),e.updatedAt=F()(e.updatedAt).format("DD/MM/YYYY"),{createdAt:e.createdAt,updatedAt:e.updatedAt}})),this.$refs.paginationConsumo.setPaginationData(e)},onChangePageConsumo:function(e){this.$refs.vuetableConsumos.changePage(e),this.$refs.vuetableConsumoInsumos.changePage(e),this.$refs.vuetableConsumoQuirurgicos.changePage(e),this.$refs.vuetableConsumoComunes.changePage(e)},getDataConsumos:function(e){this.form.id=e,this.apiBaseConsumo=q["a"]+"/consumos/getId?id=".concat(e)},makeQueryParamsConsumoInsumo:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage}},onPaginationDataConsumoInsumo:function(e){this.fromP=e.from,this.toP=e.to,this.totalP=e.total,this.lastPageP=e.last_page,this.items=e.data,this.$refs.paginationConsumoInsumo.setPaginationData(e)},onChangePageConsumoInsumo:function(e){this.$refs.vuetableConsumoInsumos.changePage(e)},onChangePageConsumoQuirurgicos:function(e){this.$refs.vuetableConsumoQuirurgicos.changePage(e)},onChangePageConsumoComunes:function(e){this.$refs.vuetableConsumoComunes.changePage(e)},getDataConsumoInsumos:function(e){this.form.id=e,this.apiBaseConsumoInsumo=q["a"]+"/consumos/getId?id=".concat(e)},searchingMedicos:function(e,t){var a=this;ie.a.get(q["a"]+"/medicos/getSearch",{params:{search:e}}).then((function(e){a.medicos=e.data}))},onSearchMedicos:function(e,t){e.length&&this.searchingMedicos(e,t)},makeQueryParamsHonorarios:function(e,t,a){return e[0]?{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:a}:{criterio:"createdAt",order:"desc",page:t,limit:a}},onPaginationDataHonorarios:function(e){this.honorarios=e.data.map((function(e){return e.total=parseFloat(e.total).toFixed(2),e.createdAt=F()(e.createdAt).format("DD/MM/YYYY h:mm A"),{id:e.id,medico:e.medico.nombre,descripcion:e.descripcion,total:e.total,createdAt:e.createdAt,updated_by:e.updated_by}})),this.pagination.total=e.total,this.pagination.currentPage=Math.floor((e.from-1)/this.pagination.perPage)+1},onChangePageHonorario:function(e){this.pagination.currentPage=e,this.getDataHonorarios(this.currentExpedienteId)},updateTotal:function(e){var t=this,a=e.id,r=e;ie.a.put(q["a"]+"/detalle_honorarios/".concat(a),{form:r}).then((function(e){t.alertVariant="primary",t.showAlert(),t.alertText="Se ha actualizado el expediente los honorarios del / la "+r.medico+" exitosamente"})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",e)}))},obtenerIdCuenta:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ie.a.get(q["a"]+"/cuentas/getSearch?search=".concat(e));case 3:r=a.sent,r.data&&r.data.id?t.idCuentaSeleccionada=r.data.id:(console.error("En AddHonorarios No se encontró ninguna cuenta para el expediente:",e),t.alertErrorText="No se encontró ninguna cuenta para este paciente",t.showAlertError()),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error("Error al obtener la cuenta:",a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},getDataHonorarios:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.currentExpedienteId=e,a.next=4,ie.a.get(q["a"]+"/cuentas/getSearch?search=".concat(e));case 4:if(r=a.sent,!r.data||!r.data.id){a.next=13;break}return o=r.data.id,a.next=9,ie.a.get(q["a"]+"/detalle_honorarios/getSearch?search=".concat(o,"&page=").concat(t.pagination.currentPage,"&limit=").concat(t.pagination.perPage));case 9:i=a.sent,t.onPaginationDataHonorarios(i.data),a.next=16;break;case 13:console.error("En VerHonorarios No se encontró ninguna cuenta para el expediente:",e),t.alertErrorText="No se encontró ninguna cuenta para este paciente",t.showAlertError();case 16:a.next=21;break;case 18:a.prev=18,a.t0=a["catch"](0),console.error("Error al obtener los honorarios:",a.t0);case 21:case"end":return a.stop()}}),a,null,[[0,18]])})))()},searchingMedicamentos:function(e,t){var a=this;ie.a.get(q["a"]+"/medicamentos/list2").then((function(e){a.medicamentos=e.data.map((function(e){return{value:e.id,text:e.nombre,existencias_actuales:e.existencia_actual,precio_venta:e.precio_venta}}))}))},searchingQuirurgico:function(e,t){var a=this;ie.a.get(q["a"]+"/quirurgico/list").then((function(e){a.medicamentos=e.data.map((function(e){return{value:e.id,text:e.nombre,existencias_actuales:e.existencia_actual,precio_venta:e.precio_venta}}))}))},searchingComunes:function(e,t){var a=this;ie.a.get(q["a"]+"/comun/list2").then((function(e){a.medicamentos=e.data.map((function(e){return{value:e.id,text:e.nombre,existencias_actuales:e.existencia_actual,precio_venta:e.precio_venta}}))}))},onChangeMedicamento:function(){var e=this,t=this.medicamentos.find((function(t){return t.value===e.formMe.id_medicine}));this.max_cant=t.existencias_actuales,this.existencias_selected_med=t.existencias_actuales+" unidades en existencia.",this.formMe.precio_venta=t.precio_venta,this.formMe.existencias_actuales=t.existencias_actuales},getConsumoMedicamentos:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ie.a.get(q["a"]+"/cuentas/getSearch?search=".concat(e));case 3:r=a.sent,r.data&&r.data.id?(t.idCuentaSeleccionada=r.data.id,t.apiBaseConsumoMedicamento=q["a"]+"/detalle_consumo_medicamentos/list/".concat(r.data.id,"/Emergencia"),t.apiBaseConsumoQuirurgico=q["a"]+"/detalle_consumo_quirugicos/list/".concat(r.data.id,"/Emergencia"),t.apiBaseConsumoComun=q["a"]+"/detalle_consumo_comun/list/".concat(r.data.id,"/Emergencia")):(console.error("No se encontró ninguna cuenta para el expediente:",e),t.alertErrorText="No se encontró ninguna cuenta para este paciente",t.showAlertError()),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error("Error al obtener la cuenta:",a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},setData:function(e){this.form.name=e.nombres+" "+e.apellidos,this.form.apellidos=e.apellidos,this.form.state=e.estado,this.form.id=e.id},getHabitaciones:function(e){var t=this;ie.a.get(q["a"]+"/habitaciones/get",{params:{tipo:e}}).then((function(e){t.habitaciones=e.data}))},onState:function(){var e=this;ie.a.put(q["a"]+"/expedientes/changeState",{id:this.form.id,estado:this.selectedTrasOption,estado_anterior:5,motivo:this.motivoTrasladoEmergencia,user:e.currentUser.user}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha trasladado el paciente "+e.form.nombres+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-traslado"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},onRelocation:function(e){this.$v.$touch(),null==this.selectedHab||1!==this.selectedTrasOption&&4!==this.selectedTrasOption?(this.onState(),this.$bvModal.hide("modal-traslado")):(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},generarReporteCuentaParcial:function(e,t,a){var r=this;ie.a.get(q["a"]+"/consumos/sumario/".concat(e)).then((function(e){r.dataPDFsumario=e.data,r.nombrePaciente=t+" "+a,r.fechaIngreso=r.dataPDFsumario.fechaFormateada,r.mostrarReporte(e.data)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),r.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",r.showAlertError()}))},mostrarReporte:function(e){var t=0,a=e.consumos.reduce((function(e,t){return e+parseFloat(t.subtotal)}),0),r=e.consumosComunes.reduce((function(e,t){return e+parseFloat(t.total)}),0),o=e.consumosMedicamentos.reduce((function(e,t){return e+parseFloat(t.total)}),0),i=e.consumosQuirurgicos.reduce((function(e,t){return e+parseFloat(t.total)}),0),n=e.examenes.reduce((function(e,t){return e+t.total}),0),s=e.salaOperaciones.reduce((function(e,t){return e+parseFloat(t.total)}),0);t=parseFloat(a)+parseFloat(r)+parseFloat(o)+parseFloat(i)+parseFloat(n)+parseFloat(s),this.reporte={ConsumoTotal:this.formatearMonto(a),ConsumoComunTotal:this.formatearMonto(r),ConsumoMedicamentosTotal:this.formatearMonto(o),ConsumoQuirurgicosTotal:this.formatearMonto(i),ExamenesTotal:this.formatearMonto(n),ServicioSalaOperacionesTotal:this.formatearMonto(s),TotalDeuda:this.formatearMonto(t)},this.$bvModal.show("reporteModal")},generarPDF_CuentaParcial:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){var a,r,o,i,n,s,l,c,d,m,u,f,h,p,b,v,g,_,x,C,$,y,w,E,k,D,A;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.fechaIngreso,r=e.dataPDFsumario,o=new Date,i=o.toLocaleDateString("es-ES"),n={hour:"2-digit",minute:"2-digit",hour12:!0},s=o.toLocaleTimeString("es-ES",n),a?(c=new Date(a),d=o-c,m=Math.floor(d/864e5),l=m):l="NO ASIGNADA",u=l>=2?r.costo2*l:r.costo1;try{f=r.consumos.reduce((function(e,t){return e+parseFloat(t.subtotal)}),0),h=r.consumosComunes.reduce((function(e,t){return e+parseFloat(t.total)}),0),p=r.consumosMedicamentos.reduce((function(e,t){return e+parseFloat(t.total)}),0),b=r.consumosQuirurgicos.reduce((function(e,t){return e+parseFloat(t.total)}),0),v=r.examenes.reduce((function(e,t){return e+parseFloat(t.total)}),0),g=r.salaOperaciones.reduce((function(e,t){return e+parseFloat(t.total)}),0),_=r.honorarios.reduce((function(e,t){return e+parseFloat(t.total)}),0),x=r.honorarios.sort((function(e,t){return t.total-e.total})),C=f+h+p+b+v+g+u,$=f+h+p+b+g+u,y=$+_+v,w=new Ma["default"],w.setFontSize(10).setFont(void 0,"bold"),w.text("HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",110,10,{align:"center"}),w.setFontSize(10).setFont(void 0,"normal"),w.text("CUENTA DE PACIENTE",110,14,{align:"center"}),w.setFontSize(8).setFont(void 0,"normal"),w.text("NOMBRE DEL PACIENTE:",14,20),w.text("".concat(e.nombrePaciente),50,20),w.text("___________________________________________________________________________",50,21),w.text("CUARTRO NO.:",14,27),w.text("".concat(r.numerohabitacion),40,27),w.text("__________",35,28),w.text("TIPO DE SERVICIO:",60,27),w.text("",87,27),w.text("___________________________",87,28),w.text("D/ESTANCIA: ",130,27),w.text("".concat(l),170,27),w.text("_______________________",150,28),w.text("MD TRATANTE:",14,34),w.text("".concat(r.nombremedico),36,34),w.text("____________________________________________________________________________________",36,35),w.autoTable({body:[["HOSPITALIZACION","Q".concat(u.toFixed(2))],["SALA DE OPERACIONES","Q".concat(g.toFixed(2))],["CONSUMO MEDICAMENTOS","Q".concat(p.toFixed(2))],["MATERIAL MEDICO QUIRÚRGICO","Q".concat(b.toFixed(2))],["ANESTESICOS",""],["MATERIAL COMÚN","Q".concat(h.toFixed(2))],["SERVICIOS","Q".concat(f.toFixed(2))],["RECUPERACION",""],["INTENSIVO","Q 0.00"],["EMERGENCIAS  Medico Interno",""],["OTROS",""],["TOTAL HOSPITALIZACION =","Q".concat($.toFixed(2))],["TOTAL LAB. BIOMEDICO E.O. S.A. =","Q".concat(v.toFixed(2))],["TOTAL MENOS DESCUENTO =","Q".concat(C.toFixed(2))]],startY:41,theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0]},columnStyles:{0:{halign:"left"},1:{halign:"left"}},didParseCell:function(e){var t=e.row.index,a=e.column.index;t>=11&&0===a&&(e.cell.styles.halign="right")}}),E=w.lastAutoTable.finalY+10,w.setFontSize(12).setFont(void 0,"normal"),w.text("FECHA ".concat(i," ").concat(s),14,E),w.setFontSize(10).setFont(void 0,"bold"),w.text("HONORARIOS MEDICOS Y OTROS SERVICIOS",100,E+15,{align:"center"}),k=x.map((function(e,t){return[t+1,e.medico.nombre,e.descripcion,"Q".concat((Number(e.total)||0).toFixed(2))]})),w.autoTable({head:[["#","MEDICO","DESCRIPCION","VALOR"]],body:k,startY:E+20,theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0]},headStyles:{fillColor:[255,255,255],textColor:[0,0,0],fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),D=w.lastAutoTable.finalY+10,w.setFontSize(10).setFont(void 0,"bold"),w.text("LIQUIDACION",100,D,{align:"center"}),w.autoTable({body:[["TOTAL HOSPITALIZACION","Q".concat($.toFixed(2))],["TOTAL LAB. BIOMEDICO E.O. S.A.","Q".concat(v.toFixed(2))],["TOTAL HONORARIOS MEDICOS Y OTROS SERVICIOS","Q".concat(_.toFixed(2))],["TOTAL A PAGAR =","Q".concat(y.toFixed(2))]],startY:D+5,theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0]},columnStyles:{0:{halign:"left"},1:{halign:"left"}},didParseCell:function(e){var t=e.row.index,a=e.column.index;t>=3&&0===a&&(e.cell.styles.halign="right")}}),A=w.lastAutoTable.finalY+10,w.setFontSize(10).setFont(void 0,"normal"),w.text("_________________________________",110,A,{align:"center"}),w.text("Nombre y Firma del Cajero",110,A+5,{align:"center"}),w.save("cuenta_Parcial_".concat(e.nombrePaciente,".PDF"))}catch(S){console.error("Error al generar el reporte:",S),e.$alert("Ocurrió un error al generar el reporte. Por favor, intente de nuevo.","Error")}case 9:case"end":return t.stop()}}),t)})))()},formatearMonto:function(e){var t=parseFloat(e);return isNaN(t)?"0.00":t.toFixed(2)},generarHistorialCuentas:function(e){var t=this;ie.a.get(q["a"]+"/consumos/historial/".concat(e)).then((function(e){var a=e.data;t.dataPDF_Historial=e.data,t.mostrarHistorial(a)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),t.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",t.showAlertError()}))},mostrarHistorial:function(e){var t=0,a=e.Consumo.reduce((function(e,t){return e+(parseFloat(t.subtotal)||0)}),0),r=e["Consumo Comun"].reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),o=e["Consumo Medicamentos"].reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),i=e["Consumo Quirurgicos"].reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),n=e.Examenes.reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),s=e.ServicioSalaOperaciones.reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0);t=parseFloat(a)+parseFloat(r)+parseFloat(o)+parseFloat(i)+parseFloat(n)+parseFloat(s),this.reporteHisotiral={ConsumoTotal:this.formatearMonto(a),ConsumoComunTotal:this.formatearMonto(r),ConsumoMedicamentosTotal:this.formatearMonto(o),ConsumoQuirurgicosTotal:this.formatearMonto(i),ExamenesTotal:this.formatearMonto(n),ServicioSalaOperacionesTotal:this.formatearMonto(s),TotalDeuda:this.formatearMonto(t)},this.$bvModal.show("HistorialCuenta")},generarPDF_Historial:function(){var e=new Ma["default"],t=20;e.setFontSize(18),e.text("Reporte de Historial de Cuenta",14,t),t+=10;var a=function(a,r){e.setFontSize(14),e.text(a,14,t),t+=10;var o=["Descripción","Cantidad","Precio Unitario","Subtotal"];e.autoTable({startY:t,head:[o],body:r.map((function(e){return[e.descripcion,e.cantidad.toString(),e.precio_unitario.toString(),e.subtotal.toString()]})),theme:"striped",margin:{top:10},styles:{halign:"center",fontSize:10},headStyles:{fillColor:[229,31,45],textColor:[255,255,255]}}),t=e.lastAutoTable.finalY+10};if(this.dataPDF_Historial.Consumo&&this.dataPDF_Historial.Consumo.length>0){var r=this.dataPDF_Historial.Consumo.map((function(e){return{descripcion:e.servicio.descripcion||"",cantidad:e.cantidad||0,precio_unitario:e.servicio.precio||0,subtotal:e.subtotal||0}}));a("Consumo de Servicios",r)}if(this.dataPDF_Historial["Consumo Comun"]&&this.dataPDF_Historial["Consumo Comun"].length>0){var o=this.dataPDF_Historial["Consumo Comun"].map((function(e){return{descripcion:e.comune.nombre||"",cantidad:e.cantidad||0,precio_unitario:e.precio_venta||0,subtotal:e.total||0}}));a("Consumo de Materiales Comunes",o)}if(this.dataPDF_Historial["Consumo Medicamentos"]&&this.dataPDF_Historial["Consumo Medicamentos"].length>0){var i=this.dataPDF_Historial["Consumo Medicamentos"].map((function(e){return{descripcion:e.medicamento.nombre||"",cantidad:e.cantidad||0,precio_unitario:e.precio_venta||0,subtotal:e.total||0}}));a("Consumo de Medicamentos",i)}if(this.dataPDF_Historial["Consumo Quirurgicos"]&&this.dataPDF_Historial["Consumo Quirurgicos"].length>0){var n=this.dataPDF_Historial["Consumo Quirurgicos"].map((function(e){return{descripcion:e.quirurgico.nombre||"",cantidad:e.cantidad||0,precio_unitario:e.precio_venta||0,subtotal:e.total||0}}));a("Consumo de Material Quirúrgico",n)}if(this.dataPDF_Historial.Examenes&&this.dataPDF_Historial.Examenes.length>0){var s=this.dataPDF_Historial.Examenes.map((function(e){return{descripcion:e.examenes_almacenado.nombre||"",cantidad:1,precio_unitario:e.total||0,subtotal:e.total||0}}));a("Exámenes Realizados",s)}if(this.dataPDF_Historial.ServicioSalaOperaciones&&this.dataPDF_Historial.ServicioSalaOperaciones.length>0){var l=this.dataPDF_Historial.ServicioSalaOperaciones.map((function(e){return{descripcion:e.descripcion||"",cantidad:1,precio_unitario:e.total||0,subtotal:e.total||0}}));a("Servicios en Sala de Operaciones",l)}t+=10,e.save("reporte_historial.pdf")},generarReporteHojaEmergenciaPDF:function(e,t){var a=this;ie.a.get(q["a"]+"/consumos/sumario/".concat(e)).then((function(e){a.dataPDFsumario=e.data,a.nombrePaciente=t.nombres+" "+t.apellidos,a.fechaIngreso=a.dataPDFsumario.fechaFormateada,a.generarHojaEmergenciaPDF(t)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),a.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",a.showAlertError()}))},generarHojaEmergenciaPDF:function(e){var t=this.dataPDFsumario;console.log(e);var a=new Date,r=a.toLocaleDateString("es-ES"),o={hour:"2-digit",minute:"2-digit",hour12:!0},i=a.toLocaleTimeString("es-ES",o),n={fecha:"04/06/2025",hora:"14:35",nombre:"CORTIZ WINCHESTER",edad:"45",direccion:"Zona 1, San Marcos",telefono:"5555-1234",motivo:"Dolor abdominal",diagnostico:"Apendicitis",tratamiento:"Cirugía",medico:"Dr. Ramírez",hospitalizado:!0,examenes:"Hemograma, Urianálisis",medicamentos:[{nombre:"Suero",precio:"25.00"},{nombre:"Jeringas",precio:"5.00"}],total:"30.00",emergencia:"50.00",laboratorios:"100.00",subtotal:"180.00",rx:"40.00",honorarios:"200.00",totalPagar:"420.00",observaciones:"Paciente estable post cirugía."},s=t.consumos.reduce((function(e,t){return e+parseFloat(t.subtotal)}),0),l=t.consumosComunes.reduce((function(e,t){return e+parseFloat(t.total)}),0),c=t.consumosMedicamentos.reduce((function(e,t){return e+parseFloat(t.total)}),0),d=t.consumosQuirurgicos.reduce((function(e,t){return e+parseFloat(t.total)}),0),m=t.examenes.reduce((function(e,t){return e+parseFloat(t.total)}),0),u=t.salaOperaciones.reduce((function(e,t){return e+parseFloat(t.total)}),0),f=t.honorarios.reduce((function(e,t){return e+parseFloat(t.total)}),0),h=s+l+c+d+m+u,p=s+l+c+d,b=h+f+m,v=new Ma["default"];v.setFontSize(12),v.setFont("times","normal"),v.setFont(void 0,"bold"),v.text("HOSPITAL DE ESPECIALIDADES",20,20),v.text("DE OCCIDENTE S.A. QUETZALTENANGO",20,27),v.setTextColor(255,0,0),v.text("No. 000019",160,20),v.setTextColor(0,0,0),v.setFontSize(14),v.text("HOJA DE EMERGENCIAS",70,35),v.setFontSize(12),v.setFont(void 0,"normal"),v.text("FECHA: ".concat(r||""),20,45),v.text("HORA: ".concat(i||""),120,45),v.text("NOMBRE DEL PACIENTE: ".concat(this.nombrePaciente||""),20,55),v.text("EDAD: ".concat(e.edad||""),20,65),v.text("DIRECCIÓN: ".concat(e.direccion||""),50,65),v.text("TELÉFONO: ".concat(e.telefono||""),150,65),v.text("MOTIVO DE LA CONSULTA: ".concat(n.motivo||""),20,75),v.text("DIAGNÓSTICO: ".concat(n.diagnostico||""),20,85),v.text("TRATAMIENTO: ".concat(n.tratamiento||""),20,95),v.text("MÉDICO TRATANTE: ".concat(n.medico||""),20,105),v.text("SE HOSPITALIZA: ".concat(n.hospitalizado?"Sí":"No"),130,105),v.text("EXÁMENES DE LABORATORIO:",20,115),v.text(n.examenes||"",20,122),v.text("MEDICINA Y MATERIAL MÉDICO QUIRÚRGICO:",20,135);var g=135;v.text("MEDICINA",20,g+=7),v.text("___________________________",20,g+=1),v.text("Q. ".concat(c.toFixed(2)),150,g-=1),v.text("_________________",150,g+=1),g-=1,v.text("MATERIAL QUIRURGICO",20,g+=7),v.text("___________________________",20,g+=1),v.text("Q. ".concat(d.toFixed(2)),150,g-=1),v.text("_________________",150,g+=1),g-=1,v.text("ANESTESICOS",20,g+=7),v.text("___________________________",20,g+=1),v.text("Q. 0.00",150,g-=1),v.text("_________________",150,g+=1),g-=1,v.text("MATERIAL COMUN",20,g+=7),v.text("___________________________",20,g+=1),v.text("Q. ".concat(l.toFixed(2)),150,g-=1),v.text("_________________",150,g+=1),g-=1,v.text("OTROS",20,g+=7),v.text("___________________________",20,g+=1),v.text("Q. ".concat(s.toFixed(2)),150,g-=1),v.text("_________________",150,g+=1),g-=1,v.text("TOTAL ............................................................................................................",20,g+=7),v.text("Q. ".concat(p.toFixed(2)),150,g-=1),v.text("_________________",150,g+=1),g+=3,v.text("DERECHO DE EMERGENCIA .....................................................................",20,g+=7),v.text("Q. ".concat(n.emergencia||""),150,g-=1),v.text("_________________",150,g+=1),g-=1,v.text("LABORATORIOS ...........................................................................................",20,g+=7),v.text("Q. ".concat(n.laboratorios||""),150,g-=1),v.text("_________________",150,g+=1),g-=1,v.text("SUBTOTAL ....................................................................................................",20,g+=7),v.text("Q. ".concat(n.subtotal||""),150,g-=1),v.text("_________________",150,g+=1),g-=1,v.text("RX ...................................................................................................................",20,g+=7),v.text("Q. ".concat(n.rx||""),150,g-=1),v.text("_________________",150,g+=1),g-=1,v.text("HONORARIOS ...............................................................................................",20,g+=7),v.text("Q. ".concat(n.honorarios||""),150,g-=1),v.text("_________________",150,g+=1),g-=1,v.text("TOTAL A PAGAR: .........................................................................................",20,g+=7),v.text("Q. ".concat(b||""),150,g-=1),v.text("_________________",150,g+=1),g-=1,v.text("OBSERVACIONES:",20,g+=14),v.text(n.observaciones||"",20,g+=7),v.text("NOMBRE Y FIRMA MÉDICO INTERNO:",20,g+=50),v.save("hoja_emergencias.pdf")},anular:function(e){var t=this,a=q["a"]+"/Examenes_realizados/update?id=".concat(e);ie.a.put(a,{form:t.anularExamen}).then((function(a){t.alertVariant="success",t.showAlert(),t.alertText="Se ha ANULADO el examen",t.ver_examen_realizado(e)})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText=e.response.data.msg,console.error("Error!",e)}))},getFieldsByExamenId:function(e){var t=this;ie.a.get(q["a"]+"/campoLaboratorio/getByExamenId",{params:{id:e}}).then((function(e){t.camposResulado=e.data.map((function(e){return{id:e.id,nombre:e.nombre,unidades:e.unidades,resultado:"",id_tipo:e.id_examenes_almacenados}}));var a=e.data;t.campos=a})).catch((function(e){console.error("Error al obtener los campos del examen:",e)}))},guardarExamenRealizado:function(){var e=this,t=this.formExamen.nacimiento.split("/"),a=new Date("".concat(t[2],"-").concat(t[1],"-").concat(t[0])),r=new Date,o=r.getFullYear()-a.getFullYear(),i=r.getMonth()-a.getMonth(),n=r.getDate()-a.getDate();(i<0||0===i&&n<0)&&o--,this.formExamen.edad=o,this.formExamen.numero_muestra=1,0!==this.formExamen.total&&0!==this.formExamen.numero_muestra&&null!==this.formExamen.id_examenes_almacenados?ie.a.post(q["a"]+"/Examenes_realizados/create",{form:this.formExamen}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ingresado al pasciente "+e.formExamen.nombre+" exitosamente",e.closeModal("modal_agregar")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)})):(this.alertVariant="danger",this.showAlertError(),this.alertErrorText="Por favor llene los campos solicitados")},verResultado:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ie.a.get(q["a"]+"/detalleExamenRealizado/list?id=".concat(e));case 3:r=a.sent,r.data.data.length<1?(t.alertVariant="danger",t.showAlertError(),t.alertErrorText="El examen aun no posee resultados"):(t.resultados=r.data.data,t.$refs["modal-ver-resultados"].show()),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error("Error cargando insumos:",a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},realizar_examen:function(e,t,a,r,o,i){this.formExamen.nombre=t+" "+a,this.formExamen.cui=r,this.formExamen.whatsapp=o,this.formExamen.id_expediente=e,this.formExamen.nacimiento=i},ver_examen_realizado:function(e){var t=this;ie.a.get(q["a"]+"/Examenes_realizados/listId/".concat(e)).then((function(e){t.item_examenes=e.data}))},searching_id_examenes_almacenados:function(e,t){var a=this;ie.a.get(q["a"]+"/examenesAlmacenados/getSearch",{params:{search:e}}).then((function(e){a.examenes_almacenados=e.data}))},onSearch_id_examenes_almacenados:function(e,t){var a=this,r={search:e,page:this.currentPageExa,perPage:this.$refs.vuetable.perPage};ie.a.get(q["a"]+"/examenesAlmacenadosBuscar/getSearch",{params:r}).then((function(e){a.examenes_almacenadosBuscar=e.data.data,a.$refs.vuetableBuscar.setData(e.data)})).catch((function(e){console.error("Error al buscar exámenes:",e)}))},onPageChangeExa:function(e){this.currentPageExa=e,this.onSearch_id_examenes_almacenados("")},onSearchEncargado:function(e,t){e.length&&this.searchingEncargado(e,t)},searchingEncargado:function(e,t){var a=this;ie.a.get(q["a"]+"/encargadoExamen/getSearch",{params:{search:e}}).then((function(e){a.encargados=e.data}))}}},Hi=zi,Li=(a("4114"),Object($["a"])(Hi,Fi,Oi,!1,null,null,null)),Qi=Li.exports,Ui=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-traslado",attrs:{id:"modal-traslado",title:"Trasladar paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){return e.onRelocation()}}},[e._v("Ingresar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-traslado")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea trasladar el paciente: "+e._s(e.form.nombres)+" ? ")]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-col",[a("b-form-group",{attrs:{label:"Área a la que desea trasladar:"}},[a("b-form-radio-group",{attrs:{id:"radio-group-2",options:e.optionsTraslado,name:"radio-options"},model:{value:e.selectedTrasOption,callback:function(t){e.selectedTrasOption=t},expression:"selectedTrasOption"}})],1)],1)],1),a("div",[e._v(" Ingrese un motivo para el traslado ")]),a("div",[a("b-input",{ref:"motivoTraslado",attrs:{id:"motivoTraslado"},model:{value:e.motivoTrasladoHospi,callback:function(t){e.motivoTrasladoHospi=t},expression:"motivoTrasladoHospi"}})],1)],1),a("b-modal",{ref:"modal-add-receta",attrs:{size:"lg",id:"modal-add-receta",title:"Contenido de receta"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.saveReceta()}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("add-receta")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Contenido:"}},[a("quill-editor",{staticClass:"custom-editor",attrs:{options:e.editorOptions},model:{value:e.form.receta,callback:function(t){e.$set(e.form,"receta",t)},expression:"form.receta"}})],1)],1)],1),a("b-modal",{ref:"modal-add-evolucion",attrs:{size:"lg",id:"modal-add-evolucion",title:"Evolución de paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.saveEvolucion()}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("add-evolucion")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Contenido:"}},[a("quill-editor",{staticClass:"custom-editor",attrs:{options:e.editorOptions2},model:{value:e.form.evolucion,callback:function(t){e.$set(e.form,"evolucion",t)},expression:"form.evolucion"}})],1)],1)],1),a("b-modal",{ref:"modal-add-orden",attrs:{size:"lg",id:"modal-add-orden",title:"Orden médica"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.saveOrden()}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("add-orden")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Contenido:"}},[a("quill-editor",{staticClass:"custom-editor",attrs:{options:e.editorOptions3},model:{value:e.form.orden,callback:function(t){e.$set(e.form,"orden",t)},expression:"form.orden"}})],1)],1)],1),a("b-modal",{ref:"modal-ver-receta",attrs:{size:"lg",id:"modal-ver-receta",title:e.tituloVer},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("ver-receta")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("ver-receta")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("vuetable",{ref:"vuetableRecetas",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseReceta,"query-params":e.makeQueryParamsReceta,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsReceta,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationDataReceta},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Generar voucher de pago",expression:"'Generar voucher de pago'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-info"},on:{click:function(a){return e.voucherData(t.rowData)}}},[a("i",{class:"fas fa-money-bill"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"paginationReceta",on:{"vuetable-pagination:change-page":e.onChangePageReceta}})],1),a("b-modal",{ref:"modal-add-servicio",attrs:{id:"modal-add-servicio",title:"Añadir consumo de servicio"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.saveServicio("add-servicio")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("add-servicio")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Servicio a agregar:"}},[a("v-select",{attrs:{name:"servicio",options:e.servicios,filterable:!1,placeholder:"Seleccione un servicio a agregar"},on:{search:e.onSearchServicios},scopedSlots:e._u([{key:"option",fn:function(t){return[e._v(" "+e._s(t.descripcion+" - Precio: "+t.precio)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s(t.descripcion+" - Precio: "+t.precio)+" ")]}}]),model:{value:e.servicio,callback:function(t){e.servicio=t},expression:"servicio"}})],1),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar cantidad utilizada",type:"number"},model:{value:e.form.cantidad,callback:function(t){e.$set(e.form,"cantidad","string"===typeof t?t.trim():t)},expression:"form.cantidad"}})],1)],1)],1),a("b-modal",{ref:"modal-ver-servicio",attrs:{id:"modal-ver-servicio",size:"lg",title:"Ver servicios"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("ver-servicio")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("ver-servicio")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("vuetable",{ref:"vuetableConsumos",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumo,"query-params":e.makeQueryParamsConsumo,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumo,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationDataConsumo},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Generar voucher de pago",expression:"'Generar voucher de pago'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-info"},on:{click:function(a){return e.voucherData(t.rowData)}}},[a("i",{class:"fas fa-money-bill"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1),a("b-modal",{ref:"modal-ver-servicio2",attrs:{id:"modal-ver-servicio2",size:"lg",title:"Ver servicios"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("ver-servicio2")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("ver-servicio2")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("vuetable",{ref:"vuetableConsumos",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumo,"query-params":e.makeQueryParamsConsumo,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumo2,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationDataConsumo},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Generar voucher de pago",expression:"'Generar voucher de pago'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-info"},on:{click:function(a){return e.voucherData(t.rowData)}}},[a("i",{class:"fas fa-money-bill"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1),a("b-modal",{ref:"modal-add-honorarios",attrs:{id:"modal-add-honorarios",size:"lg",title:"Agregar honorarios a medico"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.agregarHonorario()}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("add-honorarios")}}},[e._v("Cancelar")])]},proxy:!0}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Seleccionar Medico"}},[a("v-select",{attrs:{options:e.medicos,"item-text":"nombre","item-value":"id",label:"nombre",filterable:!1,placeholder:"Seleccione un médico",required:""},on:{search:e.onSearchMedicos},scopedSlots:e._u([{key:"option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}}]),model:{value:e.honorario.medico,callback:function(t){e.$set(e.honorario,"medico",t)},expression:"honorario.medico"}})],1),a("b-form-group",{attrs:{label:"Descripción"}},[a("b-form-textarea",{attrs:{placeholder:"Ingrese una descripción"},model:{value:e.honorario.descripcion,callback:function(t){e.$set(e.honorario,"descripcion",t)},expression:"honorario.descripcion"}})],1),a("b-form-group",{attrs:{label:"Total de honorarios"}},[a("b-form-input",{attrs:{placeholder:"Ingresar Total Honorarios",type:"number",required:""},model:{value:e.honorario.total,callback:function(t){e.$set(e.honorario,"total","string"===typeof t?t.trim():t)},expression:"honorario.total"}})],1)],1)],1),a("b-modal",{ref:"modal-ver-honorarios",attrs:{id:"modal-ver-honorarios",size:"lg",title:"Ver honorarios"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("ver-honorarios")}}},[e._v("Cerrar")])]},proxy:!0}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-table",{attrs:{striped:"",hover:"",items:e.honorarios,fields:e.fieldsHonorarios},scopedSlots:e._u([{key:"cell(medico)",fn:function(t){return[e._v(" "+e._s(t.item.medico)+" ")]}},{key:"cell(total)",fn:function(t){return[a("b-form-input",{attrs:{type:"number"},on:{change:function(a){return e.updateTotal(t.item)}},model:{value:t.item.total,callback:function(a){e.$set(t.item,"total",a)},expression:"row.item.total"}})]}}])}),e.pagination.total>0?a("b-pagination",{attrs:{"total-rows":e.pagination.total,"per-page":e.pagination.perPage},on:{change:e.onChangePageHonorario},model:{value:e.pagination.currentPage,callback:function(t){e.$set(e.pagination,"currentPage",t)},expression:"pagination.currentPage"}}):e._e()],1),a("b-modal",{ref:"modal-ver-resultados",attrs:{size:"lg",id:"modal-ver-resultados",title:"Ver Resultados"}},[e.resultados?[a("b-table",{attrs:{small:"",striped:"",hover:"",items:e.resultados,fields:e.campos},scopedSlots:e._u([{key:"cell(fecha_hora)",fn:function(t){return[e._v(" "+e._s(new Date(t.item.fecha_hora).toLocaleString())+" ")]}},{key:"cell(valor_minimo)",fn:function(t){return[e._v(" "+e._s(parseFloat(t.item.valor_minimo).toFixed(2))+" ")]}},{key:"cell(valor_maximo)",fn:function(t){return[e._v(" "+e._s(parseFloat(t.item.valor_maximo).toFixed(2))+" ")]}}],null,!1,2693531662)})]:[a("p",{staticClass:"text-center"},[e._v("No hay resultados para mostrar")])]],2),a("b-modal",{ref:"modal-1-movimiento",attrs:{id:"modal-1-movimiento",size:"xl",title:"Agregar Consumo"},on:{shown:e.openModal2},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:e.onSave}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]},proxy:!0}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Agregar Insumo:"}},[a("br"),a("b-row",{staticClass:"ml-5 mt-negativo-r1"},[a("b-col",{attrs:{md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.selected_insumo.$model,expression:"$v.form.selected_insumo.$model"}],attrs:{type:"radio",id:"medicamento",value:"0"},domProps:{checked:e._q(e.$v.form.selected_insumo.$model,"0")},on:{change:[function(t){return e.$set(e.$v.form.selected_insumo,"$model","0")},e.onSelectChange]}}),a("label",{staticClass:"ml-1",attrs:{for:"medicamento"}},[e._v("Medicamento")])]),a("b-col",{attrs:{md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.selected_insumo.$model,expression:"$v.form.selected_insumo.$model"}],attrs:{type:"radio",id:"quirurgico",value:"1"},domProps:{checked:e._q(e.$v.form.selected_insumo.$model,"1")},on:{change:[function(t){return e.$set(e.$v.form.selected_insumo,"$model","1")},e.onSelectChange]}}),a("label",{staticClass:"ml-1",attrs:{for:"quirurgico"}},[e._v("Quirúrgico")])]),a("b-col",{attrs:{md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.selected_insumo.$model,expression:"$v.form.selected_insumo.$model"}],attrs:{type:"radio",id:"uso_comun",value:"2"},domProps:{checked:e._q(e.$v.form.selected_insumo.$model,"2")},on:{change:[function(t){return e.$set(e.$v.form.selected_insumo,"$model","2")},e.onSelectChange]}}),a("label",{staticClass:"ml-1",attrs:{for:"uso_comun"}},[e._v("Uso común")])])],1),a("v-select",{attrs:{name:"medicamentos",options:e.insumosActuales,filterable:!0,reduce:function(e){return e.value},state:!e.$v.formMe.id_medicine.$error,placeholder:"Seleccione el insumo",label:"text"},on:{input:e.onSeleccionarInsumo},model:{value:e.$v.formMe.id_medicine.$model,callback:function(t){e.$set(e.$v.formMe.id_medicine,"$model","string"===typeof t?t.trim():t)},expression:"$v.formMe.id_medicine.$model"}})],1),a("h5",{staticClass:"mt-3"},[e._v("INSUMOS SELECCIONADOS")]),a("b-table",{attrs:{striped:"",hover:"",items:e.consumosTemporales,fields:["nombre","cantidad","existencias","acciones"],small:""},scopedSlots:e._u([{key:"cell(cantidad)",fn:function(t){return[a("b-form-input",{attrs:{type:"number",min:1,placeholder:"Cantidad"},model:{value:t.item.cantidad,callback:function(a){e.$set(t.item,"cantidad",a)},expression:"row.item.cantidad"}})]}},{key:"cell(acciones)",fn:function(t){return[a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(a){return e.eliminarDeLista(t.item.id)}}},[e._v("Eliminar")])]}}])}),a("h5",{staticClass:"mt-4"},[e._v("CONSUMOS REALIZADOS")]),a("b-tabs",{attrs:{"content-class":"mt-3"}},[a("b-tab",{attrs:{title:"Medicamento",active:""}},[a("vuetable",{ref:"vuetableConsumoInsumos",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumoMedicamento,"query-params":e.makeQueryParamsConsumoInsumo,"data-path":"data","pagination-path":"","per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumoInsumoMedicamento}}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1),a("b-tab",{attrs:{title:"Quirúrgico"}},[a("vuetable",{ref:"vuetableConsumoQuirurgicos",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumoQuirurgico,"query-params":e.makeQueryParamsConsumoInsumo,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumoInsumoQuirurgico}}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1),a("b-tab",{attrs:{title:"Común"}},[a("vuetable",{ref:"vuetableConsumoComunes",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumoComun,"query-params":e.makeQueryParamsConsumoInsumo,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumoInsumo}}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1)],1)],1)],1),a("b-modal",{ref:"modal-1-movimiento2",attrs:{id:"modal-1-movimiento2",size:"xl",title:"Agregar Consumo"},on:{shown:e.openModal2},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:e.onSave}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save2")}}},[e._v("Cancelar")])]},proxy:!0}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Agregar Insumo:"}},[a("br"),a("b-row",{staticClass:"ml-5 mt-negativo-r1"},[a("b-col",{attrs:{md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.selected_insumo.$model,expression:"$v.form.selected_insumo.$model"}],attrs:{type:"radio",id:"medicamento",value:"0"},domProps:{checked:e._q(e.$v.form.selected_insumo.$model,"0")},on:{change:[function(t){return e.$set(e.$v.form.selected_insumo,"$model","0")},e.onSelectChange]}}),a("label",{staticClass:"ml-1",attrs:{for:"medicamento"}},[e._v("Medicamento")])]),a("b-col",{attrs:{md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.selected_insumo.$model,expression:"$v.form.selected_insumo.$model"}],attrs:{type:"radio",id:"quirurgico",value:"1"},domProps:{checked:e._q(e.$v.form.selected_insumo.$model,"1")},on:{change:[function(t){return e.$set(e.$v.form.selected_insumo,"$model","1")},e.onSelectChange]}}),a("label",{staticClass:"ml-1",attrs:{for:"quirurgico"}},[e._v("Quirúrgico")])]),a("b-col",{attrs:{md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.selected_insumo.$model,expression:"$v.form.selected_insumo.$model"}],attrs:{type:"radio",id:"uso_comun",value:"2"},domProps:{checked:e._q(e.$v.form.selected_insumo.$model,"2")},on:{change:[function(t){return e.$set(e.$v.form.selected_insumo,"$model","2")},e.onSelectChange]}}),a("label",{staticClass:"ml-1",attrs:{for:"uso_comun"}},[e._v("Uso común")])])],1),a("v-select",{attrs:{name:"medicamentos",options:e.insumosActuales,filterable:!0,reduce:function(e){return e.value},state:!e.$v.formMe.id_medicine.$error,placeholder:"Seleccione el insumo",label:"text"},on:{input:e.onSeleccionarInsumo},model:{value:e.$v.formMe.id_medicine.$model,callback:function(t){e.$set(e.$v.formMe.id_medicine,"$model","string"===typeof t?t.trim():t)},expression:"$v.formMe.id_medicine.$model"}})],1),a("h5",{staticClass:"mt-3"},[e._v("INSUMOS SELECCIONADOS")]),a("b-table",{attrs:{striped:"",hover:"",items:e.consumosTemporales,fields:["nombre","cantidad","existencias","acciones"],small:""},scopedSlots:e._u([{key:"cell(cantidad)",fn:function(t){return[a("b-form-input",{attrs:{type:"number",min:1,placeholder:"Cantidad"},model:{value:t.item.cantidad,callback:function(a){e.$set(t.item,"cantidad",a)},expression:"row.item.cantidad"}})]}},{key:"cell(acciones)",fn:function(t){return[a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(a){return e.eliminarDeLista(t.item.id)}}},[e._v("Eliminar")])]}}])}),a("h5",{staticClass:"mt-4"},[e._v("CONSUMOS REALIZADOS")]),a("b-tabs",{attrs:{"content-class":"mt-3"}},[a("b-tab",{attrs:{title:"Medicamento",active:""}},[a("vuetable",{ref:"vuetableConsumoInsumos",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumoMedicamento,"query-params":e.makeQueryParamsConsumoInsumo,"data-path":"data","pagination-path":"","per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumoInsumoMedicamento2}}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1),a("b-tab",{attrs:{title:"Quirúrgico"}},[a("vuetable",{ref:"vuetableConsumoQuirurgicos",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumoQuirurgico,"query-params":e.makeQueryParamsConsumoInsumo,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumoInsumoQuirurgico2}}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1),a("b-tab",{attrs:{title:"Común"}},[a("vuetable",{ref:"vuetableConsumoComunes",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumoComun,"query-params":e.makeQueryParamsConsumoInsumo,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumoInsumo2}}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1)],1)],1)],1),a("b-modal",{attrs:{id:"reporteModal",title:"Reporte de Cuenta Parcial",size:"lg"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:e.generarPDF_CuentaParcial}},[e._v("Generar PDF")]),a("b-button",{attrs:{variant:"secondary"},on:{click:function(t){return e.$bvModal.hide("reporteModal")}}},[e._v("Cerrar")])]},proxy:!0}])},[a("div",{staticClass:"modal-body"},[a("p",[a("strong",[e._v("Total consumo de servicios:")]),e._v(" Q"+e._s(e.reporte.ConsumoTotal))]),a("p",[a("strong",[e._v("Total consumo de materiales comunes:")]),e._v(" Q"+e._s(e.reporte.ConsumoComunTotal))]),a("p",[a("strong",[e._v("Total consumo de medicamentos:")]),e._v(" Q"+e._s(e.reporte.ConsumoMedicamentosTotal))]),a("p",[a("strong",[e._v("Total consumo de materiales quirúrgicos:")]),e._v(" Q"+e._s(e.reporte.ConsumoQuirurgicosTotal))]),a("p",[a("strong",[e._v("Total de exámenes realizados:")]),e._v(" Q"+e._s(e.reporte.ExamenesTotal))]),a("p",[a("strong",[e._v("Total de servicios en sala de operaciones:")]),e._v(" Q"+e._s(e.reporte.ServicioSalaOperacionesTotal))]),a("hr"),a("p",[a("strong",[a("u",[e._v("Total deuda:")]),e._v(" Q"+e._s(e.reporte.TotalDeuda))])])])]),a("b-modal",{attrs:{id:"HistorialCuenta",title:"Historial de las Cuentas",size:"lg"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:e.generarPDF_Historial}},[e._v("Generar PDF")]),a("b-button",{attrs:{variant:"secondary"},on:{click:function(t){return e.$bvModal.hide("HistorialCuenta")}}},[e._v("Cerrar")])]},proxy:!0}])},[a("div",{staticClass:"modal-body"},[a("p",[a("strong",[e._v("Total consumo de servicios:")]),e._v(" Q"+e._s(e.reporteHisotiral.ConsumoTotal))]),a("p",[a("strong",[e._v("Total consumo de materiales comunes:")]),e._v(" Q"+e._s(e.reporteHisotiral.ConsumoComunTotal))]),a("p",[a("strong",[e._v("Total consumo de medicamentos:")]),e._v(" Q"+e._s(e.reporteHisotiral.ConsumoMedicamentosTotal))]),a("p",[a("strong",[e._v("Total consumo de materiales quirúrgicos:")]),e._v(" Q"+e._s(e.reporteHisotiral.ConsumoQuirurgicosTotal))]),a("p",[a("strong",[e._v("Total de exámenes realizados:")]),e._v(" Q"+e._s(e.reporteHisotiral.ExamenesTotal))]),a("p",[a("strong",[e._v("Total de servicios en sala de operaciones:")]),e._v(" Q"+e._s(e.reporteHisotiral.ServicioSalaOperacionesTotal))]),a("hr")])]),a("b-modal",{ref:"modal_agregar",attrs:{id:"modal_agregar",size:"xl",title:"Ingresar nuevo examen"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("div",{staticClass:"ml-auto"},[a("span",{staticClass:"mr-2"},[e._v("Total: Q"+e._s(e.TotalAPagar2))])]),a("b-button",{attrs:{variant:"primary"},on:{click:e.guardarExamenRealizado}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("modal_agregar")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Nombre del medico:"}},[a("v-select",{attrs:{name:"medico",options:e.medicos,filterable:!1,placeholder:"Seleccione el médico"},on:{search:e.onSearchMedicos},scopedSlots:e._u([{key:"option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}}]),model:{value:e.formExamen.comision,callback:function(t){e.$set(e.formExamen,"comision",t)},expression:"formExamen.comision"}})],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Total:"}},[a("b-form-input",{attrs:{disabled:"",placeholder:"Ingresar el total"},model:{value:e.formExamen.total,callback:function(t){e.$set(e.formExamen,"total",t)},expression:"formExamen.total"}})],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Tipo de Examen:"}},[a("Multiselect",{attrs:{options:e.examenes_almacenadosBuscar,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Seleccionar exámenes",label:"nombre","track-by":"id",pagination:!0,page:e.currentPageExa},on:{"search-change":e.onSearch_id_examenes_almacenados,"page-change":e.onPageChangeExa},scopedSlots:e._u([{key:"option",fn:function(t){var r=t.option;return[a("div",{staticClass:"custom-option"},[a("strong",[e._v(e._s(r.nombre))]),e._v(" -- "),a("small",[e._v(e._s(r.tipo_examen))]),e._v(" | "),a("small",[e._v("Precio: Q"+e._s(r.precio_normal))]),e._v(" | ")])]}},{key:"selection",fn:function(t){var r=t.values,o=(t.search,t.isOpen);return[r.length&&!o?a("span",{staticClass:"multiselect__single"},[e._v(" "+e._s(r.length)+" exámenes seleccionados ")]):e._e()]}}]),model:{value:e.selectedExamenes,callback:function(t){e.selectedExamenes=t},expression:"selectedExamenes"}}),a("div",[e.selectedExamenes.length>0?a("ul",{staticClass:"selected-options-list"},e._l(e.selectedExamenes,(function(t,r){return a("li",{key:t.id},[e._v(" "+e._s(r+1)+". "+e._s(t.nombre)+" - Precio: Q"+e._s(t.precio_normal)+" ")])})),0):e._e()])],1)],1)],1)],1),a("b-row",[a("b-col",{attrs:{sm:"12"}},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[e._v("Acciones")]),a("th",[e._v("Nombre")]),a("th",[e._v("CUI")]),a("th",[e._v("Examen Realizado")]),a("th",[e._v("Fecha y Hora")])])]),a("tbody",e._l(e.item_examenes,(function(t){return a("tr",{key:t.id},[a("td",[a("b-button",{attrs:{variant:"success"},on:{click:function(a){return e.verResultado(t.id)}}},[e._v("Ver resultado")])],1),a("td",[e._v(e._s(t.nombre))]),a("td",[e._v(e._s(t.cui))]),a("td",[e._v(e._s(t.nombre_examen))]),a("td",[e._v(e._s(t.fecha_hora))])])})),0)])])],1)],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Hospitalización")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("div",{staticClass:"button-container"},[a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){e.traslado(t.rowData.id),e.setData(t.rowData)}}},[e._v("Trasladar")]),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success",disabled:!e.hasPermission([10])},on:{click:function(a){return e.addReceta(t.rowData.id)}}},[e._v("Agregar receta")]),"PENDIENTE"!==t.rowData.nombres?a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){return e.verReceta(t.rowData.id)}}},[e._v("Ver recetas")]):e._e(),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){return e.addServicio(t.rowData.id)}}},[e._v("Agregar servicios")]),"PENDIENTE"!==t.rowData.nombres?a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){return e.mostrarVerServicio(t.rowData.id)}}},[e._v("Ver servicios")]):e._e(),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){e.showModal("modal-add-honorarios"),e.obtenerIdCuenta(t.rowData.id)}}},[e._v("Agregar honorarios")]),"PENDIENTE"!==t.rowData.nombres?a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){e.showModal("modal-ver-honorarios"),e.getDataHonorarios(t.rowData.id)}}},[e._v("Ver honorarios")]):e._e(),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){e.showModal("modal_agregar"),e.ver_examen_realizado(t.rowData.id),e.realizar_examen(t.rowData.id,t.rowData.nombres,t.rowData.apellidos,t.rowData.cui,t.rowData.telefono,t.rowData.nacimiento)}}},[e._v("Agregar Examen")]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Agregar consumo",expression:"'Agregar consumo'",modifiers:{top:!0}}],staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){return e.mostrarModalConsumos(t.rowData.id)}}},[e._v("Consumos")]),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success",disabled:!e.hasPermission([9,10])},on:{click:function(a){return e.generarReporteCuentaParcial(t.rowData.id,t.rowData.nombres,t.rowData.apellidos)}}},[e._v("Cuenta parcial")]),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark",disabled:!e.hasPermission([9,10,11])},on:{click:function(a){return e.generarHistorialCuentas(t.rowData.id)}}},[e._v("Historial Cuenta")]),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark",disabled:!e.hasPermission([10])},on:{click:function(a){return e.addEvolucion(t.rowData.id)}}},[e._v("Agregar evolución")]),"PENDIENTE"!==t.rowData.nombres?a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){return e.verEvolucion(t.rowData.id)}}},[e._v("Ver evolución")]):e._e(),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark",disabled:!e.hasPermission([10])},on:{click:function(a){return e.addOrdenes(t.rowData.id)}}},[e._v("Agregar orden médica")]),"PENDIENTE"!==t.rowData.nombres?a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){return e.verOrden(t.rowData.id)}}},[e._v("Ver órdenes médicas")]):e._e()],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},ji=[],Yi={name:"Hospitalizacion",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H,quillEditor:lr["quillEditor"],Multiselect:Vi.a},setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){this.searchingMedicamentos(),this.getHabitaciones(0)},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])({currentUser:"currentUser"})),data:function(){return{resultados:null,campos:[{key:"campo",label:"Campo"},{key:"tipo_examen",label:"Tipo de Examen"},{key:"unidades",label:"Unidades"},{key:"resultado",label:"Resultado"},{key:"valor_minimo",label:"Valor Mínimo"},{key:"valor_maximo",label:"Valor Máximo"},{key:"alarma",label:"Alarma"},{key:"fecha_hora",label:"Fecha/Hora"}],tituloVer:"",consumosTemporales:[],insumosActuales:[],tipoInsumoActual:"0",from:0,motivoTrasladoHospi:"",habitaciones:[],selectedHab:null,to:0,total:0,editorOptions:{modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],["clean"]]},placeholder:"Escribir contenido de la receta",theme:"snow"},editorOptions2:{modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],["clean"]]},placeholder:"Escribir la evolución",theme:"snow"},editorOptions3:{modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],["clean"]]},placeholder:"Escribir la orden médica",theme:"snow"},perPage:25,search:"",existencias_selected_med:null,max_cant:0,form:{id:0,name:"",state:1,selectedOption:"quirofano",receta:null,evolucion:null,orden:null,id_receta:null,cantidad:null,selected_insumo:"0"},servicio:null,selectedTrasOption:4,alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/expedientes/listHospitalizacion",apiBaseReceta:"",apiBaseConsumo:"",apiBaseConsumoMedicamento:"",apiBaseConsumoQuirurgico:"",apiBaseConsumoComun:"",optionsTraslado:[{text:"Quirófano",value:3},{text:"Intensivos",value:4}],fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombres",sortField:"nombres",title:"Nombre",dataClass:"list-item-heading"},{name:"apellidos",sortField:"apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"expediente",sortField:"expediente",title:"Expediente",dataClass:"list-item-heading"},{name:"medico.nombre",sortField:"medico.nombre",title:"Médico tratante",dataClass:"list-item-heading"},{name:"habitacione.numero",title:"Habitación",dataClass:"list-item-heading"},{name:"fecha_ingreso_reciente",sortField:"fecha_ingreso_reciente",title:"Fecha de ingreso",dataClass:"list-item-heading"},{name:"hora_ingreso_reciente",sortField:"hora_ingreso_reciente",title:"Hora de ingreso",dataClass:"list-item-heading"}],fieldsReceta:[{name:"contenido",sortField:"contenido",title:"Indicaciones",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Creado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha de creación",dataClass:"list-item-heading"}],fieldsConsumo:[{name:"servicio.descripcion",sortField:"servicio.descripcion",title:"Nombre del servicio",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"subtotal",sortField:"subtotal",title:"Subtotal",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de consumo",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Creación",dataClass:"list-item-heading"}],fieldsConsumo2:[{name:"servicio.descripcion",sortField:"servicio.descripcion",title:"Nombre del servicio",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de consumo",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Creación",dataClass:"list-item-heading"}],fieldsConsumoInsumo:[{name:"comune.nombre",sortField:"comune.nombre",title:"Nombre del insumo",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"comune.presentacione.nombre",sortField:"comune.presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"precio_venta",sortField:"precio_venta",title:"Precio unitario",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Subtotal",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha y hora",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de distribución",dataClass:"list-item-heading"}],fieldsConsumoInsumoQuirurgico:[{name:"quirurgico.nombre",sortField:"quirurgico.nombre",title:"Nombre del insumo",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"quirurgico.presentacione.nombre",sortField:"quirurgico.presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"precio_venta",sortField:"precio_venta",title:"Precio unitario",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Subtotal",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha y hora",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de distribución",dataClass:"list-item-heading"}],fieldsConsumoInsumoMedicamento:[{name:"medicamento.nombre",sortField:"medicamento.nombre",title:"Nombre del insumo",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"medicamento.presentacione.nombre",sortField:"medicamento.presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"precio_venta",sortField:"precio_venta",title:"Precio unitario",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Subtotal",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha y hora",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de distribución",dataClass:"list-item-heading"}],fieldsConsumoInsumo2:[{name:"comune.nombre",sortField:"comune.nombre",title:"Nombre del insumo",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"comune.presentacione.nombre",sortField:"comune.presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha y hora",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de distribución",dataClass:"list-item-heading"}],fieldsConsumoInsumoQuirurgico2:[{name:"quirurgico.nombre",sortField:"quirurgico.nombre",title:"Nombre del insumo",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"quirurgico.presentacione.nombre",sortField:"quirurgico.presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha y hora",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de distribución",dataClass:"list-item-heading"}],fieldsConsumoInsumoMedicamento2:[{name:"medicamento.nombre",sortField:"medicamento.nombre",title:"Nombre del insumo",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"medicamento.presentacione.nombre",sortField:"medicamento.presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha y hora",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de distribución",dataClass:"list-item-heading"}],servicios:[],honorario:{medico:null,descripcion:"",total:null},idCuentaSeleccionada:null,medicos:[],apiBaseHonorarios:q["a"]+"/detalle_honorarios",honorarios:[],fieldsHonorarios:[{key:"medico",label:"Nombre del Médico"},{key:"descripcion",label:"Descripción"},{key:"total",label:"Total"},{key:"createdAt",label:"Fecha y Hora"},{key:"updated_by",label:"Creado por"}],pagination:{currentPage:1,perPage:10,total:0},currentExpedienteId:null,medicamentos:[],formMe:{id_cuenta:0,id_medicine:null,cantidad:null,medicamento:null,state:1,precio_venta:0,existencias_actuales:null,movimiento:"SALIDAH"},camposResulado:[],item_examenes:[],examenes_almacenados:[],examenes_almacenadosBuscar:[],encargados:[],currentPageExa:1,selectedExamenes:[],TotalAPagar2:0,formExamen:{id:0,nombre:"",apellido:"",cui:0,edad:0,comision:"",total:0,correo:"",whatsapp:"",numero_muestra:0,existencia_actual:0,referido:"HOSPITALIZACION",id_encargado:null,pagado:0,por_pagar:0,id_examenes_almacenados:null,NewExpediente:!1,id_expediente:0,examenExterior:!1,nacimiento:null},selectedExamenAlmacenado:null,fromExamenes:0,toExamenes:0,totalExamenes:0,perPageExamenes:5,searchExamenes:"",fechaDesdeExamenes:null,fechaHastaExamenes:null,apiBaseExamenes:null,formResultado:{id:null,id_campo:"",id_tipo:"",resultado:null,alarma:""},fieldsCampos:[{key:"nombre",label:"Nombre"},{key:"unidades",label:"Unidades"},{key:"resultado",label:"Resultado"}],reporte:{ConsumoTotal:"0.00",ConsumoComunTotal:"0.00",ConsumoMedicamentosTotal:"0.00",ConsumoQuirurgicosTotal:"0.00",ExamenesTotal:"0.00",ServicioSalaOperacionesTotal:"0.00",TotalDeuda:"0.00"},dataPDFsumario:null,nombrePaciente:null,nacimientoPaciente:null,fechaIngreso:null,dataPDF_Historial:null,reporteHisotiral:{ConsumoTotal:"0.00",ConsumoComunTotal:"0.00",ConsumoMedicamentosTotal:"0.00",ConsumoQuirurgicosTotal:"0.00",ExamenesTotal:"0.00",ServicioSalaOperacionesTotal:"0.00",TotalDeuda:"0.00"}}},validations:function(){return{form:{name:{required:_a["c"]},selected_insumo:{required:_a["c"]}},formMe:{id_medicine:{required:_a["c"]},cantidad:{required:_a["c"]}}}},watch:{"salaOperaciones.categoria":"calcularTotalAPagar","salaOperaciones.oximetro":"calcularTotalAPagar","salaOperaciones.monitor":"calcularTotalAPagar","salaOperaciones.cauterio":"calcularTotalAPagar","salaOperaciones.horas":"calcularTotalAPagar","salaOperaciones.minutos":"calcularTotalAPagar",selectedExamenAlmacenado:function(e){e&&(this.formExamen.por_pagar=e.precio_normal,this.formExamen.id_examenes_almacenados=e.id,this.formExamen.total=e.precio_normal)},selectedExamenes:function(e){e?(this.TotalAPagar2=e.reduce((function(e,t){return parseFloat(e)+parseFloat(t.precio_normal)}),0),this.formExamen.total=this.TotalAPagar2,this.formExamen.id_examenes_almacenados=e.map((function(e){return e.id})),this.formExamen.por_pagar=this.TotalAPagar2):console.log("ERROR AL CARGAR EL TOTAL A PAGAR EN LA FUNCION WATCH")}},methods:{cargarInsumos:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r="",a.t0=e,a.next="0"===a.t0?4:"1"===a.t0?6:"2"===a.t0?8:10;break;case 4:return r="/medicamentos/list2",a.abrupt("break",10);case 6:return r="/quirurgico/list2",a.abrupt("break",10);case 8:return r="/comun/list2",a.abrupt("break",10);case 10:return a.prev=10,a.next=13,ie.a.get(q["a"]+r);case 13:o=a.sent,t.insumosActuales=o.data.map((function(e){return{value:e.id,text:e.nombre+" --- "+e.presentacione.nombre,existencias_actuales:e.existencia_actual,precio_venta:e.precio_venta,inventariado:e.inventariado}})),a.next=20;break;case 17:a.prev=17,a.t1=a["catch"](10),console.error("Error cargando insumos:",a.t1);case 20:case"end":return a.stop()}}),a,null,[[10,17]])})))()},onSelectChange:function(){this.tipoInsumoActual=this.form.selected_insumo,this.cargarInsumos(this.form.selected_insumo),this.formMe.id_medicine=null},onSeleccionarInsumo:function(e){var t=this;if(e){var a=this.insumosActuales.find((function(t){return t.value===e}));if(a){var r=this.consumosTemporales.some((function(a){return a.id===e&&a.tipo===t.tipoInsumoActual}));if(r)return this.alertErrorText="Este insumo ya fue agregado.",void(this.alertCountDownError=5);if(0===a.existencias_actuales&&"INVENTARIADO"===a.inventariado)return this.alertErrorText="El insumo no posee existencias",void(this.alertCountDownError=5);this.consumosTemporales.push({id:e,tipo:this.tipoInsumoActual,nombre:a.text,cantidad:1,existencias:a.existencias_actuales,precio_venta:a.precio_venta,inventariado:a.inventariado}),this.$nextTick((function(){t.formMe.id_medicine=null}))}}},onSave:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){var a,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.consumosTemporales.length){t.next=4;break}return e.alertErrorText="Debe agregar al menos un insumo.",e.alertCountDownError=5,t.abrupt("return");case 4:t.prev=4,a=Object(Ni["a"])(e.consumosTemporales),t.prev=6,a.s();case 8:if((r=a.n()).done){t.next=26;break}if(o=r.value,!(o.cantidad<=0||o.cantidad>o.existencias&&"INVENTARIADO"===o.inventariado)){t.next=12;break}throw new Error("Cantidad inválida para ".concat(o.nombre));case 12:if("0"!==o.tipo){t.next=17;break}return t.next=15,e.onSaveMedicamento(o);case 15:t.next=24;break;case 17:if("1"!==o.tipo){t.next=22;break}return t.next=20,e.onSaveQuirurgico(o);case 20:t.next=24;break;case 22:return t.next=24,e.onSaveComunes(o);case 24:t.next=8;break;case 26:t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](6),a.e(t.t0);case 31:return t.prev=31,a.f(),t.finish(31);case 34:e.alertVariant="success",e.alertText="Consumos registrados exitosamente!",e.showAlert(),e.consumosTemporales=[],e.$refs.vuetableConsumoInsumos.refresh(),e.$refs.vuetableConsumoQuirurgicos.refresh(),e.$refs.vuetableConsumoComunes.refresh(),e.$refs["modal-1-movimiento"].hide(),t.next=50;break;case 44:t.prev=44,t.t1=t["catch"](4),e.alertVariant="danger",e.alertText="Error al guardar consumos",e.showAlert(),console.error("Error:",t.t1);case 50:case"end":return t.stop()}}),t,null,[[4,44],[6,28,31,34]])})))()},openModal2:function(){this.tipoInsumoActual="0",this.cargarInsumos("0")},eliminarDeLista:function(e){this.consumosTemporales=this.consumosTemporales.filter((function(t){return t.id!==e}))},mostrarModalConsumos:function(e){[9,10].includes(this.currentUser.user_type)?this.showModal("modal-1-movimiento2"):this.showModal("modal-1-movimiento"),this.getConsumoMedicamentos(e),this.obtenerIdCuenta(e)},mostrarVerServicio:function(e){[9,10].includes(this.currentUser.user_type)?this.$refs["modal-ver-servicio2"].show():this.$refs["modal-ver-servicio"].show(),this.getDataConsumos(e),this.form.id_consumo=e},hasPermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.includes(this.currentUser.user_type)},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.state=1,this.form.selected_insumo="0",this.existencias_selected_med=null,this.formMe.precio_venta=0,this.formMe.existencias_actuales=null;break}},closeModal:function(e){switch(e){case"traslado":this.$v.$reset(),this.$refs["modal-traslado"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"add-receta":this.$v.$reset(),this.$refs["modal-add-receta"].hide(),this.form.id=0,this.form.receta=null,this.form.name="",this.form.state=1,this.form.selected_insumo="0";break;case"add-evolucion":this.$v.$reset(),this.$refs["modal-add-evolucion"].hide(),this.form.id=0,this.form.evolucion=null,this.form.name="",this.form.state=1,this.form.selected_insumo="0";break;case"add-orden":this.$v.$reset(),this.$refs["modal-add-orden"].hide(),this.form.id=0,this.form.orden=null,this.form.name="",this.form.state=1,this.form.selected_insumo="0";break;case"ver-receta":this.$v.$reset(),this.$refs["modal-ver-receta"].hide(),this.form.id=0,this.form.name="",this.form.state=1,this.form.id_receta=null;break;case"add-servicio":this.$v.$reset(),this.$refs["modal-add-servicio"].hide(),this.form.id=0,this.form.name="",this.form.state=1,this.form.cantidad=null,this.servicio=null,this.form.servicio=null;break;case"ver-servicio":this.$v.$reset(),this.$refs["modal-ver-servicio"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"ver-servicio2":this.$v.$reset(),this.$refs["modal-ver-servicio2"].hide(),this.form.id=0,this.form.name="",this.form.state=1,this.honorarios=[],this.pagination.currentPage=1,this.pagination.total=0,this.honorario={medico:null,descripcion:"",total:null};break;case"ver-honorarios":this.$v.$reset(),this.$refs["modal-ver-honorarios"].hide(),this.form.id=0,this.form.name="",this.form.state=1,this.honorarios=[],this.pagination.currentPage=1,this.pagination.total=0,this.honorario={medico:null,descripcion:"",total:null};break;case"add-honorarios":this.$v.$reset(),this.$refs["modal-add-honorarios"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"save":this.$v.$reset(),this.$refs["modal-1-movimiento"].hide(),this.formMe.id_cuenta=0,this.formMe.cantidad=0,this.formMe.medicamento=null,this.formMe.movimiento="SALIDAH",this.form.selected_insumo="0",this.existencias_selected_med=null;break;case"save2":this.$v.$reset(),this.$refs["modal-1-movimiento2"].hide(),this.formMe.id_cuenta=0,this.formMe.cantidad=0,this.formMe.medicamento=null,this.formMe.movimiento="SALIDAH",this.form.selected_insumo="0",this.existencias_selected_med=null;break;case"SaveQuirurgico":this.$v.$reset(),this.$refs["modal-1-movimiento"].hide(),this.formQui.id_cuenta=0,this.formQui.cantidad=0,this.formQui.quirurgico=null,this.formQui.movimiento="SALIDAH",this.existencias_selected_med=null;break;case"SaveComunes":this.$v.$reset(),this.$refs["modal-1-movimiento"].hide(),this.formCom.id_cuenta=0,this.formCom.cantidad=0,this.formCom.quirurgico=null,this.formCom.movimiento="SALIDAH",this.existencias_selected_med=null;break;case"modal_agregar":this.$v.$reset(),this.$refs["modal_agregar"].hide(),this.formExamen.id=0,this.formExamen.nombre="",this.formExamen.cui=0,this.formExamen.edad=0,this.formExamen.comision="",this.formExamen.total=0,this.formExamen.correo="",this.formExamen.whatsapp="",this.formExamen.numero_muestra="",this.formExamen.referido="",this.formExamen.id_encargago=null,this.formExamen.pagado=0,this.formExamen.por_pagar=0,this.formExamen.id_examenes_almacenados=null,this.formExamen.id_expediente=0,this.formExamen.examenExterior=!1,this.formExamen.nacimiento=null,this.apiBaseExamenes=null,this.item_examenes=[],this.examenes_almacenados=[],this.examenes_almacenadosBuscar=[],this.selectedExamenes=[];break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},calcularEdad:function(e){if(!e)return"";var t=F()(e,"DD-MM-YYYY").format("YYYY-MM-DD"),a=new Date,r=new Date(t),o=a.getFullYear()-r.getFullYear(),i=r.getMonth(),n=r.getDate();return(a.getMonth()<i||a.getMonth()===i&&a.getDate()<n)&&o--,o},onSaveMedicamento:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,r={id_cuenta:t.idCuentaSeleccionada,id_medicamento:e.id,cantidad:e.cantidad,precio_venta:e.precio_venta,movimiento:"SALIDAH",state:1,existencias_actuales:e.existencias,user:t.currentUser.user},o=t.currentUser,a.next=5,ie.a.post(q["a"]+"/detalle_consumo_medicamentos/create",{form:r,currentUser:o});case 5:t.form.selected_insumo="0",a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](0),console.error("Error en onSaveMedicamento:",a.t0),a.t0;case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},onSaveQuirurgico:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,r={id_cuenta:t.idCuentaSeleccionada,id_medicamento:e.id,cantidad:e.cantidad,precio_venta:e.precio_venta,movimiento:"SALIDAH",state:1,existencias_actuales:e.existencias,user:t.currentUser.user,inventariado:e.inventariado},o=t.currentUser,a.next=5,ie.a.post(q["a"]+"/detalle_consumo_quirugicos/create",{form:r,currentUser:o});case 5:t.form.selected_insumo="0",a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](0),console.error("Error en onSaveQuirurgico:",a.t0),a.t0;case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},onSaveComunes:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,r={id_cuenta:t.idCuentaSeleccionada,id_medicamento:e.id,cantidad:e.cantidad,precio_venta:e.precio_venta,movimiento:"SALIDAH",state:1,existencias_actuales:e.existencias,user:t.currentUser.user,inventariado:e.inventariado},o=t.currentUser,a.next=5,ie.a.post(q["a"]+"/detalle_consumo_comun/create",{form:r,currentUser:o});case 5:t.form.selected_insumo="0",a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](0),console.error("Error en onSaveComunes:",a.t0),a.t0;case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},traslado:function(e){this.$refs["modal-traslado"].show(),this.form.id=e},saveTraslado:function(){var e=this;ie.a.put(q["a"]+"/expedientes/changeStatus",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha trasladado el expediente exitosamente",e.$refs.vuetable.refresh(),e.closeModal("traslado"),e.form.id=0,e.form.selectedOption="quirofano"})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},addReceta:function(e){this.$refs["modal-add-receta"].show(),this.form.id=e},addEvolucion:function(e){this.$refs["modal-add-evolucion"].show(),this.form.id=e},addOrdenes:function(e){this.$refs["modal-add-orden"].show(),this.form.id=e},saveReceta:function(){var e=this;null!==e.form.receta&&ie.a.post(q["a"]+"/recetas/create",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha creado la receta exitosamente",e.$refs.vuetable.refresh(),e.closeModal("add-receta"),e.form.id=0})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},saveEvolucion:function(){var e=this;null!==e.form.evolucion&&ie.a.post(q["a"]+"/evoluciones/create",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha creado la nota de evolución exitosamente",e.$refs.vuetable.refresh(),e.closeModal("add-evolucion"),e.form.id=0})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},saveOrden:function(){var e=this;null!==e.form.orden&&ie.a.post(q["a"]+"/ordenes/create",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha creado la orden médica exitosamente",e.$refs.vuetable.refresh(),e.closeModal("add-orden"),e.form.id=0})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},verReceta:function(e){this.$refs["modal-ver-receta"].show(),this.getDataRecetas(e),this.form.id_receta=e,this.tituloVer="Ver receta"},verEvolucion:function(e){this.$refs["modal-ver-receta"].show(),this.getDataEvoluciones(e),this.form.id_receta=e,this.tituloVer="Ver evolución del paciente"},verOrden:function(e){this.$refs["modal-ver-receta"].show(),this.getDataOrdenes(e),this.form.id_receta=e,this.tituloVer="Ver órdenes del paciente"},addServicio:function(e){this.$refs["modal-add-servicio"].show(),this.form.id=e},saveServicio:function(){var e=this;null!==e.servicio.id&&null!==e.form.cantidad?(e.form.servicio=e.servicio,e.form.descripcion="Añadido en hospitalización",ie.a.post(q["a"]+"/consumos/create",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha creado el consumo de un servicio exitosamente",e.$refs.vuetable.refresh(),e.closeModal("add-servicio"),e.form.id=0})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))):(e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Por favor llene los campos solicitados")},addhonorarios:function(e){this.obtenerIdCuenta(e),this.$refs["modal-add-honorarios"].show()},agregarHonorario:function(){try{ie.a.post(q["a"]+"/detalle_honorarios/created",{id_medico:this.honorario.medico.id,id_cuenta:this.idCuentaSeleccionada,descripcion:this.honorario.descripcion,total:this.honorario.total,lugar:"Hospitalización"}),this.$refs["modal-add-honorarios"].hide(),this.honorario={medico:null,descripcion:"",total:null}}catch(e){console.error(e),this.alertErrorText="Error al agregar honorarios",this.showAlertError()}},showModal:function(e){this.$bvModal.show(e)},verHonorarios:function(e){this.obtenerIdCuenta(e),this.$refs["modal-ver-honorarios"].show()},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/expedientes/update",{form:e.form,user:e.currentUser.user}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el expediente "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){var t=this;this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data.map((function(e){return e.nacimiento=F()(e.nacimiento).format("DD/MM/YYYY"),e.edad=t.calcularEdad(e.nacimiento),e.fecha_ingreso_reciente=F()(e.fecha_ingreso_reciente).format("DD/MM/YYYY"),{nacimiento:e.nacimiento,edad:e.edad}})),this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},makeQueryParamsReceta:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage}},onPaginationDataReceta:function(e){this.fromP=e.from,this.toP=e.to,this.totalP=e.total,this.lastPageP=e.last_page,this.items=e.data.map((function(e){return e.createdAt=F()(e.createdAt).format("DD/MM/YYYY"),e.updatedAt=F()(e.updatedAt).format("DD/MM/YYYY"),{createdAt:e.createdAt,updatedAt:e.updatedAt}})),this.$refs.paginationReceta.setPaginationData(e)},onPaginationDataConsumoInsumo:function(e){this.fromCI=e.from,this.toCI=e.to,this.totalCI=e.total,this.lastPageCI=e.last_page,this.items=e.data,this.$refs.paginationReceta.setPaginationData(e)},onChangePageReceta:function(e){this.$refs.vuetableRecetas.changePage(e)},getDataRecetas:function(e){this.form.id=e,this.apiBaseReceta=q["a"]+"/recetas/getId?id=".concat(e)},getDataEvoluciones:function(e){this.form.id=e,this.apiBaseReceta=q["a"]+"/evoluciones/getId?id=".concat(e)},getDataOrdenes:function(e){this.form.id=e,this.apiBaseReceta=q["a"]+"/ordenes/getId?id=".concat(e)},onSearchServicios:function(e,t){e.length&&this.searchingServicios(e,t)},searchingServicios:function(e,t){var a=this;ie.a.get(q["a"]+"/servicios/getSearch",{params:{search:e}}).then((function(e){a.servicios=e.data}))},makeQueryParamsConsumo:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage}},onPaginationDataConsumo:function(e){this.fromP=e.from,this.toP=e.to,this.totalP=e.total,this.lastPageP=e.last_page,this.items=e.data.map((function(e){return e.createdAt=F()(e.createdAt).format("DD/MM/YYYY"),e.updatedAt=F()(e.updatedAt).format("DD/MM/YYYY"),{createdAt:e.createdAt,updatedAt:e.updatedAt}})),this.$refs.paginationConsumo.setPaginationData(e)},onChangePageConsumo:function(e){this.$refs.vuetableConsumos.changePage(e),this.$refs.vuetableConsumoInsumos.changePage(e),this.$refs.vuetableConsumoQuirurgicos.changePage(e),this.$refs.vuetableConsumoComunes.changePage(e)},getDataConsumos:function(e){this.form.id=e,this.apiBaseConsumo=q["a"]+"/consumos/getId?id=".concat(e)},searchingMedicos:function(e,t){var a=this;ie.a.get(q["a"]+"/medicos/getSearch",{params:{search:e}}).then((function(e){a.medicos=e.data}))},onSearchMedicos:function(e,t){e.length&&this.searchingMedicos(e,t)},makeQueryParamsHonorarios:function(e,t,a){return e[0]?{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:a}:{criterio:"createdAt",order:"desc",page:t,limit:a}},onPaginationDataHonorarios:function(e){this.honorarios=e.data.map((function(e){return e.total=parseFloat(e.total).toFixed(2),e.createdAt=F()(e.createdAt).format("DD/MM/YYYY h:mm A"),{id:e.id,medico:e.medico.nombre,descripcion:e.descripcion,total:e.total,createdAt:e.createdAt,updated_by:e.updated_by}})),this.pagination.total=e.total,this.pagination.currentPage=Math.floor((e.from-1)/this.pagination.perPage)+1},onChangePageHonorario:function(e){this.pagination.currentPage=e,this.getDataHonorarios(this.currentExpedienteId)},updateTotal:function(e){var t=this,a=e.id,r=e;ie.a.put(q["a"]+"/detalle_honorarios/".concat(a),{form:r}).then((function(e){t.alertVariant="primary",t.showAlert(),t.alertText="Se ha actualizado el expediente los honorarios del / la "+r.medico+" exitosamente"})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",e)}))},obtenerIdCuenta:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ie.a.get(q["a"]+"/cuentas/getSearch?search=".concat(e));case 3:r=a.sent,r.data&&r.data.id?t.idCuentaSeleccionada=r.data.id:(console.error("En AddHonorarios No se encontró ninguna cuenta para el expediente:",e),t.alertErrorText="No se encontró ninguna cuenta para este paciente",t.showAlertError()),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error("Error al obtener la cuenta:",a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},getDataHonorarios:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.currentExpedienteId=e,a.next=4,ie.a.get(q["a"]+"/cuentas/getSearch?search=".concat(e));case 4:if(r=a.sent,!r.data||!r.data.id){a.next=13;break}return o=r.data.id,a.next=9,ie.a.get(q["a"]+"/detalle_honorarios/getSearch?search=".concat(o,"&page=").concat(t.pagination.currentPage,"&limit=").concat(t.pagination.perPage));case 9:i=a.sent,t.onPaginationDataHonorarios(i.data),a.next=16;break;case 13:console.error("En VerHonorarios No se encontró ninguna cuenta para el expediente:",e),t.alertErrorText="No se encontró ninguna cuenta para este paciente",t.showAlertError();case 16:a.next=21;break;case 18:a.prev=18,a.t0=a["catch"](0),console.error("Error al obtener los honorarios:",a.t0);case 21:case"end":return a.stop()}}),a,null,[[0,18]])})))()},searchingMedicamentos:function(e,t){var a=this;ie.a.get(q["a"]+"/medicamentos/list2").then((function(e){a.medicamentos=e.data.map((function(e){return{value:e.id,text:e.nombre,existencias_actuales:e.existencia_actual,precio_venta:e.precio_venta,presentacion:e.presentacione.nombre}}))}))},searchingQuirurgico:function(e,t){var a=this;ie.a.get(q["a"]+"/quirurgico/list2").then((function(e){a.medicamentos=e.data.map((function(e){return{value:e.id,text:e.nombre,existencias_actuales:e.existencia_actual,precio_venta:e.precio_venta,presentacion:e.presentacione.nombre}})),console.dir(e)}))},searchingComunes:function(e,t){var a=this;ie.a.get(q["a"]+"/comun/list2").then((function(e){a.medicamentos=e.data.map((function(e){return{value:e.id,text:e.nombre,existencias_actuales:e.existencia_actual,precio_venta:e.precio_venta,presentacion:e.presentacione.nombre}}))}))},onChangeMedicamento:function(){var e=this,t=this.medicamentos.find((function(t){return t.value===e.formMe.id_medicine}));this.max_cant=t.existencias_actuales,this.existencias_selected_med=t.existencias_actuales+" unidades en existencia.",this.formMe.precio_venta=t.precio_venta,this.formMe.existencias_actuales=t.existencias_actuales},getConsumoMedicamentos:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ie.a.get(q["a"]+"/cuentas/getSearch?search=".concat(e));case 3:r=a.sent,r.data&&r.data.id?(t.idCuentaSeleccionada=r.data.id,t.apiBaseConsumoMedicamento=q["a"]+"/detalle_consumo_medicamentos/list/".concat(r.data.id,"/Hospitalizacion"),t.apiBaseConsumoQuirurgico=q["a"]+"/detalle_consumo_quirugicos/list/".concat(r.data.id,"/Hospitalizacion"),t.apiBaseConsumoComun=q["a"]+"/detalle_consumo_comun/list/".concat(r.data.id,"/Hospitalizacion")):(console.error("No se encontró ninguna cuenta para el expediente:",e),t.alertErrorText="No se encontró ninguna cuenta para este paciente",t.showAlertError()),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error("Error al obtener la cuenta:",a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},makeQueryParamsConsumoInsumo:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage}},setData:function(e){this.form.name=e.nombres+" "+e.apellidos,this.form.state=e.estado,this.form.id=e.id},getHabitaciones:function(e){var t=this;ie.a.get(q["a"]+"/habitaciones/get",{params:{tipo:e}}).then((function(e){t.habitaciones=e.data}))},onState:function(){var e=this;ie.a.put(q["a"]+"/expedientes/changeState",{id:this.form.id,estado:this.selectedTrasOption,estado_anterior:1,motivo:this.motivoTrasladoHospi,user:e.currentUser.user}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha trasladado el paciente "+e.form.nombres+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-traslado"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},onRelocation:function(e){this.$v.$touch(),null==this.selectedHab||1!==this.selectedTrasOption&&4!==this.selectedTrasOption?(this.onState(),this.$refs.vuetable.refresh(),this.$bvModal.hide("modal-traslado")):(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},generarReporteCuentaParcial:function(e,t,a){var r=this;ie.a.get(q["a"]+"/consumos/sumario/".concat(e)).then((function(e){r.dataPDFsumario=e.data,r.nombrePaciente=t+" "+a,r.fechaIngreso=r.dataPDFsumario.fechaFormateada,r.mostrarReporte(e.data)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),r.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",r.showAlertError()}))},mostrarReporte:function(e){var t=0,a=e.consumos.reduce((function(e,t){return e+parseFloat(t.subtotal)}),0),r=e.consumosComunes.reduce((function(e,t){return e+parseFloat(t.total)}),0),o=e.consumosMedicamentos.reduce((function(e,t){return e+parseFloat(t.total)}),0),i=e.consumosQuirurgicos.reduce((function(e,t){return e+parseFloat(t.total)}),0),n=e.examenes.reduce((function(e,t){return e+t.total}),0),s=e.salaOperaciones.reduce((function(e,t){return e+parseFloat(t.total)}),0);t=parseFloat(a)+parseFloat(r)+parseFloat(o)+parseFloat(i)+parseFloat(n)+parseFloat(s),this.reporte={ConsumoTotal:this.formatearMonto(a),ConsumoComunTotal:this.formatearMonto(r),ConsumoMedicamentosTotal:this.formatearMonto(o),ConsumoQuirurgicosTotal:this.formatearMonto(i),ExamenesTotal:this.formatearMonto(n),ServicioSalaOperacionesTotal:this.formatearMonto(s),TotalDeuda:this.formatearMonto(t)},this.$bvModal.show("reporteModal")},generarPDF_CuentaParcial:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){var a,r,o,i,n,s,l,c,d,m,u,f,h,p,b,v,g,_,x,C,$,y,w,E,k,D,A;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.fechaIngreso,r=e.dataPDFsumario,o=new Date,i=o.toLocaleDateString("es-ES"),n={hour:"2-digit",minute:"2-digit",hour12:!0},s=o.toLocaleTimeString("es-ES",n),a?(c=new Date(a),d=o-c,m=Math.floor(d/864e5),l=m):l="NO ASIGNADA",u=l>=2?r.costo2*l:r.costo1;try{f=r.consumos.reduce((function(e,t){return e+parseFloat(t.subtotal)}),0),h=r.consumosComunes.reduce((function(e,t){return e+parseFloat(t.total)}),0),p=r.consumosMedicamentos.reduce((function(e,t){return e+parseFloat(t.total)}),0),b=r.consumosQuirurgicos.reduce((function(e,t){return e+parseFloat(t.total)}),0),v=r.examenes.reduce((function(e,t){return e+parseFloat(t.total)}),0),g=r.salaOperaciones.reduce((function(e,t){return e+parseFloat(t.total)}),0),_=r.honorarios.reduce((function(e,t){return e+parseFloat(t.total)}),0),x=r.honorarios.sort((function(e,t){return t.total-e.total})),C=f+h+p+b+v+g+u,$=f+h+p+b+g+u,y=$+_+v,w=new Ma["default"],w.setFontSize(10).setFont(void 0,"bold"),w.text("HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",110,10,{align:"center"}),w.setFontSize(10).setFont(void 0,"normal"),w.text("CUENTA DE PACIENTE",110,14,{align:"center"}),w.setFontSize(8).setFont(void 0,"normal"),w.text("NOMBRE DEL PACIENTE:",14,20),w.text("".concat(e.nombrePaciente),50,20),w.text("_____________________________________________________________________________________________",50,21),w.text("CUARTO NO.:",14,27),w.text("".concat(r.numerohabitacion),40,27),w.text("__________",35,28),w.text("TIPO DE SERVICIO:",60,27),w.text("",87,27),w.text("___________________________",87,28),w.text("D/ESTANCIA: ",130,27),w.text("".concat(l),170,27),w.text("_____________________________",150,28),w.text("MD TRATANTE:",14,34),w.text("".concat(r.nombremedico),36,34),w.text("______________________________________________________________________________________________________",36,35),w.autoTable({body:[["HOSPITALIZACION","Q".concat(u.toFixed(2))],["SALA DE OPERACIONES","Q".concat(g.toFixed(2))],["CONSUMO MEDICAMENTOS","Q".concat(p.toFixed(2))],["MATERIAL MEDICO QUIRÚRGICO","Q".concat(b.toFixed(2))],["ANESTESICOS",""],["MATERIAL COMÚN","Q".concat(h.toFixed(2))],["SERVICIOS","Q".concat(f.toFixed(2))],["RECUPERACION",""],["INTENSIVO","Q 0.00"],["EMERGENCIAS  Medico Interno",""],["OTROS",""],["TOTAL HOSPITALIZACION =","Q".concat($.toFixed(2))],["TOTAL LAB. BIOMEDICO E.O. S.A. =","Q".concat(v.toFixed(2))],["TOTAL MENOS DESCUENTO =","Q".concat(C.toFixed(2))]],startY:41,theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0]},columnStyles:{0:{halign:"left"},1:{halign:"left"}},didParseCell:function(e){var t=e.row.index,a=e.column.index;t>=11&&0===a&&(e.cell.styles.halign="right")}}),E=w.lastAutoTable.finalY+10,w.setFontSize(12).setFont(void 0,"normal"),w.text("FECHA ".concat(i," ").concat(s),14,E),w.setFontSize(10).setFont(void 0,"bold"),w.text("HONORARIOS MEDICOS Y OTROS SERVICIOS",100,E+15,{align:"center"}),k=x.map((function(e,t){return[t+1,e.medico.nombre,e.descripcion,"Q".concat((Number(e.total)||0).toFixed(2))]})),w.autoTable({head:[["#","MEDICO","DESCRIPCION","VALOR"]],body:k,startY:E+20,theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0]},headStyles:{fillColor:[255,255,255],textColor:[0,0,0],fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),D=w.lastAutoTable.finalY+10,w.setFontSize(10).setFont(void 0,"bold"),w.text("LIQUIDACION",100,D,{align:"center"}),w.autoTable({body:[["TOTAL HOSPITALIZACION","Q".concat($.toFixed(2))],["TOTAL LAB. BIOMEDICO E.O. S.A.","Q".concat(v.toFixed(2))],["TOTAL HONORARIOS MEDICOS Y OTROS SERVICIOS","Q".concat(_.toFixed(2))],["TOTAL A PAGAR =","Q".concat(y.toFixed(2))]],startY:D+5,theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0]},columnStyles:{0:{halign:"left"},1:{halign:"left"}},didParseCell:function(e){var t=e.row.index,a=e.column.index;t>=3&&0===a&&(e.cell.styles.halign="right")}}),A=w.lastAutoTable.finalY+10,w.setFontSize(10).setFont(void 0,"normal"),w.text("_______________________________________",110,A,{align:"center"}),w.text("Nombre y Firma del Cajero",110,A+5,{align:"center"}),w.save("cuenta_Parcial_".concat(e.nombrePaciente,".PDF"))}catch(S){console.error("Error al generar el reporte:",S),e.$alert("Ocurrió un error al generar el reporte. Por favor, intente de nuevo.","Error")}case 9:case"end":return t.stop()}}),t)})))()},formatearMonto:function(e){var t=parseFloat(e);return isNaN(t)?"0.00":t.toFixed(2)},generarHistorialCuentas:function(e){var t=this;ie.a.get(q["a"]+"/consumos/historial/".concat(e)).then((function(e){var a=e.data;t.dataPDF_Historial=e.data,t.mostrarHistorial(a)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),t.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",t.showAlertError()}))},mostrarHistorial:function(e){var t=0,a=e.Consumo.reduce((function(e,t){return e+(parseFloat(t.subtotal)||0)}),0),r=e["Consumo Comun"].reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),o=e["Consumo Medicamentos"].reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),i=e["Consumo Quirurgicos"].reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),n=e.Examenes.reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),s=e.ServicioSalaOperaciones.reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0);t=parseFloat(a)+parseFloat(r)+parseFloat(o)+parseFloat(i)+parseFloat(n)+parseFloat(s),this.reporteHisotiral={ConsumoTotal:this.formatearMonto(a),ConsumoComunTotal:this.formatearMonto(r),ConsumoMedicamentosTotal:this.formatearMonto(o),ConsumoQuirurgicosTotal:this.formatearMonto(i),ExamenesTotal:this.formatearMonto(n),ServicioSalaOperacionesTotal:this.formatearMonto(s),TotalDeuda:this.formatearMonto(t)},this.$bvModal.show("HistorialCuenta")},generarPDF_Historial:function(){var e=new Ma["default"],t=20;e.setFontSize(18),e.text("Reporte de Historial de Cuenta",14,t),t+=10;var a=function(a,r){e.setFontSize(14),e.text(a,14,t),t+=10;var o=["Descripción","Cantidad","Precio Unitario","Subtotal"];e.autoTable({startY:t,head:[o],body:r.map((function(e){return[e.descripcion,e.cantidad.toString(),e.precio_unitario.toString(),e.subtotal.toString()]})),theme:"striped",margin:{top:10},styles:{halign:"center",fontSize:10},headStyles:{fillColor:[229,31,45],textColor:[255,255,255]}}),t=e.lastAutoTable.finalY+10};if(this.dataPDF_Historial.Consumo&&this.dataPDF_Historial.Consumo.length>0){var r=this.dataPDF_Historial.Consumo.map((function(e){return{descripcion:e.servicio.descripcion||"",cantidad:e.cantidad||0,precio_unitario:e.servicio.precio||0,subtotal:e.subtotal||0}}));a("Consumo de Servicios",r)}if(this.dataPDF_Historial["Consumo Comun"]&&this.dataPDF_Historial["Consumo Comun"].length>0){var o=this.dataPDF_Historial["Consumo Comun"].map((function(e){return{descripcion:e.comune.nombre||"",cantidad:e.cantidad||0,precio_unitario:e.precio_venta||0,subtotal:e.total||0}}));a("Consumo de Materiales Comunes",o)}if(this.dataPDF_Historial["Consumo Medicamentos"]&&this.dataPDF_Historial["Consumo Medicamentos"].length>0){var i=this.dataPDF_Historial["Consumo Medicamentos"].map((function(e){return{descripcion:e.medicamento.nombre||"",cantidad:e.cantidad||0,precio_unitario:e.precio_venta||0,subtotal:e.total||0}}));a("Consumo de Medicamentos",i)}if(this.dataPDF_Historial["Consumo Quirurgicos"]&&this.dataPDF_Historial["Consumo Quirurgicos"].length>0){var n=this.dataPDF_Historial["Consumo Quirurgicos"].map((function(e){return{descripcion:e.quirurgico.nombre||"",cantidad:e.cantidad||0,precio_unitario:e.precio_venta||0,subtotal:e.total||0}}));a("Consumo de Material Quirúrgico",n)}if(this.dataPDF_Historial.Examenes&&this.dataPDF_Historial.Examenes.length>0){var s=this.dataPDF_Historial.Examenes.map((function(e){return{descripcion:e.examenes_almacenado.nombre||"",cantidad:1,precio_unitario:e.total||0,subtotal:e.total||0}}));a("Exámenes Realizados",s)}if(this.dataPDF_Historial.ServicioSalaOperaciones&&this.dataPDF_Historial.ServicioSalaOperaciones.length>0){var l=this.dataPDF_Historial.ServicioSalaOperaciones.map((function(e){return{descripcion:e.descripcion||"",cantidad:1,precio_unitario:e.total||0,subtotal:e.total||0}}));a("Servicios en Sala de Operaciones",l)}t+=10,e.save("reporte_historial.pdf")},anular:function(e){var t=this,a=q["a"]+"/Examenes_realizados/update?id=".concat(e);ie.a.put(a,{form:t.anularExamen}).then((function(a){t.alertVariant="success",t.showAlert(),t.alertText="Se ha ANULADO el examen",t.ver_examen_realizado(e)})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText=e.response.data.msg,console.error("Error!",e)}))},getFieldsByExamenId:function(e){var t=this;ie.a.get(q["a"]+"/campoLaboratorio/getByExamenId",{params:{id:e}}).then((function(e){t.camposResulado=e.data.map((function(e){return{id:e.id,nombre:e.nombre,unidades:e.unidades,resultado:"",id_tipo:e.id_examenes_almacenados}}));var a=e.data;t.campos=a})).catch((function(e){console.error("Error al obtener los campos del examen:",e)}))},guardarExamenRealizado:function(){var e=this,t=this.formExamen.nacimiento.split("/"),a=new Date("".concat(t[2],"-").concat(t[1],"-").concat(t[0])),r=new Date,o=r.getFullYear()-a.getFullYear(),i=r.getMonth()-a.getMonth(),n=r.getDate()-a.getDate();(i<0||0===i&&n<0)&&o--,this.formExamen.edad=o,this.formExamen.numero_muestra=1,0!==this.formExamen.total&&0!==this.formExamen.numero_muestra&&null!==this.formExamen.id_examenes_almacenados?ie.a.post(q["a"]+"/Examenes_realizados/create",{form:this.formExamen}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ingresado al pasciente "+e.formExamen.nombre+" exitosamente",e.closeModal("modal_agregar")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)})):(this.alertVariant="danger",this.showAlertError(),this.alertErrorText="Por favor llene los campos solicitados")},verResultado:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ie.a.get(q["a"]+"/detalleExamenRealizado/list?id=".concat(e));case 3:r=a.sent,r.data.data.length<1?(t.alertVariant="danger",t.showAlertError(),t.alertErrorText="El examen aun no posee resultados"):(t.resultados=r.data.data,t.$refs["modal-ver-resultados"].show()),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error("Error cargando insumos:",a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},realizar_examen:function(e,t,a,r,o,i){this.formExamen.nombre=t+" "+a,this.formExamen.cui=r,this.formExamen.whatsapp=o,this.formExamen.id_expediente=e,this.formExamen.nacimiento=i},ver_examen_realizado:function(e){var t=this;ie.a.get(q["a"]+"/Examenes_realizados/listId/".concat(e)).then((function(e){t.item_examenes=e.data}))},searching_id_examenes_almacenados:function(e,t){var a=this;ie.a.get(q["a"]+"/examenesAlmacenados/getSearch",{params:{search:e}}).then((function(e){a.examenes_almacenados=e.data}))},onSearch_id_examenes_almacenados:function(e,t){var a=this,r={search:e,page:this.currentPageExa,perPage:this.$refs.vuetable.perPage};ie.a.get(q["a"]+"/examenesAlmacenadosBuscar/getSearch",{params:r}).then((function(e){a.examenes_almacenadosBuscar=e.data.data,a.$refs.vuetableBuscar.setData(e.data)})).catch((function(e){console.error("Error al buscar exámenes:",e)}))},onPageChangeExa:function(e){this.currentPageExa=e,this.onSearch_id_examenes_almacenados("")},onSearchEncargado:function(e,t){e.length&&this.searchingEncargado(e,t)},searchingEncargado:function(e,t){var a=this;ie.a.get(q["a"]+"/encargadoExamen/getSearch",{params:{search:e}}).then((function(e){a.encargados=e.data}))}}},Bi=Yi,Gi=(a("6684"),Object($["a"])(Bi,Ui,ji,!1,null,null,null)),Zi=Gi.exports,Wi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-traslado",attrs:{id:"modal-traslado",title:"Trasladar paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){return e.onRelocate()}}},[e._v("Ingresar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-traslado")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea trasladar el paciente: "+e._s(e.form.nombres)+" ? ")]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-col",[a("b-form-group",{attrs:{label:"Área a la que desea trasladar:"}},[a("b-form-radio-group",{attrs:{id:"radio-group-2",options:e.optionsTraslado,name:"radio-options"},model:{value:e.selectedTrasOption,callback:function(t){e.selectedTrasOption=t},expression:"selectedTrasOption"}})],1)],1)],1),a("div",[e._v(" Ingrese un motivo para el traslado ")]),a("div",[a("b-input",{ref:"motivoTraslado",attrs:{id:"motivoTraslado"},model:{value:e.motivoTrasladoIntensivo,callback:function(t){e.motivoTrasladoIntensivo=t},expression:"motivoTrasladoIntensivo"}})],1)],1),a("b-modal",{ref:"modal-add-receta",attrs:{size:"lg",id:"modal-add-receta",title:"Contenido de receta"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.saveReceta()}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("add-receta")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Contenido:"}},[a("quill-editor",{staticClass:"custom-editor",attrs:{options:e.editorOptions},model:{value:e.form.receta,callback:function(t){e.$set(e.form,"receta",t)},expression:"form.receta"}})],1)],1)],1),a("b-modal",{ref:"modal-add-evolucion",attrs:{size:"lg",id:"modal-add-evolucion",title:"Evolución de paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.saveEvolucion()}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("add-evolucion")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Contenido:"}},[a("quill-editor",{staticClass:"custom-editor",attrs:{options:e.editorOptions2},model:{value:e.form.evolucion,callback:function(t){e.$set(e.form,"evolucion",t)},expression:"form.evolucion"}})],1)],1)],1),a("b-modal",{ref:"modal-add-orden",attrs:{size:"lg",id:"modal-add-orden",title:"Orden médica"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.saveOrden()}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("add-orden")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Contenido:"}},[a("quill-editor",{staticClass:"custom-editor",attrs:{options:e.editorOptions3},model:{value:e.form.orden,callback:function(t){e.$set(e.form,"orden",t)},expression:"form.orden"}})],1)],1)],1),a("b-modal",{ref:"modal-ver-receta",attrs:{size:"lg",id:"modal-ver-receta",title:e.tituloVer},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("ver-receta")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("ver-receta")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("vuetable",{ref:"vuetableRecetas",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseReceta,"query-params":e.makeQueryParamsReceta,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsReceta,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationDataReceta},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Generar voucher de pago",expression:"'Generar voucher de pago'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-info"},on:{click:function(a){return e.voucherData(t.rowData)}}},[a("i",{class:"fas fa-money-bill"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"paginationReceta",on:{"vuetable-pagination:change-page":e.onChangePageReceta}})],1),a("b-modal",{ref:"modal-add-servicio",attrs:{id:"modal-add-servicio",title:"Añadir consumo de servicio"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.saveServicio("add-servicio")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("add-servicio")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Servicio a agregar:"}},[a("v-select",{attrs:{name:"servicio",options:e.servicios,filterable:!1,placeholder:"Seleccione un servicio a agregar"},on:{search:e.onSearchServicios},scopedSlots:e._u([{key:"option",fn:function(t){return[e._v(" "+e._s(t.descripcion+" - Precio: "+t.precio)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s(t.descripcion+" - Precio: "+t.precio)+" ")]}}]),model:{value:e.servicio,callback:function(t){e.servicio=t},expression:"servicio"}})],1),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar cantidad utilizada",type:"number"},model:{value:e.form.cantidad,callback:function(t){e.$set(e.form,"cantidad","string"===typeof t?t.trim():t)},expression:"form.cantidad"}})],1)],1)],1),a("b-modal",{ref:"modal-ver-servicio",attrs:{id:"modal-ver-servicio",size:"lg",title:"Ver servicio"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("ver-servicio")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("ver-servicio")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("vuetable",{ref:"vuetableConsumos",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumo,"query-params":e.makeQueryParamsConsumo,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumo,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationDataConsumo},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Generar voucher de pago",expression:"'Generar voucher de pago'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-info"},on:{click:function(a){return e.voucherData(t.rowData)}}},[a("i",{class:"fas fa-money-bill"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1),a("b-modal",{ref:"modal-ver-servicio2",attrs:{id:"modal-ver-servicio2",size:"lg",title:"Ver servicios"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("ver-servicio2")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("ver-servicio2")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("vuetable",{ref:"vuetableConsumos",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumo,"query-params":e.makeQueryParamsConsumo,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumo2,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationDataConsumo},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Generar voucher de pago",expression:"'Generar voucher de pago'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-info"},on:{click:function(a){return e.voucherData(t.rowData)}}},[a("i",{class:"fas fa-money-bill"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1),a("b-modal",{ref:"modal-add-honorarios",attrs:{id:"modal-add-honorarios",size:"lg",title:"Agregar honorarios a medico"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.agregarHonorario()}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("add-honorarios")}}},[e._v("Cancelar")])]},proxy:!0}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Seleccionar Medico"}},[a("v-select",{attrs:{options:e.medicos,"item-text":"nombre","item-value":"id",label:"nombre",filterable:!1,placeholder:"Seleccione un médico",required:""},on:{search:e.onSearchMedicos},scopedSlots:e._u([{key:"option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}}]),model:{value:e.honorario.medico,callback:function(t){e.$set(e.honorario,"medico",t)},expression:"honorario.medico"}})],1),a("b-form-group",{attrs:{label:"Descripción"}},[a("b-form-textarea",{attrs:{placeholder:"Ingrese una descripción"},model:{value:e.honorario.descripcion,callback:function(t){e.$set(e.honorario,"descripcion",t)},expression:"honorario.descripcion"}})],1),a("b-form-group",{attrs:{label:"Total de honorarios"}},[a("b-form-input",{attrs:{placeholder:"Ingresar Total Honorarios",type:"number",required:""},model:{value:e.honorario.total,callback:function(t){e.$set(e.honorario,"total","string"===typeof t?t.trim():t)},expression:"honorario.total"}})],1)],1)],1),a("b-modal",{ref:"modal-ver-honorarios",attrs:{id:"modal-ver-honorarios",size:"lg",title:"Ver honorarios"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("ver-honorarios")}}},[e._v("Cerrar")])]},proxy:!0}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-table",{attrs:{striped:"",hover:"",items:e.honorarios,fields:e.fieldsHonorarios},scopedSlots:e._u([{key:"cell(medico)",fn:function(t){return[e._v(" "+e._s(t.item.medico)+" ")]}},{key:"cell(total)",fn:function(t){return[a("b-form-input",{attrs:{type:"number"},on:{change:function(a){return e.updateTotal(t.item)}},model:{value:t.item.total,callback:function(a){e.$set(t.item,"total",a)},expression:"row.item.total"}})]}}])}),e.pagination.total>0?a("b-pagination",{attrs:{"total-rows":e.pagination.total,"per-page":e.pagination.perPage},on:{change:e.onChangePageHonorario},model:{value:e.pagination.currentPage,callback:function(t){e.$set(e.pagination,"currentPage",t)},expression:"pagination.currentPage"}}):e._e()],1),a("b-modal",{ref:"modal-ver-resultados",attrs:{size:"lg",id:"modal-ver-resultados",title:"Ver Resultados"}},[e.resultados?[a("b-table",{attrs:{small:"",striped:"",hover:"",items:e.resultados,fields:e.campos},scopedSlots:e._u([{key:"cell(fecha_hora)",fn:function(t){return[e._v(" "+e._s(new Date(t.item.fecha_hora).toLocaleString())+" ")]}},{key:"cell(valor_minimo)",fn:function(t){return[e._v(" "+e._s(parseFloat(t.item.valor_minimo).toFixed(2))+" ")]}},{key:"cell(valor_maximo)",fn:function(t){return[e._v(" "+e._s(parseFloat(t.item.valor_maximo).toFixed(2))+" ")]}}],null,!1,2693531662)})]:[a("p",{staticClass:"text-center"},[e._v("No hay resultados para mostrar")])]],2),a("b-modal",{ref:"modal-1-movimiento",attrs:{id:"modal-1-movimiento",size:"xl",title:"Agregar Consumo"},on:{shown:e.openModal2},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:e.onSave}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]},proxy:!0}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Agregar Insumo:"}},[a("br"),a("b-row",{staticClass:"ml-5 mt-negativo-r1"},[a("b-col",{attrs:{md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.selected_insumo.$model,expression:"$v.form.selected_insumo.$model"}],attrs:{type:"radio",id:"medicamento",value:"0"},domProps:{checked:e._q(e.$v.form.selected_insumo.$model,"0")},on:{change:[function(t){return e.$set(e.$v.form.selected_insumo,"$model","0")},e.onSelectChange]}}),a("label",{staticClass:"ml-1",attrs:{for:"medicamento"}},[e._v("Medicamento")])]),a("b-col",{attrs:{md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.selected_insumo.$model,expression:"$v.form.selected_insumo.$model"}],attrs:{type:"radio",id:"quirurgico",value:"1"},domProps:{checked:e._q(e.$v.form.selected_insumo.$model,"1")},on:{change:[function(t){return e.$set(e.$v.form.selected_insumo,"$model","1")},e.onSelectChange]}}),a("label",{staticClass:"ml-1",attrs:{for:"quirurgico"}},[e._v("Quirúrgico")])]),a("b-col",{attrs:{md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.selected_insumo.$model,expression:"$v.form.selected_insumo.$model"}],attrs:{type:"radio",id:"uso_comun",value:"2"},domProps:{checked:e._q(e.$v.form.selected_insumo.$model,"2")},on:{change:[function(t){return e.$set(e.$v.form.selected_insumo,"$model","2")},e.onSelectChange]}}),a("label",{staticClass:"ml-1",attrs:{for:"uso_comun"}},[e._v("Uso común")])])],1),a("v-select",{attrs:{name:"medicamentos",options:e.insumosActuales,filterable:!0,reduce:function(e){return e.value},state:!e.$v.formMe.id_medicine.$error,placeholder:"Seleccione el insumo",label:"text"},on:{input:e.onSeleccionarInsumo},model:{value:e.$v.formMe.id_medicine.$model,callback:function(t){e.$set(e.$v.formMe.id_medicine,"$model","string"===typeof t?t.trim():t)},expression:"$v.formMe.id_medicine.$model"}})],1),a("h5",{staticClass:"mt-3"},[e._v("INSUMOS SELECCIONADOS")]),a("b-table",{attrs:{striped:"",hover:"",items:e.consumosTemporales,fields:["nombre","cantidad","existencias","acciones"],small:""},scopedSlots:e._u([{key:"cell(cantidad)",fn:function(t){return[a("b-form-input",{attrs:{type:"number",min:1,placeholder:"Cantidad"},model:{value:t.item.cantidad,callback:function(a){e.$set(t.item,"cantidad",a)},expression:"row.item.cantidad"}})]}},{key:"cell(acciones)",fn:function(t){return[a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(a){return e.eliminarDeLista(t.item.id)}}},[e._v("Eliminar")])]}}])}),a("h5",{staticClass:"mt-4"},[e._v("CONSUMOS REALIZADOS")]),a("b-tabs",{attrs:{"content-class":"mt-3"}},[a("b-tab",{attrs:{title:"Medicamento",active:""}},[a("vuetable",{ref:"vuetableConsumoInsumos",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumoMedicamento,"query-params":e.makeQueryParamsConsumoInsumo,"data-path":"data","pagination-path":"","per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumoInsumoMedicamento}}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1),a("b-tab",{attrs:{title:"Quirúrgico"}},[a("vuetable",{ref:"vuetableConsumoQuirurgicos",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumoQuirurgico,"query-params":e.makeQueryParamsConsumoInsumo,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumoInsumoQuirurgico}}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1),a("b-tab",{attrs:{title:"Común"}},[a("vuetable",{ref:"vuetableConsumoComunes",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumoComun,"query-params":e.makeQueryParamsConsumoInsumo,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumoInsumo}}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1)],1)],1)],1),a("b-modal",{ref:"modal-1-movimiento2",attrs:{id:"modal-1-movimiento2",size:"xl",title:"Agregar Consumo"},on:{shown:e.openModal2},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:e.onSave}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save2")}}},[e._v("Cancelar")])]},proxy:!0}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Agregar Insumo:"}},[a("br"),a("b-row",{staticClass:"ml-5 mt-negativo-r1"},[a("b-col",{attrs:{md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.selected_insumo.$model,expression:"$v.form.selected_insumo.$model"}],attrs:{type:"radio",id:"medicamento",value:"0"},domProps:{checked:e._q(e.$v.form.selected_insumo.$model,"0")},on:{change:[function(t){return e.$set(e.$v.form.selected_insumo,"$model","0")},e.onSelectChange]}}),a("label",{staticClass:"ml-1",attrs:{for:"medicamento"}},[e._v("Medicamento")])]),a("b-col",{attrs:{md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.selected_insumo.$model,expression:"$v.form.selected_insumo.$model"}],attrs:{type:"radio",id:"quirurgico",value:"1"},domProps:{checked:e._q(e.$v.form.selected_insumo.$model,"1")},on:{change:[function(t){return e.$set(e.$v.form.selected_insumo,"$model","1")},e.onSelectChange]}}),a("label",{staticClass:"ml-1",attrs:{for:"quirurgico"}},[e._v("Quirúrgico")])]),a("b-col",{attrs:{md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.selected_insumo.$model,expression:"$v.form.selected_insumo.$model"}],attrs:{type:"radio",id:"uso_comun",value:"2"},domProps:{checked:e._q(e.$v.form.selected_insumo.$model,"2")},on:{change:[function(t){return e.$set(e.$v.form.selected_insumo,"$model","2")},e.onSelectChange]}}),a("label",{staticClass:"ml-1",attrs:{for:"uso_comun"}},[e._v("Uso común")])])],1),a("v-select",{attrs:{name:"medicamentos",options:e.insumosActuales,filterable:!0,reduce:function(e){return e.value},state:!e.$v.formMe.id_medicine.$error,placeholder:"Seleccione el insumo",label:"text"},on:{input:e.onSeleccionarInsumo},model:{value:e.$v.formMe.id_medicine.$model,callback:function(t){e.$set(e.$v.formMe.id_medicine,"$model","string"===typeof t?t.trim():t)},expression:"$v.formMe.id_medicine.$model"}})],1),a("h5",{staticClass:"mt-3"},[e._v("INSUMOS SELECCIONADOS")]),a("b-table",{attrs:{striped:"",hover:"",items:e.consumosTemporales,fields:["nombre","cantidad","existencias","acciones"],small:""},scopedSlots:e._u([{key:"cell(cantidad)",fn:function(t){return[a("b-form-input",{attrs:{type:"number",min:1,placeholder:"Cantidad"},model:{value:t.item.cantidad,callback:function(a){e.$set(t.item,"cantidad",a)},expression:"row.item.cantidad"}})]}},{key:"cell(acciones)",fn:function(t){return[a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(a){return e.eliminarDeLista(t.item.id)}}},[e._v("Eliminar")])]}}])}),a("h5",{staticClass:"mt-4"},[e._v("CONSUMOS REALIZADOS")]),a("b-tabs",{attrs:{"content-class":"mt-3"}},[a("b-tab",{attrs:{title:"Medicamento",active:""}},[a("vuetable",{ref:"vuetableConsumoInsumos",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumoMedicamento,"query-params":e.makeQueryParamsConsumoInsumo,"data-path":"data","pagination-path":"","per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumoInsumoMedicamento2}}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1),a("b-tab",{attrs:{title:"Quirúrgico"}},[a("vuetable",{ref:"vuetableConsumoQuirurgicos",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumoQuirurgico,"query-params":e.makeQueryParamsConsumoInsumo,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumoInsumoQuirurgico2}}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1),a("b-tab",{attrs:{title:"Común"}},[a("vuetable",{ref:"vuetableConsumoComunes",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumoComun,"query-params":e.makeQueryParamsConsumoInsumo,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumoInsumo2}}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1)],1)],1)],1),a("b-modal",{attrs:{id:"reporteModal",title:"Reporte de Cuenta Parcial",size:"lg"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:e.generarPDF_CuentaParcial}},[e._v("Generar PDF")]),a("b-button",{attrs:{variant:"secondary"},on:{click:function(t){return e.$bvModal.hide("reporteModal")}}},[e._v("Cerrar")])]},proxy:!0}])},[a("div",{staticClass:"modal-body"},[a("p",[a("strong",[e._v("Total consumo de servicios:")]),e._v(" Q"+e._s(e.reporte.ConsumoTotal))]),a("p",[a("strong",[e._v("Total consumo de materiales comunes:")]),e._v(" Q"+e._s(e.reporte.ConsumoComunTotal))]),a("p",[a("strong",[e._v("Total consumo de medicamentos:")]),e._v(" Q"+e._s(e.reporte.ConsumoMedicamentosTotal))]),a("p",[a("strong",[e._v("Total consumo de materiales quirúrgicos:")]),e._v(" Q"+e._s(e.reporte.ConsumoQuirurgicosTotal))]),a("p",[a("strong",[e._v("Total de exámenes realizados:")]),e._v(" Q"+e._s(e.reporte.ExamenesTotal))]),a("p",[a("strong",[e._v("Total de servicios en sala de operaciones:")]),e._v(" Q"+e._s(e.reporte.ServicioSalaOperacionesTotal))]),a("hr"),a("p",[a("strong",[a("u",[e._v("Total deuda:")]),e._v(" Q"+e._s(e.reporte.TotalDeuda))])])])]),a("b-modal",{attrs:{id:"HistorialCuenta",title:"Historial de las Cuentas",size:"lg"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:e.generarPDF_Historial}},[e._v("Generar PDF")]),a("b-button",{attrs:{variant:"secondary"},on:{click:function(t){return e.$bvModal.hide("HistorialCuenta")}}},[e._v("Cerrar")])]},proxy:!0}])},[a("div",{staticClass:"modal-body"},[a("p",[a("strong",[e._v("Total consumo de servicios:")]),e._v(" Q"+e._s(e.reporteHisotiral.ConsumoTotal))]),a("p",[a("strong",[e._v("Total consumo de materiales comunes:")]),e._v(" Q"+e._s(e.reporteHisotiral.ConsumoComunTotal))]),a("p",[a("strong",[e._v("Total consumo de medicamentos:")]),e._v(" Q"+e._s(e.reporteHisotiral.ConsumoMedicamentosTotal))]),a("p",[a("strong",[e._v("Total consumo de materiales quirúrgicos:")]),e._v(" Q"+e._s(e.reporteHisotiral.ConsumoQuirurgicosTotal))]),a("p",[a("strong",[e._v("Total de exámenes realizados:")]),e._v(" Q"+e._s(e.reporteHisotiral.ExamenesTotal))]),a("p",[a("strong",[e._v("Total de servicios en sala de operaciones:")]),e._v(" Q"+e._s(e.reporteHisotiral.ServicioSalaOperacionesTotal))]),a("hr")])]),a("b-modal",{ref:"modal_agregar",attrs:{id:"modal_agregar",size:"xl",title:"Ingresar nuevo examen"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("div",{staticClass:"ml-auto"},[a("span",{staticClass:"mr-2"},[e._v("Total: Q"+e._s(e.TotalAPagar2))])]),a("b-button",{attrs:{variant:"primary"},on:{click:e.guardarExamenRealizado}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("modal_agregar")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Nombre del medico:"}},[a("v-select",{attrs:{name:"medico",options:e.medicos,filterable:!1,placeholder:"Seleccione el médico"},on:{search:e.onSearchMedicos},scopedSlots:e._u([{key:"option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}}]),model:{value:e.formExamen.comision,callback:function(t){e.$set(e.formExamen,"comision",t)},expression:"formExamen.comision"}})],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Total:"}},[a("b-form-input",{attrs:{disabled:"",placeholder:"Ingresar el total"},model:{value:e.formExamen.total,callback:function(t){e.$set(e.formExamen,"total",t)},expression:"formExamen.total"}})],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Tipo de Examen:"}},[a("Multiselect",{attrs:{options:e.examenes_almacenadosBuscar,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Seleccionar exámenes",label:"nombre","track-by":"id",pagination:!0,page:e.currentPageExa},on:{"search-change":e.onSearch_id_examenes_almacenados,"page-change":e.onPageChangeExa},scopedSlots:e._u([{key:"option",fn:function(t){var r=t.option;return[a("div",{staticClass:"custom-option"},[a("strong",[e._v(e._s(r.nombre))]),e._v(" -- "),a("small",[e._v(e._s(r.tipo_examen))]),e._v(" | "),a("small",[e._v("Precio: Q"+e._s(r.precio_normal))]),e._v(" | ")])]}},{key:"selection",fn:function(t){var r=t.values,o=(t.search,t.isOpen);return[r.length&&!o?a("span",{staticClass:"multiselect__single"},[e._v(" "+e._s(r.length)+" exámenes seleccionados ")]):e._e()]}}]),model:{value:e.selectedExamenes,callback:function(t){e.selectedExamenes=t},expression:"selectedExamenes"}}),a("div",[e.selectedExamenes.length>0?a("ul",{staticClass:"selected-options-list"},e._l(e.selectedExamenes,(function(t,r){return a("li",{key:t.id},[e._v(" "+e._s(r+1)+". "+e._s(t.nombre)+" - Precio: Q"+e._s(t.precio_normal)+" ")])})),0):e._e()])],1)],1)],1)],1),a("b-row",[a("b-col",{attrs:{sm:"12"}},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[e._v("Acciones")]),a("th",[e._v("Nombre")]),a("th",[e._v("CUI")]),a("th",[e._v("Examen Realizado")]),a("th",[e._v("Fecha y Hora")])])]),a("tbody",e._l(e.item_examenes,(function(t){return a("tr",{key:t.id},[a("td",[a("b-button",{attrs:{variant:"success"},on:{click:function(a){return e.verResultado(t.id)}}},[e._v("Ver resultado")])],1),a("td",[e._v(e._s(t.nombre))]),a("td",[e._v(e._s(t.cui))]),a("td",[e._v(e._s(t.nombre_examen))]),a("td",[e._v(e._s(t.fecha_hora))])])})),0)])])],1)],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Intensivo")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("div",{staticClass:"button-container"},[a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){e.setData(t.rowData),e.traslado(t.rowData.id)}}},[e._v("Trasladar")]),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success",disabled:!e.hasPermission([10])},on:{click:function(a){return e.addReceta(t.rowData.id)}}},[e._v("Agregar receta")]),"PENDIENTE"!==t.rowData.nombres?a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){return e.verReceta(t.rowData.id)}}},[e._v("Ver recetas")]):e._e(),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){return e.addServicio(t.rowData.id)}}},[e._v("Agregar servicios")]),"PENDIENTE"!==t.rowData.nombres?a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){return e.mostrarVerServicio(t.rowData.id)}}},[e._v("Ver servicios")]):e._e(),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){e.showModal("modal-add-honorarios"),e.obtenerIdCuenta(t.rowData.id)}}},[e._v("Agregar honorarios")]),"PENDIENTE"!==t.rowData.nombres?a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){e.showModal("modal-ver-honorarios"),e.getDataHonorarios(t.rowData.id)}}},[e._v("Ver honorarios")]):e._e(),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){e.showModal("modal_agregar"),e.ver_examen_realizado(t.rowData.id),e.realizar_examen(t.rowData.id,t.rowData.nombres,t.rowData.apellidos,t.rowData.cui,t.rowData.telefono,t.rowData.nacimiento)}}},[e._v("Agregar Examen")]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Agregar consumo",expression:"'Agregar consumo'",modifiers:{top:!0}}],staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){return e.mostrarModalConsumos(t.rowData.id)}}},[e._v("Consumos")]),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success",disabled:!e.hasPermission([9,10])},on:{click:function(a){return e.generarReporteCuentaParcial(t.rowData.id,t.rowData.nombres,t.rowData.apellidos)}}},[e._v("Cuenta parcial")]),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark",disabled:!e.hasPermission([9,10,11])},on:{click:function(a){return e.generarHistorialCuentas(t.rowData.id)}}},[e._v("Historial Cuenta")]),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark",disabled:!e.hasPermission([10])},on:{click:function(a){return e.addEvolucion(t.rowData.id)}}},[e._v("Agregar evolución")]),"PENDIENTE"!==t.rowData.nombres?a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){return e.verEvolucion(t.rowData.id)}}},[e._v("Ver evolución")]):e._e(),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark",disabled:!e.hasPermission([10])},on:{click:function(a){return e.addOrdenes(t.rowData.id)}}},[e._v("Agregar orden médica")]),"PENDIENTE"!==t.rowData.nombres?a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){return e.verOrden(t.rowData.id)}}},[e._v("Ver órdenes médicas")]):e._e()],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},Ki=[],Ji={name:"Intensivo",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H,quillEditor:lr["quillEditor"],Multiselect:Vi.a},setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){this.getHabitaciones(0),this.searchingMedicamentos()},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])({currentUser:"currentUser"})),data:function(){return{resultados:null,campos:[{key:"campo",label:"Campo"},{key:"tipo_examen",label:"Tipo de Examen"},{key:"unidades",label:"Unidades"},{key:"resultado",label:"Resultado"},{key:"valor_minimo",label:"Valor Mínimo"},{key:"valor_maximo",label:"Valor Máximo"},{key:"alarma",label:"Alarma"},{key:"fecha_hora",label:"Fecha/Hora"}],tituloVer:"",consumosTemporales:[],insumosActuales:[],tipoInsumoActual:"0",from:0,to:0,total:0,editorOptions:{modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],["clean"]]},placeholder:"Escribir contenido de la receta",theme:"snow"},editorOptions2:{modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],["clean"]]},placeholder:"Escribir la evolución",theme:"snow"},editorOptions3:{modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],["clean"]]},placeholder:"Escribir la orden médica",theme:"snow"},perPage:25,search:"",existencias_selected_med:null,max_cant:0,selectedTrasOption:1,selectedHab:null,motivoTrasladoIntensivo:"",habitaciones:[],optionsTraslado:[{text:"Quirófano",value:3},{text:"Hospitalización",value:1}],form:{id:0,name:"",nombres:"",state:1,selectedOption:"hospi",receta:null,evolucion:null,orden:null,id_receta:null,cantidad:null,selected_insumo:"0"},servicio:null,alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/expedientes/listIntensivo",apiBaseReceta:"",apiBaseConsumo:"",apiBaseConsumoMedicamento:"",apiBaseConsumoQuirurgico:"",apiBaseConsumoComun:"",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombres",sortField:"nombres",title:"Nombre",dataClass:"list-item-heading"},{name:"apellidos",sortField:"apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"expediente",sortField:"expediente",title:"Expediente",dataClass:"list-item-heading"},{name:"medico.nombre",sortField:"medico.nombre",title:"Médico tratante",dataClass:"list-item-heading"},{name:"habitacione.numero",title:"Habitación",dataClass:"list-item-heading"},{name:"fecha_ingreso_reciente",sortField:"fecha_ingreso_reciente",title:"Fecha de ingreso",dataClass:"list-item-heading"},{name:"hora_ingreso_reciente",sortField:"hora_ingreso_reciente",title:"Hora de ingreso",dataClass:"list-item-heading"}],fieldsReceta:[{name:"contenido",sortField:"contenido",title:"Indicaciones",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Creado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha de creación",dataClass:"list-item-heading"}],fieldsConsumo:[{name:"servicio.descripcion",sortField:"servicio.descripcion",title:"Nombre del servicio",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"subtotal",sortField:"subtotal",title:"Subtotal",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de consumo",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Creación",dataClass:"list-item-heading"}],fieldsConsumo2:[{name:"servicio.descripcion",sortField:"servicio.descripcion",title:"Nombre del servicio",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de consumo",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Creación",dataClass:"list-item-heading"}],fieldsConsumoInsumo:[{name:"comune.nombre",sortField:"comune.nombre",title:"Nombre del insumo",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"comune.presentacione.nombre",sortField:"comune.presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"precio_venta",sortField:"precio_venta",title:"Precio unitario",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Subtotal",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha y hora",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de distribución",dataClass:"list-item-heading"}],fieldsConsumoInsumoQuirurgico:[{name:"quirurgico.nombre",sortField:"quirurgico.nombre",title:"Nombre del insumo",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"quirurgico.presentacione.nombre",sortField:"quirurgico.presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"precio_venta",sortField:"precio_venta",title:"Precio unitario",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Subtotal",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha y hora",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de distribución",dataClass:"list-item-heading"}],fieldsConsumoInsumoMedicamento:[{name:"medicamento.nombre",sortField:"medicamento.nombre",title:"Nombre del insumo",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"medicamento.presentacione.nombre",sortField:"medicamento.presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"precio_venta",sortField:"precio_venta",title:"Precio unitario",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Subtotal",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha y hora",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de distribución",dataClass:"list-item-heading"}],fieldsConsumoInsumo2:[{name:"comune.nombre",sortField:"comune.nombre",title:"Nombre del insumo",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"comune.presentacione.nombre",sortField:"comune.presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha y hora",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de distribución",dataClass:"list-item-heading"}],fieldsConsumoInsumoQuirurgico2:[{name:"quirurgico.nombre",sortField:"quirurgico.nombre",title:"Nombre del insumo",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"quirurgico.presentacione.nombre",sortField:"quirurgico.presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha y hora",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de distribución",dataClass:"list-item-heading"}],fieldsConsumoInsumoMedicamento2:[{name:"medicamento.nombre",sortField:"medicamento.nombre",title:"Nombre del insumo",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"medicamento.presentacione.nombre",sortField:"medicamento.presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha y hora",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de distribución",dataClass:"list-item-heading"}],servicios:[],honorario:{medico:null,lugar:"Intensivos",descripcion:"",total:null},idCuentaSeleccionada:null,medicos:[],apiBaseHonorarios:q["a"]+"/detalle_honorarios",honorarios:[],fieldsHonorarios:[{key:"medico",label:"Nombre del Médico"},{key:"descripcion",label:"Descripción"},{key:"total",label:"Total"},{key:"createdAt",label:"Fecha y Hora"},{key:"updated_by",label:"Creado por"}],pagination:{currentPage:1,perPage:10,total:0},currentExpedienteId:null,medicamentos:[],formMe:{id_cuenta:0,id_medicine:null,cantidad:null,medicamento:null,state:1,precio_venta:0,existencias_actuales:null,movimiento:"SALIDAI"},camposResulado:[],item_examenes:[],examenes_almacenados:[],examenes_almacenadosBuscar:[],encargados:[],currentPageExa:1,selectedExamenes:[],TotalAPagar2:0,formExamen:{id:0,nombre:"",apellido:"",cui:0,edad:0,comision:"",total:0,correo:"",whatsapp:"",numero_muestra:0,existencia_actual:0,referido:"INTENSIVO",id_encargado:null,pagado:0,por_pagar:0,id_examenes_almacenados:null,NewExpediente:!1,id_expediente:0,examenExterior:!1,nacimiento:null},selectedExamenAlmacenado:null,fromExamenes:0,toExamenes:0,totalExamenes:0,perPageExamenes:5,searchExamenes:"",fechaDesdeExamenes:null,fechaHastaExamenes:null,apiBaseExamenes:null,formResultado:{id:null,id_campo:"",id_tipo:"",resultado:null,alarma:""},fieldsCampos:[{key:"nombre",label:"Nombre"},{key:"unidades",label:"Unidades"},{key:"resultado",label:"Resultado"}],reporte:{ConsumoTotal:"0.00",ConsumoComunTotal:"0.00",ConsumoMedicamentosTotal:"0.00",ConsumoQuirurgicosTotal:"0.00",ExamenesTotal:"0.00",ServicioSalaOperacionesTotal:"0.00",TotalDeuda:"0.00"},dataPDFsumario:null,nombrePaciente:null,nacimientoPaciente:null,fechaIngreso:null,dataPDF_Historial:null,reporteHisotiral:{ConsumoTotal:"0.00",ConsumoComunTotal:"0.00",ConsumoMedicamentosTotal:"0.00",ConsumoQuirurgicosTotal:"0.00",ExamenesTotal:"0.00",ServicioSalaOperacionesTotal:"0.00",TotalDeuda:"0.00"}}},validations:function(){return{form:{name:{required:_a["c"]},selected_insumo:{required:_a["c"]}},formMe:{id_medicine:{required:_a["c"]},cantidad:{required:_a["c"]}}}},watch:{"salaOperaciones.categoria":"calcularTotalAPagar","salaOperaciones.oximetro":"calcularTotalAPagar","salaOperaciones.monitor":"calcularTotalAPagar","salaOperaciones.cauterio":"calcularTotalAPagar","salaOperaciones.horas":"calcularTotalAPagar","salaOperaciones.minutos":"calcularTotalAPagar",selectedExamenAlmacenado:function(e){e&&(this.formExamen.por_pagar=e.precio_normal,this.formExamen.id_examenes_almacenados=e.id,this.formExamen.total=e.precio_normal)},selectedExamenes:function(e){e?(this.TotalAPagar2=e.reduce((function(e,t){return parseFloat(e)+parseFloat(t.precio_normal)}),0),this.formExamen.total=this.TotalAPagar2,this.formExamen.id_examenes_almacenados=e.map((function(e){return e.id})),this.formExamen.por_pagar=this.TotalAPagar2):console.log("ERROR AL CARGAR EL TOTAL A PAGAR EN LA FUNCION WATCH")}},methods:{cargarInsumos:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r="",a.t0=e,a.next="0"===a.t0?4:"1"===a.t0?6:"2"===a.t0?8:10;break;case 4:return r="/medicamentos/list2",a.abrupt("break",10);case 6:return r="/quirurgico/list2",a.abrupt("break",10);case 8:return r="/comun/list2",a.abrupt("break",10);case 10:return a.prev=10,a.next=13,ie.a.get(q["a"]+r);case 13:o=a.sent,t.insumosActuales=o.data.map((function(e){return{value:e.id,text:e.nombre+" --- "+e.presentacione.nombre,existencias_actuales:e.existencia_actual,precio_venta:e.precio_venta,inventariado:e.inventariado}})),a.next=20;break;case 17:a.prev=17,a.t1=a["catch"](10),console.error("Error cargando insumos:",a.t1);case 20:case"end":return a.stop()}}),a,null,[[10,17]])})))()},onSelectChange:function(){this.tipoInsumoActual=this.form.selected_insumo,this.cargarInsumos(this.form.selected_insumo),this.formMe.id_medicine=null},onSeleccionarInsumo:function(e){var t=this;if(e){var a=this.insumosActuales.find((function(t){return t.value===e}));if(a){var r=this.consumosTemporales.some((function(a){return a.id===e&&a.tipo===t.tipoInsumoActual}));if(r)return this.alertErrorText="Este insumo ya fue agregado.",void(this.alertCountDownError=5);if(0===a.existencias_actuales&&"INVENTARIADO"===a.inventariado)return this.alertErrorText="El insumo no posee existencias",void(this.alertCountDownError=5);this.consumosTemporales.push({id:e,tipo:this.tipoInsumoActual,nombre:a.text,cantidad:1,existencias:a.existencias_actuales,precio_venta:a.precio_venta,inventariado:a.inventariado}),this.$nextTick((function(){t.formMe.id_medicine=null}))}}},onSave:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){var a,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.consumosTemporales.length){t.next=4;break}return e.alertErrorText="Debe agregar al menos un insumo.",e.alertCountDownError=5,t.abrupt("return");case 4:t.prev=4,a=Object(Ni["a"])(e.consumosTemporales),t.prev=6,a.s();case 8:if((r=a.n()).done){t.next=26;break}if(o=r.value,!(o.cantidad<=0||o.cantidad>o.existencias&&"INVENTARIADO"===o.inventariado)){t.next=12;break}throw new Error("Cantidad inválida para ".concat(o.nombre));case 12:if("0"!==o.tipo){t.next=17;break}return t.next=15,e.onSaveMedicamento(o);case 15:t.next=24;break;case 17:if("1"!==o.tipo){t.next=22;break}return t.next=20,e.onSaveQuirurgico(o);case 20:t.next=24;break;case 22:return t.next=24,e.onSaveComunes(o);case 24:t.next=8;break;case 26:t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](6),a.e(t.t0);case 31:return t.prev=31,a.f(),t.finish(31);case 34:e.alertVariant="success",e.alertText="Consumos registrados exitosamente!",e.showAlert(),e.consumosTemporales=[],e.$refs.vuetableConsumoInsumos.refresh(),e.$refs.vuetableConsumoQuirurgicos.refresh(),e.$refs.vuetableConsumoComunes.refresh(),e.$refs["modal-1-movimiento"].hide(),t.next=50;break;case 44:t.prev=44,t.t1=t["catch"](4),e.alertVariant="danger",e.alertText="Error al guardar consumos",e.showAlert(),console.error("Error:",t.t1);case 50:case"end":return t.stop()}}),t,null,[[4,44],[6,28,31,34]])})))()},openModal2:function(){this.tipoInsumoActual="0",this.cargarInsumos("0")},eliminarDeLista:function(e){this.consumosTemporales=this.consumosTemporales.filter((function(t){return t.id!==e}))},mostrarModalConsumos:function(e){[9,10].includes(this.currentUser.user_type)?this.showModal("modal-1-movimiento2"):this.showModal("modal-1-movimiento"),this.getConsumoMedicamentos(e),this.obtenerIdCuenta(e)},mostrarVerServicio:function(e){[9,10].includes(this.currentUser.user_type)?this.$refs["modal-ver-servicio2"].show():this.$refs["modal-ver-servicio"].show(),this.getDataConsumos(e),this.form.id_consumo=e},hasPermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.includes(this.currentUser.user_type)},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.state=1,this.form.selected_insumo="0",this.existencias_selected_med=null,this.formMe.precio_venta=0,this.formMe.existencias_actuales=null;break}},closeModal:function(e){switch(e){case"traslado":this.$v.$reset(),this.$refs["modal-traslado"].hide(),this.form.id=0,this.form.name="",this.form.state=1,this.form.selected_insumo="0";break;case"add-receta":this.$v.$reset(),this.$refs["modal-add-receta"].hide(),this.form.id=0,this.form.receta=null,this.form.name="",this.form.state=1,this.form.selected_insumo="0";break;case"add-evolucion":this.$v.$reset(),this.$refs["modal-add-evolucion"].hide(),this.form.id=0,this.form.evolucion=null,this.form.name="",this.form.state=1,this.form.selected_insumo="0";break;case"add-orden":this.$v.$reset(),this.$refs["modal-add-orden"].hide(),this.form.id=0,this.form.orden=null,this.form.name="",this.form.state=1,this.form.selected_insumo="0";break;case"ver-receta":this.$v.$reset(),this.$refs["modal-ver-receta"].hide(),this.form.id=0,this.form.name="",this.form.state=1,this.form.id_receta=null;break;case"add-servicio":this.$v.$reset(),this.$refs["modal-add-servicio"].hide(),this.form.id=0,this.form.name="",this.form.cantidad=null,this.form.state=1,this.servicio=null,this.form.servicio=null;break;case"ver-servicio":this.$v.$reset(),this.$refs["modal-ver-servicio"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"ver-servicio2":this.$v.$reset(),this.$refs["modal-ver-servicio2"].hide(),this.form.id=0,this.form.name="",this.form.state=1,this.honorarios=[],this.pagination.currentPage=1,this.pagination.total=0,this.honorario={medico:null,descripcion:"",total:null};break;case"ver-honorarios":this.$v.$reset(),this.$refs["modal-ver-honorarios"].hide(),this.form.id=0,this.form.name="",this.form.state=1,this.honorarios=[],this.pagination.currentPage=1,this.pagination.total=0,this.honorario={medico:null,descripcion:"",total:null};break;case"add-honorarios":this.$v.$reset(),this.$refs["modal-add-honorarios"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"save":this.$v.$reset(),this.$refs["modal-1-movimiento"].hide(),this.formMe.id_cuenta=0,this.formMe.cantidad=0,this.formMe.medicamento=null,this.formMe.movimiento="SALIDAI",this.form.selected_insumo="0";break;case"save2":this.$v.$reset(),this.$refs["modal-1-movimiento2"].hide(),this.formMe.id_cuenta=0,this.formMe.cantidad=0,this.formMe.medicamento=null,this.formMe.movimiento="SALIDAI",this.form.selected_insumo="0",this.existencias_selected_med=null;break;case"ver-consumo":this.$v.$reset(),this.$refs["modal-ver-consumo"].hide(),this.form.id=0,this.form.name="",this.form.state=1,this.form.id_receta=null,this.form.selected_insumo="0";break;case"modal_agregar":this.$v.$reset(),this.$refs["modal_agregar"].hide(),this.formExamen.id=0,this.formExamen.nombre="",this.formExamen.cui=0,this.formExamen.edad=0,this.formExamen.comision="",this.formExamen.total=0,this.formExamen.correo="",this.formExamen.whatsapp="",this.formExamen.numero_muestra="",this.formExamen.referido="",this.formExamen.id_encargago=null,this.formExamen.pagado=0,this.formExamen.por_pagar=0,this.formExamen.id_examenes_almacenados=null,this.formExamen.id_expediente=0,this.formExamen.examenExterior=!1,this.formExamen.nacimiento=null,this.apiBaseExamenes=null,this.item_examenes=[],this.examenes_almacenados=[],this.examenes_almacenadosBuscar=[],this.currentPageExa=1,this.selectedExamenes=[];break}},calcularEdad:function(e){if(!e)return"";var t=F()(e,"DD-MM-YYYY").format("YYYY-MM-DD"),a=new Date,r=new Date(t),o=a.getFullYear()-r.getFullYear(),i=r.getMonth(),n=r.getDate();return(a.getMonth()<i||a.getMonth()===i&&a.getDate()<n)&&o--,o},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},onSaveMedicamento:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,r={id_cuenta:t.idCuentaSeleccionada,id_medicamento:e.id,cantidad:e.cantidad,precio_venta:e.precio_venta,movimiento:"SALIDAI",state:1,existencias_actuales:e.existencias,user:t.currentUser.user},o=t.currentUser,a.next=5,ie.a.post(q["a"]+"/detalle_consumo_medicamentos/create",{form:r,currentUser:o});case 5:t.form.selected_insumo="0",a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](0),console.error("Error en onSaveMedicamento:",a.t0),a.t0;case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},onSaveQuirurgico:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,r={id_cuenta:t.idCuentaSeleccionada,id_medicamento:e.id,cantidad:e.cantidad,precio_venta:e.precio_venta,movimiento:"SALIDAI",state:1,existencias_actuales:e.existencias,user:t.currentUser.user,inventariado:e.inventariado},o=t.currentUser,a.next=5,ie.a.post(q["a"]+"/detalle_consumo_quirugicos/create",{form:r,currentUser:o});case 5:t.form.selected_insumo="0",a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](0),console.error("Error en onSaveQuirurgico:",a.t0),a.t0;case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},onSaveComunes:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,r={id_cuenta:t.idCuentaSeleccionada,id_medicamento:e.id,cantidad:e.cantidad,precio_venta:e.precio_venta,movimiento:"SALIDAI",state:1,existencias_actuales:e.existencias,user:t.currentUser.user,inventariado:e.inventariado},o=t.currentUser,a.next=5,ie.a.post(q["a"]+"/detalle_consumo_comun/create",{form:r,currentUser:o});case 5:t.form.selected_insumo="0",a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](0),console.error("Error en onSaveComunes:",a.t0),a.t0;case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},traslado:function(e){this.$refs["modal-traslado"].show(),this.form.id=e},saveTraslado:function(){var e=this;ie.a.put(q["a"]+"/expedientes/changeStatus",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha trasladado el expediente exitosamente",e.$refs.vuetable.refresh(),e.closeModal("traslado"),e.form.id=0,e.form.selectedOption="hospi"})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},addReceta:function(e){this.$refs["modal-add-receta"].show(),this.form.id=e},addEvolucion:function(e){this.$refs["modal-add-evolucion"].show(),this.form.id=e},addOrdenes:function(e){this.$refs["modal-add-orden"].show(),this.form.id=e},saveReceta:function(){var e=this;null!==e.form.receta&&ie.a.post(q["a"]+"/recetas/create",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha creado la receta exitosamente",e.$refs.vuetable.refresh(),e.closeModal("add-receta"),e.form.id=0})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},saveEvolucion:function(){var e=this;null!==e.form.evolucion&&ie.a.post(q["a"]+"/evoluciones/create",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha creado la nota de evolución exitosamente",e.$refs.vuetable.refresh(),e.closeModal("add-evolucion"),e.form.id=0})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},saveOrden:function(){var e=this;null!==e.form.orden&&ie.a.post(q["a"]+"/ordenes/create",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha creado la orden médica exitosamente",e.$refs.vuetable.refresh(),e.closeModal("add-orden"),e.form.id=0})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},verReceta:function(e){this.$refs["modal-ver-receta"].show(),this.getDataRecetas(e),this.form.id_receta=e,this.tituloVer="Ver receta"},verEvolucion:function(e){this.$refs["modal-ver-receta"].show(),this.getDataEvoluciones(e),this.form.id_receta=e,this.tituloVer="Ver evolución del paciente"},verOrden:function(e){this.$refs["modal-ver-receta"].show(),this.getDataOrdenes(e),this.form.id_receta=e,this.tituloVer="Ver órdenes del paciente"},addServicio:function(e){this.$refs["modal-add-servicio"].show(),this.form.id=e},saveServicio:function(){var e=this;null!==e.servicio&&null!==e.form.cantidad?(e.form.servicio=e.servicio,e.form.descripcion="Añadido en intensivo",ie.a.post(q["a"]+"/consumos/create",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha creado el consumo de un servicio exitosamente",e.$refs.vuetable.refresh(),e.closeModal("add-servicio"),e.form.id=0})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))):(e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Por favor llene los campos solicitados")},addhonorarios:function(e){this.obtenerIdCuenta(e),this.$refs["modal-add-honorarios"].show()},agregarHonorario:function(){try{ie.a.post(q["a"]+"/detalle_honorarios/created",{id_medico:this.honorario.medico.id,id_cuenta:this.idCuentaSeleccionada,descripcion:this.honorario.descripcion,total:this.honorario.total,lugar:"Hospitalización"}),this.$refs["modal-add-honorarios"].hide(),this.honorario={medico:null,descripcion:"",total:null}}catch(e){console.error(e),this.alertErrorText="Error al agregar honorarios",this.showAlertError()}},showModal:function(e){this.$bvModal.show(e)},verHonorarios:function(e){this.obtenerIdCuenta(e),this.$refs["modal-ver-honorarios"].show()},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/expedientes/update",{form:e.form,user:e.currentUser.user}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el expediente "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){var t=this;this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data.map((function(e){return e.nacimiento=F()(e.nacimiento).format("DD/MM/YYYY"),e.edad=t.calcularEdad(e.nacimiento),e.fecha_ingreso_reciente=F()(e.fecha_ingreso_reciente).format("DD/MM/YYYY"),{nacimiento:e.nacimiento,edad:e.edad}})),this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},makeQueryParamsReceta:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage}},onPaginationDataReceta:function(e){this.fromP=e.from,this.toP=e.to,this.totalP=e.total,this.lastPageP=e.last_page,this.items=e.data.map((function(e){return e.createdAt=F()(e.createdAt).format("DD/MM/YYYY"),e.updatedAt=F()(e.updatedAt).format("DD/MM/YYYY"),{createdAt:e.createdAt,updatedAt:e.updatedAt}})),this.$refs.paginationReceta.setPaginationData(e)},onChangePageReceta:function(e){this.$refs.vuetableRecetas.changePage(e)},getDataRecetas:function(e){this.form.id=e,this.apiBaseReceta=q["a"]+"/recetas/getId?id=".concat(e)},getDataEvoluciones:function(e){this.form.id=e,this.apiBaseReceta=q["a"]+"/evoluciones/getId?id=".concat(e)},getDataOrdenes:function(e){this.form.id=e,this.apiBaseReceta=q["a"]+"/ordenes/getId?id=".concat(e)},onSearchServicios:function(e,t){e.length&&this.searchingServicios(e,t)},searchingServicios:function(e,t){var a=this;ie.a.get(q["a"]+"/servicios/getSearch",{params:{search:e}}).then((function(e){a.servicios=e.data}))},makeQueryParamsConsumo:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage}},onPaginationDataConsumo:function(e){this.fromP=e.from,this.toP=e.to,this.totalP=e.total,this.lastPageP=e.last_page,this.items=e.data.map((function(e){return e.createdAt=F()(e.createdAt).format("DD/MM/YYYY"),e.updatedAt=F()(e.updatedAt).format("DD/MM/YYYY"),{createdAt:e.createdAt,updatedAt:e.updatedAt}})),this.$refs.paginationConsumo.setPaginationData(e)},onChangePageConsumo:function(e){this.$refs.vuetableConsumos.changePage(e),this.$refs.vuetableConsumoInsumos.changePage(e),this.$refs.vuetableConsumoQuirurgicos.changePage(e),this.$refs.vuetableConsumoComunes.changePage(e)},getDataConsumos:function(e){this.form.id=e,this.apiBaseConsumo=q["a"]+"/consumos/getId?id=".concat(e)},searchingMedicos:function(e,t){var a=this;ie.a.get(q["a"]+"/medicos/getSearch",{params:{search:e}}).then((function(e){a.medicos=e.data}))},onSearchMedicos:function(e,t){e.length&&this.searchingMedicos(e,t)},makeQueryParamsHonorarios:function(e,t,a){return e[0]?{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:a}:{criterio:"createdAt",order:"desc",page:t,limit:a}},onPaginationDataHonorarios:function(e){this.honorarios=e.data.map((function(e){return e.total=parseFloat(e.total).toFixed(2),e.createdAt=F()(e.createdAt).format("DD/MM/YYYY h:mm A"),{id:e.id,medico:e.medico.nombre,descripcion:e.descripcion,total:e.total,createdAt:e.createdAt,updated_by:e.updated_by}})),this.pagination.total=e.total,this.pagination.currentPage=Math.floor((e.from-1)/this.pagination.perPage)+1},onChangePageHonorario:function(e){this.pagination.currentPage=e,this.getDataHonorarios(this.currentExpedienteId)},updateTotal:function(e){var t=this,a=e.id,r=e;ie.a.put(q["a"]+"/detalle_honorarios/".concat(a),{form:r}).then((function(e){t.alertVariant="primary",t.showAlert(),t.alertText="Se ha actualizado el expediente los honorarios del / la "+r.medico+" exitosamente"})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",e)}))},obtenerIdCuenta:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ie.a.get(q["a"]+"/cuentas/getSearch?search=".concat(e));case 3:r=a.sent,r.data&&r.data.id?t.idCuentaSeleccionada=r.data.id:(console.error("En AddHonorarios No se encontró ninguna cuenta para el expediente:",e),t.alertErrorText="No se encontró ninguna cuenta para este paciente",t.showAlertError()),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error("Error al obtener la cuenta:",a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},getDataHonorarios:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.currentExpedienteId=e,a.next=4,ie.a.get(q["a"]+"/cuentas/getSearch?search=".concat(e));case 4:if(r=a.sent,!r.data||!r.data.id){a.next=13;break}return o=r.data.id,a.next=9,ie.a.get(q["a"]+"/detalle_honorarios/getSearch?search=".concat(o,"&page=").concat(t.pagination.currentPage,"&limit=").concat(t.pagination.perPage));case 9:i=a.sent,t.onPaginationDataHonorarios(i.data),a.next=16;break;case 13:console.error("En VerHonorarios No se encontró ninguna cuenta para el expediente:",e),t.alertErrorText="No se encontró ninguna cuenta para este paciente",t.showAlertError();case 16:a.next=21;break;case 18:a.prev=18,a.t0=a["catch"](0),console.error("Error al obtener los honorarios:",a.t0);case 21:case"end":return a.stop()}}),a,null,[[0,18]])})))()},searchingMedicamentos:function(e,t){var a=this;ie.a.get(q["a"]+"/medicamentos/list2").then((function(e){a.medicamentos=e.data.map((function(e){return{value:e.id,text:e.nombre,existencias_actuales:e.existencia_actual,precio_venta:e.precio_venta}}))}))},searchingQuirurgico:function(e,t){var a=this;ie.a.get(q["a"]+"/quirurgico/list").then((function(e){a.medicamentos=e.data.map((function(e){return{value:e.id,text:e.nombre,existencias_actuales:e.existencia_actual,precio_venta:e.precio_venta}}))}))},searchingComunes:function(e,t){var a=this;ie.a.get(q["a"]+"/comun/list2").then((function(e){a.medicamentos=e.data.map((function(e){return{value:e.id,text:e.nombre,existencias_actuales:e.existencia_actual,precio_venta:e.precio_venta}}))}))},onChangeMedicamento:function(){var e=this,t=this.medicamentos.find((function(t){return t.value===e.formMe.id_medicine}));this.max_cant=t.existencias_actuales,this.existencias_selected_med=t.existencias_actuales+" unidades en existencia.",this.formMe.precio_venta=t.precio_venta,this.formMe.existencias_actuales=t.existencias_actuales},makeQueryParamsConsumoInsumo:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage}},onPaginationDataConsumoInsumo:function(e){this.fromP=e.from,this.toP=e.to,this.totalP=e.total,this.lastPageP=e.last_page,this.items=e.data,this.$refs.paginationConsumoInsumo.setPaginationData(e)},getDataConsumoInsumos:function(e){this.form.id=e,this.apiBaseConsumoInsumo=q["a"]+"/consumos/getId?id=".concat(e)},getConsumoMedicamentos:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ie.a.get(q["a"]+"/cuentas/getSearch?search=".concat(e));case 3:r=a.sent,r.data&&r.data.id?(t.idCuentaSeleccionada=r.data.id,t.apiBaseConsumoMedicamento=q["a"]+"/detalle_consumo_medicamentos/list/".concat(r.data.id,"/Intensivo"),t.apiBaseConsumoQuirurgico=q["a"]+"/detalle_consumo_quirugicos/list/".concat(r.data.id,"/Intensivo"),t.apiBaseConsumoComun=q["a"]+"/detalle_consumo_comun/list/".concat(r.data.id,"/Intensivo")):(console.error("No se encontró ninguna cuenta para el expediente:",e),t.alertErrorText="No se encontró ninguna cuenta para este paciente",t.showAlertError()),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error("Error al obtener la cuenta:",a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},getHabitaciones:function(e){var t=this;ie.a.get(q["a"]+"/habitaciones/get",{params:{tipo:e}}).then((function(e){t.habitaciones=e.data}))},onState:function(){var e=this;ie.a.put(q["a"]+"/expedientes/changeState",{id:this.form.id,estado:this.selectedTrasOption,estado_anterior:4,motivo:this.motivoTrasladoIntensivo,user:e.currentUser.user}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha trasladado el paciente "+e.form.nombres+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-traslado"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},onRelocate:function(e){this.$v.$touch(),null==this.selectedHab||1!==this.selectedTrasOption&&4!==this.selectedTrasOption?(this.onState(),this.$bvModal.hide("modal-1-traslado-uci")):(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.name=e.nombres+" "+e.apellidos,this.form.apellidos=e.apellidos,this.form.state=e.estado,this.form.id=e.id},generarReporteCuentaParcial:function(e,t,a){var r=this;ie.a.get(q["a"]+"/consumos/sumario/".concat(e)).then((function(e){r.dataPDFsumario=e.data,r.nombrePaciente=t+" "+a,r.fechaIngreso=r.dataPDFsumario.fechaFormateada,r.mostrarReporte(e.data)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),r.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",r.showAlertError()}))},mostrarReporte:function(e){var t=0,a=e.consumos.reduce((function(e,t){return e+parseFloat(t.subtotal)}),0),r=e.consumosComunes.reduce((function(e,t){return e+parseFloat(t.total)}),0),o=e.consumosMedicamentos.reduce((function(e,t){return e+parseFloat(t.total)}),0),i=e.consumosQuirurgicos.reduce((function(e,t){return e+parseFloat(t.total)}),0),n=e.examenes.reduce((function(e,t){return e+t.total}),0),s=e.salaOperaciones.reduce((function(e,t){return e+parseFloat(t.total)}),0);t=parseFloat(a)+parseFloat(r)+parseFloat(o)+parseFloat(i)+parseFloat(n)+parseFloat(s),this.reporte={ConsumoTotal:this.formatearMonto(a),ConsumoComunTotal:this.formatearMonto(r),ConsumoMedicamentosTotal:this.formatearMonto(o),ConsumoQuirurgicosTotal:this.formatearMonto(i),ExamenesTotal:this.formatearMonto(n),ServicioSalaOperacionesTotal:this.formatearMonto(s),TotalDeuda:this.formatearMonto(t)},this.$bvModal.show("reporteModal")},generarPDF_CuentaParcial:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){var a,r,o,i,n,s,l,c,d,m,u,f,h,p,b,v,g,_,x,C,$,y,w,E,k,D,A;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.fechaIngreso,r=e.dataPDFsumario,o=new Date,i=o.toLocaleDateString("es-ES"),n={hour:"2-digit",minute:"2-digit",hour12:!0},s=o.toLocaleTimeString("es-ES",n),a?(c=new Date(a),d=o-c,m=Math.floor(d/864e5),l=m):l="NO ASIGNADA",u=l>=2?r.costo2*l:r.costo1;try{f=r.consumos.reduce((function(e,t){return e+parseFloat(t.subtotal)}),0),h=r.consumosComunes.reduce((function(e,t){return e+parseFloat(t.total)}),0),p=r.consumosMedicamentos.reduce((function(e,t){return e+parseFloat(t.total)}),0),b=r.consumosQuirurgicos.reduce((function(e,t){return e+parseFloat(t.total)}),0),v=r.examenes.reduce((function(e,t){return e+parseFloat(t.total)}),0),g=r.salaOperaciones.reduce((function(e,t){return e+parseFloat(t.total)}),0),_=r.honorarios.reduce((function(e,t){return e+parseFloat(t.total)}),0),x=r.honorarios.sort((function(e,t){return t.total-e.total})),C=f+h+p+b+v+g+u,$=f+h+p+b+g+u,y=$+_+v,w=new Ma["default"],w.setFontSize(10).setFont(void 0,"bold"),w.text("HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",110,10,{align:"center"}),w.setFontSize(10).setFont(void 0,"normal"),w.text("CUENTA DE PACIENTE",110,14,{align:"center"}),w.setFontSize(8).setFont(void 0,"normal"),w.text("NOMBRE DEL PACIENTE:",14,20),w.text("".concat(e.nombrePaciente),50,20),w.text("_____________________________________________________________________________________________",50,21),w.text("CUARTRO NO.:",14,27),w.text("".concat(r.numerohabitacion),40,27),w.text("__________",35,28),w.text("TIPO DE SERVICIO:",60,27),w.text("",87,27),w.text("___________________________",87,28),w.text("D/ESTANCIA: ",130,27),w.text("".concat(l),170,27),w.text("_____________________________",150,28),w.text("MD TRATANTE:",14,34),w.text("".concat(r.nombremedico),36,34),w.text("______________________________________________________________________________________________________",36,35),w.autoTable({body:[["HOSPITALIZACION","Q".concat(u.toFixed(2))],["SALA DE OPERACIONES","Q".concat(g.toFixed(2))],["CONSUMO MEDICAMENTOS","Q".concat(p.toFixed(2))],["MATERIAL MEDICO QUIRÚRGICO","Q".concat(b.toFixed(2))],["ANESTESICOS",""],["MATERIAL COMÚN","Q".concat(h.toFixed(2))],["SERVICIOS","Q".concat(f.toFixed(2))],["RECUPERACION",""],["INTENSIVO","Q 0.00"],["EMERGENCIAS  Medico Interno",""],["OTROS",""],["TOTAL HOSPITALIZACION =","Q".concat($.toFixed(2))],["TOTAL LAB. BIOMEDICO E.O. S.A. =","Q".concat(v.toFixed(2))],["TOTAL MENOS DESCUENTO =","Q".concat(C.toFixed(2))]],startY:41,theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0]},columnStyles:{0:{halign:"left"},1:{halign:"left"}},didParseCell:function(e){var t=e.row.index,a=e.column.index;t>=11&&0===a&&(e.cell.styles.halign="right")}}),E=w.lastAutoTable.finalY+10,w.setFontSize(12).setFont(void 0,"normal"),w.text("FECHA ".concat(i," ").concat(s),14,E),w.setFontSize(10).setFont(void 0,"bold"),w.text("HONORARIOS MEDICOS Y OTROS SERVICIOS",100,E+15,{align:"center"}),k=x.map((function(e,t){return[t+1,e.medico.nombre,e.descripcion,"Q".concat((Number(e.total)||0).toFixed(2))]})),w.autoTable({head:[["#","MEDICO","DESCRIPCION","VALOR"]],body:k,startY:E+20,theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0]},headStyles:{fillColor:[255,255,255],textColor:[0,0,0],fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),D=w.lastAutoTable.finalY+10,w.setFontSize(10).setFont(void 0,"bold"),w.text("LIQUIDACION",100,D,{align:"center"}),w.autoTable({body:[["TOTAL HOSPITALIZACION","Q".concat($.toFixed(2))],["TOTAL LAB. BIOMEDICO E.O. S.A.","Q".concat(v.toFixed(2))],["TOTAL HONORARIOS MEDICOS Y OTROS SERVICIOS","Q".concat(_.toFixed(2))],["TOTAL A PAGAR =","Q".concat(y.toFixed(2))]],startY:D+5,theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0]},columnStyles:{0:{halign:"left"},1:{halign:"left"}},didParseCell:function(e){var t=e.row.index,a=e.column.index;t>=3&&0===a&&(e.cell.styles.halign="right")}}),A=w.lastAutoTable.finalY+10,w.setFontSize(10).setFont(void 0,"normal"),w.text("_______________________________________",110,A,{align:"center"}),w.text("Nombre y Firma del Cajero",110,A+5,{align:"center"}),w.save("cuenta_Parcial_".concat(e.nombrePaciente,".PDF"))}catch(S){console.error("Error al generar el reporte:",S),e.$alert("Ocurrió un error al generar el reporte. Por favor, intente de nuevo.","Error")}case 9:case"end":return t.stop()}}),t)})))()},formatearMonto:function(e){var t=parseFloat(e);return isNaN(t)?"0.00":t.toFixed(2)},generarHistorialCuentas:function(e){var t=this;ie.a.get(q["a"]+"/consumos/historial/".concat(e)).then((function(e){var a=e.data;t.dataPDF_Historial=e.data,t.mostrarHistorial(a)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),t.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",t.showAlertError()}))},mostrarHistorial:function(e){var t=0,a=e.Consumo.reduce((function(e,t){return e+(parseFloat(t.subtotal)||0)}),0),r=e["Consumo Comun"].reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),o=e["Consumo Medicamentos"].reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),i=e["Consumo Quirurgicos"].reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),n=e.Examenes.reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),s=e.ServicioSalaOperaciones.reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0);t=parseFloat(a)+parseFloat(r)+parseFloat(o)+parseFloat(i)+parseFloat(n)+parseFloat(s),this.reporteHisotiral={ConsumoTotal:this.formatearMonto(a),ConsumoComunTotal:this.formatearMonto(r),ConsumoMedicamentosTotal:this.formatearMonto(o),ConsumoQuirurgicosTotal:this.formatearMonto(i),ExamenesTotal:this.formatearMonto(n),ServicioSalaOperacionesTotal:this.formatearMonto(s),TotalDeuda:this.formatearMonto(t)},this.$bvModal.show("HistorialCuenta")},generarPDF_Historial:function(){var e=new Ma["default"],t=20;e.setFontSize(18),e.text("Reporte de Historial de Cuenta",14,t),t+=10;var a=function(a,r){e.setFontSize(14),e.text(a,14,t),t+=10;var o=["Descripción","Cantidad","Precio Unitario","Subtotal"];e.autoTable({startY:t,head:[o],body:r.map((function(e){return[e.descripcion,e.cantidad.toString(),e.precio_unitario.toString(),e.subtotal.toString()]})),theme:"striped",margin:{top:10},styles:{halign:"center",fontSize:10},headStyles:{fillColor:[229,31,45],textColor:[255,255,255]}}),t=e.lastAutoTable.finalY+10};if(this.dataPDF_Historial.Consumo&&this.dataPDF_Historial.Consumo.length>0){var r=this.dataPDF_Historial.Consumo.map((function(e){return{descripcion:e.servicio.descripcion||"",cantidad:e.cantidad||0,precio_unitario:e.servicio.precio||0,subtotal:e.subtotal||0}}));a("Consumo de Servicios",r)}if(this.dataPDF_Historial["Consumo Comun"]&&this.dataPDF_Historial["Consumo Comun"].length>0){var o=this.dataPDF_Historial["Consumo Comun"].map((function(e){return{descripcion:e.comune.nombre||"",cantidad:e.cantidad||0,precio_unitario:e.precio_venta||0,subtotal:e.total||0}}));a("Consumo de Materiales Comunes",o)}if(this.dataPDF_Historial["Consumo Medicamentos"]&&this.dataPDF_Historial["Consumo Medicamentos"].length>0){var i=this.dataPDF_Historial["Consumo Medicamentos"].map((function(e){return{descripcion:e.medicamento.nombre||"",cantidad:e.cantidad||0,precio_unitario:e.precio_venta||0,subtotal:e.total||0}}));a("Consumo de Medicamentos",i)}if(this.dataPDF_Historial["Consumo Quirurgicos"]&&this.dataPDF_Historial["Consumo Quirurgicos"].length>0){var n=this.dataPDF_Historial["Consumo Quirurgicos"].map((function(e){return{descripcion:e.quirurgico.nombre||"",cantidad:e.cantidad||0,precio_unitario:e.precio_venta||0,subtotal:e.total||0}}));a("Consumo de Material Quirúrgico",n)}if(this.dataPDF_Historial.Examenes&&this.dataPDF_Historial.Examenes.length>0){var s=this.dataPDF_Historial.Examenes.map((function(e){return{descripcion:e.examenes_almacenado.nombre||"",cantidad:1,precio_unitario:e.total||0,subtotal:e.total||0}}));a("Exámenes Realizados",s)}if(this.dataPDF_Historial.ServicioSalaOperaciones&&this.dataPDF_Historial.ServicioSalaOperaciones.length>0){var l=this.dataPDF_Historial.ServicioSalaOperaciones.map((function(e){return{descripcion:e.descripcion||"",cantidad:1,precio_unitario:e.total||0,subtotal:e.total||0}}));a("Servicios en Sala de Operaciones",l)}t+=10,e.save("reporte_historial.pdf")},anular:function(e){var t=this,a=q["a"]+"/Examenes_realizados/update?id=".concat(e);ie.a.put(a,{form:t.anularExamen}).then((function(a){t.alertVariant="success",t.showAlert(),t.alertText="Se ha ANULADO el examen",t.ver_examen_realizado(e)})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText=e.response.data.msg,console.error("Error!",e)}))},getFieldsByExamenId:function(e){var t=this;ie.a.get(q["a"]+"/campoLaboratorio/getByExamenId",{params:{id:e}}).then((function(e){t.camposResulado=e.data.map((function(e){return{id:e.id,nombre:e.nombre,unidades:e.unidades,resultado:"",id_tipo:e.id_examenes_almacenados}}));var a=e.data;t.campos=a})).catch((function(e){console.error("Error al obtener los campos del examen:",e)}))},guardarExamenRealizado:function(){var e=this,t=this.formExamen.nacimiento.split("/"),a=new Date("".concat(t[2],"-").concat(t[1],"-").concat(t[0])),r=new Date,o=r.getFullYear()-a.getFullYear(),i=r.getMonth()-a.getMonth(),n=r.getDate()-a.getDate();(i<0||0===i&&n<0)&&o--,this.formExamen.edad=o,this.formExamen.numero_muestra=1,0!==this.formExamen.total&&0!==this.formExamen.numero_muestra&&null!==this.formExamen.id_examenes_almacenados?ie.a.post(q["a"]+"/Examenes_realizados/create",{form:this.formExamen}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ingresado al pasciente "+e.formExamen.nombre+" exitosamente",e.closeModal("modal_agregar")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)})):(this.alertVariant="danger",this.showAlertError(),this.alertErrorText="Por favor llene los campos solicitados")},verResultado:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ie.a.get(q["a"]+"/detalleExamenRealizado/list?id=".concat(e));case 3:r=a.sent,r.data.data.length<1?(t.alertVariant="danger",t.showAlertError(),t.alertErrorText="El examen aun no posee resultados"):(t.resultados=r.data.data,t.$refs["modal-ver-resultados"].show()),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error("Error cargando insumos:",a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},realizar_examen:function(e,t,a,r,o,i){this.formExamen.nombre=t+" "+a,this.formExamen.cui=r,this.formExamen.whatsapp=o,this.formExamen.id_expediente=e,this.formExamen.nacimiento=i},ver_examen_realizado:function(e){var t=this;ie.a.get(q["a"]+"/Examenes_realizados/listId/".concat(e)).then((function(e){t.item_examenes=e.data}))},searching_id_examenes_almacenados:function(e,t){var a=this;ie.a.get(q["a"]+"/examenesAlmacenados/getSearch",{params:{search:e}}).then((function(e){a.examenes_almacenados=e.data}))},onSearch_id_examenes_almacenados:function(e,t){var a=this,r={search:e,page:this.currentPageExa,perPage:this.$refs.vuetable.perPage};ie.a.get(q["a"]+"/examenesAlmacenadosBuscar/getSearch",{params:r}).then((function(e){a.examenes_almacenadosBuscar=e.data.data,a.$refs.vuetableBuscar.setData(e.data)})).catch((function(e){console.error("Error al buscar exámenes:",e)}))},onPageChangeExa:function(e){this.currentPageExa=e,this.onSearch_id_examenes_almacenados("")},onSearchEncargado:function(e,t){e.length&&this.searchingEncargado(e,t)},searchingEncargado:function(e,t){var a=this;ie.a.get(q["a"]+"/encargadoExamen/getSearch",{params:{search:e}}).then((function(e){a.encargados=e.data}))}}},Xi=Ji,en=(a("335c"),Object($["a"])(Xi,Wi,Ki,!1,null,null,null)),tn=en.exports,an=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-traslado",attrs:{id:"modal-traslado",title:"Trasladar paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){return e.onRelocation()}}},[e._v("Ingresar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-traslado")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea trasladar el paciente: "+e._s(e.form.nombres)+" ? ")]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-col",[a("b-form-group",{attrs:{label:"Área a la que desea trasladar:"}},[a("b-form-radio-group",{attrs:{id:"radio-group-2",options:e.optionsTraslado,name:"radio-options"},model:{value:e.selectedTrasOption,callback:function(t){e.selectedTrasOption=t},expression:"selectedTrasOption"}})],1)],1)],1),a("div",[e._v(" Ingrese un motivo para el traslado ")]),a("div",[a("b-input",{ref:"motivoTraslado",attrs:{id:"motivoTraslado"},model:{value:e.motivoTrasladoEmergencia,callback:function(t){e.motivoTrasladoEmergencia=t},expression:"motivoTrasladoEmergencia"}})],1)],1),a("b-modal",{ref:"modal-add-receta",attrs:{size:"lg",id:"modal-add-receta",title:"Contenido de receta"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.saveReceta()}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("add-receta")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Contenido:"}},[a("quill-editor",{staticClass:"custom-editor",attrs:{options:e.editorOptions},model:{value:e.form.receta,callback:function(t){e.$set(e.form,"receta",t)},expression:"form.receta"}})],1)],1)],1),a("b-modal",{ref:"modal-add-evolucion",attrs:{size:"lg",id:"modal-add-evolucion",title:"Evolución de paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.saveEvolucion()}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("add-evolucion")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Contenido:"}},[a("quill-editor",{staticClass:"custom-editor",attrs:{options:e.editorOptions2},model:{value:e.form.evolucion,callback:function(t){e.$set(e.form,"evolucion",t)},expression:"form.evolucion"}})],1)],1)],1),a("b-modal",{ref:"modal-add-orden",attrs:{size:"lg",id:"modal-add-orden",title:"Orden médica"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.saveOrden()}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("add-orden")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Contenido:"}},[a("quill-editor",{staticClass:"custom-editor",attrs:{options:e.editorOptions3},model:{value:e.form.orden,callback:function(t){e.$set(e.form,"orden",t)},expression:"form.orden"}})],1)],1)],1),a("b-modal",{ref:"modal-ver-receta",attrs:{size:"lg",id:"modal-ver-receta",title:e.tituloVer},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("ver-receta")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("ver-receta")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("vuetable",{ref:"vuetableRecetas",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseReceta,"query-params":e.makeQueryParamsReceta,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsReceta,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationDataReceta},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Generar voucher de pago",expression:"'Generar voucher de pago'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-info"},on:{click:function(a){return e.voucherData(t.rowData)}}},[a("i",{class:"fas fa-money-bill"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"paginationReceta",on:{"vuetable-pagination:change-page":e.onChangePageReceta}})],1),a("b-modal",{ref:"modal-add-servicio",attrs:{id:"modal-add-servicio",title:"Añadir consumo de servicio"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:e.saveServicio}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("add-servicio")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Servicio a agregar:"}},[a("v-select",{attrs:{name:"servicio",options:e.servicios,filterable:!1,placeholder:"Seleccione un servicio a agregar"},on:{search:e.onSearchServicios},scopedSlots:e._u([e.currentUser.user_type<7?{key:"option",fn:function(t){return[e._v(" "+e._s(t.descripcion+" - Precio: "+t.precio)+" ")]}}:{key:"option",fn:function(t){return[e._v(" "+e._s(t.descripcion)+" ")]}},e.currentUser.user_type<7?{key:"selected-option",fn:function(t){return[e._v(" "+e._s(t.descripcion+" - Precio: "+t.precio)+" ")]}}:{key:"selected-option",fn:function(t){return[e._v(" "+e._s(t.descripcion)+" ")]}}],null,!0),model:{value:e.servicio,callback:function(t){e.servicio=t},expression:"servicio"}})],1),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingrese la cantidad",min:"1"},model:{value:e.form.cantidad,callback:function(t){e.$set(e.form,"cantidad",t)},expression:"form.cantidad"}})],1)],1)],1),a("b-modal",{ref:"modal-ver-servicio",attrs:{id:"modal-ver-servicio",size:"lg",title:"Ver servicios"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("ver-servicio")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("ver-servicio")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("vuetable",{ref:"vuetableConsumos",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumo,"query-params":e.makeQueryParamsConsumo,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumo,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationDataConsumo},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Generar voucher de pago",expression:"'Generar voucher de pago'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-info"},on:{click:function(a){return e.voucherData(t.rowData)}}},[a("i",{class:"fas fa-money-bill"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1),a("b-modal",{ref:"modal-ver-servicio2",attrs:{id:"modal-ver-servicio2",size:"lg",title:"Ver servicios"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("ver-servicio2")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("ver-servicio2")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("vuetable",{ref:"vuetableConsumos",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumo,"query-params":e.makeQueryParamsConsumo,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumo2,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationDataConsumo},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Generar voucher de pago",expression:"'Generar voucher de pago'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-info"},on:{click:function(a){return e.voucherData(t.rowData)}}},[a("i",{class:"fas fa-money-bill"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1),a("b-modal",{ref:"modal-add-honorarios",attrs:{id:"modal-add-honorarios",size:"lg",title:"Agregar honorarios a medico"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.agregarHonorario()}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("add-honorarios")}}},[e._v("Cancelar")])]},proxy:!0}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Seleccionar Medico"}},[a("v-select",{attrs:{options:e.medicos,"item-text":"nombre","item-value":"id",label:"nombre",filterable:!1,placeholder:"Seleccione un médico",required:""},on:{search:e.onSearchMedicos},scopedSlots:e._u([{key:"option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}}]),model:{value:e.honorario.medico,callback:function(t){e.$set(e.honorario,"medico",t)},expression:"honorario.medico"}})],1),a("b-form-group",{attrs:{label:"Descripción"}},[a("b-form-textarea",{attrs:{placeholder:"Ingrese una descripción"},model:{value:e.honorario.descripcion,callback:function(t){e.$set(e.honorario,"descripcion",t)},expression:"honorario.descripcion"}})],1),a("b-form-group",{attrs:{label:"Total de honorarios"}},[a("b-form-input",{attrs:{placeholder:"Ingresar Total Honorarios",type:"number",required:""},model:{value:e.honorario.total,callback:function(t){e.$set(e.honorario,"total","string"===typeof t?t.trim():t)},expression:"honorario.total"}})],1)],1)],1),a("b-modal",{ref:"modal-ver-honorarios",attrs:{id:"modal-ver-honorarios",size:"lg",title:"Ver honorarios"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("ver-honorarios")}}},[e._v("Cerrar")])]},proxy:!0}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-table",{attrs:{striped:"",hover:"",items:e.honorarios,fields:e.fieldsHonorarios},scopedSlots:e._u([{key:"cell(medico)",fn:function(t){return[e._v(" "+e._s(t.item.medico)+" ")]}},{key:"cell(total)",fn:function(t){return[a("b-form-input",{attrs:{type:"number"},on:{change:function(a){return e.updateTotal(t.item)}},model:{value:t.item.total,callback:function(a){e.$set(t.item,"total",a)},expression:"row.item.total"}})]}}])}),e.pagination.total>0?a("b-pagination",{attrs:{"total-rows":e.pagination.total,"per-page":e.pagination.perPage},on:{change:e.onChangePageHonorario},model:{value:e.pagination.currentPage,callback:function(t){e.$set(e.pagination,"currentPage",t)},expression:"pagination.currentPage"}}):e._e()],1),a("b-modal",{ref:"modal-ver-resultados",attrs:{size:"lg",id:"modal-ver-resultados",title:"Ver Resultados"}},[e.resultados?[a("b-table",{attrs:{small:"",striped:"",hover:"",items:e.resultados,fields:e.campos},scopedSlots:e._u([{key:"cell(fecha_hora)",fn:function(t){return[e._v(" "+e._s(new Date(t.item.fecha_hora).toLocaleString())+" ")]}},{key:"cell(valor_minimo)",fn:function(t){return[e._v(" "+e._s(parseFloat(t.item.valor_minimo).toFixed(2))+" ")]}},{key:"cell(valor_maximo)",fn:function(t){return[e._v(" "+e._s(parseFloat(t.item.valor_maximo).toFixed(2))+" ")]}}],null,!1,2693531662)})]:[a("p",{staticClass:"text-center"},[e._v("No hay resultados para mostrar")])]],2),a("b-modal",{ref:"modal-sala-operaciones",attrs:{id:"modal-sala-operaciones",size:"lg",title:"Servicio sala de operaciones"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"ml-auto"},[e.currentUser.user_type<7?a("span",{staticClass:"mr-2"},[e._v("Total: Q"+e._s(e.TotalAPagar))]):e._e()]),a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.addSalaOperaciones()}}},[e._v("Cobrar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("sala-operaciones")}}},[e._v("Cancelar")])]},proxy:!0}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Categoria sala operaciones"}},[a("b-form-radio",{attrs:{value:"Cirugia menor",name:"customRadio1"},on:{change:e.changeCheck},model:{value:e.salaOperaciones.categoria,callback:function(t){e.$set(e.salaOperaciones,"categoria",t)},expression:"salaOperaciones.categoria"}},[e._v("Cirugía menor")]),a("b-form-radio",{attrs:{value:"Cirugia media",name:"customRadio1"},on:{change:e.changeCheck},model:{value:e.salaOperaciones.categoria,callback:function(t){e.$set(e.salaOperaciones,"categoria",t)},expression:"salaOperaciones.categoria"}},[e._v("Cirugía media")]),a("b-form-radio",{attrs:{value:"Cirugia mayor",name:"customRadio1"},on:{change:e.changeCheck},model:{value:e.salaOperaciones.categoria,callback:function(t){e.$set(e.salaOperaciones,"categoria",t)},expression:"salaOperaciones.categoria"}},[e._v("Cirugía mayor ")]),a("b-form-radio",{attrs:{value:"Parto",name:"customRadio1"},on:{change:e.changeCheck},model:{value:e.salaOperaciones.categoria,callback:function(t){e.$set(e.salaOperaciones,"categoria",t)},expression:"salaOperaciones.categoria"}},[e._v("Parto")]),a("b-form-radio",{attrs:{value:"Legrado",name:"customRadio1"},on:{change:e.changeCheck},model:{value:e.salaOperaciones.categoria,callback:function(t){e.$set(e.salaOperaciones,"categoria",t)},expression:"salaOperaciones.categoria"}},[e._v("Legrado")])],1)],1),a("b-col",{attrs:{md:"6"}},[e.isCirugiaMayorOMedia?a("b-form-group",{attrs:{label:"Cobro Oximetro / Cauterio"}},[a("b-form-checkbox",{model:{value:e.salaOperaciones.oximetro,callback:function(t){e.$set(e.salaOperaciones,"oximetro",t)},expression:"salaOperaciones.oximetro"}},[e._v("Oxímetro ")]),a("b-form-checkbox",{attrs:{disabled:e.isCirugiaMayorOMedia},model:{value:e.salaOperaciones.cauterio,callback:function(t){e.$set(e.salaOperaciones,"cauterio",t)},expression:"salaOperaciones.cauterio"}},[e._v("Cauterio ")]),a("b-form-checkbox",{attrs:{disabled:e.isCirugiaMayorOMedia},model:{value:e.salaOperaciones.monitor,callback:function(t){e.$set(e.salaOperaciones,"monitor",t)},expression:"salaOperaciones.monitor"}},[e._v("Monitor ")])],1):e._e(),e.isCirugiaMayorOMedia?e._e():a("b-form-group",{attrs:{label:"Oxímetro / Cauterio"}},[a("b-form-checkbox",{model:{value:e.salaOperaciones.oximetro,callback:function(t){e.$set(e.salaOperaciones,"oximetro",t)},expression:"salaOperaciones.oximetro"}},[e._v("Oxímetro")]),a("b-form-checkbox",{model:{value:e.salaOperaciones.cauterio,callback:function(t){e.$set(e.salaOperaciones,"cauterio",t)},expression:"salaOperaciones.cauterio"}},[e._v("Cauterio")]),a("b-form-checkbox",{model:{value:e.salaOperaciones.monitor,callback:function(t){e.$set(e.salaOperaciones,"monitor",t)},expression:"salaOperaciones.monitor"}},[e._v("Monitor")])],1),a("b-form-group",{attrs:{label:"Duración Horas : Minutos"}},[a("b-row",[a("b-col",{attrs:{md:"6"}},[a("b-form-input",{attrs:{type:"number",min:"0",placeholder:"Horas"},model:{value:e.salaOperaciones.horas,callback:function(t){e.$set(e.salaOperaciones,"horas",t)},expression:"salaOperaciones.horas"}})],1),a("b-col",{attrs:{md:"6"}},[a("b-form-input",{attrs:{type:"number",min:1,max:59,placeholder:"Minutos"},model:{value:e.$v.salaOperaciones.minutos.$model,callback:function(t){e.$set(e.$v.salaOperaciones.minutos,"$model","string"===typeof t?t.trim():t)},expression:"$v.salaOperaciones.minutos.$model"}})],1)],1)],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-form-group",{attrs:{label:"Personal de ayudantía"}},[a("Multiselect",{attrs:{options:e.personalOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Seleccionar personal",label:"nombre","track-by":"id"},scopedSlots:e._u([{key:"option",fn:function(t){var r=t.option;return[a("div",{staticClass:"custom-option"},[a("strong",[e._v(e._s(r.nombre))]),e._v(" — "),a("small",[e._v("Categoría: "+e._s(r.categoria))])])]}},{key:"selection",fn:function(t){var r=t.values,o=(t.search,t.isOpen);return[r.length&&!o?a("span",{staticClass:"multiselect__single"},[e._v(" "+e._s(r.length)+" seleccionados ")]):e._e()]}}]),model:{value:e.selectedPersonal,callback:function(t){e.selectedPersonal=t},expression:"selectedPersonal"}})],1)],1)],1),a("b-modal",{ref:"modal-1-movimiento",attrs:{id:"modal-1-movimiento",size:"xl",title:"Agregar Consumo"},on:{shown:e.openModal2},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:e.onSave}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]},proxy:!0}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Agregar Insumo:"}},[a("br"),a("b-row",{staticClass:"ml-5 mt-negativo-r1"},[a("b-col",{attrs:{md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.selected_insumo.$model,expression:"$v.form.selected_insumo.$model"}],attrs:{type:"radio",id:"medicamento",value:"0"},domProps:{checked:e._q(e.$v.form.selected_insumo.$model,"0")},on:{change:[function(t){return e.$set(e.$v.form.selected_insumo,"$model","0")},e.onSelectChange]}}),a("label",{staticClass:"ml-1",attrs:{for:"medicamento"}},[e._v("Medicamento")])]),a("b-col",{attrs:{md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.selected_insumo.$model,expression:"$v.form.selected_insumo.$model"}],attrs:{type:"radio",id:"quirurgico",value:"1"},domProps:{checked:e._q(e.$v.form.selected_insumo.$model,"1")},on:{change:[function(t){return e.$set(e.$v.form.selected_insumo,"$model","1")},e.onSelectChange]}}),a("label",{staticClass:"ml-1",attrs:{for:"quirurgico"}},[e._v("Quirúrgico")])]),a("b-col",{attrs:{md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.selected_insumo.$model,expression:"$v.form.selected_insumo.$model"}],attrs:{type:"radio",id:"uso_comun",value:"2"},domProps:{checked:e._q(e.$v.form.selected_insumo.$model,"2")},on:{change:[function(t){return e.$set(e.$v.form.selected_insumo,"$model","2")},e.onSelectChange]}}),a("label",{staticClass:"ml-1",attrs:{for:"uso_comun"}},[e._v("Uso común")])])],1),a("v-select",{attrs:{name:"medicamentos",options:e.insumosActuales,filterable:!0,reduce:function(e){return e.value},state:!e.$v.formMe.id_medicine.$error,placeholder:"Seleccione el insumo",label:"text"},on:{input:e.onSeleccionarInsumo},model:{value:e.$v.formMe.id_medicine.$model,callback:function(t){e.$set(e.$v.formMe.id_medicine,"$model","string"===typeof t?t.trim():t)},expression:"$v.formMe.id_medicine.$model"}})],1),a("h5",{staticClass:"mt-3"},[e._v("INSUMOS SELECCIONADOS")]),a("b-table",{attrs:{striped:"",hover:"",items:e.consumosTemporales,fields:["nombre","cantidad","existencias","acciones"],small:""},scopedSlots:e._u([{key:"cell(cantidad)",fn:function(t){return[a("b-form-input",{attrs:{type:"number",min:1,placeholder:"Cantidad"},model:{value:t.item.cantidad,callback:function(a){e.$set(t.item,"cantidad",a)},expression:"row.item.cantidad"}})]}},{key:"cell(acciones)",fn:function(t){return[a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(a){return e.eliminarDeLista(t.item.id)}}},[e._v("Eliminar")])]}}])}),a("h5",{staticClass:"mt-4"},[e._v("CONSUMOS REALIZADOS")]),a("b-tabs",{attrs:{"content-class":"mt-3"}},[a("b-tab",{attrs:{title:"Medicamento",active:""}},[a("vuetable",{ref:"vuetableConsumoInsumos",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumoMedicamento,"query-params":e.makeQueryParamsConsumoInsumo,"data-path":"data","pagination-path":"meta","per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumoInsumoMedicamento}}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1),a("b-tab",{attrs:{title:"Quirúrgico"}},[a("vuetable",{ref:"vuetableConsumoQuirurgicos",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumoQuirurgico,"query-params":e.makeQueryParamsConsumoInsumo,"data-path":"data","pagination-path":"meta","per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumoInsumoQuirurgico}}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1),a("b-tab",{attrs:{title:"Común"}},[a("vuetable",{ref:"vuetableConsumoComunes",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumoComun,"query-params":e.makeQueryParamsConsumoInsumo,"data-path":"data","pagination-path":"meta","per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumoInsumo}}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1)],1)],1)],1),a("b-modal",{ref:"modal-1-movimiento2",attrs:{id:"modal-1-movimiento2",size:"xl",title:"Agregar Consumo"},on:{shown:e.openModal2},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:e.onSave}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save2")}}},[e._v("Cancelar")])]},proxy:!0}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Agregar Insumo:"}},[a("br"),a("b-row",{staticClass:"ml-5 mt-negativo-r1"},[a("b-col",{attrs:{md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.selected_insumo.$model,expression:"$v.form.selected_insumo.$model"}],attrs:{type:"radio",id:"medicamento",value:"0"},domProps:{checked:e._q(e.$v.form.selected_insumo.$model,"0")},on:{change:[function(t){return e.$set(e.$v.form.selected_insumo,"$model","0")},e.onSelectChange]}}),a("label",{staticClass:"ml-1",attrs:{for:"medicamento"}},[e._v("Medicamento")])]),a("b-col",{attrs:{md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.selected_insumo.$model,expression:"$v.form.selected_insumo.$model"}],attrs:{type:"radio",id:"quirurgico",value:"1"},domProps:{checked:e._q(e.$v.form.selected_insumo.$model,"1")},on:{change:[function(t){return e.$set(e.$v.form.selected_insumo,"$model","1")},e.onSelectChange]}}),a("label",{staticClass:"ml-1",attrs:{for:"quirurgico"}},[e._v("Quirúrgico")])]),a("b-col",{attrs:{md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.selected_insumo.$model,expression:"$v.form.selected_insumo.$model"}],attrs:{type:"radio",id:"uso_comun",value:"2"},domProps:{checked:e._q(e.$v.form.selected_insumo.$model,"2")},on:{change:[function(t){return e.$set(e.$v.form.selected_insumo,"$model","2")},e.onSelectChange]}}),a("label",{staticClass:"ml-1",attrs:{for:"uso_comun"}},[e._v("Uso común")])])],1),a("v-select",{attrs:{name:"medicamentos",options:e.insumosActuales,filterable:!0,reduce:function(e){return e.value},state:!e.$v.formMe.id_medicine.$error,placeholder:"Seleccione el insumo",label:"text"},on:{input:e.onSeleccionarInsumo},model:{value:e.$v.formMe.id_medicine.$model,callback:function(t){e.$set(e.$v.formMe.id_medicine,"$model","string"===typeof t?t.trim():t)},expression:"$v.formMe.id_medicine.$model"}})],1),a("h5",{staticClass:"mt-3"},[e._v("INSUMOS SELECCIONADOS")]),a("b-table",{attrs:{striped:"",hover:"",items:e.consumosTemporales,fields:["nombre","cantidad","existencias","acciones"],small:""},scopedSlots:e._u([{key:"cell(cantidad)",fn:function(t){return[a("b-form-input",{attrs:{type:"number",min:1,placeholder:"Cantidad"},model:{value:t.item.cantidad,callback:function(a){e.$set(t.item,"cantidad",a)},expression:"row.item.cantidad"}})]}},{key:"cell(acciones)",fn:function(t){return[a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(a){return e.eliminarDeLista(t.item.id)}}},[e._v("Eliminar")])]}}])}),a("h5",{staticClass:"mt-4"},[e._v("CONSUMOS REALIZADOS")]),a("b-tabs",{attrs:{"content-class":"mt-3"}},[a("b-tab",{attrs:{title:"Medicamento",active:""}},[a("vuetable",{ref:"vuetableConsumoInsumos",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumoMedicamento,"query-params":e.makeQueryParamsConsumoInsumo,"data-path":"data","pagination-path":"meta","per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumoInsumoMedicamento2}}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1),a("b-tab",{attrs:{title:"Quirúrgico"}},[a("vuetable",{ref:"vuetableConsumoQuirurgicos",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumoQuirurgico,"query-params":e.makeQueryParamsConsumoInsumo,"data-path":"data","pagination-path":"meta","per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumoInsumoQuirurgico2}}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1),a("b-tab",{attrs:{title:"Común"}},[a("vuetable",{ref:"vuetableConsumoComunes",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseConsumoComun,"query-params":e.makeQueryParamsConsumoInsumo,"data-path":"data","pagination-path":"meta","per-page":e.perPage,"reactive-api-url":!0,fields:e.fieldsConsumoInsumo2}}),a("vuetable-pagination-bootstrap",{ref:"paginationConsumo",on:{"vuetable-pagination:change-page":e.onChangePageConsumo}})],1)],1)],1)],1),a("b-modal",{ref:"modal_agregar",attrs:{id:"modal_agregar",size:"xl",title:"Ingresar nuevo examen"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("div",{staticClass:"ml-auto"},[a("span",{staticClass:"mr-2"},[e._v("Total: Q"+e._s(e.TotalAPagar2))])]),a("b-button",{attrs:{variant:"primary"},on:{click:e.guardarExamenRealizado}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("modal_agregar")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Nombre del medico:"}},[a("v-select",{attrs:{name:"medico",options:e.medicos,filterable:!1,placeholder:"Seleccione el médico"},on:{search:e.onSearchMedicos},scopedSlots:e._u([{key:"option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}}]),model:{value:e.formExamen.comision,callback:function(t){e.$set(e.formExamen,"comision",t)},expression:"formExamen.comision"}})],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Total:"}},[a("b-form-input",{attrs:{disabled:"",placeholder:"Ingresar el total"},model:{value:e.formExamen.total,callback:function(t){e.$set(e.formExamen,"total",t)},expression:"formExamen.total"}})],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Tipo de Examen:"}},[a("Multiselect",{attrs:{options:e.examenes_almacenadosBuscar,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Seleccionar exámenes",label:"nombre","track-by":"id",pagination:!0,page:e.currentPageExa},on:{"search-change":e.onSearch_id_examenes_almacenados,"page-change":e.onPageChangeExa},scopedSlots:e._u([{key:"option",fn:function(t){var r=t.option;return[a("div",{staticClass:"custom-option"},[a("strong",[e._v(e._s(r.nombre))]),e._v(" -- "),a("small",[e._v(" "+e._s(r.tipo_examen))]),e._v(" | "),a("small",[e._v("Precio: Q"+e._s(r.precio_normal))]),e._v(" | ")])]}},{key:"selection",fn:function(t){var r=t.values,o=(t.search,t.isOpen);return[r.length&&!o?a("span",{staticClass:"multiselect__single"},[e._v(" "+e._s(r.length)+" exámenes seleccionados ")]):e._e()]}}]),model:{value:e.selectedExamenes,callback:function(t){e.selectedExamenes=t},expression:"selectedExamenes"}}),a("div",[e.selectedExamenes.length>0?a("ul",{staticClass:"selected-options-list"},e._l(e.selectedExamenes,(function(t,r){return a("li",{key:t.id},[e._v(" "+e._s(r+1)+". "+e._s(t.nombre)+" - Precio: Q"+e._s(t.precio_normal)+" ")])})),0):e._e()])],1)],1)],1)],1),a("b-row",[a("b-col",{attrs:{sm:"12"}},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[e._v("Acciones")]),a("th",[e._v("Nombre")]),a("th",[e._v("CUI")]),a("th",[e._v("Examen Realizado")]),a("th",[e._v("Fecha y Hora")])])]),a("tbody",e._l(e.item_examenes,(function(t){return a("tr",{key:t.id},[a("td",[a("b-button",{attrs:{variant:"success"},on:{click:function(a){return e.verResultado(t.id)}}},[e._v("Ver resultado")])],1),a("td",[e._v(e._s(t.nombre))]),a("td",[e._v(e._s(t.cui))]),a("td",[e._v(e._s(t.nombre_examen))]),a("td",[e._v(e._s(t.fecha_hora))])])})),0)])])],1)],1),a("b-modal",{attrs:{id:"reporteModal",title:"Reporte de Cuenta Parcial",size:"lg"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:e.generarPDF_CuentaParcial}},[e._v("Generar PDF")]),a("b-button",{attrs:{variant:"secondary"},on:{click:function(t){return e.$bvModal.hide("reporteModal")}}},[e._v("Cerrar")])]},proxy:!0}])},[a("div",{staticClass:"modal-body"},[a("p",[a("strong",[e._v("Total consumo de servicios:")]),e._v(" Q"+e._s(e.reporte.ConsumoTotal))]),a("p",[a("strong",[e._v("Total consumo de materiales comunes:")]),e._v(" Q"+e._s(e.reporte.ConsumoComunTotal))]),a("p",[a("strong",[e._v("Total consumo de medicamentos:")]),e._v(" Q"+e._s(e.reporte.ConsumoMedicamentosTotal))]),a("p",[a("strong",[e._v("Total consumo de materiales quirúrgicos:")]),e._v(" Q"+e._s(e.reporte.ConsumoQuirurgicosTotal+e.reporte.ConsumoTotal))]),a("p",[a("strong",[e._v("Total de exámenes realizados:")]),e._v(" Q"+e._s(e.reporte.ExamenesTotal))]),a("p",[a("strong",[e._v("Total de servicios en sala de operaciones:")]),e._v(" Q"+e._s(e.reporte.ServicioSalaOperacionesTotal))]),a("hr"),a("p",[a("strong",[a("u",[e._v("Total deuda:")]),e._v(" Q"+e._s(e.reporte.TotalDeuda))])])])]),a("b-modal",{attrs:{id:"HistorialCuenta",title:"Historial de las Cuentas",size:"lg"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"primary"},on:{click:e.generarPDF_Historial}},[e._v("Generar PDF")]),a("b-button",{attrs:{variant:"secondary"},on:{click:function(t){return e.$bvModal.hide("HistorialCuenta")}}},[e._v("Cerrar")])]},proxy:!0}])},[a("div",{staticClass:"modal-body"},[a("p",[a("strong",[e._v("Total consumo de servicios:")]),e._v(" Q"+e._s(e.reporteHisotiral.ConsumoTotal))]),a("p",[a("strong",[e._v("Total consumo de materiales comunes:")]),e._v(" Q"+e._s(e.reporteHisotiral.ConsumoComunTotal))]),a("p",[a("strong",[e._v("Total consumo de medicamentos:")]),e._v(" Q"+e._s(e.reporteHisotiral.ConsumoMedicamentosTotal))]),a("p",[a("strong",[e._v("Total consumo de materiales quirúrgicos:")]),e._v(" Q"+e._s(e.reporteHisotiral.ConsumoQuirurgicosTotal))]),a("p",[a("strong",[e._v("Total de exámenes realizados:")]),e._v(" Q"+e._s(e.reporteHisotiral.ExamenesTotal))]),a("p",[a("strong",[e._v("Total de servicios en sala de operaciones:")]),e._v(" Q"+e._s(e.reporteHisotiral.ServicioSalaOperacionesTotal))]),a("hr")])]),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Quirófano")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("div",{staticClass:"button-container"},[a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){e.setData(t.rowData),e.traslado(t.rowData.id)}}},[e._v("Trasladar")]),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success",disabled:!e.hasPermission([10])},on:{click:function(a){return e.addReceta(t.rowData.id)}}},[e._v("Agregar receta")]),"PENDIENTE"!==t.rowData.nombres?a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){return e.verReceta(t.rowData.id)}}},[e._v("Ver recetas")]):e._e(),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){return e.addServicio(t.rowData.id)}}},[e._v("Agregar servicios")]),"PENDIENTE"!==t.rowData.nombres?a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){return e.mostrarVerServicio(t.rowData.id)}}},[e._v("Ver servicios")]):e._e(),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){e.showModal("modal-add-honorarios"),e.obtenerIdCuenta(t.rowData.id)}}},[e._v("Agregar honorarios")]),"PENDIENTE"!==t.rowData.nombres?a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){e.showModal("modal-ver-honorarios"),e.getDataHonorarios(t.rowData.id)}}},[e._v("Ver honorarios")]):e._e(),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){e.showModal("modal-sala-operaciones"),e.obtenerIdCuenta(t.rowData.id)}}},[e._v("Sala Operaciones")]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Agregar consumo",expression:"'Agregar consumo'",modifiers:{top:!0}}],staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){return e.mostrarModalConsumos(t.rowData.id)}}},[e._v("Consumos")]),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){e.showModal("modal_agregar"),e.ver_examen_realizado(t.rowData.id),e.realizar_examen(t.rowData.id,t.rowData.nombres,t.rowData.apellidos,t.rowData.cui,t.rowData.telefono,t.rowData.nacimiento)}}},[e._v("Agregar Examen")]),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark",disabled:!e.hasPermission([9,10])},on:{click:function(a){return e.generarReporteCuentaParcial(t.rowData.id,t.rowData.nombres,t.rowData.apellidos)}}},[e._v("Cuenta parcial")]),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success",disabled:!e.hasPermission([9,10,11])},on:{click:function(a){return e.generarHistorialCuentas(t.rowData.id)}}},[e._v("Historial Cuenta")]),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark",disabled:!e.hasPermission([10])},on:{click:function(a){return e.addEvolucion(t.rowData.id)}}},[e._v("Agregar evolución")]),"PENDIENTE"!==t.rowData.nombres?a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){return e.verEvolucion(t.rowData.id)}}},[e._v("Ver evolución")]):e._e(),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark",disabled:!e.hasPermission([10])},on:{click:function(a){return e.addOrdenes(t.rowData.id)}}},[e._v("Agregar orden médica")]),"PENDIENTE"!==t.rowData.nombres?a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){return e.verOrden(t.rowData.id)}}},[e._v("Ver órdenes médicas")]):e._e()],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},rn=[],on={name:"Quirofano",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H,quillEditor:lr["quillEditor"],Multiselect:Vi.a},setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){this.searchingMedicamentos(),this.getHabitaciones(0)},mounted:function(){g["a"].index(),this.cargarPreciosServicios(),this.getPersonal()},data:function(){return{personalOptions:[],selectedPersonal:[],resultados:null,campos:[{key:"campo",label:"Campo"},{key:"tipo_examen",label:"Tipo de Examen"},{key:"unidades",label:"Unidades"},{key:"resultado",label:"Resultado"},{key:"valor_minimo",label:"Valor Mínimo"},{key:"valor_maximo",label:"Valor Máximo"},{key:"alarma",label:"Alarma"},{key:"fecha_hora",label:"Fecha/Hora"}],tituloVer:"",consumosTemporales:[],insumosActuales:[],tipoInsumoActual:"0",from:0,to:0,total:0,editorOptions:{modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],["clean"]]},placeholder:"Escribir contenido de la receta",theme:"snow"},editorOptions2:{modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],["clean"]]},placeholder:"Escribir la evolución",theme:"snow"},editorOptions3:{modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],["clean"]]},placeholder:"Escribir la orden médica",theme:"snow"},perPage:25,search:"",existencias_selected_med:null,max_cant:0,selectedTrasOption:1,selectedHab:null,habitaciones:[],motivoTrasladoEmergencia:"",optionsTraslado:[{text:"Hospitalización",value:1},{text:"Intensivos",value:4}],form:{id:0,name:"",state:1,selectedOption:"hospi",receta:null,evolucion:null,orden:null,nombres:"",id_receta:null,cantidad:null,selected_insumo:"0"},servicio:null,alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/expedientes/listQuirofano",apiBaseReceta:"",apiBaseConsumo:"",apiBaseConsumoMedicamento:"",apiBaseConsumoQuirurgico:"",apiBaseConsumoComun:"",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombres",sortField:"nombres",title:"Nombre",dataClass:"list-item-heading"},{name:"apellidos",sortField:"apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"expediente",sortField:"expediente",title:"Expediente",dataClass:"list-item-heading"},{name:"medico.nombre",sortField:"medico.nombre",title:"Médico tratante",dataClass:"list-item-heading"},{name:"habitacione.numero",title:"Habitación",dataClass:"list-item-heading"},{name:"fecha_ingreso_reciente",sortField:"fecha_ingreso_reciente",title:"Fecha de ingreso",dataClass:"list-item-heading"},{name:"hora_ingreso_reciente",sortField:"hora_ingreso_reciente",title:"Hora de ingreso",dataClass:"list-item-heading"}],fieldsReceta:[{name:"contenido",sortField:"contenido",title:"Indicaciones",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Creado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha de creación",dataClass:"list-item-heading"}],fieldsConsumo:[{name:"servicio.descripcion",sortField:"servicio.descripcion",title:"Nombre del servicio",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"subtotal",sortField:"subtotal",title:"Subtotal",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de consumo",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Creación",dataClass:"list-item-heading"}],fieldsConsumo2:[{name:"servicio.descripcion",sortField:"servicio.descripcion",title:"Nombre del servicio",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de consumo",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Creación",dataClass:"list-item-heading"}],fieldsConsumoInsumo:[{name:"comune.nombre",sortField:"comune.nombre",title:"Nombre del insumo",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"comune.presentacione.nombre",sortField:"comune.presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"precio_venta",sortField:"precio_venta",title:"Precio unitario",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Subtotal",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha y hora",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de distribución",dataClass:"list-item-heading"}],fieldsConsumoInsumoQuirurgico:[{name:"quirurgico.nombre",sortField:"quirurgico.nombre",title:"Nombre del insumo",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"quirurgico.presentacione.nombre",sortField:"quirurgico.presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"precio_venta",sortField:"precio_venta",title:"Precio unitario",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Subtotal",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha y hora",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de distribución",dataClass:"list-item-heading"}],fieldsConsumoInsumoMedicamento:[{name:"medicamento.nombre",sortField:"medicamento.nombre",title:"Nombre del insumo",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"medicamento.presentacione.nombre",sortField:"medicamento.presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"precio_venta",sortField:"precio_venta",title:"Precio unitario",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Subtotal",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha y hora",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de distribución",dataClass:"list-item-heading"}],fieldsConsumoInsumo2:[{name:"comune.nombre",sortField:"comune.nombre",title:"Nombre del insumo",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"comune.presentacione.nombre",sortField:"comune.presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha y hora",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de distribución",dataClass:"list-item-heading"}],fieldsConsumoInsumoQuirurgico2:[{name:"quirurgico.nombre",sortField:"quirurgico.nombre",title:"Nombre del insumo",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"quirurgico.presentacione.nombre",sortField:"quirurgico.presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha y hora",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de distribución",dataClass:"list-item-heading"}],fieldsConsumoInsumoMedicamento2:[{name:"medicamento.nombre",sortField:"medicamento.nombre",title:"Nombre del insumo",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"medicamento.presentacione.nombre",sortField:"medicamento.presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"createdAt",sortField:"createdAt",title:"Fecha y hora",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Lugar de distribución",dataClass:"list-item-heading"}],servicios:[],honorario:{medico:null,lugar:"Quirófano",descripcion:"",total:null},idCuentaSeleccionada:null,medicos:[],apiBaseHonorarios:q["a"]+"/detalle_honorarios",honorarios:[],fieldsHonorarios:[{key:"medico",label:"Nombre del Médico"},{key:"descripcion",label:"Descripción"},{key:"total",label:"Total"},{key:"createdAt",label:"Fecha y Hora"},{key:"updated_by",label:"Creado por"}],pagination:{currentPage:1,perPage:10,total:0},currentExpedienteId:null,salaOperaciones:{oximetro:!1,cauterio:!1,monitor:!1,horas:null,minutos:null,categoria:null},preciosCategorias:{},preciosServicios:{},TotalAPagar:0,tiempoBase:150,tarifaHoraExtra:0,Quirurgicos:[],formQui:{id_cuenta:0,cantidad:0,quirurgico:null,state:1,movimiento:"SALIDAQ"},medicamentos:[],formMe:{id_cuenta:0,id_medicine:null,cantidad:null,medicamento:null,state:1,precio_venta:0,existencias_actuales:null,movimiento:"SALIDAH"},Comunes:[],formCom:{id_cuenta:0,cantidad:0,comun:null,state:1,movimiento:"SALIDAQ"},camposResulado:[],item_examenes:[],examenes_almacenados:[],examenes_almacenadosBuscar:[],encargados:[],currentPageExa:1,selectedExamenes:[],TotalAPagar2:0,formExamen:{id:0,nombre:"",apellido:"",cui:0,edad:0,comision:"",total:0,correo:"",whatsapp:"",numero_muestra:0,existencia_actual:0,referido:"QUIROFANO",id_encargado:null,pagado:0,por_pagar:0,id_examenes_almacenados:null,NewExpediente:!1,id_expediente:0,examenExterior:!1,nacimiento:null},selectedExamenAlmacenado:null,fromExamenes:0,toExamenes:0,totalExamenes:0,perPageExamenes:5,searchExamenes:"",fechaDesdeExamenes:null,fechaHastaExamenes:null,apiBaseExamenes:null,formResultado:{id:null,id_campo:"",id_tipo:"",resultado:null,alarma:""},fieldsCampos:[{key:"nombre",label:"Nombre"},{key:"unidades",label:"Unidades"},{key:"resultado",label:"Resultado"}],fieldsExamenes:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"nombre",title:"Nombre",dataClass:"list-item-heading"},{name:"cui",sortField:"cui",title:"CUI",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Total a Pagar",dataClass:"list-item-heading"},{name:"whatsapp",sortField:"whatsapp",title:"Celular",dataClass:"list-item-heading"},{name:"numero_muestra",sortField:"numero_muestra",title:"Numero de Muestra",dataClass:"list-item-heading"},{name:"nombre_encargago",sortField:"nombre_encargago",title:"Nombre de Encargado",dataClass:"list-item-heading"},{name:"pagado",sortField:"pagado",title:"Pagado",dataClass:"list-item-heading"},{name:"por_pagar",sortField:"por_pagar",title:"Por Pagar",dataClass:"list-item-heading"},{name:"nombre_examen",sortField:"nombre_examen",title:"Examen Realizado",dataClass:"list-item-heading"},{name:"fecha_hora",sortField:"fecha_hora",title:"Fecha y Hora",dataClass:"list-item-heading"}],reporte:{ConsumoTotal:"0.00",ConsumoComunTotal:"0.00",ConsumoMedicamentosTotal:"0.00",ConsumoQuirurgicosTotal:"0.00",ExamenesTotal:"0.00",ServicioSalaOperacionesTotal:"0.00",TotalDeuda:"0.00"},dataPDFsumario:null,nombrePaciente:null,nacimientoPaciente:null,fechaIngreso:null,dataPDF_Historial:null,reporteHisotiral:{ConsumoTotal:"0.00",ConsumoComunTotal:"0.00",ConsumoMedicamentosTotal:"0.00",ConsumoQuirurgicosTotal:"0.00",ExamenesTotal:"0.00",ServicioSalaOperacionesTotal:"0.00",TotalDeuda:"0.00"}}},validations:function(){return{form:{name:{required:_a["c"]},selected_insumo:{required:_a["c"]}},formMe:{id_medicine:{required:_a["c"]},cantidad:{required:_a["c"]}},salaOperaciones:{minutos:{required:_a["c"]},categoria:{required:_a["c"]}}}},computed:Object(s["a"])({isCirugiaMayorOMedia:function(){return"Cirugia media"===this.salaOperaciones.categoria||"Cirugia mayor"===this.salaOperaciones.categoria}},Object(_["c"])({currentUser:"currentUser"})),watch:{"salaOperaciones.categoria":"calcularTotalAPagar","salaOperaciones.oximetro":"calcularTotalAPagar","salaOperaciones.monitor":"calcularTotalAPagar","salaOperaciones.cauterio":"calcularTotalAPagar","salaOperaciones.horas":"calcularTotalAPagar","salaOperaciones.minutos":"calcularTotalAPagar",selectedExamenAlmacenado:function(e){e&&(this.formExamen.por_pagar=e.precio_normal,this.formExamen.id_examenes_almacenados=e.id,this.formExamen.total=e.precio_normal)},selectedExamenes:function(e){e?(this.TotalAPagar2=e.reduce((function(e,t){return parseFloat(e)+parseFloat(t.precio_normal)}),0),this.formExamen.total=this.TotalAPagar2,this.formExamen.id_examenes_almacenados=e.map((function(e){return e.id})),this.formExamen.por_pagar=this.TotalAPagar2):console.log("ERROR AL CARGAR EL TOTAL A PAGAR EN LA FUNCION WATCH")}},methods:{cargarInsumos:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r="",a.t0=e,a.next="0"===a.t0?4:"1"===a.t0?6:"2"===a.t0?8:10;break;case 4:return r="/medicamentos/list2",a.abrupt("break",10);case 6:return r="/quirurgico/list2",a.abrupt("break",10);case 8:return r="/comun/list2",a.abrupt("break",10);case 10:return a.prev=10,a.next=13,ie.a.get(q["a"]+r);case 13:o=a.sent,t.insumosActuales=o.data.map((function(e){return{value:e.id,text:e.nombre+" --- "+e.presentacione.nombre,existencias_actuales:e.existencia_actual,precio_venta:e.precio_venta,inventariado:e.inventariado}})),a.next=20;break;case 17:a.prev=17,a.t1=a["catch"](10),console.error("Error cargando insumos:",a.t1);case 20:case"end":return a.stop()}}),a,null,[[10,17]])})))()},onSelectChange:function(){this.tipoInsumoActual=this.form.selected_insumo,this.cargarInsumos(this.form.selected_insumo),this.formMe.id_medicine=null},onSeleccionarInsumo:function(e){var t=this;if(e){var a=this.insumosActuales.find((function(t){return t.value===e}));if(a){var r=this.consumosTemporales.some((function(a){return a.id===e&&a.tipo===t.tipoInsumoActual}));if(r)return this.alertErrorText="Este insumo ya fue agregado.",void(this.alertCountDownError=5);if(0===a.existencias_actuales&&"INVENTARIADO"===a.inventariado)return this.alertErrorText="El insumo no posee existencias",void(this.alertCountDownError=5);this.consumosTemporales.push({id:e,tipo:this.tipoInsumoActual,nombre:a.text,cantidad:1,existencias:a.existencias_actuales,precio_venta:a.precio_venta,inventariado:a.inventariado}),this.$nextTick((function(){t.formMe.id_medicine=null}))}}},onSave:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){var a,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.consumosTemporales.length){t.next=4;break}return e.alertErrorText="Debe agregar al menos un insumo.",e.alertCountDownError=5,t.abrupt("return");case 4:t.prev=4,a=Object(Ni["a"])(e.consumosTemporales),t.prev=6,a.s();case 8:if((r=a.n()).done){t.next=26;break}if(o=r.value,!(o.cantidad<=0||o.cantidad>o.existencias&&"INVENTARIADO"===o.inventariado)){t.next=12;break}throw new Error("Cantidad inválida para ".concat(o.nombre));case 12:if("0"!==o.tipo){t.next=17;break}return t.next=15,e.onSaveMedicamento(o);case 15:t.next=24;break;case 17:if("1"!==o.tipo){t.next=22;break}return t.next=20,e.onSaveQuirurgico(o);case 20:t.next=24;break;case 22:return t.next=24,e.onSaveComunes(o);case 24:t.next=8;break;case 26:t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](6),a.e(t.t0);case 31:return t.prev=31,a.f(),t.finish(31);case 34:e.alertVariant="success",e.alertText="Consumos registrados exitosamente!",e.showAlert(),e.consumosTemporales=[],e.$refs.vuetableConsumoInsumos.refresh(),e.$refs.vuetableConsumoQuirurgicos.refresh(),e.$refs.vuetableConsumoComunes.refresh(),e.$refs["modal-1-movimiento"].hide(),t.next=50;break;case 44:t.prev=44,t.t1=t["catch"](4),e.alertVariant="danger",e.alertText="Error al guardar consumos",e.showAlert(),console.error("Error:",t.t1);case 50:case"end":return t.stop()}}),t,null,[[4,44],[6,28,31,34]])})))()},openModal2:function(){this.tipoInsumoActual="0",this.cargarInsumos("0")},eliminarDeLista:function(e){this.consumosTemporales=this.consumosTemporales.filter((function(t){return t.id!==e}))},mostrarModalConsumos:function(e){[9,10].includes(this.currentUser.user_type)?this.showModal("modal-1-movimiento2"):this.showModal("modal-1-movimiento"),this.getConsumoMedicamentos(e),this.obtenerIdCuenta(e)},mostrarVerServicio:function(e){[9,10].includes(this.currentUser.user_type)?this.$refs["modal-ver-servicio2"].show():this.$refs["modal-ver-servicio"].show(),this.getDataConsumos(e),this.form.id_consumo=e},hasPermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.includes(this.currentUser.user_type)},changeCheck:function(){this.isCirugiaMayorOMedia?this.isCirugiaMayorOMedia&&(this.salaOperaciones.oximetro=!0,this.salaOperaciones.cauterio=!0,this.salaOperaciones.monitor=!0):(this.salaOperaciones.oximetro=!1,this.salaOperaciones.cauterio=!1,this.salaOperaciones.monitor=!1)},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.state=1,this.form.selected_insumo="0",this.existencias_selected_med=null,this.formMe.precio_venta=0,this.formMe.existencias_actuales=null;break}},closeModal:function(e){switch(e){case"traslado":this.$v.$reset(),this.$refs["modal-traslado"].hide(),this.form.id=0,this.form.name="",this.form.state=1,this.form.selected_insumo="0";break;case"add-receta":this.$v.$reset(),this.$refs["modal-add-receta"].hide(),this.form.id=0,this.form.receta=null,this.form.name="",this.form.state=1,this.form.selected_insumo="0";break;case"add-evolucion":this.$v.$reset(),this.$refs["modal-add-evolucion"].hide(),this.form.id=0,this.form.evolucion=null,this.form.name="",this.form.state=1,this.form.selected_insumo="0";break;case"add-orden":this.$v.$reset(),this.$refs["modal-add-orden"].hide(),this.form.id=0,this.form.orden=null,this.form.name="",this.form.state=1,this.form.selected_insumo="0";break;case"ver-receta":this.$v.$reset(),this.$refs["modal-ver-receta"].hide(),this.form.id=0,this.form.name="",this.form.state=1,this.form.id_receta=null,this.form.selected_insumo="0";break;case"add-servicio":this.$v.$reset(),this.$refs["modal-add-servicio"].hide(),this.form.id=0,this.form.name="",this.form.state=1,this.form.cantidad=null,this.servicio=null,this.form.servicio=null,this.form.selected_insumo="0";break;case"ver-servicio":this.$v.$reset(),this.$refs["modal-ver-servicio"].hide(),this.form.id=0,this.form.name="",this.form.state=1,this.honorarios=[],this.pagination.currentPage=1,this.pagination.total=0,this.honorario={medico:null,descripcion:"",total:null};break;case"ver-servicio2":this.$v.$reset(),this.$refs["modal-ver-servicio2"].hide(),this.form.id=0,this.form.name="",this.form.state=1,this.honorarios=[],this.pagination.currentPage=1,this.pagination.total=0,this.honorario={medico:null,descripcion:"",total:null};break;case"ver-honorarios":this.$v.$reset(),this.$refs["modal-ver-honorarios"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"add-honorarios":this.$v.$reset(),this.$refs["modal-add-honorarios"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"sala-operaciones":this.$v.$reset(),this.$refs["modal-sala-operaciones"].hide(),this.salaOperaciones.oximetro=!1,this.salaOperaciones.cauterio=!1,this.salaOperaciones.monitor=!1,this.salaOperaciones.horas=null,this.salaOperaciones.minutos=null,this.salaOperaciones.categoria=null;break;case"save":this.$v.$reset(),this.$refs["modal-1-movimiento"].hide(),this.formMe.id_cuenta=0,this.formMe.cantidad=0,this.formMe.medicamento=null,this.formMe.movimiento="SALIDAQ",this.form.selected_insumo="0",this.existencias_selected_med=null;break;case"save2":this.$v.$reset(),this.$refs["modal-1-movimiento2"].hide(),this.formMe.id_cuenta=0,this.formMe.cantidad=0,this.formMe.medicamento=null,this.formMe.movimiento="SALIDAQ",this.form.selected_insumo="0",this.existencias_selected_med=null;break;case"SaveQuirurgico":this.$v.$reset(),this.$refs["modal-1-movimiento"].hide(),this.formQui.id_cuenta=0,this.formQui.cantidad=0,this.formQui.quirurgico=null,this.formQui.movimiento="SALIDAQ",this.existencias_selected_med=null;break;case"SaveComunes":this.$v.$reset(),this.$refs["modal-1-movimiento"].hide(),this.formCom.id_cuenta=0,this.formCom.cantidad=0,this.formCom.quirurgico=null,this.formCom.movimiento="SALIDAQ",this.existencias_selected_med=null;break;case"ver-consumo":this.$v.$reset(),this.$refs["modal-ver-consumo"].hide(),this.form.id=0,this.form.name="",this.form.state=1,this.form.id_receta=null,this.form.selected_insumo="0";break;case"modal_agregar":this.$v.$reset(),this.$refs["modal_agregar"].hide(),this.formExamen.id=0,this.formExamen.nombre="",this.formExamen.cui=0,this.formExamen.edad=0,this.formExamen.comision="",this.formExamen.total=0,this.formExamen.correo="",this.formExamen.whatsapp="",this.formExamen.numero_muestra="",this.formExamen.referido="",this.formExamen.id_encargago=null,this.formExamen.pagado=0,this.formExamen.por_pagar=0,this.formExamen.id_examenes_almacenados=null,this.formExamen.id_expediente=0,this.formExamen.examenExterior=!1,this.formExamen.nacimiento=null,this.apiBaseExamenes=null,this.item_examenes=[],this.examenes_almacenados=[],this.examenes_almacenadosBuscar=[],this.currentPageExa=1,this.selectedExamenes=[];break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},calcularTotalAPagar:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){var a,r,o,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a=0,!e.salaOperaciones.categoria){t.next=8;break}return t.next=5,ie.a.get(q["a"]+"/Categorias_Sala_Operaciones/getSearch?search=".concat(e.salaOperaciones.categoria));case 5:r=t.sent,a+=parseFloat(r.data[0].precio),e.tarifaHoraExtra=parseFloat(r.data[0].cobro_extra);case 8:e.salaOperaciones.oximetro&&(a+=parseFloat(e.preciosServicios["Oximetro"])||0),e.salaOperaciones.cauterio&&(a+=parseFloat(e.preciosServicios["Cauterio"])||0),e.salaOperaciones.monitor&&(a+=parseFloat(e.preciosServicios["Monitor"])||0),o=parseFloat(e.salaOperaciones.horas)||0,i=parseFloat(e.salaOperaciones.minutos)||0,n=60*o+i,n>e.tiempoBase&&(a+=parseFloat(e.tarifaHoraExtra)*Math.ceil((n-e.tiempoBase)/60)),e.TotalAPagar=parseFloat(a),t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](0),console.error("Error al calcular el total a pagar:",t.t0),e.TotalAPagar=0;case 22:case"end":return t.stop()}}),t,null,[[0,18]])})))()},cargarPreciosServicios:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ie.a.get(q["a"]+"/servicios/get");case 3:a=t.sent,e.preciosServicios=a.data.reduce((function(e,t){return e[t.descripcion]=t.precio,e}),{}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error("Error al obtener precios de servicios:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},calcularEdad:function(e){if(!e)return"";var t=F()(e,"DD-MM-YYYY").format("YYYY-MM-DD"),a=new Date,r=new Date(t),o=a.getFullYear()-r.getFullYear(),i=r.getMonth(),n=r.getDate();return(a.getMonth()<i||a.getMonth()===i&&a.getDate()<n)&&o--,o},onSaveMedicamento:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,r={id_cuenta:t.idCuentaSeleccionada,id_medicamento:e.id,cantidad:e.cantidad,precio_venta:e.precio_venta,movimiento:"SALIDAQ",state:1,existencias_actuales:e.existencias,user:t.currentUser.user},o=t.currentUser,a.next=5,ie.a.post(q["a"]+"/detalle_consumo_medicamentos/create",{form:r,currentUser:o});case 5:t.form.selected_insumo="0",a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](0),console.error("Error en onSaveMedicamento:",a.t0),a.t0;case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},onSaveQuirurgico:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,r={id_cuenta:t.idCuentaSeleccionada,id_medicamento:e.id,cantidad:e.cantidad,precio_venta:e.precio_venta,movimiento:"SALIDAQ",state:1,existencias_actuales:e.existencias,user:t.currentUser.user,inventariado:e.inventariado},o=t.currentUser,a.next=5,ie.a.post(q["a"]+"/detalle_consumo_quirugicos/create",{form:r,currentUser:o});case 5:t.form.selected_insumo="0",a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](0),console.error("Error en onSaveQuirurgico:",a.t0),a.t0;case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},onSaveComunes:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,r={id_cuenta:t.idCuentaSeleccionada,id_medicamento:e.id,cantidad:e.cantidad,precio_venta:e.precio_venta,movimiento:"SALIDAQ",state:1,existencias_actuales:e.existencias,user:t.currentUser.user,inventariado:e.inventariado},o=t.currentUser,a.next=5,ie.a.post(q["a"]+"/detalle_consumo_comun/create",{form:r,currentUser:o});case 5:t.form.selected_insumo="0",a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](0),console.error("Error en onSaveComunes:",a.t0),a.t0;case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},traslado:function(e){this.$refs["modal-traslado"].show(),this.form.id=e},saveTraslado:function(){var e=this;ie.a.put(q["a"]+"/expedientes/changeStatus",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha trasladado el expediente exitosamente",e.$refs.vuetable.refresh(),e.closeModal("traslado"),e.form.id=0,e.form.selectedOption="hospi"})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},addReceta:function(e){this.$refs["modal-add-receta"].show(),this.form.id=e},addEvolucion:function(e){this.$refs["modal-add-evolucion"].show(),this.form.id=e},addOrdenes:function(e){this.$refs["modal-add-orden"].show(),this.form.id=e},saveReceta:function(){var e=this;null!==e.form.receta&&ie.a.post(q["a"]+"/recetas/create",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha creado la receta exitosamente",e.$refs.vuetable.refresh(),e.closeModal("add-receta"),e.form.id=0})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},saveEvolucion:function(){var e=this;null!==e.form.evolucion&&ie.a.post(q["a"]+"/evoluciones/create",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha creado la nota de evolución exitosamente",e.$refs.vuetable.refresh(),e.closeModal("add-evolucion"),e.form.id=0})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},saveOrden:function(){var e=this;null!==e.form.orden&&ie.a.post(q["a"]+"/ordenes/create",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha creado la orden médica exitosamente",e.$refs.vuetable.refresh(),e.closeModal("add-orden"),e.form.id=0})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},verReceta:function(e){this.$refs["modal-ver-receta"].show(),this.getDataRecetas(e),this.form.id_receta=e,this.tituloVer="Ver receta"},verEvolucion:function(e){this.$refs["modal-ver-receta"].show(),this.getDataEvoluciones(e),this.form.id_receta=e,this.tituloVer="Ver evolución del paciente"},verOrden:function(e){this.$refs["modal-ver-receta"].show(),this.getDataOrdenes(e),this.form.id_receta=e,this.tituloVer="Ver órdenes del paciente"},addServicio:function(e){this.$refs["modal-add-servicio"].show(),this.form.id=e},saveServicio:function(){var e=this;null!==e.servicio.id&&null!==e.form.cantidad?(e.form.servicio=e.servicio,e.form.descripcion="Añadido en quirófano",ie.a.post(q["a"]+"/consumos/create",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha creado el consumo de un servicio exitosamente",e.$refs.vuetable.refresh(),e.closeModal("add-servicio"),e.form.id=0})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))):(e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Por favor llene los campos solicitados")},addhonorarios:function(e){this.obtenerIdCuenta(e),this.$refs["modal-add-honorarios"].show()},agregarHonorario:function(){try{ie.a.post(q["a"]+"/detalle_honorarios/created",{id_medico:this.honorario.medico.id,id_cuenta:this.idCuentaSeleccionada,descripcion:this.honorario.descripcion,total:this.honorario.total,lugar:"Hospitalización"}),this.$refs["modal-add-honorarios"].hide(),this.honorario={medico:null,descripcion:"",total:null}}catch(e){console.error(e),this.alertErrorText="Error al agregar honorarios",this.showAlertError()}},addSalaOperaciones:function(){if(this.salaOperaciones.minutos>0||this.salaOperaciones.horas>0)try{ie.a.post(q["a"]+"/salaOperaciones/created",{oximetro:this.salaOperaciones.oximetro,cauterio:this.salaOperaciones.cauterio,monitor:this.salaOperaciones.monitor,horas:this.salaOperaciones.horas,minutos:this.salaOperaciones.minutos,categoria:this.salaOperaciones.categoria,id_cuenta:this.idCuentaSeleccionada,personal:this.selectedPersonal}),this.$refs["modal-sala-operaciones"].hide(),this.salaOperaciones={oximetro:!1,cauterio:!1,monitor:!1,horas:null,minutos:null,categoria:null},this.selectedPersonal=[]}catch(e){console.error(e),this.alertErrorText="Error al agregar honorarios",this.showAlertError()}else this.alertErrorText="Debe ingresar el tiempo que se utilizo la sala.",this.showAlertError()},showModal:function(e){this.$bvModal.show(e)},verHonorarios:function(e){this.obtenerIdCuenta(e),this.$refs["modal-ver-honorarios"].show()},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/expedientes/update",{form:e.form,user:e.currentUser.user}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el expediente "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){var t=this;this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data.map((function(e){return e.nacimiento=F()(e.nacimiento).format("DD/MM/YYYY"),e.edad=t.calcularEdad(e.nacimiento),e.fecha_ingreso_reciente=F()(e.fecha_ingreso_reciente).format("DD/MM/YYYY"),{nacimiento:e.nacimiento,edad:e.edad}})),this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},makeQueryParamsReceta:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage}},onPaginationDataReceta:function(e){this.fromP=e.from,this.toP=e.to,this.totalP=e.total,this.lastPageP=e.last_page,this.items=e.data.map((function(e){return e.createdAt=F()(e.createdAt).format("DD/MM/YYYY"),e.updatedAt=F()(e.updatedAt).format("DD/MM/YYYY"),{createdAt:e.createdAt,updatedAt:e.updatedAt}})),this.$refs.paginationReceta.setPaginationData(e)},onChangePageReceta:function(e){this.$refs.vuetableRecetas.changePage(e)},getDataRecetas:function(e){this.form.id=e,this.apiBaseReceta=q["a"]+"/recetas/getId?id=".concat(e)},getDataEvoluciones:function(e){this.form.id=e,this.apiBaseReceta=q["a"]+"/evoluciones/getId?id=".concat(e)},getDataOrdenes:function(e){this.form.id=e,this.apiBaseReceta=q["a"]+"/ordenes/getId?id=".concat(e)},onSearchServicios:function(e,t){e.length&&this.searchingServicios(e,t)},searchingServicios:function(e,t){var a=this;ie.a.get(q["a"]+"/servicios/getSearch",{params:{search:e}}).then((function(e){a.servicios=e.data}))},searchingMedicos:function(e,t){var a=this;ie.a.get(q["a"]+"/medicos/getSearch",{params:{search:e}}).then((function(e){a.medicos=e.data}))},onSearchMedicos:function(e,t){e.length&&this.searchingMedicos(e,t)},makeQueryParamsConsumo:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage}},onPaginationDataConsumo:function(e){this.fromP=e.from,this.toP=e.to,this.totalP=e.total,this.lastPageP=e.last_page,this.items=e.data.map((function(e){return e.createdAt=F()(e.createdAt).format("DD/MM/YYYY"),e.updatedAt=F()(e.updatedAt).format("DD/MM/YYYY"),{createdAt:e.createdAt,updatedAt:e.updatedAt}})),this.$refs.paginationConsumo.setPaginationData(e)},onChangePageConsumo:function(e){this.$refs.vuetableConsumos.changePage(e),this.$refs.vuetableConsumoInsumos.changePage(e),this.$refs.vuetableConsumoQuirurgicos.changePage(e),this.$refs.vuetableConsumoComunes.changePage(e)},getDataConsumos:function(e){this.form.id=e,this.apiBaseConsumo=q["a"]+"/consumos/getId?id=".concat(e)},makeQueryParamsConsumoInsumo:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage}},onPaginationDataHonorarios:function(e){this.honorarios=e.data.map((function(e){return e.total=parseFloat(e.total).toFixed(2),e.createdAt=F()(e.createdAt).format("DD/MM/YYYY h:mm A"),{id:e.id,medico:e.medico.nombre,descripcion:e.descripcion,total:e.total,createdAt:e.createdAt,updated_by:e.updated_by}})),this.pagination.total=e.total,this.pagination.currentPage=Math.floor((e.from-1)/this.pagination.perPage)+1},onChangePageHonorario:function(e){this.pagination.currentPage=e,this.getDataHonorarios(this.currentExpedienteId)},updateTotal:function(e){var t=this,a=e.id,r=e;ie.a.put(q["a"]+"/detalle_honorarios/".concat(a),{form:r}).then((function(e){t.alertVariant="primary",t.showAlert(),t.alertText="Se ha actualizado el expediente los honorarios del / la "+r.medico+" exitosamente"})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",e)}))},obtenerIdCuenta:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ie.a.get(q["a"]+"/cuentas/getSearch?search=".concat(e));case 3:r=a.sent,r.data&&r.data.id?t.idCuentaSeleccionada=r.data.id:(console.error("En AddHonorarios No se encontró ninguna cuenta para el expediente:",e),t.alertErrorText="No se encontró ninguna cuenta para este paciente",t.showAlertError()),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error("Error al obtener la cuenta:",a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},getDataHonorarios:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.currentExpedienteId=e,a.next=4,ie.a.get(q["a"]+"/cuentas/getSearch?search=".concat(e));case 4:if(r=a.sent,!r.data||!r.data.id){a.next=13;break}return o=r.data.id,a.next=9,ie.a.get(q["a"]+"/detalle_honorarios/getSearch?search=".concat(o,"&page=").concat(t.pagination.currentPage,"&limit=").concat(t.pagination.perPage));case 9:i=a.sent,t.onPaginationDataHonorarios(i.data),a.next=16;break;case 13:console.error("En Ver Honorarios No se encontró ninguna cuenta para el expediente:",e),t.alertErrorText="No se encontró ninguna cuenta para este paciente",t.showAlertError();case 16:a.next=21;break;case 18:a.prev=18,a.t0=a["catch"](0),console.error("Error al obtener los honorarios:",a.t0);case 21:case"end":return a.stop()}}),a,null,[[0,18]])})))()},searchingMedicamentos:function(e,t){var a=this;ie.a.get(q["a"]+"/medicamentos/list2").then((function(e){a.medicamentos=e.data.map((function(e){return{value:e.id,text:e.nombre,existencias_actuales:e.existencia_actual,precio_venta:e.precio_venta}}))}))},searchingQuirurgico:function(e,t){var a=this;ie.a.get(q["a"]+"/quirurgico/list").then((function(e){a.medicamentos=e.data.map((function(e){return{value:e.id,text:e.nombre,existencias_actuales:e.existencia_actual,precio_venta:e.precio_venta}}))}))},searchingComunes:function(e,t){var a=this;ie.a.get(q["a"]+"/comun/list2").then((function(e){a.medicamentos=e.data.map((function(e){return{value:e.id,text:e.nombre,existencias_actuales:e.existencia_actual,precio_venta:e.precio_venta}}))}))},onChangeMedicamento:function(){var e=this,t=this.medicamentos.find((function(t){return t.value===e.formMe.id_medicine}));this.max_cant=t.existencias_actuales,this.existencias_selected_med=t.existencias_actuales+" unidades en existencia.",this.formMe.precio_venta=t.precio_venta,this.formMe.existencias_actuales=t.existencias_actuales},getConsumoMedicamentos:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ie.a.get(q["a"]+"/cuentas/getSearch?search=".concat(e));case 3:r=a.sent,r.data&&r.data.id?(t.idCuentaSeleccionada=r.data.id,t.apiBaseConsumoMedicamento=q["a"]+"/detalle_consumo_medicamentos/list/".concat(r.data.id,"/Quirofano"),t.apiBaseConsumoQuirurgico=q["a"]+"/detalle_consumo_quirugicos/list/".concat(r.data.id,"/Quirofano"),t.apiBaseConsumoComun=q["a"]+"/detalle_consumo_comun/list/".concat(r.data.id,"/Quirofano")):(console.error("No se encontró ninguna cuenta para el expediente:",e),t.alertErrorText="No se encontró ninguna cuenta para este paciente",t.showAlertError()),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error("Error al obtener la cuenta:",a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},setData:function(e){this.form.name=e.nombres,this.form.nombres=e.nombres+" "+e.apellidos,this.form.apellidos=e.apellidos,this.form.state=e.estado,this.form.id=e.id},getHabitaciones:function(e){var t=this;ie.a.get(q["a"]+"/habitaciones/get",{params:{tipo:e}}).then((function(e){t.habitaciones=e.data}))},onState:function(){var e=this;ie.a.put(q["a"]+"/expedientes/changeState",{id:this.form.id,estado:this.selectedTrasOption,estado_anterior:3,motivo:this.motivoTrasladoQuirofano,user:this.currentUser.user}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha trasladado el paciente "+e.form.nombres+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-traslado"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},onRelocation:function(e){this.$v.$touch(),null==this.selectedHab||1!==this.selectedTrasOption&&4!==this.selectedTrasOption?(this.onState(),this.$bvModal.hide("modal-traslado")):(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},anular:function(e){var t=this,a=q["a"]+"/Examenes_realizados/update?id=".concat(e);ie.a.put(a,{form:t.anularExamen}).then((function(a){t.alertVariant="success",t.showAlert(),t.alertText="Se ha ANULADO el examen",t.ver_examen_realizado(e)})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText=e.response.data.msg,console.error("Error!",e)}))},getFieldsByExamenId:function(e){var t=this;ie.a.get(q["a"]+"/campoLaboratorio/getByExamenId",{params:{id:e}}).then((function(e){t.camposResulado=e.data.map((function(e){return{id:e.id,nombre:e.nombre,unidades:e.unidades,resultado:"",id_tipo:e.id_examenes_almacenados}}));var a=e.data;t.campos=a})).catch((function(e){console.error("Error al obtener los campos del examen:",e)}))},guardarExamenRealizado:function(){var e=this,t=this.formExamen.nacimiento.split("/"),a=new Date("".concat(t[2],"-").concat(t[1],"-").concat(t[0])),r=new Date,o=r.getFullYear()-a.getFullYear(),i=r.getMonth()-a.getMonth(),n=r.getDate()-a.getDate();(i<0||0===i&&n<0)&&o--,this.formExamen.edad=o,this.formExamen.numero_muestra=1,0!==this.formExamen.total&&0!==this.formExamen.numero_muestra&&null!==this.formExamen.id_examenes_almacenados?ie.a.post(q["a"]+"/Examenes_realizados/create",{form:this.formExamen,user:this.currentUser.user}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ingresado al pasciente "+e.formExamen.nombre+" exitosamente",e.closeModal("modal_agregar")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)})):(this.alertVariant="danger",this.showAlertError(),this.alertErrorText="Por favor llene los campos solicitados")},verResultado:function(e){var t=this;return Object(pe["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ie.a.get(q["a"]+"/detalleExamenRealizado/list?id=".concat(e));case 3:r=a.sent,r.data.data.length<1?(t.alertVariant="danger",t.showAlertError(),t.alertErrorText="El examen aun no posee resultados"):(t.resultados=r.data.data,t.$refs["modal-ver-resultados"].show()),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error("Error cargando insumos:",a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},realizar_examen:function(e,t,a,r,o,i){this.formExamen.nombre=t+" "+a,this.formExamen.cui=r,this.formExamen.whatsapp=o,this.formExamen.id_expediente=e,this.formExamen.nacimiento=i},ver_examen_realizado:function(e){var t=this;ie.a.get(q["a"]+"/Examenes_realizados/listId/".concat(e)).then((function(e){t.item_examenes=e.data}))},onSearch_id_examenes_almacenados:function(e,t){var a=this,r={search:e,page:this.currentPageExa,perPage:this.$refs.vuetable.perPage};ie.a.get(q["a"]+"/examenesAlmacenadosBuscar/getSearch",{params:r}).then((function(e){a.examenes_almacenadosBuscar=e.data.data,console.log(a.examenes_almacenadosBuscar),a.$refs.vuetableBuscar.setData(e.data)})).catch((function(e){console.error("Error al buscar exámenes:",e)}))},onPageChangeExa:function(e){this.currentPageExa=e,this.onSearch_id_examenes_almacenados("")},onSearchEncargado:function(e,t){e.length&&this.searchingEncargado(e,t)},searchingEncargado:function(e,t){var a=this;ie.a.get(q["a"]+"/encargadoExamen/getSearch",{params:{search:e}}).then((function(e){a.encargados=e.data}))},generarReporteCuentaParcial:function(e,t,a){var r=this;ie.a.get(q["a"]+"/consumos/sumario/".concat(e)).then((function(e){r.dataPDFsumario=e.data,r.nombrePaciente=t+" "+a,r.fechaIngreso=r.dataPDFsumario.fechaFormateada,r.mostrarReporte(e.data)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),r.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",r.showAlertError()}))},mostrarReporte:function(e){var t=0,a=e.consumos.reduce((function(e,t){return e+parseFloat(t.subtotal)}),0),r=e.consumosComunes.reduce((function(e,t){return e+parseFloat(t.total)}),0),o=e.consumosMedicamentos.reduce((function(e,t){return e+parseFloat(t.total)}),0),i=e.consumosQuirurgicos.reduce((function(e,t){return e+parseFloat(t.total)}),0),n=e.examenes.reduce((function(e,t){return e+t.total}),0),s=e.salaOperaciones.reduce((function(e,t){return e+parseFloat(t.total)}),0);t=parseFloat(a)+parseFloat(r)+parseFloat(o)+parseFloat(i)+parseFloat(n)+parseFloat(s),this.reporte={ConsumoTotal:this.formatearMonto(a),ConsumoComunTotal:this.formatearMonto(r),ConsumoMedicamentosTotal:this.formatearMonto(o),ConsumoQuirurgicosTotal:this.formatearMonto(i),ExamenesTotal:this.formatearMonto(n),ServicioSalaOperacionesTotal:this.formatearMonto(s),TotalDeuda:this.formatearMonto(t)},this.$bvModal.show("reporteModal")},generarPDF_CuentaParcial:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){var a,r,o,i,n,s,l,c,d,m,u,f,h,p,b,v,g,_,x,C,$,y,w,E,k,D,A;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.fechaIngreso,r=e.dataPDFsumario,o=new Date,i=o.toLocaleDateString("es-ES"),n={hour:"2-digit",minute:"2-digit",hour12:!0},s=o.toLocaleTimeString("es-ES",n),a?(c=new Date(a),d=o-c,m=Math.floor(d/864e5),l=m):l="NO ASIGNADA",u=l>=2?r.costo2*l:r.costo1;try{f=r.consumos.reduce((function(e,t){return e+parseFloat(t.subtotal)}),0),h=r.consumosComunes.reduce((function(e,t){return e+parseFloat(t.total)}),0),p=r.consumosMedicamentos.reduce((function(e,t){return e+parseFloat(t.total)}),0),b=r.consumosQuirurgicos.reduce((function(e,t){return e+parseFloat(t.total)}),0),v=r.examenes.reduce((function(e,t){return e+parseFloat(t.total)}),0),g=r.salaOperaciones.reduce((function(e,t){return e+parseFloat(t.total)}),0),_=r.honorarios.reduce((function(e,t){return e+parseFloat(t.total)}),0),x=r.honorarios.sort((function(e,t){return t.total-e.total})),C=f+h+p+b+v+g+u,$=f+h+p+b+g+u,y=$+_+v,w=new Ma["default"],w.setFontSize(10).setFont(void 0,"bold"),w.text("HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",110,10,{align:"center"}),w.setFontSize(10).setFont(void 0,"normal"),w.text("CUENTA DE PACIENTE",110,14,{align:"center"}),w.setFontSize(8).setFont(void 0,"normal"),w.text("NOMBRE DEL PACIENTE:",14,20),w.text("".concat(e.nombrePaciente),50,20),w.text("_____________________________________________________________________________________________",50,21),w.text("CUARTO NO.:",14,27),w.text("".concat(r.numerohabitacion),40,27),w.text("__________",35,28),w.text("TIPO DE SERVICIO:",60,27),w.text("",87,27),w.text("___________________________",87,28),w.text("D/ESTANCIA: ",130,27),w.text("".concat(l),170,27),w.text("_____________________________",150,28),w.text("MD TRATANTE:",14,34),w.text("".concat(r.nombremedico),36,34),w.text("______________________________________________________________________________________________________",36,35),w.autoTable({body:[["HOSPITALIZACION","Q".concat(u.toFixed(2))],["SALA DE OPERACIONES","Q".concat(g.toFixed(2))],["CONSUMO MEDICAMENTOS","Q".concat(p.toFixed(2))],["MATERIAL MEDICO QUIRÚRGICO","Q".concat(b.toFixed(2))],["ANESTESICOS",""],["MATERIAL COMÚN","Q".concat(h.toFixed(2))],["SERVICIOS","Q".concat(f.toFixed(2))],["RECUPERACION",""],["INTENSIVO","Q 0.00"],["EMERGENCIAS  Medico Interno",""],["OTROS",""],["TOTAL HOSPITALIZACION =","Q".concat($.toFixed(2))],["TOTAL LAB. BIOMEDICO E.O. S.A. =","Q".concat(v.toFixed(2))],["TOTAL MENOS DESCUENTO =","Q".concat(C.toFixed(2))]],startY:41,theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0]},columnStyles:{0:{halign:"left"},1:{halign:"left"}},didParseCell:function(e){var t=e.row.index,a=e.column.index;t>=11&&0===a&&(e.cell.styles.halign="right")}}),E=w.lastAutoTable.finalY+10,w.setFontSize(12).setFont(void 0,"normal"),w.text("FECHA ".concat(i," ").concat(s),14,E),w.setFontSize(10).setFont(void 0,"bold"),w.text("HONORARIOS MEDICOS Y OTROS SERVICIOS",100,E+15,{align:"center"}),k=x.map((function(e,t){return[t+1,e.medico.nombre,e.descripcion,"Q".concat((Number(e.total)||0).toFixed(2))]})),w.autoTable({head:[["#","MEDICO","DESCRIPCION","VALOR"]],body:k,startY:E+20,theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0]},headStyles:{fillColor:[255,255,255],textColor:[0,0,0],fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),D=w.lastAutoTable.finalY+10,w.setFontSize(10).setFont(void 0,"bold"),w.text("LIQUIDACION",100,D,{align:"center"}),w.autoTable({body:[["TOTAL HOSPITALIZACION","Q".concat($.toFixed(2))],["TOTAL LAB. BIOMEDICO E.O. S.A.","Q".concat(v.toFixed(2))],["TOTAL HONORARIOS MEDICOS Y OTROS SERVICIOS","Q".concat(_.toFixed(2))],["TOTAL A PAGAR =","Q".concat(y.toFixed(2))]],startY:D+5,theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0]},columnStyles:{0:{halign:"left"},1:{halign:"left"}},didParseCell:function(e){var t=e.row.index,a=e.column.index;t>=3&&0===a&&(e.cell.styles.halign="right")}}),A=w.lastAutoTable.finalY+10,w.setFontSize(10).setFont(void 0,"normal"),w.text("_______________________________________",110,A,{align:"center"}),w.text("Nombre y Firma del Cajero",110,A+5,{align:"center"}),w.save("cuenta_Parcial_".concat(e.nombrePaciente,".PDF"))}catch(S){console.error("Error al generar el reporte:",S),e.$alert("Ocurrió un error al generar el reporte. Por favor, intente de nuevo.","Error")}case 9:case"end":return t.stop()}}),t)})))()},formatearMonto:function(e){var t=parseFloat(e);return isNaN(t)?"0.00":t.toFixed(2)},generarHistorialCuentas:function(e){var t=this;ie.a.get(q["a"]+"/consumos/historial/".concat(e)).then((function(e){var a=e.data;t.dataPDF_Historial=e.data,t.mostrarHistorial(a)})).catch((function(e){console.error("Error al generar el reporte de cuenta parcial:",e),t.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",t.showAlertError()}))},mostrarHistorial:function(e){var t=0,a=e.Consumo.reduce((function(e,t){return e+(parseFloat(t.subtotal)||0)}),0),r=e["Consumo Comun"].reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),o=e["Consumo Medicamentos"].reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),i=e["Consumo Quirurgicos"].reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),n=e.Examenes.reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),s=e.ServicioSalaOperaciones.reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0);t=parseFloat(a)+parseFloat(r)+parseFloat(o)+parseFloat(i)+parseFloat(n)+parseFloat(s),this.reporteHisotiral={ConsumoTotal:this.formatearMonto(a),ConsumoComunTotal:this.formatearMonto(r),ConsumoMedicamentosTotal:this.formatearMonto(o),ConsumoQuirurgicosTotal:this.formatearMonto(i),ExamenesTotal:this.formatearMonto(n),ServicioSalaOperacionesTotal:this.formatearMonto(s),TotalDeuda:this.formatearMonto(t)},this.$bvModal.show("HistorialCuenta")},generarPDF_Historial:function(){var e=new Ma["default"],t=20;e.setFontSize(18),e.text("Reporte de Historial de Cuenta",14,t),t+=10;var a=function(a,r){e.setFontSize(14),e.text(a,14,t),t+=10;var o=["Descripción","Cantidad","Precio Unitario","Subtotal"];e.autoTable({startY:t,head:[o],body:r.map((function(e){return[e.descripcion,e.cantidad.toString(),e.precio_unitario.toString(),e.subtotal.toString()]})),theme:"striped",margin:{top:10},styles:{halign:"center",fontSize:10},headStyles:{fillColor:[229,31,45],textColor:[255,255,255]}}),t=e.lastAutoTable.finalY+10};if(this.dataPDF_Historial.Consumo&&this.dataPDF_Historial.Consumo.length>0){var r=this.dataPDF_Historial.Consumo.map((function(e){return{descripcion:e.servicio.descripcion||"",cantidad:e.cantidad||0,precio_unitario:e.servicio.precio||0,subtotal:e.subtotal||0}}));a("Consumo de Servicios",r)}if(this.dataPDF_Historial["Consumo Comun"]&&this.dataPDF_Historial["Consumo Comun"].length>0){var o=this.dataPDF_Historial["Consumo Comun"].map((function(e){return{descripcion:e.comune.nombre||"",cantidad:e.cantidad||0,precio_unitario:e.precio_venta||0,subtotal:e.total||0}}));a("Consumo de Materiales Comunes",o)}if(this.dataPDF_Historial["Consumo Medicamentos"]&&this.dataPDF_Historial["Consumo Medicamentos"].length>0){var i=this.dataPDF_Historial["Consumo Medicamentos"].map((function(e){return{descripcion:e.medicamento.nombre||"",cantidad:e.cantidad||0,precio_unitario:e.precio_venta||0,subtotal:e.total||0}}));a("Consumo de Medicamentos",i)}if(this.dataPDF_Historial["Consumo Quirurgicos"]&&this.dataPDF_Historial["Consumo Quirurgicos"].length>0){var n=this.dataPDF_Historial["Consumo Quirurgicos"].map((function(e){return{descripcion:e.quirurgico.nombre||"",cantidad:e.cantidad||0,precio_unitario:e.precio_venta||0,subtotal:e.total||0}}));a("Consumo de Material Quirúrgico",n)}if(this.dataPDF_Historial.Examenes&&this.dataPDF_Historial.Examenes.length>0){var s=this.dataPDF_Historial.Examenes.map((function(e){return{descripcion:e.examenes_almacenado.nombre||"",cantidad:1,precio_unitario:e.total||0,subtotal:e.total||0}}));a("Exámenes Realizados",s)}if(this.dataPDF_Historial.ServicioSalaOperaciones&&this.dataPDF_Historial.ServicioSalaOperaciones.length>0){var l=this.dataPDF_Historial.ServicioSalaOperaciones.map((function(e){return{descripcion:e.descripcion||"",cantidad:1,precio_unitario:e.total||0,subtotal:e.total||0}}));a("Servicios en Sala de Operaciones",l)}t+=10,e.save("reporte_historial.pdf")},getPersonal:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ie.a.get(q["a"]+"/detalle_personal/getAll");case 3:a=t.sent,r=a.data,e.personalOptions=r.data,console.log(e.personalOptions),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},nn=on,sn=(a("8670"),Object($["a"])(nn,an,rn,!1,null,null,null)),ln=sn.exports,cn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-2-habitaciones",attrs:{id:"modal-2-habitaciones",title:"Editar habitación"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Número:"}},[a("b-form-input",{attrs:{state:!e.$v.form.numero.$error,placeholder:"Ingresar número de la habitación"},model:{value:e.$v.form.numero.$model,callback:function(t){e.$set(e.$v.form.numero,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.numero.$model"}}),e.$v.form.numero.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el número de la habitación ")]):e._e()],1),a("b-form-group",{attrs:{label:"Costo ambulatorio de habitación:"}},[a("b-form-input",{attrs:{state:!e.$v.form.costo_ambulatorio.$error,placeholder:"Ingresar costo ambulatorio de la habitación",type:"number"},model:{value:e.$v.form.costo_ambulatorio.$model,callback:function(t){e.$set(e.$v.form.costo_ambulatorio,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.costo_ambulatorio.$model"}}),e.$v.form.costo_ambulatorio.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el costo ambulatorio de la habitación ")]):e._e()],1),a("b-form-group",{attrs:{label:"Costo diario de habitación:"}},[a("b-form-input",{attrs:{state:!e.$v.form.costo_diario.$error,placeholder:"Ingresar costo diario de la habitación",type:"number"},model:{value:e.$v.form.costo_diario.$model,callback:function(t){e.$set(e.$v.form.costo_diario,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.costo_diario.$model"}}),e.$v.form.costo_diario.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el costo diario de la habitación ")]):e._e()],1),a("b-form-group",{attrs:{label:"Costo diario de habitación:"}},[a("b-form-input",{attrs:{state:!e.$v.form.costo_diario.$error,placeholder:"Ingresar costo diario de la habitación",type:"number"},model:{value:e.$v.form.costo_diario.$model,callback:function(t){e.$set(e.$v.form.costo_diario,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.costo_diario.$model"}}),e.$v.form.costo_diario.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el costo diario de la habitación ")]):e._e()],1),a("b-form-group",{attrs:{label:"Costo para estudio de sueño de habitación:"}},[a("b-form-input",{attrs:{state:!e.$v.form.costo_estudio_de_sueno.$error,placeholder:"Ingresar costo para estudio de sueño de la habitación",type:"number"},model:{value:e.$v.form.costo_estudio_de_sueno.$model,callback:function(t){e.$set(e.$v.form.costo_estudio_de_sueno,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.costo_estudio_de_sueno.$model"}}),e.$v.form.costo_estudio_de_sueno.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el costo para estudio de sueño de la habitación ")]):e._e()],1),a("b-form-group",{attrs:{label:"Costo para quimioterapia de habitación:"}},[a("b-form-input",{attrs:{state:!e.$v.form.costo_quimioterapia.$error,placeholder:"Ingresar costo para quimioterapia de la habitación",type:"number"},model:{value:e.$v.form.costo_quimioterapia.$model,callback:function(t){e.$set(e.$v.form.costo_quimioterapia,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.costo_quimioterapia.$model"}}),e.$v.form.costo_quimioterapia.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el costo para quimioterapia de la habitación ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-3-habitaciones",attrs:{id:"modal-3-habitaciones",title:"Desactivar habitaciones"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-habitaciones")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-habitaciones")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar habitaciones: "+e._s(e.form.name)+" ? ")])],1),a("b-modal",{ref:"modal-4-habitaciones",attrs:{id:"modal-4-habitaciones",title:"Activar habitaciones"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-habitaciones")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-habitaciones")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al habitaciones: "+e._s(e.form.name)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Habitaciones")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",on:{submit:function(e){e.preventDefault()}}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:e.searchChange},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.userFields(),"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("DISPONIBLE")])])])],1):2==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("OCUPADA")])])])],1):0==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("NO DISPONIBLE")])])])],1):e._e()])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-habitaciones",modifiers:{"modal-2-habitaciones":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning",disabled:!e.hasPermission([9,5])},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info",disabled:!e.hasPermission([9,5])},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-habitaciones"):e.$bvModal.show("modal-4-habitaciones")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},dn=[],mn={name:"Habitaciones",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])({currentUser:"currentUser"})),data:function(){return{from:0,to:0,total:0,perPage:15,search:"",form:{id:0,name:"",numero:0,costo_ambulatorio:0,costo_diario:0,costo_estudio_de_sueno:0,costo_quimioterapia:0,state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/habitaciones/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"numero",sortField:"numero",title:"Numero",dataClass:"list-item-heading"},{name:"tipo",sortField:"tipo",title:"Tipo de habitación",dataClass:"list-item-heading"},{name:"costo_diario",sortField:"costo_diario",title:"Precio de habitación",dataClass:"list-item-heading"},{name:"costo_ambulatorio",sortField:"costo_ambulatorio",title:"Precio ambulatorio",dataClass:"list-item-heading"},{name:"costo_estudio_de_sueno",sortField:"costo_estudio_de_sueno",title:"Precio estudio de sueño",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}],fields2:[{name:"numero",sortField:"numero",title:"Numero",dataClass:"list-item-heading"},{name:"tipo",sortField:"tipo",title:"Tipo de habitación",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}],items:[]}},validations:function(){return{form:{numero:{required:_a["c"]},costo_ambulatorio:{required:_a["c"]},costo_diario:{required:_a["c"]},costo_estudio_de_sueno:{required:_a["c"]},costo_quimioterapia:{required:_a["c"]}}}},methods:{userFields:function(){var e,t=null===(e=this.currentUser)||void 0===e?void 0:e.user_type;return[9,10,11].includes(t)?this.fields2:this.fields},hasPermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.includes(this.currentUser.user_type)},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-habitaciones"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-habitaciones"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.numero=e.numero,this.form.costo_ambulatorio=e.costo_ambulatorio,this.form.costo_diario=e.costo_diario,this.form.costo_estudio_de_sueno=e.costo_estudio_de_sueno,this.form.costo_quimioterapia=e.costo_quimioterapia,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/habitaciones/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado la habitación "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/habitaciones/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado la habitación "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/habitaciones/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado la habitación "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-habitaciones"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/habitaciones/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado la habitación "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-habitaciones"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs}}},un=mn,fn=Object($["a"])(un,cn,dn,!1,null,null,null),hn=fn.exports,pn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-servicios",attrs:{id:"modal-1-servicios",title:"Agregar servicio"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Descripción:"}},[a("b-form-input",{attrs:{state:!e.$v.form.descripcion.$error,placeholder:"Ingresar la descripción del servicio"},model:{value:e.$v.form.descripcion.$model,callback:function(t){e.$set(e.$v.form.descripcion,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.descripcion.$model"}}),e.$v.form.descripcion.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la descripción ")]):e._e()],1),a("b-form-group",{attrs:{label:"Unidad de medida:"}},[a("b-form-input",{attrs:{state:!e.$v.form.unidadDeMedida.$error,placeholder:"Ingresar la unidad de medida del servicio"},model:{value:e.$v.form.unidadDeMedida.$model,callback:function(t){e.$set(e.$v.form.unidadDeMedida,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.unidadDeMedida.$model"}}),e.$v.form.unidadDeMedida.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la unidad de medida ")]):e._e()],1),a("b-form-group",{attrs:{label:"Precio:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.precio.$error,placeholder:"Ingresar precio del servicio"},model:{value:e.$v.form.precio.$model,callback:function(t){e.$set(e.$v.form.precio,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio.$model"}}),e.$v.form.precio.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el precio ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-2-servicios",attrs:{id:"modal-2-servicios",title:"Editar servicio"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Descripción:"}},[a("b-form-input",{attrs:{state:!e.$v.form.descripcion.$error,placeholder:"Ingresar descripcion del servicio"},model:{value:e.$v.form.descripcion.$model,callback:function(t){e.$set(e.$v.form.descripcion,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.descripcion.$model"}}),e.$v.form.descripcion.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la descripción ")]):e._e()],1),a("b-form-group",{attrs:{label:"Unidad de medida:"}},[a("b-form-input",{attrs:{state:!e.$v.form.unidadDeMedida.$error,placeholder:"Ingresar la unidad de medida del servicio"},model:{value:e.$v.form.unidadDeMedida.$model,callback:function(t){e.$set(e.$v.form.unidadDeMedida,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.unidadDeMedida.$model"}}),e.$v.form.unidadDeMedida.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la unidad de medida ")]):e._e()],1),a("b-form-group",{attrs:{label:"Precio:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.precio.$error,placeholder:"Ingresar precio del servicio"},model:{value:e.$v.form.precio.$model,callback:function(t){e.$set(e.$v.form.precio,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio.$model"}}),e.$v.form.precio.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el precio ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-3-servicios",attrs:{id:"modal-3-servicios",title:"Desactivar servicio"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-servicios")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-servicios")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el servicio: "+e._s(e.form.nombre)+" ? ")])],1),a("b-modal",{ref:"modal-4-servicios",attrs:{id:"modal-4-servicios",title:"Activar servicio"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-servicios")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-servicios")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar el servicio: "+e._s(e.form.nombre)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Servicios")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-servicios",modifiers:{"modal-1-servicios":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-servicios",modifiers:{"modal-2-servicios":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning",disabled:!e.hasPermission([9,5])},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info",disabled:!e.hasPermission([9,5])},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-servicios"):e.$bvModal.show("modal-4-servicios")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},bn=[],vn={name:"Servicios",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])({currentUser:"currentUser"})),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",form:{id:0,descripcion:"",precio:"",unidadDeMedida:"",state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/servicios/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"descripcion",sortField:"descripcion",title:"Descripción",dataClass:"list-item-heading"},{name:"unidadDeMedida",sortField:"unidadDeMedida",title:"Unidad de medida",dataClass:"list-item-heading"},{name:"precio",sortField:"precio",title:"Precio",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{descripcion:{required:_a["c"]},unidadDeMedida:{required:_a["c"]},precio:{required:_a["c"]}}}},methods:{hasPermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.includes(this.currentUser.user_type)},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.descripcion="",this.form.unidadDeMedida="",this.form.precio="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-servicios"].hide(),this.form.id=0,this.form.descripcion="",this.form.unidadDeMedida="",this.form.precio="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-servicios"].hide(),this.form.id=0,this.form.descripcion="",this.form.unidadDeMedida="",this.form.precio="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.descripcion=e.descripcion,this.form.unidadDeMedida=e.unidadDeMedida,this.form.precio=e.precio,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/servicios/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el servicio "+e.form.descripcion+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/servicios/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el servicio "+e.form.descripcion+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/servicios/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el servicio "+e.form.descripcion+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-servicios"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/servicios/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el servicio "+e.form.descripcion+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-servicios"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs}}},gn=vn,_n=Object($["a"])(gn,pn,bn,!1,null,null,null),xn=_n.exports,Cn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Ingreso de paciente")])]},proxy:!0},{key:"body",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Datos de ingreso")]),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Fecha de ingreso:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.fecha.$error},attrs:{type:"date",placeholder:"Ingresar fecha de ingreso"},model:{value:e.$v.form.fecha.$model,callback:function(t){e.$set(e.$v.form.fecha,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.fecha.$model"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Hora de ingreso:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.hora.$error},attrs:{type:"time",placeholder:"Ingresar hora de ingreso"},model:{value:e.$v.form.hora.$model,callback:function(t){e.$set(e.$v.form.hora,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.hora.$model"}})],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Área a la que ingresa:"}},[a("b-form-radio",{attrs:{value:"hospi",name:"customRadio1"},model:{value:e.form.selectedOption,callback:function(t){e.$set(e.form,"selectedOption",t)},expression:"form.selectedOption"}},[e._v("Hospitalización")]),a("b-form-radio",{attrs:{value:"quirofano",name:"customRadio1"},model:{value:e.form.selectedOption,callback:function(t){e.$set(e.form,"selectedOption",t)},expression:"form.selectedOption"}},[e._v("Quirófano")]),a("b-form-radio",{attrs:{value:"intensivo",name:"customRadio1"},model:{value:e.form.selectedOption,callback:function(t){e.$set(e.form,"selectedOption",t)},expression:"form.selectedOption"}},[e._v("Intensivo")])],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Paciente:"}},[a("b-form-radio",{attrs:{value:"0",name:"customRadio"},on:{change:function(t){return e.getHabitaciones(e.form.tipo_paciente)}},model:{value:e.form.tipo_paciente,callback:function(t){e.$set(e.form,"tipo_paciente",t)},expression:"form.tipo_paciente"}},[e._v("Normal")]),a("b-form-radio",{attrs:{value:"1",name:"customRadio"},on:{change:function(t){return e.getHabitaciones(e.form.tipo_paciente)}},model:{value:e.form.tipo_paciente,callback:function(t){e.$set(e.form,"tipo_paciente",t)},expression:"form.tipo_paciente"}},[e._v("Ambulatorio")])],1)],1),a("b-col",{attrs:{md:"5"}},[a("b-form-group",{attrs:{label:"Cuartos Disponibles"}},e._l(e.tiposHabitaciones,(function(t,r){return a("div",{key:t},[a("b-row",[a("b-col",{attrs:{cols:"4"}},[1!=e.form.estudioDeSueño&&2!=e.form.estudioDeSueño||2==r?a("h6",{staticClass:"mt-2"},[e._v(e._s(e.NombreHabitaciones[r]))]):e._e(),"hospi"==e.form.selectedOption?a("b-form-checkbox",{staticClass:"mt-2 mb-4",attrs:{value:"1"},model:{value:e.form.estudioDeSueño,callback:function(t){e.$set(e.form,"estudioDeSueño",t)},expression:"form.estudioDeSueño"}},[e._v(" Estudio de sueño ")]):e._e(),"hospi"==e.form.selectedOption?a("b-form-checkbox",{staticClass:"mt-2 mb-4",attrs:{value:"2"},model:{value:e.form.estudioDeSueño,callback:function(t){e.$set(e.form,"estudioDeSueño",t)},expression:"form.estudioDeSueño"}},[e._v(" Quimioterapia ")]):e._e()],1),e._l(e.habitacionesPorTipo(t),(function(t){return a("b-col",{key:t.id,attrs:{cols:"2"}},[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:1===t.estado?"Disponible":"Ocupado/Desactivada"},expression:"{\n                          title: `${habitacion.estado === 1 ? 'Disponible' : 'Ocupado/Desactivada'}`\n                        }",modifiers:{hover:!0}}],staticClass:"mb-4",attrs:{variant:e.form.habitacion===t.id?"secondary":"success",disabled:1!==t.estado,block:""},on:{click:function(a){e.form.habitacion=t.id}}},[e._v(" "+e._s(t.numero)+" ")])],1)}))],2)],1)})),0)],1)],1)]},proxy:!0}])})],1)],1),a("b-button",{attrs:{block:"",variant:"primary"},on:{click:e.onValidate}},[e._v("Registrar paciente")])],1)},$n=[],yn=(a("4d90"),{name:"Patients",setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){this.getHabitaciones(0),this.form.id_usuario=this.currentUser.uid},mounted:function(){g["a"].index();var e=new Date,t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");this.form.fecha="".concat(t,"-").concat(a,"-").concat(r),this.form.hora=e.toTimeString().split(" ")[0]},computed:Object(s["a"])(Object(s["a"])({},Object(_["c"])(["currentUser"])),{},{habitacionesPorTipo:function(){var e=this;return function(t){return e.habitaciones.filter((function(e){return e.tipo.toUpperCase()===t.toUpperCase()}))}}}),data:function(){return{hours:Array.from({length:24},(function(e,t){return t})),editorOption:{placeholder:"",modules:{toolbar:[["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["clean"]]}},from:0,to:0,total:0,perPage:5,search:"",form:{id:0,fecha:null,hora:null,selectedOption:"hospi",tipo_paciente:"0",motivo:" ",habitacion:null,tipo_cuenta:1},nacionalidades:["Guatemala","El Salvador","México","Honduras","Belice","Otro"],generos:["Masculino","Femenino"],parentescos:["Padre/Madre","Hermano/a","Hijo/a","Cónyuge","Otro"],estados_civiles:["Soltero/a","Casado/a","Viudo/a","Separado/a","Divorciado/a","Otro"],habitaciones:[],alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/paciente/list",tiposHabitaciones:["Privada","Especial","Semi-privada","Intensivo","Intermedio"],NombreHabitaciones:["Cuartos Privados","Cuartos Especiales","Cuartos Semi-privados","Intensivo","Intermedio"]}},validations:function(){return{form:{fecha:{required:_a["c"]},hora:{required:_a["c"]},habitacion:{required:_a["c"]}}}},methods:{onValidate:function(){this.$v.$touch(),!0!==this.$v.$error?this.onSave():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},onSave:function(){var e=this;switch(this.form.selectedOption){case"hospi":this.form.tipo_cuenta=1;break;case"quirofano":this.form.tipo_cuenta=3;break;case"intensivo":this.form.tipo_cuenta=4;break}ie.a.post(q["a"]+"/expedientes/createEnfermeria",{form:e.form,user:e.currentUser.user}).then((function(){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el expediente exitosamente";var t=e.currentUser.user_type;[9,10,11].includes(t)?e.$router.push({name:"enfermeria.AsignarHabitacion"}):e.$router.push({name:"caja.expedientes"})})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},getHabitaciones:function(e){var t=this;ie.a.get(q["a"]+"/habitaciones/get",{params:{tipo:e}}).then((function(e){t.habitaciones=e.data}))}}}),wn=yn,En=(a("d70c"),Object($["a"])(wn,Cn,$n,!1,null,"9c7986bc",null)),kn=En.exports,Dn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Ingreso de paciente a emergencia")])]},proxy:!0},{key:"body",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Datos de ingreso")]),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("span",{staticClass:"required-asterisk",staticStyle:{position:"absolute",top:"50%",transform:"translateY(-50%)",right:"5px",color:"red"}}),a("b-form-input",{class:{"is-invalid":e.$v.form.nombre.$error},attrs:{placeholder:"Ingresar nombre",required:""},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v("Debe ingresar nombre")]):e._e(),e.$v.form.nombre.ValidateName.$error?e._e():a("div",{staticClass:"invalid-feedback"},[e._v("El nombre solo debe contener letras mayúsculas y con tildes")])],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Apellidos:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.apellidos.$error},attrs:{placeholder:"Ingresar apellidos"},model:{value:e.$v.form.apellidos.$model,callback:function(t){e.$set(e.$v.form.apellidos,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.apellidos.$model"}}),e.$v.form.apellidos.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Ingresar los apellidos ")]):e._e()],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Fecha de nacimiento:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.nacimiento.$error},attrs:{type:"date",placeholder:"Ingresar fecha de nacimiento"},on:{input:e.validarAnoNacimiento},model:{value:e.$v.form.nacimiento.$model,callback:function(t){e.$set(e.$v.form.nacimiento,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nacimiento.$model"}}),e.$v.form.nacimiento.$error?a("div",{staticClass:"invalid-feedback"},[e.$v.form.nacimiento.required?e._e():a("div",[e._v("Debe ingresar la fecha de nacimiento")]),e.$v.form.nacimiento.isValidYear?e._e():a("div",[e._v("El año no puede tener más de 4 dígitos")]),e.$v.form.nacimiento.isPastYear?e._e():a("div",[e._v("El año de nacimiento no puede ser mayor al actual")])]):e._e()],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Edad:"}},[a("b-form-input",{attrs:{value:e.calcularEdad,disabled:""}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Telefono:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.telefono.$error},attrs:{placeholder:"Ingresar telefono"},model:{value:e.$v.form.telefono.$model,callback:function(t){e.$set(e.$v.form.telefono,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.telefono.$model"}}),e.$v.form.telefono.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el telefono ")]):e._e(),e.$v.form.telefono.numeric.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar unicamente numeros ")]):e._e()],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Nombre del encargado:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.nombre_encargado.$error},attrs:{placeholder:"Ingresar nombre"},model:{value:e.$v.form.nombre_encargado.$model,callback:function(t){e.$set(e.$v.form.nombre_encargado,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre_encargado.$model"}}),e.$v.form.nombre_encargado.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre del encargado ")]):e._e(),e.$v.form.nombre_encargado.ValidateName.$error?e._e():a("div",{staticClass:"invalid-feedback"},[e._v(" El nombre solo debe contener letras mayúsculas y con tildes ")])],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Dirección:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.direccion.$error},attrs:{placeholder:"Ingresar dirección"},model:{value:e.$v.form.direccion.$model,callback:function(t){e.$set(e.$v.form.direccion,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.direccion.$model"}})],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Asignar médico tratante:"}},[a("v-select",{attrs:{name:"type",options:e.doctors,reduce:function(e){return e.value},placeholder:"Seleccione un médico",label:"text"},on:{search:e.onSearchMedicos},model:{value:e.selectedDoctor,callback:function(t){e.selectedDoctor=t},expression:"selectedDoctor"}})],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Fecha de ingreso:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.fecha.$error},attrs:{type:"date",placeholder:"Ingresar fecha de ingreso"},model:{value:e.$v.form.fecha.$model,callback:function(t){e.$set(e.$v.form.fecha,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.fecha.$model"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Hora de ingreso:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.hora.$error},attrs:{type:"time",placeholder:"Ingresar hora de ingreso"},model:{value:e.$v.form.hora.$model,callback:function(t){e.$set(e.$v.form.hora,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.hora.$model"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Área a la que ingresa:"}},[a("b-form-radio",{attrs:{value:"emergencia",name:"customRadio1"},model:{value:e.form.selectedOption,callback:function(t){e.$set(e.form,"selectedOption",t)},expression:"form.selectedOption"}},[e._v("Emergencia")])],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Paciente:"}},[a("b-form-radio",{attrs:{value:"0",name:"customRadio"},on:{change:function(t){return e.getHabitaciones(e.form.tipo_paciente)}},model:{value:e.form.tipo_paciente,callback:function(t){e.$set(e.form,"tipo_paciente",t)},expression:"form.tipo_paciente"}},[e._v("Normal")]),a("b-form-radio",{attrs:{value:"1",name:"customRadio"},on:{change:function(t){return e.getHabitaciones(e.form.tipo_paciente)}},model:{value:e.form.tipo_paciente,callback:function(t){e.$set(e.form,"tipo_paciente",t)},expression:"form.tipo_paciente"}},[e._v("Ambulatorio")])],1)],1)],1)]},proxy:!0}])})],1)],1),a("b-button",{attrs:{block:"",variant:"primary"},on:{click:e.onValidate}},[e._v("Registrar paciente")])],1)},An=[],Sn={name:"Patients",setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){this.getHabitaciones(0),this.getDoctors(),this.form.id_usuario=this.currentUser.uid},mounted:function(){g["a"].index();var e=new Date,t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");this.form.fecha="".concat(t,"-").concat(a,"-").concat(r),this.form.hora=e.toTimeString().split(" ")[0]},computed:Object(s["a"])(Object(s["a"])({},Object(_["c"])(["currentUser"])),{},{calcularEdad:function(){if(!this.form.nacimiento)return"";var e=new Date,t=new Date(this.form.nacimiento),a=e.getFullYear()-t.getFullYear(),r=t.getMonth(),o=t.getDate();return(e.getMonth()<r||e.getMonth()===r&&e.getDate()<o)&&a--,a}}),data:function(){return{hours:Array.from({length:24},(function(e,t){return t})),editorOption:{placeholder:"",modules:{toolbar:[["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["clean"]]}},from:0,to:0,total:0,perPage:5,search:"",form:{id:0,nombre:"",apellidos:"",nombre_encargado:"",direccion:"",telefono:"",nacimiento:null,fecha:null,hora:null,selectedOption:"emergencia",tipo_paciente:"0",motivo:" ",tipo_cuenta:1,cui:"",cui_encargado:"",contacto_encargado:"",assignedDoctor:0},generos:["Masculino","Femenino"],parentescos:["Padre/Madre","Hermano/a","Hijo/a","Cónyuge","Otro"],estados_civiles:["Soltero/a","Casado/a","Viudo/a","Separado/a","Divorciado/a","Otro"],habitaciones:[],alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/paciente/list",selectedDoctor:[],doctors:[]}},validations:function(){return{form:{nombre:{required:_a["c"],ValidateName:_a["a"].regex(/^[A-ZÁÉÍÓÚÜÑ\s]+$/)},apellidos:{required:_a["c"],ValidateName:_a["a"].regex(/^[A-ZÁÉÍÓÚÜÑ\s]+$/)},nacimiento:{required:_a["c"],isValidYear:function(e){if(!e)return!0;var t=new Date(e).getFullYear();return t.toString().length<=4},isPastYear:function(e){if(!e)return!0;var t=new Date(e).getFullYear(),a=(new Date).getFullYear();return t<=a}},telefono:{required:_a["c"],numeric:_a["b"]},nombre_encargado:{required:_a["c"],ValidateName:_a["a"].regex(/^[A-ZÁÉÍÓÚÜÑ\s]+$/)},direccion:{required:_a["c"]},fecha:{required:_a["c"]},hora:{required:_a["c"]}}}},methods:{validarAnoNacimiento:function(){this.$v.form.nacimiento.$touch()},onValidate:function(){this.$v.$touch(),!0!==this.$v.$error?this.onSave():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},onSave:function(){var e=this;switch(this.form.selectedOption){case"emergencia":this.form.selectedOption="emergencia",this.form.cui="PENDIENTE DE INGRESO",this.form.cui_encargado="PENDIENTE DE INGRESO",this.form.contacto_encargado=this.form.telefono,this.form.assignedDoctor=this.selectedDoctor;break}ie.a.post(q["a"]+"/expedientes/create",{form:e.form,user:e.currentUser.user}).then((function(){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el paciente "+e.form.nombre+" "+e.form.apellidos+" exitosamente",e.$router.push({name:"enfermeria.emergencias"})})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},getHabitaciones:function(e){var t=this;ie.a.get(q["a"]+"/habitaciones/get",{params:{tipo:e}}).then((function(e){t.habitaciones=e.data}))},getDoctors:function(e){var t=this;ie.a.get(q["a"]+"/medicos/getSearch",{params:{search:e}}).then((function(e){t.doctors=e.data.map((function(e){return{value:e.id,text:e.nombre}}))}))},onSearchMedicos:function(e){e.length&&this.getDoctors(e)}}},Tn=Sn,Pn=(a("a77c"),Object($["a"])(Tn,Dn,An,!1,null,"cc40710a",null)),Mn=Pn.exports,qn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-servicios",attrs:{id:"modal-1-servicios",title:"Agregar servicio"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Categoria:"}},[a("b-form-input",{attrs:{estado:!e.$v.form.categoria.$error,placeholder:"Ingresar la categoria"},model:{value:e.$v.form.categoria.$model,callback:function(t){e.$set(e.$v.form.categoria,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.categoria.$model"}}),e.$v.form.categoria.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la categoria ")]):e._e()],1),a("b-form-group",{attrs:{label:"Cobro Extra:"}},[a("b-form-input",{attrs:{estado:!e.$v.form.cobro_extra.$error,placeholder:"Ingresar el cobro extra"},model:{value:e.$v.form.cobro_extra.$model,callback:function(t){e.$set(e.$v.form.cobro_extra,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.cobro_extra.$model"}}),e.$v.form.cobro_extra.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el cobro extra ")]):e._e()],1),a("b-form-group",{attrs:{label:"Precio:"}},[a("b-form-input",{attrs:{type:"number",estado:!e.$v.form.precio.$error,placeholder:"Ingresar precio del servicio"},model:{value:e.$v.form.precio.$model,callback:function(t){e.$set(e.$v.form.precio,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio.$model"}}),e.$v.form.precio.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el precio ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-2-servicios",attrs:{id:"modal-2-servicios",title:"Editar servicio"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Categoria:"}},[a("b-form-input",{attrs:{estado:!e.$v.form.categoria.$error,placeholder:"Ingresar categoria del servicio"},model:{value:e.$v.form.categoria.$model,callback:function(t){e.$set(e.$v.form.categoria,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.categoria.$model"}}),e.$v.form.categoria.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la Categoria ")]):e._e()],1),a("b-form-group",{attrs:{label:"Cobro Extra:"}},[a("b-form-input",{attrs:{estado:!e.$v.form.cobro_extra.$error,placeholder:"Ingresar el cobro extra"},model:{value:e.$v.form.cobro_extra.$model,callback:function(t){e.$set(e.$v.form.cobro_extra,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.cobro_extra.$model"}}),e.$v.form.cobro_extra.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar El Cobro extra ")]):e._e()],1),a("b-form-group",{attrs:{label:"Precio:"}},[a("b-form-input",{attrs:{type:"number",estado:!e.$v.form.precio.$error,placeholder:"Ingresar precio del servicio"},model:{value:e.$v.form.precio.$model,callback:function(t){e.$set(e.$v.form.precio,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio.$model"}}),e.$v.form.precio.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el precio ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-3-servicios",attrs:{id:"modal-3-servicios",title:"Desactivar servicio"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onestado(),e.$bvModal.hide("modal-3-servicios")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-servicios")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar la categoria?: "+e._s(e.form.nombre)+" ? ")])],1),a("b-modal",{ref:"modal-4-servicios",attrs:{id:"modal-4-servicios",title:"Activar servicio"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onestado(),e.$bvModal.hide("modal-4-servicios")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-servicios")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar el servicio: "+e._s(e.form.nombre)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Categoria de Sala Operaciones")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-servicios",modifiers:{"modal-2-servicios":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt",attrs:{disabled:!e.hasPermission([9,5])}})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info",disabled:!e.hasPermission([9,5])},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-servicios"):e.$bvModal.show("modal-4-servicios")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},In=[],Fn={name:"Servicios",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])({currentUser:"currentUser"})),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",form:{id:0,categoria:"",precio:"",cobro_extra:"",estado:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/Categorias_Sala_Operaciones/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"categoria",sortField:"categoria",title:"Categoria",dataClass:"list-item-heading"},{name:"cobro_extra",sortField:"cobro_extra",title:"Cobro Extra",dataClass:"list-item-heading"},{name:"precio",sortField:"precio",title:"Precio",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{categoria:{required:_a["c"]},cobro_extra:{required:_a["c"]},precio:{required:_a["c"]}}}},methods:{hasPermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.includes(this.currentUser.user_type)},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.categoria="",this.form.cobro_extra="",this.form.precio="",this.form.estado=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-servicios"].hide(),this.form.id=0,this.form.categoria="",this.form.cobro_extra="",this.form.precio="",this.form.estado=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-servicios"].hide(),this.form.id=0,this.form.categoria="",this.form.cobro_extra="",this.form.precio="",this.form.estado=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.categoria=e.categoria,this.form.cobro_extra=e.cobro_extra,this.form.precio=e.precio,this.form.estado=e.estado,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/servicios/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el servicio "+e.form.categoria+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/Categorias_Sala_Operaciones/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el servicio "+e.form.categoria+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onestado:function(){var e=this;1===this.form.estado?ie.a.put(q["a"]+"/Categorias_Sala_Operaciones/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el servicio "+e.form.categoria+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-servicios"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/Categorias_Sala_Operaciones/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el servicio "+e.form.categoria+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-servicios"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs}}},On=Fn,Nn=Object($["a"])(On,qn,In,!1,null,null,null),Rn=Nn.exports,Vn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-2-expediente",attrs:{id:"modal-2-expediente",size:"xl",title:"Editar expediente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("div",[a("b-tabs",{attrs:{"content-class":"mt-3"}},[a("b-tab",{attrs:{title:"Paciente",active:""}},[a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("span",{staticClass:"required-asterisk",staticStyle:{position:"absolute",top:"50%",transform:"translateY(-50%)",right:"5px",color:"red"}}),a("b-form-input",{class:{"is-invalid":e.$v.form.nombre.$error},attrs:{placeholder:"Ingresar nombre",required:""},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.$error?a("div",{staticClass:"invalid-feedback"},[e.$v.form.nombre.required.$error?e._e():a("div",[e._v("Debe ingresar nombre")]),e.$v.form.nombre.ValidateName.$error?e._e():a("div",[e._v("El nombre solo debe contener letras mayúsculas y con tildes")])]):e._e()],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Apellidos:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.apellidos.$error},attrs:{placeholder:"Ingresar apellidos"},model:{value:e.$v.form.apellidos.$model,callback:function(t){e.$set(e.$v.form.apellidos,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.apellidos.$model"}}),e.$v.form.apellidos.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Ingresar los apellidos ")]):e._e()],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Apellido de casada: "}},[a("b-form-input",{attrs:{placeholder:"Ingresar apellido de casada"},model:{value:e.form.casada,callback:function(t){e.$set(e.form,"casada","string"===typeof t?t.trim():t)},expression:"form.casada"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Fecha de nacimiento:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.nacimiento.$error},attrs:{type:"date",placeholder:"Ingresar fecha de nacimiento"},model:{value:e.$v.form.nacimiento.$model,callback:function(t){e.$set(e.$v.form.nacimiento,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nacimiento.$model"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Telefono:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.telefono.$error},attrs:{placeholder:"Ingresar telefono"},model:{value:e.$v.form.telefono.$model,callback:function(t){e.$set(e.$v.form.telefono,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.telefono.$model"}}),e.$v.form.telefono.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el telefono ")]):e._e(),e.$v.form.telefono.numeric.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar unicamente numeros ")]):e._e()],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Sexo:"}},[a("v-select",{attrs:{name:"type",options:e.generos,placeholder:"Seleccione el sexo"},model:{value:e.form.generos,callback:function(t){e.$set(e.form,"generos",t)},expression:"form.generos"}})],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"CUI:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.cui.$error},attrs:{placeholder:"Ingresar el CUI"},model:{value:e.$v.form.cui.$model,callback:function(t){e.$set(e.$v.form.cui,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.cui.$model"}}),e.$v.form.cui.$error?a("div",{staticClass:"invalid-feedback"},[e._v(" El valor del CUI debe ser numerico. ")]):e._e(),e.$v.form.cui.numeric.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar unicamente numeros ")]):e._e()],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Nacionalidad:"}},[a("v-select",{attrs:{name:"type",options:e.nacionalidades,placeholder:"Seleccione nacionalidad"},model:{value:e.form.nacionalidad,callback:function(t){e.$set(e.form,"nacionalidad",t)},expression:"form.nacionalidad"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Dirección:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.direccion.$error},attrs:{placeholder:"Ingresar dirección"},model:{value:e.$v.form.direccion.$model,callback:function(t){e.$set(e.$v.form.direccion,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.direccion.$model"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Lugar de nacimiento:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar lugar de nacimiento"},model:{value:e.form.lugar_nacimiento,callback:function(t){e.$set(e.form,"lugar_nacimiento","string"===typeof t?t.trim():t)},expression:"form.lugar_nacimiento"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Profesión u oficio:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar profesión"},model:{value:e.form.profesion,callback:function(t){e.$set(e.form,"profesion","string"===typeof t?t.trim():t)},expression:"form.profesion"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Estado civil:"}},[a("v-select",{attrs:{name:"type",options:e.estados_civiles,placeholder:"Seleccione estado civil"},model:{value:e.form.estado_civil,callback:function(t){e.$set(e.form,"estado_civil",t)},expression:"form.estado_civil"}})],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Nombre del padre:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar nombre del padre"},model:{value:e.form.nombre_padre,callback:function(t){e.$set(e.form,"nombre_padre","string"===typeof t?t.trim():t)},expression:"form.nombre_padre"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Nombre de la madre:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar nombre de la madre"},model:{value:e.form.nombre_madre,callback:function(t){e.$set(e.form,"nombre_madre","string"===typeof t?t.trim():t)},expression:"form.nombre_madre"}})],1)],1)],1)],1),a("b-tab",{attrs:{title:"Encargado"}},[a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.nombre_encargado.$error},attrs:{placeholder:"Ingresar nombre"},model:{value:e.$v.form.nombre_encargado.$model,callback:function(t){e.$set(e.$v.form.nombre_encargado,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre_encargado.$model"}}),e.$v.form.nombre_encargado.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre del encargado ")]):e._e()],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Telefono:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.contacto_encargado.$error},attrs:{placeholder:"Ingresar telefono"},model:{value:e.$v.form.contacto_encargado.$model,callback:function(t){e.$set(e.$v.form.contacto_encargado,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.contacto_encargado.$model"}}),e.$v.form.contacto_encargado.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el telefono ")]):e._e(),e.$v.form.contacto_encargado.numeric.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar unicamente numeros ")]):e._e()],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"CUI:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.cui_encargado.$error},attrs:{placeholder:"Ingresar el CUI"},model:{value:e.$v.form.cui_encargado.$model,callback:function(t){e.$set(e.$v.form.cui_encargado,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.cui_encargado.$model"}}),e.$v.form.cui_encargado.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el CUI del encargado ")]):e._e(),e.$v.form.cui_encargado.$error?a("div",{staticClass:"invalid-feedback"},[e._v(" El valor del CUI debe ser numerico. ")]):e._e()],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Estado civil:"}},[a("v-select",{attrs:{name:"type",options:e.estados_civiles,placeholder:"Seleccione estado civil de encargado"},model:{value:e.form.estado_civil_encargado,callback:function(t){e.$set(e.form,"estado_civil_encargado",t)},expression:"form.estado_civil_encargado"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Parentesco:"}},[a("v-select",{attrs:{name:"type",options:e.parentescos,placeholder:"Seleccione parentesco"},model:{value:e.form.parentesco_encargado,callback:function(t){e.$set(e.form,"parentesco_encargado",t)},expression:"form.parentesco_encargado"}})],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Dirección de encargado:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar dirección"},model:{value:e.form.direccion_encargado,callback:function(t){e.$set(e.form,"direccion_encargado","string"===typeof t?t.trim():t)},expression:"form.direccion_encargado"}})],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Profesión u oficio de encargado:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar profesión u oficio"},model:{value:e.form.profesion_encargado,callback:function(t){e.$set(e.form,"profesion_encargado","string"===typeof t?t.trim():t)},expression:"form.profesion_encargado"}})],1)],1)],1)],1),a("b-tab",{attrs:{title:"Cónyugue"}},[a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar nombre de conyuge"},model:{value:e.form.nombre_conyuge,callback:function(t){e.$set(e.form,"nombre_conyuge","string"===typeof t?t.trim():t)},expression:"form.nombre_conyuge"}})],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Telefono:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar telefono de conyuge"},model:{value:e.form.telefono_conyuge,callback:function(t){e.$set(e.form,"telefono_conyuge","string"===typeof t?t.trim():t)},expression:"form.telefono_conyuge"}})],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Dirección de conyuge:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar dirección de conyuge"},model:{value:e.form.direccion_conyuge,callback:function(t){e.$set(e.form,"direccion_conyuge","string"===typeof t?t.trim():t)},expression:"form.direccion_conyuge"}})],1)],1)],1)],1)],1)],1)])],1),a("b-modal",{ref:"modal-1-habitacion",attrs:{id:"modal-1-habitacion",title:"Asignar habitación",size:"xl"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onRoomAssignment()}}},[e._v("Asignar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-1-habitacion")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),[a("div",[a("b-card",[a("b-card-body",[a("b-row",{staticClass:"ml-8"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Fecha de ingreso:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.fecha.$error},attrs:{type:"date",placeholder:"Ingresar fecha de ingreso"},model:{value:e.$v.form.fecha.$model,callback:function(t){e.$set(e.$v.form.fecha,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.fecha.$model"}})],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Hora de ingreso:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.hora.$error},attrs:{type:"time",placeholder:"Ingresar hora de ingreso"},model:{value:e.$v.form.hora.$model,callback:function(t){e.$set(e.$v.form.hora,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.hora.$model"}})],1)],1)],1),a("b-row",{staticClass:"ml-9"},[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Área a la que ingresa:"}},[a("b-form-radio",{attrs:{value:"hospi",name:"customRadio1"},model:{value:e.form.selectedOption,callback:function(t){e.$set(e.form,"selectedOption",t)},expression:"form.selectedOption"}},[e._v("Hospitalización")]),a("b-form-radio",{attrs:{value:"quirofano",name:"customRadio1"},model:{value:e.form.selectedOption,callback:function(t){e.$set(e.form,"selectedOption",t)},expression:"form.selectedOption"}},[e._v("Quirófano")]),a("b-form-radio",{attrs:{value:"intensivo",name:"customRadio1"},model:{value:e.form.selectedOption,callback:function(t){e.$set(e.form,"selectedOption",t)},expression:"form.selectedOption"}},[e._v("Intensivo")])],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Paciente:"}},[a("b-form-radio",{attrs:{value:"0",name:"customRadio"},on:{change:function(t){return e.getHabitaciones(e.form.tipo_paciente)}},model:{value:e.form.tipo_paciente,callback:function(t){e.$set(e.form,"tipo_paciente",t)},expression:"form.tipo_paciente"}},[e._v("Normal")]),a("b-form-radio",{attrs:{value:"1",name:"customRadio"},on:{change:function(t){return e.getHabitaciones(e.form.tipo_paciente)}},model:{value:e.form.tipo_paciente,callback:function(t){e.$set(e.form,"tipo_paciente",t)},expression:"form.tipo_paciente"}},[e._v("Ambulatorio")])],1)],1),a("b-col",{attrs:{md:"7"}},[a("b-form-group",{attrs:{label:"Cuartos"}},e._l(e.tiposHabitaciones,(function(t,r){return a("div",{key:t},[a("b-row",[a("b-col",{attrs:{cols:"4"}},[1!=e.form.estudioDeSueño&&2!=e.form.estudioDeSueño||2==r?a("h6",{staticClass:"mt-2"},[e._v(e._s(e.NombreHabitaciones[r]))]):e._e(),"hospi"==e.form.selectedOption?a("b-form-checkbox",{staticClass:"mt-2 mb-4",attrs:{value:"1"},model:{value:e.form.estudioDeSueño,callback:function(t){e.$set(e.form,"estudioDeSueño",t)},expression:"form.estudioDeSueño"}},[e._v(" Estudio de sueño ")]):e._e(),"hospi"==e.form.selectedOption?a("b-form-checkbox",{staticClass:"mt-2 mb-4",attrs:{value:"2"},model:{value:e.form.estudioDeSueño,callback:function(t){e.$set(e.form,"estudioDeSueño",t)},expression:"form.estudioDeSueño"}},[e._v(" Quimioterapia ")]):e._e()],1),e._l(e.habitacionesPorTipo(t),(function(t){return a("b-col",{key:t.id,attrs:{cols:"2"}},[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:{title:e.getRoomTooltip(t.estado)},expression:"{\n                                  title: getRoomTooltip(habitacion.estado)\n                                }",modifiers:{hover:!0}}],staticClass:"mb-4 room-button",class:{"disabled-room":1!==t.estado},attrs:{variant:e.getButtonVariant(t),block:""},on:{click:function(a){e.form.habitacion=t.id}}},[e._v(" "+e._s(t.numero)+" ")])],1)}))],2)],1)})),0)],1)],1)],1)],1)],1)]],2),a("b-modal",{ref:"modal-3-medico",attrs:{id:"modal-3-medico",title:"Asignar médico",size:"md"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onDoctorAssignment()}}},[e._v("Asignar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-medico")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),[a("div",[a("b-card",[a("b-card-body",[a("v-select",{attrs:{name:"type",options:e.doctors,reduce:function(e){return e.value},placeholder:"Seleccione un médico",label:"text"},on:{search:e.onSearchMedicos},model:{value:e.selectedDoctor,callback:function(t){e.selectedDoctor=t},expression:"selectedDoctor"}})],1)],1)],1)]],2),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Expedientes")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1===t.rowData.estado?a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:""}},[e._v("INGRESADO EN HOSPITAL")]):e._e(),2===t.rowData.estado?a("button",{staticClass:"btn btn-warning",attrs:{type:"button",disabled:""}},[e._v("EGRESADO")]):e._e(),3===t.rowData.estado?a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:""}},[e._v("INGRESADO EN QUIRÓFANO")]):e._e(),4===t.rowData.estado?a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:""}},[e._v("INGRESADO EN INTENSIVO")]):e._e(),5===t.rowData.estado?a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:""}},[e._v("INGRESADO EN EMERGENCIA")]):e._e(),6===t.rowData.estado?a("button",{staticClass:"btn btn-dark",attrs:{type:"button",disabled:""}},[e._v("DESAHUCIADO")]):e._e(),7===t.rowData.estado?a("button",{staticClass:"btn btn-dark",attrs:{type:"button",disabled:""}},[e._v("ALTA MÉDICA")]):e._e(),8===t.rowData.estado?a("button",{staticClass:"btn btn-dark",attrs:{type:"button",disabled:""}},[e._v("EGRESO CONTRAINDICADO")]):e._e(),9===t.rowData.estado?a("button",{staticClass:"btn btn-dark",attrs:{type:"button",disabled:""}},[e._v("REFERIDO A OTRA UBICACIÓN")]):e._e(),10===t.rowData.estado?a("button",{staticClass:"btn btn-dark",attrs:{type:"button",disabled:""}},[e._v("EXPEDIENTE Y ASIGNACIÓN INCOMPLETOS")]):e._e(),11===t.rowData.estado?a("button",{staticClass:"btn btn-dark",attrs:{type:"button",disabled:""}},[e._v("EXPEDIENTE INCOMPLETO")]):e._e(),0===t.rowData.estado?a("button",{staticClass:"btn btn-dark",attrs:{type:"button",disabled:""}},[e._v("FALLECIDO")]):e._e()])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Asignar habitación",expression:"'Asignar habitación'",modifiers:{top:!0}}],staticClass:"mb-2 mt-2 button-spacing",attrs:{size:"sm",variant:"success",disabled:!e.hasPermission([5])},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-1-habitacion"),e.getDoctors()}}},[e._v(" Asignar habitación ")]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Asignar médico",expression:"'Asignar médico'",modifiers:{top:!0}}],staticClass:"mb-2 mt-2 button-spacing",attrs:{size:"sm",variant:"dark",disabled:!e.hasPermission([5])},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-3-medico"),e.getDoctors()}}},[e._v(" Asignar médico ")])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},zn=[],Hn={name:"Asignar",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){this.getHabitaciones(0),this.form.id_usuario=this.currentUser.uid},mounted:function(){g["a"].index()},data:function(){return{from:0,totalSUM:0,to:0,total:0,perPage:5,search:"",form:{id:0,name:"",nombre:"",apellidos:"",expediente:"",casada:"",nacimiento:null,cui:null,nacionalidad:null,telefono:"",direccion:"",generos:"",nombre_encargado:"",contacto_encargado:"",parentesco_encargado:"",state:1,id_usuario:null,estado_civil:null,profesion:"",nombre_madre:"",nombre_padre:"",lugar_nacimiento:"",estado_civil_encargado:null,profesion_encargado:"",direccion_encargado:"",cui_encargado:"",nombre_conyuge:"",direccion_conyuge:"",telefono_conyuge:"",selectedOption:"hospi",assignedDoctor:0,tipo_paciente:"0",motivo:" ",fecha:null,hora:null,habitacion:null,"estudioDeSueño":0,tipo_cuenta:1},selectedDoctor:[],habitaciones:[],nacionalidades:["Guatemala","El Salvador","México","Honduras","Belice","Otro"],generos:["Masculino","Femenino"],parentescos:["Padre/Madre","Hermano/a","Hijo/a","Cónyuge","Otro"],estados_civiles:["Soltero/a","Casado/a","Viudo/a","Separado/a","Divorciado/a","Otro"],doctors:[],totPagado:0,alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",selectedAccount:null,cuentas:[],selectedTrasOption:4,selectedPayment:[],fieldsAccounts:[{key:"numero",label:"Numero",sortable:!0},{key:"motivo",label:"Motivo",sortable:!0},{key:"pendiente_de_pago",label:"Total a pagar",sortable:!0},{key:"seleccion",label:"Selección",sortable:!0}],paymentOptions:[{text:"Efectivo",value:1},{text:"Tarjeta",value:2},{text:"Depósito",value:3},{text:"Cheque",value:4},{text:"Seguro",value:5}],paymentType:{Efectivo:0,Tarjeta:0,Deposito:0,Cheque:0,Seguro:0},paymentSum:0,totalPayment:0,apiBase:q["a"]+"/expedientes/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombres",sortField:"nombres",title:"Nombre",dataClass:"list-item-heading"},{name:"apellidos",sortField:"apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"expediente",sortField:"expediente",title:"Expediente",dataClass:"list-item-heading"},{name:"medico.nombre",title:"Médico asignado",dataClass:"list-item-heading"},{name:"nacimiento",sortField:"nacimiento",title:"Fecha de nacimiento",dataClass:"list-item-heading"},{name:"edad",title:"Edad",dataClass:"list-item-heading"},{name:"genero",sortField:"genero",title:"Género",dataClass:"list-item-heading"},{name:"nombre_encargado",sortField:"nombre_encargado",title:"Nombre de encargado",dataClass:"list-item-heading"},{name:"contacto_encargado",sortField:"contacto_encargado",title:"Contacto de encargado",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}],tiposHabitaciones:["Privada","Especial","Semi-privada","Intensivo","Intermedio"],NombreHabitaciones:["Cuartos Privados","Cuartos Especiales","Cuartos Semi-privados","Intensivo","Intermedio"]}},validations:function(){return{form:{nombre:{required:_a["c"],ValidateName:_a["a"].regex(/^[A-ZÁÉÍÓÚÜÑ\s]+$/)},apellidos:{required:_a["c"],ValidateName:_a["a"].regex(/^[A-ZÁÉÍÓÚÜÑ\s]+$/)},telefono:{required:_a["c"],numeric:_a["b"]},nacimiento:{required:_a["c"]},cui:{numeric:_a["b"],required:_a["c"]},direccion:{required:_a["c"]},nombre_encargado:{required:_a["c"],ValidateName:_a["a"].regex(/^[A-ZÁÉÍÓÚÜÑ\s]+$/)},contacto_encargado:{required:_a["c"],numeric:_a["b"]},cui_encargado:{required:_a["c"],numeric:_a["b"]},telefono_conyuge:{numeric:_a["b"]},fecha:{required:_a["c"]},hora:{required:_a["c"]},habitacion:{required:_a["c"]}}}},computed:Object(s["a"])({habitacionesPorTipo:function(){var e=this;return function(t){return e.habitaciones.filter((function(e){return e.tipo.toUpperCase()===t.toUpperCase()}))}}},Object(_["c"])({currentUser:"currentUser"})),methods:{getButtonVariant:function(e){return this.form.habitacion===e.id?"primary":1===e.estado?"success":"outline-secondary"},getRoomTooltip:function(e){var t={0:"Deshabilitada",1:"Disponible",2:"Ocupada"};return t[e]||"No disponible"},hasPermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.includes(this.currentUser.user_type)},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.state=1;break;case"update":break}},closeModal:function(e){switch(e){case"update":this.$v.$reset(),this.$refs["modal-2-expediente"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"assignRoom":this.$refs["modal-1-habitacion"].hide();break;case"assignDoctor":this.$refs["modal-3-medico"].hide();break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},calcularEdad:function(e){if(!e)return"";var t=F()(e,"DD-MM-YYYY").format("YYYY-MM-DD"),a=new Date,r=new Date(t),o=a.getFullYear()-r.getFullYear(),i=r.getMonth(),n=r.getDate();return(a.getMonth()<i||a.getMonth()===i&&a.getDate()<n)&&o--,o},setData:function(e){this.form.id=e.id,this.form.name=e.nombres+" "+e.apellidos,this.form.nombre=e.nombres,this.form.apellidos=e.apellidos,this.form.casada=e.casada,this.form.nacimiento=e.nacimiento,this.form.cui=e.cui,this.form.nacionalidad=e.nacionalidad,this.form.telefono=e.telefono,this.form.direccion=e.direccion,this.form.generos=e.generos,this.form.nombre_encargado=e.nombre_encargado,this.form.contacto_encargado=e.contacto_encargado,this.form.parentesco_encargado=e.parentesco_encargado,this.form.estado_civil=e.estado_civil,this.form.profesion=e.profesion,this.form.nombre_madre=e.nombre_madre,this.form.nombre_padre=e.nombre_padre,this.form.lugar_nacimiento=e.lugar_nacimiento,this.form.estado_civil_encargado=e.estado_civil_encargado,this.form.cui_encargado=e.cui_encargado,this.form.profesion_encargado=e.profesion_encargado,this.form.nombre_conyuge=e.nombre_conyuge,this.form.direccion_conyuge=e.direccion_conyuge,this.form.telefono_conyuge=e.telefono_conyuge,this.form.expediente=e.expediente,this.form.state=e.estado,this.form.id=e.id;var t=new Date,a=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0");this.form.fecha="".concat(a,"-").concat(r,"-").concat(o),this.form.hora=t.toTimeString().split(" ")[0],this.getCuentas(e.id)},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/expedientes/update",{form:e.form,user:e.currentUser.user}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el expediente "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){var t=this;this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data.map((function(e){return e.nacimiento=F()(e.nacimiento).format("DD/MM/YYYY"),e.edad=t.calcularEdad(e.nacimiento),{nacimiento:e.nacimiento,edad:e.edad}})),this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},getCuentas:function(e){var t=this;this.totalSUM=0,ie.a.get(q["a"]+"/cuentas/getByExp",{params:{id:e}}).then((function(e){t.totalSUM=e.data.map((function(e){return e.pendiente_de_pago})).reduce((function(e,t){return e+t}),0),t.cuentas=e.data}))},getDoctors:function(e,t){var a=this;ie.a.get(q["a"]+"/medicos/getSearch",{params:{search:e}}).then((function(e){a.doctors=e.data.map((function(e){return{value:e.id,text:e.nombre}})),t(!1)}))},onSearchMedicos:function(e,t){e.length&&(t(!0),this.getDoctors(e,t))},onPatientQuit:function(){if(this.paymentSum=parseFloat(this.paymentType.Efectivo)+parseFloat(this.paymentType.Tarjeta)+parseFloat(this.paymentType.Deposito)+parseFloat(this.paymentType.Cheque)+parseFloat(this.paymentType.Seguro),null===this.selectedAccount)this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError();else{var e=this;ie.a.put(q["a"]+"/cuentas/deactivate",{id:this.selectedAccount,total_pagado:parseFloat(this.totPagado)+parseFloat(this.paymentSum),pendiente_de_pago:parseFloat(parseFloat(this.totalPayment)-parseFloat(this.paymentSum)),efectivo:this.paymentType.Efectivo,tarjeta:this.paymentType.Tarjeta,deposito:this.paymentType.Deposito,cheque:this.paymentType.Cheque,seguro:this.paymentType.Seguro,total:this.paymentSum,tipo:"adelanto"}).then(this.selectedAccount=null,this.paymentType.Efectivo=0,this.paymentType.Tarjeta=0,this.paymentType.Deposito=0,this.paymentType.Cheque=0,this.paymentType.Seguro=0,this.paymentSum=0,e.alertVariant="info",e.showAlert(),e.alertText="Se ha pagado por adelantado la cuenta del paciente "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-1-pago"].hide()).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))}},onRowSelected:function(e){this.selectedAccount=e[0].id,this.totalPayment=e[0].pendiente_de_pago,this.totPagado=e[0].total_pagado},onDoctorAssignment:function(){var e=this;this.form.assignedDoctor=this.selectedDoctor,ie.a.put(q["a"]+"/expedientes/assignDoctor",{form:this.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el expediente "+e.form.expediente+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("assignDoctor")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onRoomAssignment:function(){var e=this;this.form.assignedDoctor=this.selectedDoctor,ie.a.put(q["a"]+"/expedientes/assignRoom",{form:this.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el expediente "+e.form.expediente+" exitosamente",e.$refs.vuetable.refresh(),e.getHabitaciones(),e.form.habitacion=null,e.closeModal("assignRoom")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},getHabitaciones:function(e){var t=this;ie.a.get(q["a"]+"/habitaciones/getAll",{params:{tipo:e}}).then((function(e){t.habitaciones=e.data}))}}},Ln=Hn,Qn=(a("60d9"),Object($["a"])(Ln,Vn,zn,!1,null,null,null)),Un=Qn.exports,jn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-4-pedido",attrs:{id:"modal-4-pedido",title:"Cambiar estado",size:"xl"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-pedido")}}},[e._v("Surtir")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-pedido")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),[a("div",[a("b-table",{attrs:{striped:"",hover:"",items:e.form.pedido_detail,fields:e.pedido_detail_fields}})],1)],void 0,a("h6",{staticClass:"my-4"},[e._v(" ¿Desea cambiar el estado del pedido: "+e._s(e.form.codigoPedido)+" ? ")])],2),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Pedidos pendientes")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("PENDIENTE DE SURTIR")])])])],1):2==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("PENDIENTE DE CARGA A INVENTARIO")])])])],1):3==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("NO DISPONIBLE EN BODEGA")])])])],1):3==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("PENDIENTE DE COMPRA PARA BODEGA")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("ENTREGADO Y CARGADO A INVENTARIO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-4-pedido",modifiers:{"modal-4-pedido":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},Yn=[],Bn={name:"Pedidos",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},data:function(){return{from:0,to:0,total:0,perPage:5,search:"",form:{id:0,codigoPedido:"",state:null,pedido_detail:[]},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/pedidos/list",apiBaseDetail:q["a"]+"/detalle_pedidos/list",pedido_detail_fields:[{key:"descripcion",label:"Descripción",sortable:!0},{key:"cantidad",label:"Cantidad",sortable:!0},{key:"medicamento.nombre",label:"Medicamento",sortable:!0},{key:"quirurgico.nombre",label:"Material quirúrgico",sortable:!0},{key:"comune.nombre",label:"Material común",sortable:!0},{key:"estado",label:"Surtido",sortable:!0}],fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"codigoPedido",sortField:"codigoPedido",title:"Código de Pedido",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}],detailFields:[{name:"descripcion",sortField:"descripcion",title:"Producto",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"}]}},validations:function(){return{form:{codigoPedido:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.codigoPedido="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-4-pedido"].hide(),this.form.id=0,this.form.codigoPedido="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-4-pedido"].hide(),this.form.id=0,this.form.codigoPedido="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.codigoPedido=e.codigoPedido,this.form.state=e.estado,this.form.id=e.id,this.getDetail(e.id)},onSave:function(){var e=this;ie.a.post(q["a"]+"/banco/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el banco "+e.form.codigoPedido+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/banco/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el banco "+e.form.codigoPedido+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/pedidos/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha surtido el pedido "+e.form.codigoPedido+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-pedido"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/banco/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el banco "+e.form.codigoPedido+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-pedido"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"codigoPedido",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},makeDetailQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"created_At",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search,id_pedido:this.id_pedido}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},getDetail:function(e){var t=this;ie.a.get(q["a"]+"/detalle_pedidos/getByAccount",{params:{id:e}}).then((function(e){t.form.pedido_detail=e.data,console.log(e.data)}))}}},Gn=Bn,Zn=Object($["a"])(Gn,jn,Yn,!1,null,null,null),Wn=Zn.exports,Kn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Material común")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}})],1),a("div",{staticClass:"col-sm"})])])]},proxy:!0},{key:"body",fn:function(){return[a("b-tabs",[a("b-tab",{attrs:{title:"Material común",active:""}},[a("MaterialComun")],1),a("b-tab",{attrs:{title:"Movimientos material común",lazy:""}},[a("MovimientosMaterialComun")],1)],1)]},proxy:!0}])})],1)],1)],1)},Jn=[],Xn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-comun",attrs:{id:"modal-1-comun",size:"xl",title:"Agregar material comun"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.name.$error,placeholder:"Ingresar nombre del material quirurgico"},model:{value:e.$v.form.name.$model,callback:function(t){e.$set(e.$v.form.name,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.name.$model"}}),e.$v.form.name.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Inventariado:"}},[a("b-form-radio",{attrs:{value:"INVENTARIADO",name:"customRadio1"},model:{value:e.form.inventariado,callback:function(t){e.$set(e.form,"inventariado",t)},expression:"form.inventariado"}},[e._v("Inventariado")]),a("b-form-radio",{attrs:{value:"NO INVENTARIADO",name:"customRadio1"},model:{value:e.form.inventariado,callback:function(t){e.$set(e.form,"inventariado",t)},expression:"form.inventariado"}},[e._v("No inventariado")])],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Facturado:"}},[a("b-form-radio",{attrs:{value:"0",name:"customRadio2"},model:{value:e.form.factura,callback:function(t){e.$set(e.form,"factura",t)},expression:"form.factura"}},[e._v("No factura")]),a("b-form-radio",{attrs:{value:"1",name:"customRadio2"},model:{value:e.form.factura,callback:function(t){e.$set(e.form,"factura",t)},expression:"form.factura"}},[e._v("Factura")])],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Costo:"}},[a("b-form-input",{attrs:{state:!e.$v.form.precio_costo.$error,placeholder:"Ingresar costo del medicamento"},model:{value:e.$v.form.precio_costo.$model,callback:function(t){e.$set(e.$v.form.precio_costo,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio_costo.$model"}}),e.$v.form.precio_costo.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el costo ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Precio de venta:"}},[a("b-form-input",{attrs:{state:!e.$v.form.precio_venta.$error,placeholder:"Ingresar precio de venta del medicamento"},model:{value:e.$v.form.precio_venta.$model,callback:function(t){e.$set(e.$v.form.precio_venta,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio_venta.$model"}}),e.$v.form.precio_venta.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el precio de venta ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},["INVENTARIADO"===e.form.inventariado?a("b-form-group",{attrs:{label:"Existencia mínima general:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_minima.$error,placeholder:"Ingresar existencia minima del medicamento"},model:{value:e.$v.form.existencia_minima.$model,callback:function(t){e.$set(e.$v.form.existencia_minima,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_minima.$model"}}),e.$v.form.existencia_minima.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia minima ")]):e._e()],1):e._e()],1),a("b-col",{attrs:{md:"3"}},["INVENTARIADO"===e.form.inventariado?a("b-form-group",{attrs:{label:"Existencia actual general:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_actual.$error,placeholder:"Ingresar existencia actual del medicamento"},model:{value:e.$v.form.existencia_actual.$model,callback:function(t){e.$set(e.$v.form.existencia_actual,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_actual.$model"}}),e.$v.form.existencia_actual.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia actual ")]):e._e()],1):e._e()],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},["INVENTARIADO"===e.form.inventariado?a("b-form-group",{attrs:{label:"Existencia mínima quirófano:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_minima_quirofano.$error,placeholder:"Ingresar existencia minima del medicamento en quirófano"},model:{value:e.$v.form.existencia_minima_quirofano.$model,callback:function(t){e.$set(e.$v.form.existencia_minima_quirofano,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_minima_quirofano.$model"}}),e.$v.form.existencia_minima_quirofano.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia minima de quirófano ")]):e._e()],1):e._e()],1),a("b-col",{attrs:{md:"3"}},["INVENTARIADO"===e.form.inventariado?a("b-form-group",{attrs:{label:"Existencia actual quirófano:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_actual_quirofano.$error,placeholder:"Ingresar existencia actual del medicamento en quirófano"},model:{value:e.$v.form.existencia_actual_quirofano.$model,callback:function(t){e.$set(e.$v.form.existencia_actual_quirofano,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_actual_quirofano.$model"}}),e.$v.form.existencia_actual_quirofano.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia actual de quirófano ")]):e._e()],1):e._e()],1),a("b-col",{attrs:{md:"3"}},["INVENTARIADO"===e.form.inventariado?a("b-form-group",{attrs:{label:"Existencia mínima enfermería:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_minima_farmacia.$error,placeholder:"Ingresar existencia minima del medicamento en farmacia"},model:{value:e.$v.form.existencia_minima_farmacia.$model,callback:function(t){e.$set(e.$v.form.existencia_minima_farmacia,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_minima_farmacia.$model"}}),e.$v.form.existencia_minima_farmacia.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia minima de farmacia ")]):e._e()],1):e._e()],1),a("b-col",{attrs:{md:"3"}},["INVENTARIADO"===e.form.inventariado?a("b-form-group",{attrs:{label:"Existencia actual enfermería:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_actual_farmacia.$error,placeholder:"Ingresar existencia actual del medicamento en farmacia"},model:{value:e.$v.form.existencia_actual_farmacia.$model,callback:function(t){e.$set(e.$v.form.existencia_actual_farmacia,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_actual_farmacia.$model"}}),e.$v.form.existencia_actual_farmacia.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia actual de farmacia ")]):e._e()],1):e._e()],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Marca:"}},[a("v-select",{attrs:{name:"marca",state:!e.$v.form.marca.$error,options:e.marcas,filterable:!1,placeholder:"Seleccione la marca"},on:{search:e.onSearchMarca},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.marca.$model,callback:function(t){e.$set(e.$v.form.marca,"$model",t)},expression:"$v.form.marca.$model"}}),e.$v.form.marca.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar la marca ")]):e._e()],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Presentación:"}},[a("v-select",{attrs:{name:"presentacion",state:!e.$v.form.presentacion.$error,options:e.presentaciones,filterable:!1,placeholder:"Seleccione la presentacion"},on:{search:e.onSearchPresentacion},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.presentacion.$model,callback:function(t){e.$set(e.$v.form.presentacion,"$model",t)},expression:"$v.form.presentacion.$model"}}),e.$v.form.presentacion.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar la presentacion ")]):e._e()],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Proveedor:"}},[a("v-select",{attrs:{name:"proveedor",state:!e.$v.form.proveedor.$error,options:e.proveedores,filterable:!1,placeholder:"Seleccione el proveedor"},on:{search:e.onSearchProveedor},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.proveedor.$model,callback:function(t){e.$set(e.$v.form.proveedor,"$model",t)},expression:"$v.form.proveedor.$model"}}),e.$v.form.proveedor.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el proveedor ")]):e._e()],1)],1)],1)],1)],1),a("b-modal",{ref:"modal-2-comun",attrs:{id:"modal-2-comun",size:"xl",title:"Editar material comun"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.name.$error,placeholder:"Ingresar nombre del material quirurgico"},model:{value:e.$v.form.name.$model,callback:function(t){e.$set(e.$v.form.name,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.name.$model"}}),e.$v.form.name.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Inventariado:"}},[a("b-form-radio",{attrs:{value:"INVENTARIADO",name:"customRadio1"},model:{value:e.form.inventariado,callback:function(t){e.$set(e.form,"inventariado",t)},expression:"form.inventariado"}},[e._v("Inventariado")]),a("b-form-radio",{attrs:{value:"NO INVENTARIADO",name:"customRadio1"},model:{value:e.form.inventariado,callback:function(t){e.$set(e.form,"inventariado",t)},expression:"form.inventariado"}},[e._v("No inventariado")])],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Facturado:"}},[a("b-form-radio",{attrs:{value:"0",name:"customRadio2"},model:{value:e.form.factura,callback:function(t){e.$set(e.form,"factura",t)},expression:"form.factura"}},[e._v("No factura")]),a("b-form-radio",{attrs:{value:"1",name:"customRadio2"},model:{value:e.form.factura,callback:function(t){e.$set(e.form,"factura",t)},expression:"form.factura"}},[e._v("Factura")])],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Costo:"}},[a("b-form-input",{attrs:{state:!e.$v.form.precio_costo.$error,placeholder:"Ingresar costo del medicamento"},model:{value:e.$v.form.precio_costo.$model,callback:function(t){e.$set(e.$v.form.precio_costo,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio_costo.$model"}}),e.$v.form.precio_costo.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el costo ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Precio de venta:"}},[a("b-form-input",{attrs:{state:!e.$v.form.precio_venta.$error,placeholder:"Ingresar precio de venta del medicamento"},model:{value:e.$v.form.precio_venta.$model,callback:function(t){e.$set(e.$v.form.precio_venta,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio_venta.$model"}}),e.$v.form.precio_venta.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el precio de venta ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},["INVENTARIADO"===e.form.inventariado?a("b-form-group",{attrs:{label:"Existencia mínima general:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_minima.$error,placeholder:"Ingresar existencia minima del medicamento"},model:{value:e.$v.form.existencia_minima.$model,callback:function(t){e.$set(e.$v.form.existencia_minima,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_minima.$model"}}),e.$v.form.existencia_minima.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia minima ")]):e._e()],1):e._e()],1),a("b-col",{attrs:{md:"3"}},["INVENTARIADO"===e.form.inventariado?a("b-form-group",{attrs:{label:"Existencia actual general:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_actual.$error,placeholder:"Ingresar existencia actual del medicamento"},model:{value:e.$v.form.existencia_actual.$model,callback:function(t){e.$set(e.$v.form.existencia_actual,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_actual.$model"}}),e.$v.form.existencia_actual.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia actual ")]):e._e()],1):e._e()],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},["INVENTARIADO"===e.form.inventariado?a("b-form-group",{attrs:{label:"Existencia mínima quirófano:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_minima_quirofano.$error,placeholder:"Ingresar existencia minima del medicamento en quirófano"},model:{value:e.$v.form.existencia_minima_quirofano.$model,callback:function(t){e.$set(e.$v.form.existencia_minima_quirofano,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_minima_quirofano.$model"}}),e.$v.form.existencia_minima_quirofano.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia minima de quirófano ")]):e._e()],1):e._e()],1),a("b-col",{attrs:{md:"3"}},["INVENTARIADO"===e.form.inventariado?a("b-form-group",{attrs:{label:"Existencia actual quirófano:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_actual_quirofano.$error,placeholder:"Ingresar existencia actual del medicamento en quirófano"},model:{value:e.$v.form.existencia_actual_quirofano.$model,callback:function(t){e.$set(e.$v.form.existencia_actual_quirofano,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_actual_quirofano.$model"}}),e.$v.form.existencia_actual_quirofano.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia actual de quirófano ")]):e._e()],1):e._e()],1),a("b-col",{attrs:{md:"3"}},["INVENTARIADO"===e.form.inventariado?a("b-form-group",{attrs:{label:"Existencia mínima enfermería:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_minima_farmacia.$error,placeholder:"Ingresar existencia minima del medicamento en farmacia"},model:{value:e.$v.form.existencia_minima_farmacia.$model,callback:function(t){e.$set(e.$v.form.existencia_minima_farmacia,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_minima_farmacia.$model"}}),e.$v.form.existencia_minima_farmacia.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia minima de farmacia ")]):e._e()],1):e._e()],1),a("b-col",{attrs:{md:"3"}},["INVENTARIADO"===e.form.inventariado?a("b-form-group",{attrs:{label:"Existencia actual enfermería:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_actual_farmacia.$error,placeholder:"Ingresar existencia actual del medicamento en farmacia"},model:{value:e.$v.form.existencia_actual_farmacia.$model,callback:function(t){e.$set(e.$v.form.existencia_actual_farmacia,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_actual_farmacia.$model"}}),e.$v.form.existencia_actual_farmacia.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia actual de farmacia ")]):e._e()],1):e._e()],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Marca:"}},[a("v-select",{attrs:{name:"marca",state:!e.$v.form.marca.$error,options:e.marcas,filterable:!1,placeholder:"Seleccione la marca"},on:{search:e.onSearchMarca},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.marca.$model,callback:function(t){e.$set(e.$v.form.marca,"$model",t)},expression:"$v.form.marca.$model"}}),e.$v.form.marca.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar la marca ")]):e._e()],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Presentación:"}},[a("v-select",{attrs:{name:"presentacion",state:!e.$v.form.presentacion.$error,options:e.presentaciones,filterable:!1,placeholder:"Seleccione la presentacion"},on:{search:e.onSearchPresentacion},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.presentacion.$model,callback:function(t){e.$set(e.$v.form.presentacion,"$model",t)},expression:"$v.form.presentacion.$model"}}),e.$v.form.presentacion.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar la presentacion ")]):e._e()],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Proveedor:"}},[a("v-select",{attrs:{name:"proveedor",state:!e.$v.form.proveedor.$error,options:e.proveedores,filterable:!1,placeholder:"Seleccione el proveedor"},on:{search:e.onSearchProveedor},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.proveedor.$model,callback:function(t){e.$set(e.$v.form.proveedor,"$model",t)},expression:"$v.form.proveedor.$model"}}),e.$v.form.proveedor.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el proveedor ")]):e._e()],1)],1)],1)],1)],1),a("b-modal",{ref:"modal-3-comun",attrs:{id:"modal-3-comun",title:"Desactivar material comun"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-comun")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-comun")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el material comun: "+e._s(e.form.name)+" ? ")])],1),a("b-modal",{ref:"modal-4-comun",attrs:{id:"modal-4-comun",title:"Activar material comun"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-comun")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-comun")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al material comun: "+e._s(e.form.name)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Material común")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-comun",modifiers:{"modal-1-comun":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"factura",fn:function(t){return a("div",{},[1==t.rowData.factura?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("SI FACTURA")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("NO FACTURA")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-comun",modifiers:{"modal-2-comun":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info",disabled:!e.hasPermission([5])},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-comun"):e.$bvModal.show("modal-4-comun")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},es=[],ts={name:"Bank",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])({currentUser:"currentUser"})),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",marcas:[],presentaciones:[],proveedores:[],form:{id:0,name:"",precio_costo:0,precio_venta:0,existencia_minima:0,existencia_actual:0,existencia_minima_quirofano:0,existencia_actual_quirofano:0,existencia_minima_farmacia:0,existencia_actual_farmacia:0,inventariado:"INVENTARIADO",factura:1,marca:null,proveedor:null,presentacion:null,state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/comun/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"name",title:"Nombre",dataClass:"list-item-heading"},{name:"precio_costo",sortField:"precio_costo",title:"Precio costo",dataClass:"list-item-heading"},{name:"precio_venta",sortField:"precio_venta",title:"Precio venta",dataClass:"list-item-heading"},{name:"existencia_minima",sortField:"existencia_minima",title:"Existencia minima",dataClass:"list-item-heading"},{name:"existencia_actual",sortField:"existencia_actual",title:"Existencia actual",dataClass:"list-item-heading"},{name:"inventariado",sortField:"inventariado",title:"Inventariado",dataClass:"list-item-heading"},{name:"__slot:factura",title:"Factura",titleClass:"",dataClass:"text-muted"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{name:{required:_a["c"]},precio_costo:{required:_a["c"]},precio_venta:{required:_a["c"]},existencia_minima:{required:_a["c"]},existencia_actual:{required:_a["c"]},existencia_minima_quirofano:{required:_a["c"]},existencia_actual_quirofano:{required:_a["c"]},existencia_minima_farmacia:{required:_a["c"]},existencia_actual_farmacia:{required:_a["c"]},marca:{required:_a["c"]},presentacion:{required:_a["c"]},proveedor:{required:_a["c"]}}}},methods:{hasPermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.includes(this.currentUser.user_type)},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.precio_costo=0,this.form.precio_venta=0,this.form.existencia_minima=0,this.form.existencia_actual=0,this.form.existencia_minima_quirofano=0,this.form.existencia_actual_quirofano=0,this.form.existencia_minima_farmacia=0,this.form.existencia_actual_farmacia=0,this.form.inventariado="INVENTARIADO",this.form.factura=1,this.form.marca=null,this.form.presentacion=null,this.form.proveedor=null,this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-comun"].hide(),this.form.id=0,this.form.name="",this.form.precio_costo=0,this.form.precio_venta=0,this.form.existencia_minima=0,this.form.existencia_actual=0,this.form.existencia_minima_quirofano=0,this.form.existencia_actual_quirofano=0,this.form.existencia_minima_farmacia=0,this.form.existencia_actual_farmacia=0,this.form.inventariado="INVENTARIADO",this.form.factura=1,this.form.marca=null,this.form.presentacion=null,this.form.proveedor=null,this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-comun"].hide(),this.form.id=0,this.form.name="",this.form.precio_costo=0,this.form.precio_venta=0,this.form.existencia_minima=0,this.form.existencia_actual=0,this.form.existencia_minima_quirofano=0,this.form.existencia_actual_quirofano=0,this.form.existencia_minima_farmacia=0,this.form.existencia_actual_farmacia=0,this.form.inventariado="INVENTARIADO",this.form.factura=1,this.form.marca=null,this.form.presentacion=null,this.form.proveedor=null,this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.name=e.nombre,this.form.state=e.estado,this.form.precio_costo=e.precio_costo,this.form.precio_venta=e.precio_venta,this.form.existencia_minima=e.existencia_minima,this.form.existencia_actual=e.existencia_actual,this.form.existencia_minima_quirofano=e.existencia_minima_quirofano,this.form.existencia_actual_quirofano=e.existencia_actual_quirofano,this.form.existencia_minima_farmacia=e.existencia_minima_farmacia,this.form.existencia_actual_farmacia=e.existencia_actual_farmacia,this.form.inventariado=e.inventariado,this.form.factura=e.factura,this.form.marca=e.marca,this.form.presentacion=e.presentacione,this.form.proveedor=e.proveedore,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/comun/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el material comun "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/comun/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el material comun "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/comun/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el material comun "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-comun"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/comun/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el material comun "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-comun"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},onSearchMarca:function(e,t){e.length&&(t(!0),this.searchingMarcas(e,t))},searchingMarcas:function(e,t){var a=this;ie.a.get(q["a"]+"/marca/getSearch",{params:{search:e}}).then((function(e){a.marcas=e.data,t(!1)}))},onSearchPresentacion:function(e,t){e.length&&(t(!0),this.searchingPresentaciones(e,t))},searchingPresentaciones:function(e,t){var a=this;ie.a.get(q["a"]+"/presentacion/getSearch",{params:{search:e}}).then((function(e){a.presentaciones=e.data,t(!1)}))},onSearchProveedor:function(e,t){e.length&&(t(!0),this.searchingProveedor(e,t))},searchingProveedor:function(e,t){var a=this;ie.a.get(q["a"]+"/proveedor/getSearch",{params:{search:e}}).then((function(e){a.proveedores=e.data,t(!1)}))}}},as=ts,rs=Object($["a"])(as,Xn,es,!1,null,null,null),os=rs.exports,is=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-movimiento",attrs:{id:"modal-1-movimiento",title:"Agregar movimiento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Material común:"}},[a("v-select",{attrs:{name:"comunes",state:!e.$v.form.comun.$error,options:e.comunes,filterable:!1,placeholder:"Seleccione el material común"},on:{search:e.onSearchComunes},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Existencia: "+t.existencia_actual)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Existencia: "+t.existencia_actual)+" ")]}}]),model:{value:e.$v.form.comun.$model,callback:function(t){e.$set(e.$v.form.comun,"$model",t)},expression:"$v.form.comun.$model"}}),e.$v.form.comun.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el material común ")]):e._e()],1),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.cantidad.$error,placeholder:"Ingresar cantidad"},model:{value:e.$v.form.cantidad.$model,callback:function(t){e.$set(e.$v.form.cantidad,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.cantidad.$model"}}),e.$v.form.cantidad.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar cantidad ")]):e._e()],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Tipo de movimiento:"}},[a("b-form-radio",{attrs:{value:"ENTRADA",name:"customRadio1"},on:{change:e.changeCheck},model:{value:e.form.movimiento,callback:function(t){e.$set(e.form,"movimiento",t)},expression:"form.movimiento"}},[e._v("Ingreso de material común")]),a("b-form-radio",{attrs:{value:"SALIDA",name:"customRadio1"},on:{change:e.changeCheck},model:{value:e.form.movimiento,callback:function(t){e.$set(e.form,"movimiento",t)},expression:"form.movimiento"}},[e._v("Salida de material común")])],1)],1),a("b-col",{attrs:{md:"6"}},["ENTRADA"===e.form.movimiento?a("b-form-group",{attrs:{label:"Precio costo individual:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar precio costo"},model:{value:e.form.precio_costo,callback:function(t){e.$set(e.form,"precio_costo","string"===typeof t?t.trim():t)},expression:"form.precio_costo"}})],1):"SALIDA"===e.form.movimiento?a("b-form-group",{attrs:{label:"Precio venta individual:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar precio venta"},model:{value:e.form.precio_venta,callback:function(t){e.$set(e.form,"precio_venta","string"===typeof t?t.trim():t)},expression:"form.precio_venta"}})],1):e._e()],1)],1)],1)],1),a("b-modal",{ref:"modal-2-movimiento",attrs:{id:"modal-2-movimiento",title:"Editar movimiento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Material común:"}},[a("v-select",{attrs:{name:"comunes",state:!e.$v.form.comun.$error,options:e.comunes,filterable:!1,placeholder:"Seleccione material común"},on:{search:e.onSearchComunes},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Existencia: "+t.existencia_actual)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Existencia: "+t.existencia_actual)+" ")]}}]),model:{value:e.$v.form.comun.$model,callback:function(t){e.$set(e.$v.form.comun,"$model",t)},expression:"$v.form.comun.$model"}}),e.$v.form.comun.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el material común ")]):e._e()],1),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.cantidad.$error,placeholder:"Ingresar cantidad"},model:{value:e.$v.form.cantidad.$model,callback:function(t){e.$set(e.$v.form.cantidad,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.cantidad.$model"}}),e.$v.form.cantidad.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar cantidad ")]):e._e()],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Tipo de movimiento:"}},[a("b-form-radio",{attrs:{value:"ENTRADA",name:"customRadio1"},on:{change:e.changeCheck},model:{value:e.form.movimiento,callback:function(t){e.$set(e.form,"movimiento",t)},expression:"form.movimiento"}},[e._v("Ingreso de material común")]),a("b-form-radio",{attrs:{value:"SALIDA",name:"customRadio1"},on:{change:e.changeCheck},model:{value:e.form.movimiento,callback:function(t){e.$set(e.form,"movimiento",t)},expression:"form.movimiento"}},[e._v("Salida de material común")])],1)],1),a("b-col",{attrs:{md:"6"}},["ENTRADA"===e.form.movimiento?a("b-form-group",{attrs:{label:"Precio costo individual:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar precio costo"},model:{value:e.form.precio_costo,callback:function(t){e.$set(e.form,"precio_costo","string"===typeof t?t.trim():t)},expression:"form.precio_costo"}})],1):"SALIDA"===e.form.movimiento?a("b-form-group",{attrs:{label:"Precio venta individual:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar precio venta"},model:{value:e.form.precio_venta,callback:function(t){e.$set(e.form,"precio_venta","string"===typeof t?t.trim():t)},expression:"form.precio_venta"}})],1):e._e()],1)],1)],1)],1),a("b-modal",{ref:"modal-3-movimiento",attrs:{id:"modal-3-movimiento",title:"Desactivar movimiento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-movimiento")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-movimiento")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el movimiento? ")])],1),a("b-modal",{ref:"modal-4-movimiento",attrs:{id:"modal-4-movimiento",title:"Activar movimiento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-movimiento")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-movimiento")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar el movimiento ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Movimientos material común")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-movimiento",modifiers:{"modal-1-movimiento":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-movimiento",modifiers:{"modal-2-movimiento":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info"},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-movimiento"):e.$bvModal.show("modal-4-movimiento")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},ns=[],ss={name:"MovimientosComunes",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])(["currentUser"])),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",comunes:[],form:{id:0,cantidad:0,comun:null,movimiento:"ENTRADA",precio_costo:null,precio_venta:null,state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/comun_movimientos/list",fields:[{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"existencia_previa",sortField:"existencia_previa",title:"Existencia previa",dataClass:"list-item-heading"},{name:"existencia_nueva",sortField:"existencia_nueva",title:"Existencia nueva",dataClass:"list-item-heading"},{name:"precio_costo",sortField:"precio_costo",title:"Precio costo",dataClass:"list-item-heading"},{name:"precio_venta",sortField:"precio_venta",title:"Precio venta",dataClass:"list-item-heading"},{name:"movimiento",sortField:"movimiento",title:"Movimiento",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Descripcion",dataClass:"list-item-heading"}]}},validations:function(){return{form:{cantidad:{required:_a["c"]},movimiento:{required:_a["c"]},comun:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.cantidad=0,this.form.movimiento="ENTRADA",this.form.comun=null,this.form.precio_costo=null,this.form.precio_venta=null,this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-movimiento"].hide(),this.form.id=0,this.form.cantidad=0,this.form.movimiento="ENTRADA",this.form.comun=null,this.form.precio_costo=null,this.form.precio_venta=null,this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-movimiento"].hide(),this.form.id=0,this.form.cantidad=0,this.form.movimiento="ENTRADA",this.form.comun=null,this.form.precio_costo=null,this.form.precio_venta=null,this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?parseInt(this.form.cantidad)<1?(this.alertErrorText="Debe ser un número mayor a 0",this.showAlertError()):parseInt(this.form.cantidad)>this.form.comun.existencia_actual&&"SALIDA"===this.form.movimiento?(this.alertErrorText="No hay suficiente existencia del producto",this.showAlertError()):"SALIDA"===this.form.movimiento&&null===this.form.precio_venta?(this.alertErrorText="Debe ingresar el precio de salida",this.showAlertError()):"ENTRADA"===this.form.movimiento&&null===this.form.precio_costo?(this.alertErrorText="Debe ingresar el precio de entrada",this.showAlertError()):this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.cantidad=e.cantidad,this.form.movimiento=e.movimiento,this.form.comun=e.comun,this.form.precio_costo=e.precio_costo,this.form.precio_venta=e.precio_venta,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this,t=this.currentUser;ie.a.post(q["a"]+"/comun_movimientos/create",{form:e.form,currentUser:t}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el movimiento exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/comun_movimientos/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el movimiento exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/comun_movimientos/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el movimiento exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-movimiento"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/comun_movimientos/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el movimiento exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-movimiento"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},onSearchComunes:function(e,t){e.length&&(t(!0),this.searchingComunes(e,t))},searchingComunes:function(e,t){var a=this;ie.a.get(q["a"]+"/comun/getSearch",{params:{search:e}}).then((function(e){a.comunes=e.data,t(!1)}))},changeCheck:function(){"ENTRADA"===this.movimiento?this.form.precio_venta=null:this.form.precio_costo=null}}},ls=ss,cs=Object($["a"])(ls,is,ns,!1,null,null,null),ds=cs.exports,ms={name:"ComunParent",components:{MaterialComun:os,MovimientosMaterialComun:ds},data:function(){return{patient:{},patientId:0}},mounted:function(){g["a"].index()},beforeMount:function(){this.patientId=this.$route.params.id,this.getPatient(this.patientId)},methods:{getPatient:function(e){var t=this;ie.a.get(q["a"]+"/paciente/get?id=".concat(e)).then((function(e){t.patient=e.data})).catch((function(e){console.log(e)}))},backToPatients:function(){this.$router.push({name:"patient.patients"})}}},us=ms,fs=Object($["a"])(us,Kn,Jn,!1,null,null,null),hs=fs.exports,ps=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Equipos médicos")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}})],1),a("div",{staticClass:"col-sm"})])])]},proxy:!0},{key:"body",fn:function(){return[a("b-tabs",[a("b-tab",{attrs:{title:"Equipos",active:""}},[a("Equipos")],1),a("b-tab",{attrs:{title:"Mantenimientos equipos",lazy:""}},[a("MantenimientosEquipos")],1)],1)]},proxy:!0}])})],1)],1)],1)},bs=[],vs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-equipo",attrs:{id:"modal-1-equipo",title:"Agregar equipo"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre del equipo"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1),a("b-form-group",{attrs:{label:"Cantidad de usos actual:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.cantidad_usos.$error,placeholder:"Ingresar cantidad de usos actual del equipo"},model:{value:e.$v.form.cantidad_usos.$model,callback:function(t){e.$set(e.$v.form.cantidad_usos,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.cantidad_usos.$model"}}),e.$v.form.cantidad_usos.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la cantidad de usos ")]):e._e()],1),a("b-form-group",{attrs:{label:"Precio público:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.precio_publico.$error,placeholder:"Ingresar precio público del equipo"},model:{value:e.$v.form.precio_publico.$model,callback:function(t){e.$set(e.$v.form.precio_publico,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio_publico.$model"}}),e.$v.form.precio_publico.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el precio público ")]):e._e()],1),a("b-form-group",{attrs:{label:"Gasto único:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.gasto_unico.$error,placeholder:"Ingresar gasto único del equipo"},model:{value:e.$v.form.gasto_unico.$model,callback:function(t){e.$set(e.$v.form.gasto_unico,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.gasto_unico.$model"}}),e.$v.form.gasto_unico.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el gasto único ")]):e._e()],1),a("b-form-group",{attrs:{label:"Fecha de adquisición:"}},[a("b-form-input",{attrs:{type:"date",state:!e.$v.form.fecha_adquisicion.$error,placeholder:"Ingresar fecha de adquisición del equipo"},model:{value:e.$v.form.fecha_adquisicion.$model,callback:function(t){e.$set(e.$v.form.fecha_adquisicion,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.fecha_adquisicion.$model"}}),e.$v.form.fecha_adquisicion.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la fecha de adquisición ")]):e._e()],1),a("b-form-group",{attrs:{label:"Existencia:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.existencia.$error,placeholder:"Ingresar existencia del equipo"},model:{value:e.$v.form.existencia.$model,callback:function(t){e.$set(e.$v.form.existencia,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia.$model"}}),e.$v.form.existencia.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-2-equipo",attrs:{id:"modal-2-equipo",title:"Editar equipo"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre del equipo"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1),a("b-form-group",{attrs:{label:"Cantidad de usos actual:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.cantidad_usos.$error,placeholder:"Ingresar cantidad de usos actual del equipo"},model:{value:e.$v.form.cantidad_usos.$model,callback:function(t){e.$set(e.$v.form.cantidad_usos,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.cantidad_usos.$model"}}),e.$v.form.cantidad_usos.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la cantidad de usos ")]):e._e()],1),a("b-form-group",{attrs:{label:"Precio público:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.precio_publico.$error,placeholder:"Ingresar precio público del equipo"},model:{value:e.$v.form.precio_publico.$model,callback:function(t){e.$set(e.$v.form.precio_publico,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio_publico.$model"}}),e.$v.form.precio_publico.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el precio público ")]):e._e()],1),a("b-form-group",{attrs:{label:"Gasto único:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.gasto_unico.$error,placeholder:"Ingresar gasto único del equipo"},model:{value:e.$v.form.gasto_unico.$model,callback:function(t){e.$set(e.$v.form.gasto_unico,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.gasto_unico.$model"}}),e.$v.form.gasto_unico.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el gasto único ")]):e._e()],1),a("b-form-group",{attrs:{label:"Fecha de adquisición:"}},[a("b-form-input",{attrs:{type:"date",state:!e.$v.form.fecha_adquisicion.$error,placeholder:"Ingresar fecha de adquisición del equipo"},model:{value:e.$v.form.fecha_adquisicion.$model,callback:function(t){e.$set(e.$v.form.fecha_adquisicion,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.fecha_adquisicion.$model"}}),e.$v.form.fecha_adquisicion.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la fecha de adquisición ")]):e._e()],1),a("b-form-group",{attrs:{label:"Existencia:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.existencia.$error,placeholder:"Ingresar existencia del equipo"},model:{value:e.$v.form.existencia.$model,callback:function(t){e.$set(e.$v.form.existencia,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia.$model"}}),e.$v.form.existencia.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-3-equipo",attrs:{id:"modal-3-equipo",title:"Desactivar equipo"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-equipo")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-equipo")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el equipo: "+e._s(e.form.nombre)+" ? ")])],1),a("b-modal",{ref:"modal-4-equipo",attrs:{id:"modal-4-equipo",title:"Activar equipo"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-equipo")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-equipo")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al equipo: "+e._s(e.form.nombre)+" ? ")])],1),a("b-modal",{ref:"modal-10-equipo",attrs:{id:"modal-10-equipo",title:"Agregar uso de equipo"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre del equipo",disabled:!0},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1),a("b-form-group",{attrs:{label:"Cantidad de usos actual:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.cantidad_usos.$error,placeholder:"Ingresar cantidad de usos actual del equipo",disabled:!0},model:{value:e.$v.form.cantidad_usos.$model,callback:function(t){e.$set(e.$v.form.cantidad_usos,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.cantidad_usos.$model"}}),e.$v.form.cantidad_usos.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la cantidad de usos ")]):e._e()],1),a("b-form-group",{attrs:{label:"Cantidad de usos a agregar:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar cantidad de usos que se le dió al equipo",disabled:!1},model:{value:e.form.usos_nuevos,callback:function(t){e.$set(e.form,"usos_nuevos","string"===typeof t?t.trim():t)},expression:"form.usos_nuevos"}}),e.$v.form.cantidad_usos.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la cantidad de usos ")]):e._e()],1)],1)],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Equipos")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-equipo",modifiers:{"modal-1-equipo":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-2-equipo",modifiers:{"modal-2-equipo":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[e._v("Editar equipo")]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-10-equipo",modifiers:{"modal-10-equipo":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-dark"},on:{click:function(a){return e.setData(t.rowData)}}},[e._v("Agregar uso de equipo")]),a("b-button",{staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info"},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-equipo"):e.$bvModal.show("modal-4-equipo")}}},[a("span",[e._v(" "+e._s(1==t.rowData.estado?"Desactivar":"Activar")+" ")])])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},gs=[],_s={name:"Equipos",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},data:function(){return{from:0,to:0,total:0,perPage:5,search:"",form:{id:0,nombre:"",cantidad_usos:0,usos_nuevos:0,precio_publico:0,gasto_unico:0,fecha_adquisicion:"",existencia:0,state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/equipos/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"nombre",title:"Nombre",dataClass:"list-item-heading"},{name:"cantidad_usos",sortField:"cantidad_usos",title:"Cantidad de usos",dataClass:"list-item-heading"},{name:"gasto_unico",sortField:"gasto_unico",title:"Gasto único",dataClass:"list-item-heading"},{name:"fecha_adquisicion",sortField:"fecha_adquisicion",title:"Fecha de adquisición",dataClass:"list-item-heading"},{name:"existencia",sortField:"existencia",title:"Existencia",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{nombre:{required:_a["c"]},cantidad_usos:{required:_a["c"]},precio_publico:{required:_a["c"]},gasto_unico:{required:_a["c"]},fecha_adquisicion:{required:_a["c"]},existencia:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.nombre="",this.form.cantidad_usos=0,this.form.usos_nuevos=0,this.form.precio_publico=0,this.form.gasto_unico=0,this.form.fecha_adquisicion="",this.form.existencia=0,this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-equipo"].hide(),this.form.id=0,this.form.nombre="",this.form.cantidad_usos=0,this.form.usos_nuevos=0,this.form.precio_publico=0,this.form.gasto_unico=0,this.form.fecha_adquisicion="",this.form.existencia=0,this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-equipo"].hide(),this.$refs["modal-10-equipo"].hide(),this.form.id=0,this.form.nombre="",this.form.cantidad_usos=0,this.form.usos_nuevos=0,this.form.precio_publico=0,this.form.gasto_unico=0,this.form.fecha_adquisicion="",this.form.existencia=0,this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.nombre=e.nombre,this.form.cantidad_usos=e.cantidad_usos,this.form.precio_publico=e.precio_publico,this.form.gasto_unico=e.gasto_unico,this.form.fecha_adquisicion=e.fecha_adquisicion,this.form.existencia=e.existencia,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/equipos/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el equipo "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;e.form.cantidad_usos=parseInt(e.form.cantidad_usos)+parseInt(e.form.usos_nuevos),ie.a.put(q["a"]+"/equipos/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el equipo "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/equipos/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el equipo "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-equipo"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/equipos/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el equipo "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-equipo"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs}}},xs=_s,Cs=Object($["a"])(xs,vs,gs,!1,null,null,null),$s=Cs.exports,ys=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-mantenimiento",attrs:{id:"modal-1-mantenimiento",title:"Agregar mantenimiento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Fecha de mantenimiento:"}},[a("b-form-input",{attrs:{state:!e.$v.form.fecha.$error,placeholder:"Ingresar fecha de mantenimiento",type:"date"},model:{value:e.$v.form.fecha.$model,callback:function(t){e.$set(e.$v.form.fecha,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.fecha.$model"}}),e.$v.form.fecha.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la fecha ")]):e._e()],1),a("b-form-group",{attrs:{label:"Costo de mantenimiento:"}},[a("b-form-input",{attrs:{state:!e.$v.form.costo.$error,placeholder:"Ingresar costo de mantenimiento"},model:{value:e.$v.form.costo.$model,callback:function(t){e.$set(e.$v.form.costo,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.costo.$model"}}),e.$v.form.costo.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el costo ")]):e._e()],1),a("b-form-group",{attrs:{label:"Siguiente mantenimiento:"}},[a("b-form-input",{attrs:{state:!e.$v.form.siguiente.$error,placeholder:"Ingresar siguiente mantenimiento",type:"date"},model:{value:e.$v.form.siguiente.$model,callback:function(t){e.$set(e.$v.form.siguiente,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.siguiente.$model"}}),e.$v.form.siguiente.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el siguiente mantenimiento sugerido ")]):e._e()],1),a("b-form-group",{attrs:{label:"Equipo al que se aplicará mantenimiento:"}},[a("v-select",{attrs:{name:"equipo",state:!e.$v.form.equipo.$error,options:e.equipos,filterable:!1,placeholder:"Seleccione el equipo"},on:{search:e.onSearchEquipo},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.equipo.$model,callback:function(t){e.$set(e.$v.form.equipo,"$model",t)},expression:"$v.form.equipo.$model"}}),e.$v.form.equipo.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el equipo ")]):e._e()],1)],1)],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Mantenimientos equipos")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-mantenimiento",modifiers:{"modal-1-mantenimiento":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},ws=[],Es={name:"Mantenimientos",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},data:function(){return{from:0,to:0,total:0,perPage:5,search:"",form:{id:0,fecha:null,costo:0,siguiente:null,equipo:null,state:1},equipos:[],alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/mantenimientos/list",fields:[{name:"fecha",sortField:"fecha",title:"Fecha",dataClass:"list-item-heading"},{name:"costo",sortField:"costo",title:"Costo",dataClass:"list-item-heading"},{name:"equipo.nombre",sortField:"equipo.nombre",title:"Equipo",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{fecha:{required:_a["c"]},costo:{required:_a["c"]},siguiente:{required:_a["c"]},equipo:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-mantenimiento"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.name=e.nombre,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/mantenimientos/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el mantenimiento exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},onSearchEquipo:function(e,t){e.length&&(t(!0),this.searchingEquipos(e,t))},searchingEquipos:function(e,t){var a=this;ie.a.get(q["a"]+"/equipos/getSearch",{params:{search:e}}).then((function(e){a.equipos=e.data,t(!1)}))}}},ks=Es,Ds=Object($["a"])(ks,ys,ws,!1,null,null,null),As=Ds.exports,Ss={name:"EquiposParent",components:{Equipos:$s,MantenimientosEquipos:As},data:function(){return{patient:{},patientId:0}},mounted:function(){g["a"].index()},beforeMount:function(){this.patientId=this.$route.params.id,this.getPatient(this.patientId)},methods:{getPatient:function(e){var t=this;ie.a.get(q["a"]+"/paciente/get?id=".concat(e)).then((function(e){t.patient=e.data})).catch((function(e){console.log(e)}))},backToPatients:function(){this.$router.push({name:"patient.patients"})}}},Ts=Ss,Ps=Object($["a"])(Ts,ps,bs,!1,null,null,null),Ms=Ps.exports,qs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Alimentos")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}})],1),a("div",{staticClass:"col-sm"})])])]},proxy:!0},{key:"body",fn:function(){return[a("b-tabs",[a("b-tab",{attrs:{title:"Alimentos",active:""}},[a("Alimentos")],1),a("b-tab",{attrs:{title:"Movimientos alimentos",lazy:""}},[a("MovimientosAlimentos")],1)],1)]},proxy:!0}])})],1)],1)],1)},Is=[],Fs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-alimento",attrs:{id:"modal-1-alimento",title:"Agregar alimento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre del alimento"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1),a("b-form-group",{attrs:{label:"Precio costo:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.precio_costo.$error,placeholder:"Ingresar precio costo del alimento"},model:{value:e.$v.form.precio_costo.$model,callback:function(t){e.$set(e.$v.form.precio_costo,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio_costo.$model"}}),e.$v.form.precio_costo.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el precio costo ")]):e._e()],1),a("b-form-group",{attrs:{label:"Precio venta:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.precio_venta.$error,placeholder:"Ingresar precio de venta del alimento"},model:{value:e.$v.form.precio_venta.$model,callback:function(t){e.$set(e.$v.form.precio_venta,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio_venta.$model"}}),e.$v.form.precio_venta.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el precio de venta ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-2-alimento",attrs:{id:"modal-2-alimento",title:"Editar alimento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre del alimento"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1),a("b-form-group",{attrs:{label:"Precio costo:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.precio_costo.$error,placeholder:"Ingresar precio costo del alimento"},model:{value:e.$v.form.precio_costo.$model,callback:function(t){e.$set(e.$v.form.precio_costo,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio_costo.$model"}}),e.$v.form.precio_costo.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el precio costo ")]):e._e()],1),a("b-form-group",{attrs:{label:"Precio venta:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.precio_venta.$error,placeholder:"Ingresar precio de venta del alimento"},model:{value:e.$v.form.precio_venta.$model,callback:function(t){e.$set(e.$v.form.precio_venta,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio_venta.$model"}}),e.$v.form.precio_venta.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el precio de venta ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-3-alimento",attrs:{id:"modal-3-alimento",title:"Desactivar alimento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-alimento")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-alimento")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el alimento: "+e._s(e.form.nombre)+" ? ")])],1),a("b-modal",{ref:"modal-4-alimento",attrs:{id:"modal-4-alimento",title:"Activar alimento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-alimento")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-alimento")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al alimento: "+e._s(e.form.nombre)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Alimentos")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-alimento",modifiers:{"modal-1-alimento":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-alimento",modifiers:{"modal-2-alimento":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info"},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-alimento"):e.$bvModal.show("modal-4-alimento")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},Os=[],Ns={name:"Alimentos",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])(["currentUser"])),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",form:{id:0,nombre:"",precio_costo:0,precio_venta:0,state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/alimentos/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"nombre",title:"Nombre",dataClass:"list-item-heading"},{name:"precio_costo",sortField:"precio_costo",title:"Precio costo",dataClass:"list-item-heading"},{name:"precio_venta",sortField:"precio_venta",title:"Precio venta",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{nombre:{required:_a["c"]},precio_costo:{required:_a["c"]},precio_venta:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.nombre="",this.form.precio_costo=0,this.form.precio_venta=0,this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-alimento"].hide(),this.form.id=0,this.form.nombre="",this.form.precio_costo=0,this.form.precio_venta=0,this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-alimento"].hide(),this.form.id=0,this.form.nombre="",this.form.precio_costo=0,this.form.precio_venta=0,this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.nombre=e.nombre,this.form.precio_costo=e.precio_costo,this.form.precio_venta=e.precio_venta,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/alimentos/create",{form:e.form,user:e.currentUser.user}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el alimento "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/alimentos/update",{form:e.form,user:e.currentUser.user}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el alimento "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/alimentos/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el alimento "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-alimento"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/alimentos/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el alimento "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-alimento"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs}}},Rs=Ns,Vs=Object($["a"])(Rs,Fs,Os,!1,null,null,null),zs=Vs.exports,Hs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-bank",attrs:{id:"modal-1-bank",title:"Agregar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.name.$error,placeholder:"Ingresar nombre del banco"},model:{value:e.$v.form.name.$model,callback:function(t){e.$set(e.$v.form.name,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.name.$model"}}),e.$v.form.name.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-2-bank",attrs:{id:"modal-2-bank",title:"Editar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.name.$error,placeholder:"Ingresar nombre de banco"},model:{value:e.$v.form.name.$model,callback:function(t){e.$set(e.$v.form.name,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.name.$model"}}),e.$v.form.name.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-3-bank",attrs:{id:"modal-3-bank",title:"Desactivar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-bank")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-bank")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el banco: "+e._s(e.form.name)+" ? ")])],1),a("b-modal",{ref:"modal-4-bank",attrs:{id:"modal-4-bank",title:"Activar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-bank")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-bank")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al banco: "+e._s(e.form.name)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Movimientos alimentos")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-bank",modifiers:{"modal-1-bank":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-bank",modifiers:{"modal-2-bank":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info"},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-bank"):e.$bvModal.show("modal-4-bank")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},Ls=[],Qs={name:"Bank",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},data:function(){return{from:0,to:0,total:0,perPage:5,search:"",form:{id:0,name:"",state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/banco/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"name",title:"Nombre",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{name:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-bank"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-bank"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.name=e.nombre,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/banco/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/banco/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/banco/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-bank"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/banco/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-bank"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs}}},Us=Qs,js=Object($["a"])(Us,Hs,Ls,!1,null,null,null),Ys=js.exports,Bs={name:"AlimentosParent",components:{Alimentos:zs,MovimientosAlimentos:Ys},data:function(){return{patient:{},patientId:0}},mounted:function(){g["a"].index()},beforeMount:function(){this.patientId=this.$route.params.id,this.getPatient(this.patientId)},methods:{getPatient:function(e){var t=this;ie.a.get(q["a"]+"/paciente/get?id=".concat(e)).then((function(e){t.patient=e.data})).catch((function(e){console.log(e)}))},backToPatients:function(){this.$router.push({name:"patient.patients"})}}},Gs=Bs,Zs=Object($["a"])(Gs,qs,Is,!1,null,null,null),Ws=Zs.exports,Ks=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Medicamentos")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}})],1),a("div",{staticClass:"col-sm"})])])]},proxy:!0},{key:"body",fn:function(){return[a("b-tabs",[a("b-tab",{attrs:{title:"Medicamentos",active:""}},[a("Medicamentos")],1),a("b-tab",{attrs:{title:"Movimientos medicamentos",lazy:""}},[a("MovimientosMedicamentos")],1)],1)]},proxy:!0}])})],1)],1)],1)},Js=[],Xs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-medicamento",attrs:{id:"modal-1-medicamento",size:"xl",title:"Agregar medicamento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.name.$error,placeholder:"Ingresar nombre del medicamento"},model:{value:e.$v.form.name.$model,callback:function(t){e.$set(e.$v.form.name,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.name.$model"}}),e.$v.form.name.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Anestesico:"}},[a("b-form-radio",{attrs:{value:"0",name:"customRadio"},model:{value:e.form.anestesico,callback:function(t){e.$set(e.form,"anestesico",t)},expression:"form.anestesico"}},[e._v("Anestesico")]),a("b-form-radio",{attrs:{value:"1",name:"customRadio"},model:{value:e.form.anestesico,callback:function(t){e.$set(e.form,"anestesico",t)},expression:"form.anestesico"}},[e._v("Medicamento")])],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Controlado:"}},[a("b-form-radio",{attrs:{value:"0",name:"customRadio1"},model:{value:e.form.controlado,callback:function(t){e.$set(e.form,"controlado",t)},expression:"form.controlado"}},[e._v("No controlado")]),a("b-form-radio",{attrs:{value:"1",name:"customRadio1"},model:{value:e.form.controlado,callback:function(t){e.$set(e.form,"controlado",t)},expression:"form.controlado"}},[e._v("Controlado")])],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Facturado:"}},[a("b-form-radio",{attrs:{value:"0",name:"customRadio2"},model:{value:e.form.factura,callback:function(t){e.$set(e.form,"factura",t)},expression:"form.factura"}},[e._v("No factura")]),a("b-form-radio",{attrs:{value:"1",name:"customRadio2"},model:{value:e.form.factura,callback:function(t){e.$set(e.form,"factura",t)},expression:"form.factura"}},[e._v("Factura")])],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Costo:"}},[a("b-form-input",{attrs:{state:!e.$v.form.precio_costo.$error,placeholder:"Ingresar costo del medicamento"},model:{value:e.$v.form.precio_costo.$model,callback:function(t){e.$set(e.$v.form.precio_costo,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio_costo.$model"}}),e.$v.form.precio_costo.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el costo ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Venta:"}},[a("b-form-input",{attrs:{state:!e.$v.form.precio_venta.$error,placeholder:"Ingresar venta del medicamento"},model:{value:e.$v.form.precio_venta.$model,callback:function(t){e.$set(e.$v.form.precio_venta,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio_venta.$model"}}),e.$v.form.precio_venta.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el precio de venta ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Existencia mínima general:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_minima.$error,placeholder:"Ingresar existencia minima del medicamento"},model:{value:e.$v.form.existencia_minima.$model,callback:function(t){e.$set(e.$v.form.existencia_minima,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_minima.$model"}}),e.$v.form.existencia_minima.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia minima ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Existencia actual general:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_actual.$error,placeholder:"Ingresar existencia actual del medicamento"},model:{value:e.$v.form.existencia_actual.$model,callback:function(t){e.$set(e.$v.form.existencia_actual,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_actual.$model"}}),e.$v.form.existencia_actual.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia actual ")]):e._e()],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Existencia mínima quirófano:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_minima_quirofano.$error,placeholder:"Ingresar existencia minima del medicamento en quirófano"},model:{value:e.$v.form.existencia_minima_quirofano.$model,callback:function(t){e.$set(e.$v.form.existencia_minima_quirofano,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_minima_quirofano.$model"}}),e.$v.form.existencia_minima_quirofano.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia minima de quirófano ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Existencia actual quirófano:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_actual_quirofano.$error,placeholder:"Ingresar existencia actual del medicamento en quirófano"},model:{value:e.$v.form.existencia_actual_quirofano.$model,callback:function(t){e.$set(e.$v.form.existencia_actual_quirofano,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_actual_quirofano.$model"}}),e.$v.form.existencia_actual_quirofano.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia actual de quirófano ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Existencia mínima enfermería:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_minima_farmacia.$error,placeholder:"Ingresar existencia minima del medicamento en farmacia"},model:{value:e.$v.form.existencia_minima_farmacia.$model,callback:function(t){e.$set(e.$v.form.existencia_minima_farmacia,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_minima_farmacia.$model"}}),e.$v.form.existencia_minima_farmacia.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia minima de farmacia ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Existencia actual enfermería:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_actual_farmacia.$error,placeholder:"Ingresar existencia actual del medicamento en farmacia"},model:{value:e.$v.form.existencia_actual_farmacia.$model,callback:function(t){e.$set(e.$v.form.existencia_actual_farmacia,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_actual_farmacia.$model"}}),e.$v.form.existencia_actual_farmacia.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia actual de farmacia ")]):e._e()],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Marca:"}},[a("v-select",{attrs:{name:"marca",state:!e.$v.form.marca.$error,options:e.marcas,filterable:!1,placeholder:"Seleccione la marca"},on:{search:e.onSearchMarca},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.marca.$model,callback:function(t){e.$set(e.$v.form.marca,"$model",t)},expression:"$v.form.marca.$model"}}),e.$v.form.marca.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar la marca ")]):e._e()],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Presentación:"}},[a("v-select",{attrs:{name:"presentacion",state:!e.$v.form.presentacion.$error,options:e.presentaciones,filterable:!1,placeholder:"Seleccione la presentacion"},on:{search:e.onSearchPresentacion},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.presentacion.$model,callback:function(t){e.$set(e.$v.form.presentacion,"$model",t)},expression:"$v.form.presentacion.$model"}}),e.$v.form.presentacion.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar la presentacion ")]):e._e()],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Proveedor:"}},[a("v-select",{attrs:{name:"proveedor",state:!e.$v.form.proveedor.$error,options:e.proveedores,filterable:!1,placeholder:"Seleccione el proveedor"},on:{search:e.onSearchProveedor},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.proveedor.$model,callback:function(t){e.$set(e.$v.form.proveedor,"$model",t)},expression:"$v.form.proveedor.$model"}}),e.$v.form.proveedor.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el proveedor ")]):e._e()],1)],1)],1)],1)],1),a("b-modal",{ref:"modal-2-medicamento",attrs:{id:"modal-2-medicamento",size:"xl",title:"Editar medicamento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.name.$error,placeholder:"Ingresar nombre del medicamento"},model:{value:e.$v.form.name.$model,callback:function(t){e.$set(e.$v.form.name,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.name.$model"}}),e.$v.form.name.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Anestesico:"}},[a("b-form-radio",{attrs:{value:"0",name:"customRadio"},model:{value:e.form.anestesico,callback:function(t){e.$set(e.form,"anestesico",t)},expression:"form.anestesico"}},[e._v("Anestesico")]),a("b-form-radio",{attrs:{value:"1",name:"customRadio"},model:{value:e.form.anestesico,callback:function(t){e.$set(e.form,"anestesico",t)},expression:"form.anestesico"}},[e._v("Medicamento")])],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Controlado:"}},[a("b-form-radio",{attrs:{value:"0",name:"customRadio1"},model:{value:e.form.controlado,callback:function(t){e.$set(e.form,"controlado",t)},expression:"form.controlado"}},[e._v("No controlado")]),a("b-form-radio",{attrs:{value:"1",name:"customRadio1"},model:{value:e.form.controlado,callback:function(t){e.$set(e.form,"controlado",t)},expression:"form.controlado"}},[e._v("Controlado")])],1)],1),a("b-col",{attrs:{md:"2"}},[a("b-form-group",{attrs:{label:"Facturado:"}},[a("b-form-radio",{attrs:{value:"0",name:"customRadio2"},model:{value:e.form.factura,callback:function(t){e.$set(e.form,"factura",t)},expression:"form.factura"}},[e._v("No factura")]),a("b-form-radio",{attrs:{value:"1",name:"customRadio2"},model:{value:e.form.factura,callback:function(t){e.$set(e.form,"factura",t)},expression:"form.factura"}},[e._v("Factura")])],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Costo:"}},[a("b-form-input",{attrs:{state:!e.$v.form.precio_costo.$error,placeholder:"Ingresar costo del medicamento"},model:{value:e.$v.form.precio_costo.$model,callback:function(t){e.$set(e.$v.form.precio_costo,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio_costo.$model"}}),e.$v.form.precio_costo.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el costo ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Venta:"}},[a("b-form-input",{attrs:{state:!e.$v.form.precio_venta.$error,placeholder:"Ingresar venta del medicamento"},model:{value:e.$v.form.precio_venta.$model,callback:function(t){e.$set(e.$v.form.precio_venta,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio_venta.$model"}}),e.$v.form.precio_venta.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el precio de venta ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Existencia mínima general:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_minima.$error,placeholder:"Ingresar existencia minima del medicamento"},model:{value:e.$v.form.existencia_minima.$model,callback:function(t){e.$set(e.$v.form.existencia_minima,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_minima.$model"}}),e.$v.form.existencia_minima.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia minima ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Existencia actual general:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_actual.$error,placeholder:"Ingresar existencia actual del medicamento"},model:{value:e.$v.form.existencia_actual.$model,callback:function(t){e.$set(e.$v.form.existencia_actual,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_actual.$model"}}),e.$v.form.existencia_actual.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia actual ")]):e._e()],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Existencia mínima quirófano:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_minima_quirofano.$error,placeholder:"Ingresar existencia minima del medicamento en quirófano"},model:{value:e.$v.form.existencia_minima_quirofano.$model,callback:function(t){e.$set(e.$v.form.existencia_minima_quirofano,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_minima_quirofano.$model"}}),e.$v.form.existencia_minima_quirofano.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia minima de quirófano ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Existencia actual quirófano:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_actual_quirofano.$error,placeholder:"Ingresar existencia actual del medicamento en quirófano"},model:{value:e.$v.form.existencia_actual_quirofano.$model,callback:function(t){e.$set(e.$v.form.existencia_actual_quirofano,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_actual_quirofano.$model"}}),e.$v.form.existencia_actual_quirofano.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia actual de quirófano ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Existencia mínima enfermería:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_minima_farmacia.$error,placeholder:"Ingresar existencia minima del medicamento en farmacia"},model:{value:e.$v.form.existencia_minima_farmacia.$model,callback:function(t){e.$set(e.$v.form.existencia_minima_farmacia,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_minima_farmacia.$model"}}),e.$v.form.existencia_minima_farmacia.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia minima de farmacia ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Existencia actual enfermería:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_actual_farmacia.$error,placeholder:"Ingresar existencia actual del medicamento en farmacia"},model:{value:e.$v.form.existencia_actual_farmacia.$model,callback:function(t){e.$set(e.$v.form.existencia_actual_farmacia,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_actual_farmacia.$model"}}),e.$v.form.existencia_actual_farmacia.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia actual de farmacia ")]):e._e()],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Marca:"}},[a("v-select",{attrs:{name:"marca",state:!e.$v.form.marca.$error,options:e.marcas,filterable:!1,placeholder:"Seleccione la marca"},on:{search:e.onSearchMarca},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.marca.$model,callback:function(t){e.$set(e.$v.form.marca,"$model",t)},expression:"$v.form.marca.$model"}}),e.$v.form.marca.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar la marca ")]):e._e()],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Presentación:"}},[a("v-select",{attrs:{name:"presentacion",state:!e.$v.form.presentacion.$error,options:e.presentaciones,filterable:!1,placeholder:"Seleccione la presentacion"},on:{search:e.onSearchPresentacion},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.presentacion.$model,callback:function(t){e.$set(e.$v.form.presentacion,"$model",t)},expression:"$v.form.presentacion.$model"}}),e.$v.form.presentacion.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar la presentacion ")]):e._e()],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Proveedor:"}},[a("v-select",{attrs:{name:"proveedor",state:!e.$v.form.proveedor.$error,options:e.proveedores,filterable:!1,placeholder:"Seleccione el proveedor"},on:{search:e.onSearchProveedor},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.proveedor.$model,callback:function(t){e.$set(e.$v.form.proveedor,"$model",t)},expression:"$v.form.proveedor.$model"}}),e.$v.form.proveedor.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el proveedor ")]):e._e()],1)],1)],1)],1)],1),a("b-modal",{ref:"modal-3-medicamento",attrs:{id:"modal-3-medicamento",title:"Desactivar medicamento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-medicamento")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-medicamento")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el medicamento: "+e._s(e.form.name)+" ? ")])],1),a("b-modal",{ref:"modal-4-medicamento",attrs:{id:"modal-4-medicamento",title:"Activar medicamento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-medicamento")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-medicamento")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al medicamento: "+e._s(e.form.name)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Medicamentos")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-medicamento",modifiers:{"modal-1-medicamento":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"factura",fn:function(t){return a("div",{},[1==t.rowData.factura?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("SI FACTURA")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("NO FACTURA")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-medicamento",modifiers:{"modal-2-medicamento":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info",disabled:!e.hasPermission([5])},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-medicamento"):e.$bvModal.show("modal-4-medicamento")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},el=[],tl={name:"Bank",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])({currentUser:"currentUser"})),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",marcas:[],presentaciones:[],proveedores:[],form:{id:0,name:"",anestesico:1,controlado:0,factura:1,precio_costo:0,precio_venta:0,existencia_minima:0,existencia_actual:0,existencia_minima_quirofano:0,existencia_actual_quirofano:0,existencia_minima_farmacia:0,existencia_actual_farmacia:0,marca:null,presentacion:null,proveedor:null,state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/medicamentos/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"name",title:"Nombre",dataClass:"list-item-heading"},{name:"precio_costo",sortField:"precio_costo",title:"Precio costo",dataClass:"list-item-heading"},{name:"precio_venta",sortField:"precio_venta",title:"Precio venta",dataClass:"list-item-heading"},{name:"existencia_minima",sortField:"existencia_minima",title:"Existencia minima",dataClass:"list-item-heading"},{name:"existencia_actual",sortField:"existencia_actual",title:"Existencia actual",dataClass:"list-item-heading"},{name:"presentacione.nombre",sortField:"presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"__slot:factura",title:"Factura",titleClass:"",dataClass:"text-muted"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{name:{required:_a["c"]},precio_costo:{required:_a["c"]},precio_venta:{required:_a["c"]},existencia_minima:{required:_a["c"]},existencia_actual:{required:_a["c"]},existencia_minima_quirofano:{required:_a["c"]},existencia_actual_quirofano:{required:_a["c"]},existencia_minima_farmacia:{required:_a["c"]},existencia_actual_farmacia:{required:_a["c"]},marca:{required:_a["c"]},presentacion:{required:_a["c"]},proveedor:{required:_a["c"]}}}},methods:{hasPermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.includes(this.currentUser.user_type)},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.anestesico=0,this.form.controlado=0,this.form.factura=1,this.form.precio_costo=0,this.form.precio_venta=0,this.form.existencia_minima=0,this.form.existencia_actual=0,this.form.existencia_minima_quirofano=0,this.form.existencia_actual_quirofano=0,this.form.existencia_minima_farmacia=0,this.form.existencia_actual_farmacia=0,this.form.marca=null,this.form.presentacion=null,this.form.proveedor=null,this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-medicamento"].hide(),this.form.id=0,this.form.name="",this.form.anestesico=0,this.form.controlado=0,this.form.factura=1,this.form.precio_costo=0,this.form.precio_venta=0,this.form.existencia_minima=0,this.form.existencia_actual=0,this.form.existencia_minima_quirofano=0,this.form.existencia_actual_quirofano=0,this.form.existencia_minima_farmacia=0,this.form.existencia_actual_farmacia=0,this.form.marca=null,this.form.presentacion=null,this.form.proveedor=null,this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-medicamento"].hide(),this.form.id=0,this.form.name="",this.form.anestesico=0,this.form.controlado=0,this.form.factura=1,this.form.precio_costo=0,this.form.precio_venta=0,this.form.existencia_minima=0,this.form.existencia_actual=0,this.form.existencia_minima_quirofano=0,this.form.existencia_actual_quirofano=0,this.form.existencia_minima_farmacia=0,this.form.existencia_actual_farmacia=0,this.form.marca=null,this.form.presentacion=null,this.form.proveedor=null,this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.name=e.nombre,this.form.anestesico=e.anestesico,this.form.controlado=e.controlado,this.form.factura=e.factura,this.form.precio_costo=e.precio_costo,this.form.precio_venta=e.precio_venta,this.form.existencia_minima=e.existencia_minima,this.form.existencia_actual=e.existencia_actual,this.form.existencia_minima_quirofano=e.existencia_minima_quirofano,this.form.existencia_actual_quirofano=e.existencia_actual_quirofano,this.form.existencia_minima_farmacia=e.existencia_minima_farmacia,this.form.existencia_actual_farmacia=e.existencia_actual_farmacia,this.form.marca=e.marca,this.form.presentacion=e.presentacione,this.form.proveedor=e.proveedore,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/medicamentos/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el medicamento "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/medicamentos/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el medicamento "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/medicamentos/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el medicamento "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-medicamento"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/medicamentos/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el medicamento "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-medicamento"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},onSearchMarca:function(e,t){e.length&&(t(!0),this.searchingMarcas(e,t))},searchingMarcas:function(e,t){var a=this;ie.a.get(q["a"]+"/marca/getSearch",{params:{search:e}}).then((function(e){a.marcas=e.data,t(!1)}))},onSearchPresentacion:function(e,t){e.length&&(t(!0),this.searchingPresentaciones(e,t))},searchingPresentaciones:function(e,t){var a=this;ie.a.get(q["a"]+"/presentacion/getSearch",{params:{search:e}}).then((function(e){a.presentaciones=e.data,t(!1)}))},onSearchProveedor:function(e,t){e.length&&(t(!0),this.searchingProveedor(e,t))},searchingProveedor:function(e,t){var a=this;ie.a.get(q["a"]+"/proveedor/getSearch",{params:{search:e}}).then((function(e){a.proveedores=e.data,t(!1)}))}}},al=tl,rl=Object($["a"])(al,Xs,el,!1,null,null,null),ol=rl.exports,il=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-movimiento",attrs:{id:"modal-1-movimiento",title:"Agregar movimiento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Medicamento:"}},[a("v-select",{attrs:{name:"medicamentos",state:!e.$v.form.medicamento.$error,options:e.medicamentos,filterable:!1,placeholder:"Seleccione la medicamento"},on:{search:e.onSearchMedicamentos},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Existencia: "+t.existencia_actual)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Existencia: "+t.existencia_actual)+" ")]}}]),model:{value:e.$v.form.medicamento.$model,callback:function(t){e.$set(e.$v.form.medicamento,"$model",t)},expression:"$v.form.medicamento.$model"}}),e.$v.form.medicamento.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar la medicamento ")]):e._e()],1),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.cantidad.$error,placeholder:"Ingresar cantidad"},model:{value:e.$v.form.cantidad.$model,callback:function(t){e.$set(e.$v.form.cantidad,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.cantidad.$model"}}),e.$v.form.cantidad.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar cantidad ")]):e._e()],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Tipo de movimiento:"}},[a("b-form-radio",{attrs:{value:"ENTRADA",name:"customRadio1"},on:{change:e.changeCheck},model:{value:e.form.movimiento,callback:function(t){e.$set(e.form,"movimiento",t)},expression:"form.movimiento"}},[e._v("Ingreso de medicamentos")]),a("b-form-radio",{attrs:{value:"SALIDA",name:"customRadio1"},on:{change:e.changeCheck},model:{value:e.form.movimiento,callback:function(t){e.$set(e.form,"movimiento",t)},expression:"form.movimiento"}},[e._v("Salida de medicamentos")])],1)],1),a("b-col",{attrs:{md:"6"}},["ENTRADA"===e.form.movimiento?a("b-form-group",{attrs:{label:"Precio costo individual:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar precio costo"},model:{value:e.form.precio_costo,callback:function(t){e.$set(e.form,"precio_costo","string"===typeof t?t.trim():t)},expression:"form.precio_costo"}})],1):"SALIDA"===e.form.movimiento?a("b-form-group",{attrs:{label:"Precio venta individual:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar precio venta"},model:{value:e.form.precio_venta,callback:function(t){e.$set(e.form,"precio_venta","string"===typeof t?t.trim():t)},expression:"form.precio_venta"}})],1):e._e()],1)],1)],1)],1),a("b-modal",{ref:"modal-2-movimiento",attrs:{id:"modal-2-movimiento",title:"Editar movimiento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Medicamento:"}},[a("v-select",{attrs:{name:"medicamentos",state:!e.$v.form.medicamento.$error,options:e.medicamentos,filterable:!1,placeholder:"Seleccione la medicamento"},on:{search:e.onSearchMedicamentos},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Existencia: "+t.existencia_actual)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Existencia: "+t.existencia_actual)+" ")]}}]),model:{value:e.$v.form.medicamento.$model,callback:function(t){e.$set(e.$v.form.medicamento,"$model",t)},expression:"$v.form.medicamento.$model"}}),e.$v.form.medicamento.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar la medicamento ")]):e._e()],1),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.cantidad.$error,placeholder:"Ingresar cantidad"},model:{value:e.$v.form.cantidad.$model,callback:function(t){e.$set(e.$v.form.cantidad,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.cantidad.$model"}}),e.$v.form.cantidad.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar cantidad ")]):e._e()],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Tipo de movimiento:"}},[a("b-form-radio",{attrs:{value:"ENTRADA",name:"customRadio1"},on:{change:e.changeCheck},model:{value:e.form.movimiento,callback:function(t){e.$set(e.form,"movimiento",t)},expression:"form.movimiento"}},[e._v("Ingreso de medicamentos")]),a("b-form-radio",{attrs:{value:"SALIDA",name:"customRadio1"},on:{change:e.changeCheck},model:{value:e.form.movimiento,callback:function(t){e.$set(e.form,"movimiento",t)},expression:"form.movimiento"}},[e._v("Salida de medicamentos")])],1)],1),a("b-col",{attrs:{md:"6"}},["ENTRADA"===e.form.movimiento?a("b-form-group",{attrs:{label:"Precio costo individual:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar precio costo"},model:{value:e.form.precio_costo,callback:function(t){e.$set(e.form,"precio_costo","string"===typeof t?t.trim():t)},expression:"form.precio_costo"}})],1):"SALIDA"===e.form.movimiento?a("b-form-group",{attrs:{label:"Precio venta individual:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar precio venta"},model:{value:e.form.precio_venta,callback:function(t){e.$set(e.form,"precio_venta","string"===typeof t?t.trim():t)},expression:"form.precio_venta"}})],1):e._e()],1)],1)],1)],1),a("b-modal",{ref:"modal-3-movimiento",attrs:{id:"modal-3-movimiento",title:"Desactivar movimiento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-movimiento")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-movimiento")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el movimiento? ")])],1),a("b-modal",{ref:"modal-4-movimiento",attrs:{id:"modal-4-movimiento",title:"Activar movimiento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-movimiento")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-movimiento")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar el movimiento ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Movimientos medicamentos")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-movimiento",modifiers:{"modal-1-movimiento":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-movimiento",modifiers:{"modal-2-movimiento":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info"},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-movimiento"):e.$bvModal.show("modal-4-movimiento")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},nl=[],sl={name:"MovimientosMedicamentos",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])(["currentUser"])),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",medicamentos:[],form:{id:0,cantidad:0,medicamento:null,movimiento:"ENTRADA",precio_costo:null,precio_venta:null,state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/medicamentos_movimientos/list",fields:[{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"existencia_previa",sortField:"existencia_previa",title:"Existencia previa",dataClass:"list-item-heading"},{name:"existencia_nueva",sortField:"existencia_nueva",title:"Existencia nueva",dataClass:"list-item-heading"},{name:"precio_costo",sortField:"precio_costo",title:"Precio costo",dataClass:"list-item-heading"},{name:"precio_venta",sortField:"precio_venta",title:"Precio venta",dataClass:"list-item-heading"},{name:"movimiento",sortField:"movimiento",title:"Movimiento",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Descripcion",dataClass:"list-item-heading"}]}},validations:function(){return{form:{cantidad:{required:_a["c"]},movimiento:{required:_a["c"]},medicamento:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.cantidad=0,this.form.movimiento="ENTRADA",this.form.medicamento=null,this.form.precio_costo=null,this.form.precio_venta=null,this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-movimiento"].hide(),this.form.id=0,this.form.cantidad=0,this.form.movimiento="ENTRADA",this.form.medicamento=null,this.form.precio_costo=null,this.form.precio_venta=null,this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-movimiento"].hide(),this.form.id=0,this.form.cantidad=0,this.form.movimiento="ENTRADA",this.form.medicamento=null,this.form.precio_costo=null,this.form.precio_venta=null,this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?parseInt(this.form.cantidad)<1?(this.alertErrorText="Debe ser un número mayor a 0",this.showAlertError()):parseInt(this.form.cantidad)>this.form.medicamento.existencia_actual&&"SALIDA"===this.form.movimiento?(this.alertErrorText="No hay suficiente existencia del producto",this.showAlertError()):"SALIDA"===this.form.movimiento&&null===this.form.precio_venta?(this.alertErrorText="Debe ingresar el precio de salida",this.showAlertError()):"ENTRADA"===this.form.movimiento&&null===this.form.precio_costo?(this.alertErrorText="Debe ingresar el precio de entrada",this.showAlertError()):this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.cantidad=e.cantidad,this.form.movimiento=e.movimiento,this.form.medicamento=e.medicamento,this.form.precio_costo=e.precio_costo,this.form.precio_venta=e.precio_venta,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this,t=this.currentUser;ie.a.post(q["a"]+"/medicamentos_movimientos/create",{form:e.form,currentUser:t}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el movimiento exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/medicamentos_movimientos/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el movimiento exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/medicamentos_movimientos/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el movimiento exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-movimiento"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/medicamentos_movimientos/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el movimiento exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-movimiento"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},onSearchMedicamentos:function(e,t){e.length&&(t(!0),this.searchingMedicamentos(e,t))},searchingMedicamentos:function(e,t){var a=this;ie.a.get(q["a"]+"/medicamentos/getSearch",{params:{search:e}}).then((function(e){a.medicamentos=e.data,t(!1)}))},changeCheck:function(){"ENTRADA"===this.movimiento?this.form.precio_venta=null:this.form.precio_costo=null}}},ll=sl,cl=Object($["a"])(ll,il,nl,!1,null,null,null),dl=cl.exports,ml={name:"MedicamentosParent",components:{Medicamentos:ol,MovimientosMedicamentos:dl},data:function(){return{patient:{},patientId:0}},mounted:function(){g["a"].index()},beforeMount:function(){this.patientId=this.$route.params.id,this.getPatient(this.patientId)},methods:{getPatient:function(e){var t=this;ie.a.get(q["a"]+"/paciente/get?id=".concat(e)).then((function(e){t.patient=e.data})).catch((function(e){console.log(e)}))},backToPatients:function(){this.$router.push({name:"patient.patients"})}}},ul=ml,fl=Object($["a"])(ul,Ks,Js,!1,null,null,null),hl=fl.exports,pl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Muestras médicas")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}})],1),a("div",{staticClass:"col-sm"})])])]},proxy:!0},{key:"body",fn:function(){return[a("b-tabs",[a("b-tab",{attrs:{title:"Muestras médicas",active:""}},[a("Muestras")],1),a("b-tab",{attrs:{title:"Movimientos muestras médicas",lazy:""}},[a("MovimientosMuestras")],1)],1)]},proxy:!0}])})],1)],1)],1)},bl=[],vl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-muestra",attrs:{id:"modal-1-muestra",size:"xl",title:"Agregar muestra"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"9"}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.name.$error,placeholder:"Ingresar nombre de la muestra"},model:{value:e.$v.form.name.$model,callback:function(t){e.$set(e.$v.form.name,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.name.$model"}}),e.$v.form.name.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Controlado:"}},[a("b-form-radio",{attrs:{value:"0",name:"customRadio"},model:{value:e.form.controlado,callback:function(t){e.$set(e.form,"controlado",t)},expression:"form.controlado"}},[e._v("No controlado")]),a("b-form-radio",{attrs:{value:"1",name:"customRadio"},model:{value:e.form.controlado,callback:function(t){e.$set(e.form,"controlado",t)},expression:"form.controlado"}},[e._v("Controlado")])],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Precio costo:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.precio_costo.$error,placeholder:"Ingresar costo de la muestra"},model:{value:e.$v.form.precio_costo.$model,callback:function(t){e.$set(e.$v.form.precio_costo,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio_costo.$model"}}),e.$v.form.precio_costo.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el costo ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Precio de venta:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar precio de venta de la muestra"},model:{value:e.form.precio_venta,callback:function(t){e.$set(e.form,"precio_venta","string"===typeof t?t.trim():t)},expression:"form.precio_venta"}})],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Existencia mínima general:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_minima.$error,placeholder:"Ingresar existencia minima de la muestra"},model:{value:e.$v.form.existencia_minima.$model,callback:function(t){e.$set(e.$v.form.existencia_minima,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_minima.$model"}}),e.$v.form.existencia_minima.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia minima ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Existencia actual general:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_actual.$error,placeholder:"Ingresar existencia actual de la muestra"},model:{value:e.$v.form.existencia_actual.$model,callback:function(t){e.$set(e.$v.form.existencia_actual,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_actual.$model"}}),e.$v.form.existencia_actual.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia actual ")]):e._e()],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Marca:"}},[a("v-select",{attrs:{name:"marca",state:!e.$v.form.marca.$error,options:e.marcas,filterable:!1,placeholder:"Seleccione la marca"},on:{search:e.onSearchMarca},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.marca.$model,callback:function(t){e.$set(e.$v.form.marca,"$model",t)},expression:"$v.form.marca.$model"}}),e.$v.form.marca.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar la marca ")]):e._e()],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Presentación:"}},[a("v-select",{attrs:{name:"presentacion",state:!e.$v.form.presentacion.$error,options:e.presentaciones,filterable:!1,placeholder:"Seleccione la presentacion"},on:{search:e.onSearchPresentacion},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.presentacion.$model,callback:function(t){e.$set(e.$v.form.presentacion,"$model",t)},expression:"$v.form.presentacion.$model"}}),e.$v.form.presentacion.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar la presentacion ")]):e._e()],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Proveedor:"}},[a("v-select",{attrs:{name:"proveedor",state:!e.$v.form.proveedor.$error,options:e.proveedores,filterable:!1,placeholder:"Seleccione el proveedor"},on:{search:e.onSearchProveedor},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.proveedor.$model,callback:function(t){e.$set(e.$v.form.proveedor,"$model",t)},expression:"$v.form.proveedor.$model"}}),e.$v.form.proveedor.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el proveedor ")]):e._e()],1)],1)],1)],1)],1),a("b-modal",{ref:"modal-2-muestra",attrs:{id:"modal-2-muestra",size:"xl",title:"Editar muestra"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"9"}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.name.$error,placeholder:"Ingresar nombre de la muestra"},model:{value:e.$v.form.name.$model,callback:function(t){e.$set(e.$v.form.name,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.name.$model"}}),e.$v.form.name.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Tipo de cuenta:"}},[a("b-form-radio",{attrs:{value:"0",name:"customRadio"},model:{value:e.form.controlado,callback:function(t){e.$set(e.form,"controlado",t)},expression:"form.controlado"}},[e._v("No controlado")]),a("b-form-radio",{attrs:{value:"1",name:"customRadio"},model:{value:e.form.controlado,callback:function(t){e.$set(e.form,"controlado",t)},expression:"form.controlado"}},[e._v("Controlado")])],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Precio costo:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.precio_costo.$error,placeholder:"Ingresar costo de la muestra"},model:{value:e.$v.form.precio_costo.$model,callback:function(t){e.$set(e.$v.form.precio_costo,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio_costo.$model"}}),e.$v.form.precio_costo.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el costo ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Precio de venta:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar precio de venta de la muestra"},model:{value:e.form.precio_venta,callback:function(t){e.$set(e.form,"precio_venta","string"===typeof t?t.trim():t)},expression:"form.precio_venta"}})],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Existencia mínima general:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_minima.$error,placeholder:"Ingresar existencia minima de la muestra"},model:{value:e.$v.form.existencia_minima.$model,callback:function(t){e.$set(e.$v.form.existencia_minima,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_minima.$model"}}),e.$v.form.existencia_minima.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia minima ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Existencia actual general:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_actual.$error,placeholder:"Ingresar existencia actual de la muestra"},model:{value:e.$v.form.existencia_actual.$model,callback:function(t){e.$set(e.$v.form.existencia_actual,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_actual.$model"}}),e.$v.form.existencia_actual.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia actual ")]):e._e()],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Marca:"}},[a("v-select",{attrs:{name:"marca",state:!e.$v.form.marca.$error,options:e.marcas,filterable:!1,placeholder:"Seleccione la marca"},on:{search:e.onSearchMarca},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.marca.$model,callback:function(t){e.$set(e.$v.form.marca,"$model",t)},expression:"$v.form.marca.$model"}}),e.$v.form.marca.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar la marca ")]):e._e()],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Presentación:"}},[a("v-select",{attrs:{name:"presentacion",state:!e.$v.form.presentacion.$error,options:e.presentaciones,filterable:!1,placeholder:"Seleccione la presentacion"},on:{search:e.onSearchPresentacion},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.presentacion.$model,callback:function(t){e.$set(e.$v.form.presentacion,"$model",t)},expression:"$v.form.presentacion.$model"}}),e.$v.form.presentacion.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar la presentacion ")]):e._e()],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Proveedor:"}},[a("v-select",{attrs:{name:"proveedor",state:!e.$v.form.proveedor.$error,options:e.proveedores,filterable:!1,placeholder:"Seleccione el proveedor"},on:{search:e.onSearchProveedor},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.proveedor.$model,callback:function(t){e.$set(e.$v.form.proveedor,"$model",t)},expression:"$v.form.proveedor.$model"}}),e.$v.form.proveedor.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el proveedor ")]):e._e()],1)],1)],1)],1)],1),a("b-modal",{ref:"modal-3-muestra",attrs:{id:"modal-3-muestra",title:"Desactivar muestra"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-muestra")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-muestra")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar muestra: "+e._s(e.form.name)+" ? ")])],1),a("b-modal",{ref:"modal-4-muestra",attrs:{id:"modal-4-muestra",title:"Activar muestra"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-muestra")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-muestra")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar muestra: "+e._s(e.form.name)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Muestras médicas")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-muestra",modifiers:{"modal-1-muestra":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-muestra",modifiers:{"modal-2-muestra":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info",disabled:!e.hasPermission([5])},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-muestra"):e.$bvModal.show("modal-4-muestra")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},gl=[],_l={name:"Muestras",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])({currentUser:"currentUser"})),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",marcas:[],presentaciones:[],proveedores:[],form:{id:0,name:"",controlado:0,precio_costo:0,precio_venta:0,existencia_minima:0,existencia_actual:0,marca:null,presentacion:null,proveedor:null,state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/muestras/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"name",title:"Nombre",dataClass:"list-item-heading"},{name:"controlado",sortField:"controlado",title:"Controlado",dataClass:"list-item-heading"},{name:"precio_costo",sortField:"precio_costo",title:"Precio costo",dataClass:"list-item-heading"},{name:"precio_venta",sortField:"precio_venta",title:"Precio venta",dataClass:"list-item-heading"},{name:"existencia_actual",sortField:"existencia_actual",title:"Existencia actual",dataClass:"list-item-heading"},{name:"presentacione.nombre",sortField:"presentacione.nombre",title:"Presentación",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{name:{required:_a["c"]},controlado:{required:_a["c"]},precio_costo:{required:_a["c"]},precio_venta:{required:_a["c"]},existencia_minima:{required:_a["c"]},existencia_actual:{required:_a["c"]},marca:{required:_a["c"]},presentacion:{required:_a["c"]},proveedor:{required:_a["c"]}}}},methods:{hasPermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.includes(this.currentUser.user_type)},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.controlado=0,this.form.precio_costo=0,this.form.precio_venta=0,this.form.existencia_minima=0,this.form.existencia_actual=0,this.form.marca=null,this.form.presentacion=null,this.form.proveedor=null,this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-muestra"].hide(),this.form.id=0,this.form.name="",this.form.controlado=0,this.form.precio_costo=0,this.form.precio_venta=0,this.form.existencia_minima=0,this.form.existencia_actual=0,this.form.marca=null,this.form.presentacion=null,this.form.proveedor=null,this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-muestra"].hide(),this.form.id=0,this.form.name="",this.form.controlado=0,this.form.precio_costo=0,this.form.precio_venta=0,this.form.existencia_minima=0,this.form.existencia_actual=0,this.form.marca=null,this.form.presentacion=null,this.form.proveedor=null,this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.name=e.nombre,this.form.controlado=e.controlado,this.form.precio_costo=e.precio_costo,this.form.precio_venta=e.precio_venta,this.form.existencia_minima=e.existencia_minima,this.form.existencia_actual=e.existencia_actual,this.form.marca=e.marca,this.form.presentacion=e.presentacione,this.form.proveedor=e.proveedore,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/muestras/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado la muestra "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/muestras/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el muestra "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/muestras/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el muestra "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-muestra"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/muestras/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el muestra "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-muestra"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},onSearchMarca:function(e,t){e.length&&(t(!0),this.searchingMarcas(e,t))},searchingMarcas:function(e,t){var a=this;ie.a.get(q["a"]+"/marca/getSearch",{params:{search:e}}).then((function(e){a.marcas=e.data,t(!1)}))},onSearchPresentacion:function(e,t){e.length&&(t(!0),this.searchingPresentaciones(e,t))},searchingPresentaciones:function(e,t){var a=this;ie.a.get(q["a"]+"/presentacion/getSearch",{params:{search:e}}).then((function(e){a.presentaciones=e.data,t(!1)}))},onSearchProveedor:function(e,t){e.length&&(t(!0),this.searchingProveedor(e,t))},searchingProveedor:function(e,t){var a=this;ie.a.get(q["a"]+"/proveedor/getSearch",{params:{search:e}}).then((function(e){a.proveedores=e.data,t(!1)}))}}},xl=_l,Cl=Object($["a"])(xl,vl,gl,!1,null,null,null),$l=Cl.exports,yl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-movimiento",attrs:{id:"modal-1-movimiento",title:"Agregar movimiento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Muestra:"}},[a("v-select",{attrs:{name:"muestras",state:!e.$v.form.muestra.$error,options:e.muestras,filterable:!1,placeholder:"Seleccione la muestra"},on:{search:e.onSearchMuestras},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Existencia: "+t.existencia_actual)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Existencia: "+t.existencia_actual)+" ")]}}]),model:{value:e.$v.form.muestra.$model,callback:function(t){e.$set(e.$v.form.muestra,"$model",t)},expression:"$v.form.muestra.$model"}}),e.$v.form.muestra.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar la muestra ")]):e._e()],1),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.cantidad.$error,placeholder:"Ingresar cantidad"},model:{value:e.$v.form.cantidad.$model,callback:function(t){e.$set(e.$v.form.cantidad,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.cantidad.$model"}}),e.$v.form.cantidad.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar cantidad ")]):e._e()],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Tipo de movimiento:"}},[a("b-form-radio",{attrs:{value:"ENTRADA",name:"customRadio1"},on:{change:e.changeCheck},model:{value:e.form.movimiento,callback:function(t){e.$set(e.form,"movimiento",t)},expression:"form.movimiento"}},[e._v("Ingreso de muestras")]),a("b-form-radio",{attrs:{value:"SALIDA",name:"customRadio1"},on:{change:e.changeCheck},model:{value:e.form.movimiento,callback:function(t){e.$set(e.form,"movimiento",t)},expression:"form.movimiento"}},[e._v("Salida de muestras")])],1)],1),a("b-col",{attrs:{md:"6"}},["ENTRADA"===e.form.movimiento?a("b-form-group",{attrs:{label:"Precio costo individual:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar precio costo"},model:{value:e.form.precio_costo,callback:function(t){e.$set(e.form,"precio_costo","string"===typeof t?t.trim():t)},expression:"form.precio_costo"}})],1):"SALIDA"===e.form.movimiento?a("b-form-group",{attrs:{label:"Precio venta individual:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar precio venta"},model:{value:e.form.precio_venta,callback:function(t){e.$set(e.form,"precio_venta","string"===typeof t?t.trim():t)},expression:"form.precio_venta"}})],1):e._e()],1)],1)],1)],1),a("b-modal",{ref:"modal-2-movimiento",attrs:{id:"modal-2-movimiento",title:"Editar movimiento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Muestra:"}},[a("v-select",{attrs:{name:"muestras",state:!e.$v.form.muestra.$error,options:e.muestras,filterable:!1,placeholder:"Seleccione la muestra"},on:{search:e.onSearchMuestras},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Existencia: "+t.existencia_actual)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Existencia: "+t.existencia_actual)+" ")]}}]),model:{value:e.$v.form.muestra.$model,callback:function(t){e.$set(e.$v.form.muestra,"$model",t)},expression:"$v.form.muestra.$model"}}),e.$v.form.muestra.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar la muestra ")]):e._e()],1),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.cantidad.$error,placeholder:"Ingresar cantidad"},model:{value:e.$v.form.cantidad.$model,callback:function(t){e.$set(e.$v.form.cantidad,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.cantidad.$model"}}),e.$v.form.cantidad.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar cantidad ")]):e._e()],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Tipo de movimiento:"}},[a("b-form-radio",{attrs:{value:"ENTRADA",name:"customRadio1"},on:{change:e.changeCheck},model:{value:e.form.movimiento,callback:function(t){e.$set(e.form,"movimiento",t)},expression:"form.movimiento"}},[e._v("Ingreso de muestras")]),a("b-form-radio",{attrs:{value:"SALIDA",name:"customRadio1"},on:{change:e.changeCheck},model:{value:e.form.movimiento,callback:function(t){e.$set(e.form,"movimiento",t)},expression:"form.movimiento"}},[e._v("Salida de muestras")])],1)],1),a("b-col",{attrs:{md:"6"}},["ENTRADA"===e.form.movimiento?a("b-form-group",{attrs:{label:"Precio costo individual:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar precio costo"},model:{value:e.form.precio_costo,callback:function(t){e.$set(e.form,"precio_costo","string"===typeof t?t.trim():t)},expression:"form.precio_costo"}})],1):"SALIDA"===e.form.movimiento?a("b-form-group",{attrs:{label:"Precio venta individual:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar precio venta"},model:{value:e.form.precio_venta,callback:function(t){e.$set(e.form,"precio_venta","string"===typeof t?t.trim():t)},expression:"form.precio_venta"}})],1):e._e()],1)],1)],1)],1),a("b-modal",{ref:"modal-3-movimiento",attrs:{id:"modal-3-movimiento",title:"Desactivar movimiento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-movimiento")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-movimiento")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el movimiento? ")])],1),a("b-modal",{ref:"modal-4-movimiento",attrs:{id:"modal-4-movimiento",title:"Activar movimiento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-movimiento")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-movimiento")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar el movimiento ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Movimientos muestras médicas")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-movimiento",modifiers:{"modal-1-movimiento":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-movimiento",modifiers:{"modal-2-movimiento":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info",disabled:!e.hasPermission([5])},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-movimiento"):e.$bvModal.show("modal-4-movimiento")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},wl=[],El={name:"MovimientosMuestras",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])({currentUser:"currentUser"})),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",muestras:[],form:{id:0,cantidad:0,muestra:null,movimiento:"ENTRADA",precio_costo:null,precio_venta:null,state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/muestras_movimientos/list",fields:[{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"existencia_previa",sortField:"existencia_previa",title:"Existencia previa",dataClass:"list-item-heading"},{name:"existencia_nueva",sortField:"existencia_nueva",title:"Existencia nueva",dataClass:"list-item-heading"},{name:"precio_costo",sortField:"precio_costo",title:"Precio costo",dataClass:"list-item-heading"},{name:"precio_venta",sortField:"precio_venta",title:"Precio venta",dataClass:"list-item-heading"},{name:"movimiento",sortField:"movimiento",title:"Movimiento",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Descripcion",dataClass:"list-item-heading"}]}},validations:function(){return{form:{cantidad:{required:_a["c"]},movimiento:{required:_a["c"]},muestra:{required:_a["c"]}}}},methods:{hasPermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.includes(this.currentUser.user_type)},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.cantidad=0,this.form.movimiento="ENTRADA",this.form.muestra=null,this.form.precio_costo=null,this.form.precio_venta=null,this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-movimiento"].hide(),this.form.id=0,this.form.cantidad=0,this.form.movimiento="ENTRADA",this.form.muestra=null,this.form.precio_costo=null,this.form.precio_venta=null,this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-movimiento"].hide(),this.form.id=0,this.form.cantidad=0,this.form.movimiento="ENTRADA",this.form.muestra=null,this.form.precio_costo=null,this.form.precio_venta=null,this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?parseInt(this.form.cantidad)<1?(this.alertErrorText="Debe ser un número mayor a 0",this.showAlertError()):parseInt(this.form.cantidad)>this.form.muestra.existencia_actual&&"SALIDA"===this.form.movimiento?(this.alertErrorText="No hay suficiente existencia del producto",this.showAlertError()):"SALIDA"===this.form.movimiento&&null===this.form.precio_venta?(this.alertErrorText="Debe ingresar el precio de salida",this.showAlertError()):"ENTRADA"===this.form.movimiento&&null===this.form.precio_costo?(this.alertErrorText="Debe ingresar el precio de entrada",this.showAlertError()):this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.cantidad=e.cantidad,this.form.movimiento=e.movimiento,this.form.muestra=e.muestra,this.form.precio_costo=e.precio_costo,this.form.precio_venta=e.precio_venta,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this,t=this.currentUser;ie.a.post(q["a"]+"/muestras_movimientos/create",{form:e.form,currentUser:t}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el movimiento exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/muestras_movimientos/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el movimiento exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/muestras_movimientos/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el movimiento exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-movimiento"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/muestras_movimientos/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el movimiento exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-movimiento"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},onSearchMuestras:function(e,t){e.length&&(t(!0),this.searchingMuestras(e,t))},searchingMuestras:function(e,t){var a=this;ie.a.get(q["a"]+"/muestras/getSearch",{params:{search:e}}).then((function(e){a.muestras=e.data,t(!1)}))},changeCheck:function(){"ENTRADA"===this.movimiento?this.form.precio_venta=null:this.form.precio_costo=null}}},kl=El,Dl=Object($["a"])(kl,yl,wl,!1,null,null,null),Al=Dl.exports,Sl={name:"MuestrasParent",components:{Muestras:$l,MovimientosMuestras:Al},data:function(){return{patient:{},patientId:0}},mounted:function(){g["a"].index()},beforeMount:function(){this.patientId=this.$route.params.id,this.getPatient(this.patientId)},methods:{getPatient:function(e){var t=this;ie.a.get(q["a"]+"/paciente/get?id=".concat(e)).then((function(e){t.patient=e.data})).catch((function(e){console.log(e)}))},backToPatients:function(){this.$router.push({name:"patient.patients"})}}},Tl=Sl,Pl=Object($["a"])(Tl,pl,bl,!1,null,null,null),Ml=Pl.exports,ql=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Material quirúrgico")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}})],1),a("div",{staticClass:"col-sm"})])])]},proxy:!0},{key:"body",fn:function(){return[a("b-tabs",[a("b-tab",{attrs:{title:"Material quirúrgico",active:""}},[a("MaterialQuirurgico")],1),a("b-tab",{attrs:{title:"Movimientos material quirúrgico",lazy:""}},[a("MovimientosMaterialQuirurgico")],1)],1)]},proxy:!0}])})],1)],1)],1)},Il=[],Fl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-quirurgico",attrs:{id:"modal-1-quirurgico",size:"xl",title:"Agregar material quirurgico"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.name.$error,placeholder:"Ingresar nombre del material quirurgico"},model:{value:e.$v.form.name.$model,callback:function(t){e.$set(e.$v.form.name,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.name.$model"}}),e.$v.form.name.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Inventariado:"}},[a("b-form-radio",{attrs:{value:"INVENTARIADO",name:"customRadio1"},model:{value:e.form.inventariado,callback:function(t){e.$set(e.form,"inventariado",t)},expression:"form.inventariado"}},[e._v("Inventariado")]),a("b-form-radio",{attrs:{value:"NO INVENTARIADO",name:"customRadio1"},model:{value:e.form.inventariado,callback:function(t){e.$set(e.form,"inventariado",t)},expression:"form.inventariado"}},[e._v("No inventariado")])],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Facturado:"}},[a("b-form-radio",{attrs:{value:"0",name:"customRadio2"},model:{value:e.form.factura,callback:function(t){e.$set(e.form,"factura",t)},expression:"form.factura"}},[e._v("No factura")]),a("b-form-radio",{attrs:{value:"1",name:"customRadio2"},model:{value:e.form.factura,callback:function(t){e.$set(e.form,"factura",t)},expression:"form.factura"}},[e._v("Factura")])],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Costo:"}},[a("b-form-input",{attrs:{state:!e.$v.form.precio_costo.$error,placeholder:"Ingresar costo del medicamento"},model:{value:e.$v.form.precio_costo.$model,callback:function(t){e.$set(e.$v.form.precio_costo,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio_costo.$model"}}),e.$v.form.precio_costo.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el costo ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Precio de venta:"}},[a("b-form-input",{attrs:{state:!e.$v.form.precio_venta.$error,placeholder:"Ingresar precio de venta del medicamento"},model:{value:e.$v.form.precio_venta.$model,callback:function(t){e.$set(e.$v.form.precio_venta,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio_venta.$model"}}),e.$v.form.precio_venta.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el precio de venta ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},["INVENTARIADO"===e.form.inventariado?a("b-form-group",{attrs:{label:"Existencia mínima general:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_minima.$error,placeholder:"Ingresar existencia minima del medicamento"},model:{value:e.$v.form.existencia_minima.$model,callback:function(t){e.$set(e.$v.form.existencia_minima,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_minima.$model"}}),e.$v.form.existencia_minima.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia minima ")]):e._e()],1):e._e()],1),a("b-col",{attrs:{md:"3"}},["INVENTARIADO"===e.form.inventariado?a("b-form-group",{attrs:{label:"Existencia actual general:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_actual.$error,placeholder:"Ingresar existencia actual del medicamento"},model:{value:e.$v.form.existencia_actual.$model,callback:function(t){e.$set(e.$v.form.existencia_actual,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_actual.$model"}}),e.$v.form.existencia_actual.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia actual ")]):e._e()],1):e._e()],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},["INVENTARIADO"===e.form.inventariado?a("b-form-group",{attrs:{label:"Existencia mínima quirófano:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_minima_quirofano.$error,placeholder:"Ingresar existencia minima del medicamento en quirófano"},model:{value:e.$v.form.existencia_minima_quirofano.$model,callback:function(t){e.$set(e.$v.form.existencia_minima_quirofano,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_minima_quirofano.$model"}}),e.$v.form.existencia_minima_quirofano.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia minima de quirófano ")]):e._e()],1):e._e()],1),a("b-col",{attrs:{md:"3"}},["INVENTARIADO"===e.form.inventariado?a("b-form-group",{attrs:{label:"Existencia actual quirófano:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_actual_quirofano.$error,placeholder:"Ingresar existencia actual del medicamento en quirófano"},model:{value:e.$v.form.existencia_actual_quirofano.$model,callback:function(t){e.$set(e.$v.form.existencia_actual_quirofano,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_actual_quirofano.$model"}}),e.$v.form.existencia_actual_quirofano.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia actual de quirófano ")]):e._e()],1):e._e()],1),a("b-col",{attrs:{md:"3"}},["INVENTARIADO"===e.form.inventariado?a("b-form-group",{attrs:{label:"Existencia mínima enfermería:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_minima_farmacia.$error,placeholder:"Ingresar existencia minima del medicamento en farmacia"},model:{value:e.$v.form.existencia_minima_farmacia.$model,callback:function(t){e.$set(e.$v.form.existencia_minima_farmacia,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_minima_farmacia.$model"}}),e.$v.form.existencia_minima_farmacia.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia minima de farmacia ")]):e._e()],1):e._e()],1),a("b-col",{attrs:{md:"3"}},["INVENTARIADO"===e.form.inventariado?a("b-form-group",{attrs:{label:"Existencia actual enfermería:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_actual_farmacia.$error,placeholder:"Ingresar existencia actual del medicamento en farmacia"},model:{value:e.$v.form.existencia_actual_farmacia.$model,callback:function(t){e.$set(e.$v.form.existencia_actual_farmacia,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_actual_farmacia.$model"}}),e.$v.form.existencia_actual_farmacia.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia actual de farmacia ")]):e._e()],1):e._e()],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Marca:"}},[a("v-select",{attrs:{name:"marca",state:!e.$v.form.marca.$error,options:e.marcas,filterable:!1,placeholder:"Seleccione la marca"},on:{search:e.onSearchMarca},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.marca.$model,callback:function(t){e.$set(e.$v.form.marca,"$model",t)},expression:"$v.form.marca.$model"}}),e.$v.form.marca.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar la marca ")]):e._e()],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Presentación:"}},[a("v-select",{attrs:{name:"presentacion",state:!e.$v.form.presentacion.$error,options:e.presentaciones,filterable:!1,placeholder:"Seleccione la presentacion"},on:{search:e.onSearchPresentacion},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.presentacion.$model,callback:function(t){e.$set(e.$v.form.presentacion,"$model",t)},expression:"$v.form.presentacion.$model"}}),e.$v.form.presentacion.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar la presentacion ")]):e._e()],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Proveedor:"}},[a("v-select",{attrs:{name:"proveedor",state:!e.$v.form.proveedor.$error,options:e.proveedores,filterable:!1,placeholder:"Seleccione el proveedor"},on:{search:e.onSearchProveedor},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.proveedor.$model,callback:function(t){e.$set(e.$v.form.proveedor,"$model",t)},expression:"$v.form.proveedor.$model"}}),e.$v.form.proveedor.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el proveedor ")]):e._e()],1)],1)],1)],1)],1),a("b-modal",{ref:"modal-2-quirurgico",attrs:{id:"modal-2-quirurgico",size:"xl",title:"Editar material quirurgico"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.name.$error,placeholder:"Ingresar nombre del material quirurgico"},model:{value:e.$v.form.name.$model,callback:function(t){e.$set(e.$v.form.name,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.name.$model"}}),e.$v.form.name.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Inventariado:"}},[a("b-form-radio",{attrs:{value:"INVENTARIADO",name:"customRadio1"},model:{value:e.form.inventariado,callback:function(t){e.$set(e.form,"inventariado",t)},expression:"form.inventariado"}},[e._v("Inventariado")]),a("b-form-radio",{attrs:{value:"NO INVENTARIADO",name:"customRadio1"},model:{value:e.form.inventariado,callback:function(t){e.$set(e.form,"inventariado",t)},expression:"form.inventariado"}},[e._v("No inventariado")])],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Facturado:"}},[a("b-form-radio",{attrs:{value:"0",name:"customRadio2"},model:{value:e.form.factura,callback:function(t){e.$set(e.form,"factura",t)},expression:"form.factura"}},[e._v("No factura")]),a("b-form-radio",{attrs:{value:"1",name:"customRadio2"},model:{value:e.form.factura,callback:function(t){e.$set(e.form,"factura",t)},expression:"form.factura"}},[e._v("Factura")])],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Costo:"}},[a("b-form-input",{attrs:{state:!e.$v.form.precio_costo.$error,placeholder:"Ingresar costo del medicamento"},model:{value:e.$v.form.precio_costo.$model,callback:function(t){e.$set(e.$v.form.precio_costo,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio_costo.$model"}}),e.$v.form.precio_costo.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el costo ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Precio de venta:"}},[a("b-form-input",{attrs:{state:!e.$v.form.precio_venta.$error,placeholder:"Ingresar precio de venta del medicamento"},model:{value:e.$v.form.precio_venta.$model,callback:function(t){e.$set(e.$v.form.precio_venta,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio_venta.$model"}}),e.$v.form.precio_venta.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el precio de venta ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},["INVENTARIADO"===e.form.inventariado?a("b-form-group",{attrs:{label:"Existencia mínima general:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_minima.$error,placeholder:"Ingresar existencia minima del medicamento"},model:{value:e.$v.form.existencia_minima.$model,callback:function(t){e.$set(e.$v.form.existencia_minima,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_minima.$model"}}),e.$v.form.existencia_minima.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia minima ")]):e._e()],1):e._e()],1),a("b-col",{attrs:{md:"3"}},["INVENTARIADO"===e.form.inventariado?a("b-form-group",{attrs:{label:"Existencia actual general:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_actual.$error,placeholder:"Ingresar existencia actual del medicamento"},model:{value:e.$v.form.existencia_actual.$model,callback:function(t){e.$set(e.$v.form.existencia_actual,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_actual.$model"}}),e.$v.form.existencia_actual.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia actual ")]):e._e()],1):e._e()],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},["INVENTARIADO"===e.form.inventariado?a("b-form-group",{attrs:{label:"Existencia mínima quirófano:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_minima_quirofano.$error,placeholder:"Ingresar existencia minima del medicamento en quirófano"},model:{value:e.$v.form.existencia_minima_quirofano.$model,callback:function(t){e.$set(e.$v.form.existencia_minima_quirofano,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_minima_quirofano.$model"}}),e.$v.form.existencia_minima_quirofano.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia minima de quirófano ")]):e._e()],1):e._e()],1),a("b-col",{attrs:{md:"3"}},["INVENTARIADO"===e.form.inventariado?a("b-form-group",{attrs:{label:"Existencia actual quirófano:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_actual_quirofano.$error,placeholder:"Ingresar existencia actual del medicamento en quirófano"},model:{value:e.$v.form.existencia_actual_quirofano.$model,callback:function(t){e.$set(e.$v.form.existencia_actual_quirofano,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_actual_quirofano.$model"}}),e.$v.form.existencia_actual_quirofano.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia actual de quirófano ")]):e._e()],1):e._e()],1),a("b-col",{attrs:{md:"3"}},["INVENTARIADO"===e.form.inventariado?a("b-form-group",{attrs:{label:"Existencia mínima enfermería:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_minima_farmacia.$error,placeholder:"Ingresar existencia minima del medicamento en farmacia"},model:{value:e.$v.form.existencia_minima_farmacia.$model,callback:function(t){e.$set(e.$v.form.existencia_minima_farmacia,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_minima_farmacia.$model"}}),e.$v.form.existencia_minima_farmacia.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia minima de farmacia ")]):e._e()],1):e._e()],1),a("b-col",{attrs:{md:"3"}},["INVENTARIADO"===e.form.inventariado?a("b-form-group",{attrs:{label:"Existencia actual enfermería:"}},[a("b-form-input",{attrs:{state:!e.$v.form.existencia_actual_farmacia.$error,placeholder:"Ingresar existencia actual del medicamento en farmacia"},model:{value:e.$v.form.existencia_actual_farmacia.$model,callback:function(t){e.$set(e.$v.form.existencia_actual_farmacia,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia_actual_farmacia.$model"}}),e.$v.form.existencia_actual_farmacia.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia actual de farmacia ")]):e._e()],1):e._e()],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Marca:"}},[a("v-select",{attrs:{name:"marca",state:!e.$v.form.marca.$error,options:e.marcas,filterable:!1,placeholder:"Seleccione la marca"},on:{search:e.onSearchMarca},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.marca.$model,callback:function(t){e.$set(e.$v.form.marca,"$model",t)},expression:"$v.form.marca.$model"}}),e.$v.form.marca.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar la marca ")]):e._e()],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Presentación:"}},[a("v-select",{attrs:{name:"presentacion",state:!e.$v.form.presentacion.$error,options:e.presentaciones,filterable:!1,placeholder:"Seleccione la presentacion"},on:{search:e.onSearchPresentacion},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.presentacion.$model,callback:function(t){e.$set(e.$v.form.presentacion,"$model",t)},expression:"$v.form.presentacion.$model"}}),e.$v.form.presentacion.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar la presentacion ")]):e._e()],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Proveedor:"}},[a("v-select",{attrs:{name:"proveedor",state:!e.$v.form.proveedor.$error,options:e.proveedores,filterable:!1,placeholder:"Seleccione el proveedor"},on:{search:e.onSearchProveedor},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.proveedor.$model,callback:function(t){e.$set(e.$v.form.proveedor,"$model",t)},expression:"$v.form.proveedor.$model"}}),e.$v.form.proveedor.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el proveedor ")]):e._e()],1)],1)],1)],1)],1),a("b-modal",{ref:"modal-3-quirurgico",attrs:{id:"modal-3-quirurgico",title:"Desactivar material quirurgico"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-quirurgico")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-quirurgico")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el material quirurgico: "+e._s(e.form.name)+" ? ")])],1),a("b-modal",{ref:"modal-4-quirurgico",attrs:{id:"modal-4-quirurgico",title:"Activar material quirurgico"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-quirurgico")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-quirurgico")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al material quirurgico: "+e._s(e.form.name)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Material quirúrgico")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-quirurgico",modifiers:{"modal-1-quirurgico":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"factura",fn:function(t){return a("div",{},[1==t.rowData.factura?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("SI FACTURA")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("NO FACTURA")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-quirurgico",modifiers:{"modal-2-quirurgico":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info",disabled:!e.hasPermission([5])},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-quirurgico"):e.$bvModal.show("modal-4-quirurgico")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},Ol=[],Nl={name:"Bank",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])({currentUser:"currentUser"})),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",marcas:[],presentaciones:[],proveedores:[],form:{id:0,name:"",precio_costo:0,precio_venta:0,existencia_minima:0,existencia_actual:0,existencia_minima_quirofano:0,existencia_actual_quirofano:0,existencia_minima_farmacia:0,existencia_actual_farmacia:0,inventariado:"INVENTARIADO",factura:1,marca:null,proveedor:null,presentacion:null,state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/quirurgico/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"name",title:"Nombre",dataClass:"list-item-heading"},{name:"precio_costo",sortField:"precio_costo",title:"Precio costo",dataClass:"list-item-heading"},{name:"precio_venta",sortField:"precio_venta",title:"Precio venta",dataClass:"list-item-heading"},{name:"existencia_minima",sortField:"existencia_minima",title:"Existencia minima",dataClass:"list-item-heading"},{name:"existencia_actual",sortField:"existencia_actual",title:"Existencia actual",dataClass:"list-item-heading"},{name:"inventariado",sortField:"inventariado",title:"Inventariado",dataClass:"list-item-heading"},{name:"__slot:factura",title:"Factura",titleClass:"",dataClass:"text-muted"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{name:{required:_a["c"]},precio_costo:{required:_a["c"]},precio_venta:{required:_a["c"]},existencia_minima:{required:_a["c"]},existencia_actual:{required:_a["c"]},existencia_minima_quirofano:{required:_a["c"]},existencia_actual_quirofano:{required:_a["c"]},existencia_minima_farmacia:{required:_a["c"]},existencia_actual_farmacia:{required:_a["c"]},marca:{required:_a["c"]},presentacion:{required:_a["c"]},proveedor:{required:_a["c"]}}}},methods:{hasPermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.includes(this.currentUser.user_type)},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.precio_costo=0,this.form.precio_venta=0,this.form.existencia_minima=0,this.form.existencia_actual=0,this.form.existencia_minima_quirofano=0,this.form.existencia_actual_quirofano=0,this.form.existencia_minima_farmacia=0,this.form.existencia_actual_farmacia=0,this.form.inventariado="INVENTARIADO",this.form.factura=1,this.form.marca=null,this.form.presentacion=null,this.form.proveedor=null,this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-quirurgico"].hide(),this.form.id=0,this.form.name="",this.form.precio_costo=0,this.form.precio_venta=0,this.form.existencia_minima=0,this.form.existencia_actual=0,this.form.existencia_minima_quirofano=0,this.form.existencia_actual_quirofano=0,this.form.existencia_minima_farmacia=0,this.form.existencia_actual_farmacia=0,this.form.inventariado="INVENTARIADO",this.form.factura=1,this.form.marca=null,this.form.presentacion=null,this.form.proveedor=null,this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-quirurgico"].hide(),this.form.id=0,this.form.name="",this.form.precio_costo=0,this.form.precio_venta=0,this.form.existencia_minima=0,this.form.existencia_actual=0,this.form.existencia_minima_quirofano=0,this.form.existencia_actual_quirofano=0,this.form.existencia_minima_farmacia=0,this.form.existencia_actual_farmacia=0,this.form.inventariado="INVENTARIADO",this.form.factura=1,this.form.marca=null,this.form.presentacion=null,this.form.proveedor=null,this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.name=e.nombre,this.form.state=e.estado,this.form.precio_costo=e.precio_costo,this.form.precio_venta=e.precio_venta,this.form.existencia_minima=e.existencia_minima,this.form.existencia_actual=e.existencia_actual,this.form.existencia_minima_quirofano=e.existencia_minima_quirofano,this.form.existencia_actual_quirofano=e.existencia_actual_quirofano,this.form.existencia_minima_farmacia=e.existencia_minima_farmacia,this.form.existencia_actual_farmacia=e.existencia_actual_farmacia,this.form.inventariado=e.inventariado,this.form.factura=e.factura,this.form.factura=e.factura,this.form.marca=e.marca,this.form.presentacion=e.presentacione,this.form.proveedor=e.proveedore,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/quirurgico/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el material quirurgico "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/quirurgico/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el material quirurgico "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/quirurgico/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el material quirurgico "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-quirurgico"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/quirurgico/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el material quirurgico "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-quirurgico"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},onSearchMarca:function(e,t){e.length&&(t(!0),this.searchingMarcas(e,t))},searchingMarcas:function(e,t){var a=this;ie.a.get(q["a"]+"/marca/getSearch",{params:{search:e}}).then((function(e){a.marcas=e.data,t(!1)}))},onSearchPresentacion:function(e,t){e.length&&(t(!0),this.searchingPresentaciones(e,t))},searchingPresentaciones:function(e,t){var a=this;ie.a.get(q["a"]+"/presentacion/getSearch",{params:{search:e}}).then((function(e){a.presentaciones=e.data,t(!1)}))},onSearchProveedor:function(e,t){e.length&&(t(!0),this.searchingProveedor(e,t))},searchingProveedor:function(e,t){var a=this;ie.a.get(q["a"]+"/proveedor/getSearch",{params:{search:e}}).then((function(e){console.log(e.data),a.proveedores=e.data,t(!1)}))}}},Rl=Nl,Vl=Object($["a"])(Rl,Fl,Ol,!1,null,null,null),zl=Vl.exports,Hl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-movimiento",attrs:{id:"modal-1-movimiento",title:"Agregar movimiento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Material quirurgico:"}},[a("v-select",{attrs:{name:"quirurgicos",state:!e.$v.form.quirurgico.$error,options:e.quirurgicos,filterable:!1,placeholder:"Seleccione el material quirurgico"},on:{search:e.onSearchQuirurgicos},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Existencia: "+t.existencia_actual)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Existencia: "+t.existencia_actual)+" ")]}}]),model:{value:e.$v.form.quirurgico.$model,callback:function(t){e.$set(e.$v.form.quirurgico,"$model",t)},expression:"$v.form.quirurgico.$model"}}),e.$v.form.quirurgico.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el material quirurgico ")]):e._e()],1),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.cantidad.$error,placeholder:"Ingresar cantidad"},model:{value:e.$v.form.cantidad.$model,callback:function(t){e.$set(e.$v.form.cantidad,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.cantidad.$model"}}),e.$v.form.cantidad.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar cantidad ")]):e._e()],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Tipo de movimiento:"}},[a("b-form-radio",{attrs:{value:"ENTRADA",name:"customRadio1"},on:{change:e.changeCheck},model:{value:e.form.movimiento,callback:function(t){e.$set(e.form,"movimiento",t)},expression:"form.movimiento"}},[e._v("Ingreso de material quirurgico")]),a("b-form-radio",{attrs:{value:"SALIDA",name:"customRadio1"},on:{change:e.changeCheck},model:{value:e.form.movimiento,callback:function(t){e.$set(e.form,"movimiento",t)},expression:"form.movimiento"}},[e._v("Salida de material quirurgico")])],1)],1),a("b-col",{attrs:{md:"6"}},["ENTRADA"===e.form.movimiento?a("b-form-group",{attrs:{label:"Precio costo individual:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar precio costo"},model:{value:e.form.precio_costo,callback:function(t){e.$set(e.form,"precio_costo","string"===typeof t?t.trim():t)},expression:"form.precio_costo"}})],1):"SALIDA"===e.form.movimiento?a("b-form-group",{attrs:{label:"Precio venta individual:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar precio venta"},model:{value:e.form.precio_venta,callback:function(t){e.$set(e.form,"precio_venta","string"===typeof t?t.trim():t)},expression:"form.precio_venta"}})],1):e._e()],1)],1)],1)],1),a("b-modal",{ref:"modal-2-movimiento",attrs:{id:"modal-2-movimiento",title:"Editar movimiento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Material quirurgico:"}},[a("v-select",{attrs:{name:"quirurgicos",state:!e.$v.form.quirurgico.$error,options:e.quirurgicos,filterable:!1,placeholder:"Seleccione material quirurgico"},on:{search:e.onSearchQuirurgicos},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Existencia: "+t.existencia_actual)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Existencia: "+t.existencia_actual)+" ")]}}]),model:{value:e.$v.form.quirurgico.$model,callback:function(t){e.$set(e.$v.form.quirurgico,"$model",t)},expression:"$v.form.quirurgico.$model"}}),e.$v.form.quirurgico.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el material quirurgico ")]):e._e()],1),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.cantidad.$error,placeholder:"Ingresar cantidad"},model:{value:e.$v.form.cantidad.$model,callback:function(t){e.$set(e.$v.form.cantidad,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.cantidad.$model"}}),e.$v.form.cantidad.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar cantidad ")]):e._e()],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Tipo de movimiento:"}},[a("b-form-radio",{attrs:{value:"ENTRADA",name:"customRadio1"},on:{change:e.changeCheck},model:{value:e.form.movimiento,callback:function(t){e.$set(e.form,"movimiento",t)},expression:"form.movimiento"}},[e._v("Ingreso de material quirurgico")]),a("b-form-radio",{attrs:{value:"SALIDA",name:"customRadio1"},on:{change:e.changeCheck},model:{value:e.form.movimiento,callback:function(t){e.$set(e.form,"movimiento",t)},expression:"form.movimiento"}},[e._v("Salida de material quirurgico")])],1)],1),a("b-col",{attrs:{md:"6"}},["ENTRADA"===e.form.movimiento?a("b-form-group",{attrs:{label:"Precio costo individual:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar precio costo"},model:{value:e.form.precio_costo,callback:function(t){e.$set(e.form,"precio_costo","string"===typeof t?t.trim():t)},expression:"form.precio_costo"}})],1):"SALIDA"===e.form.movimiento?a("b-form-group",{attrs:{label:"Precio venta individual:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar precio venta"},model:{value:e.form.precio_venta,callback:function(t){e.$set(e.form,"precio_venta","string"===typeof t?t.trim():t)},expression:"form.precio_venta"}})],1):e._e()],1)],1)],1)],1),a("b-modal",{ref:"modal-3-movimiento",attrs:{id:"modal-3-movimiento",title:"Desactivar movimiento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-movimiento")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-movimiento")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el movimiento? ")])],1),a("b-modal",{ref:"modal-4-movimiento",attrs:{id:"modal-4-movimiento",title:"Activar movimiento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-movimiento")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-movimiento")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar el movimiento ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Movimientos material quirurgico")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-movimiento",modifiers:{"modal-1-movimiento":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-movimiento",modifiers:{"modal-2-movimiento":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info"},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-movimiento"):e.$bvModal.show("modal-4-movimiento")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},Ll=[],Ql={name:"MovimientosQuirurgicos",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])(["currentUser"])),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",quirurgicos:[],form:{id:0,cantidad:0,quirurgico:null,movimiento:"ENTRADA",precio_costo:null,precio_venta:null,state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/quirurgico_movimientos/list",fields:[{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"existencia_previa",sortField:"existencia_previa",title:"Existencia previa",dataClass:"list-item-heading"},{name:"existencia_nueva",sortField:"existencia_nueva",title:"Existencia nueva",dataClass:"list-item-heading"},{name:"precio_costo",sortField:"precio_costo",title:"Precio costo",dataClass:"list-item-heading"},{name:"precio_venta",sortField:"precio_venta",title:"Precio venta",dataClass:"list-item-heading"},{name:"movimiento",sortField:"movimiento",title:"Movimiento",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Descripcion",dataClass:"list-item-heading"}]}},validations:function(){return{form:{cantidad:{required:_a["c"]},movimiento:{required:_a["c"]},quirurgico:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.cantidad=0,this.form.movimiento="ENTRADA",this.form.quirurgico=null,this.form.precio_costo=null,this.form.precio_venta=null,this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-movimiento"].hide(),this.form.id=0,this.form.cantidad=0,this.form.movimiento="ENTRADA",this.form.quirurgico=null,this.form.precio_costo=null,this.form.precio_venta=null,this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-movimiento"].hide(),this.form.id=0,this.form.cantidad=0,this.form.movimiento="ENTRADA",this.form.quirurgico=null,this.form.precio_costo=null,this.form.precio_venta=null,this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?parseInt(this.form.cantidad)<1?(this.alertErrorText="Debe ser un número mayor a 0",this.showAlertError()):parseInt(this.form.cantidad)>this.form.quirurgico.existencia_actual&&"SALIDA"===this.form.movimiento?(this.alertErrorText="No hay suficiente existencia del producto",this.showAlertError()):"SALIDA"===this.form.movimiento&&null===this.form.precio_venta?(this.alertErrorText="Debe ingresar el precio de salida",this.showAlertError()):"ENTRADA"===this.form.movimiento&&null===this.form.precio_costo?(this.alertErrorText="Debe ingresar el precio de entrada",this.showAlertError()):this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.cantidad=e.cantidad,this.form.movimiento=e.movimiento,this.form.quirurgico=e.quirurgico,this.form.precio_costo=e.precio_costo,this.form.precio_venta=e.precio_venta,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this,t=this.currentUser;ie.a.post(q["a"]+"/quirurgico_movimientos/create",{form:e.form,currentUser:t}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el movimiento exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/quirurgico_movimientos/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el movimiento exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/quirurgico_movimientos/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el movimiento exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-movimiento"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/quirurgico_movimientos/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el movimiento exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-movimiento"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},onSearchQuirurgicos:function(e,t){e.length&&(t(!0),this.searchingQuirurgicos(e,t))},searchingQuirurgicos:function(e,t){var a=this;ie.a.get(q["a"]+"/quirurgico/getSearch",{params:{search:e}}).then((function(e){a.quirurgicos=e.data,t(!1)}))},changeCheck:function(){"ENTRADA"===this.movimiento?this.form.precio_venta=null:this.form.precio_costo=null}}},Ul=Ql,jl=Object($["a"])(Ul,Hl,Ll,!1,null,null,null),Yl=jl.exports,Bl={name:"QuirurgicoParent",components:{MaterialQuirurgico:zl,MovimientosMaterialQuirurgico:Yl},data:function(){return{patient:{},patientId:0}},mounted:function(){g["a"].index()},beforeMount:function(){this.patientId=this.$route.params.id,this.getPatient(this.patientId)},methods:{getPatient:function(e){var t=this;ie.a.get(q["a"]+"/paciente/get?id=".concat(e)).then((function(e){t.patient=e.data})).catch((function(e){console.log(e)}))},backToPatients:function(){this.$router.push({name:"patient.patients"})}}},Gl=Bl,Zl=Object($["a"])(Gl,ql,Il,!1,null,null,null),Wl=Zl.exports,Kl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Datos")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}})],1),a("div",{staticClass:"col-sm"})])])]},proxy:!0},{key:"body",fn:function(){return[a("b-tabs",[a("b-tab",{attrs:{title:"Marca",active:""}},[a("Marca")],1),a("b-tab",{attrs:{title:"Presentacion",lazy:""}},[a("Presentacion")],1),a("b-tab",{attrs:{title:"Proveedor",lazy:""}},[a("Proveedor")],1)],1)]},proxy:!0}])})],1)],1)],1)},Jl=[],Xl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-marca",attrs:{id:"modal-1-marca",title:"Agregar marca"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre de la marca"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-2-marca",attrs:{id:"modal-2-marca",title:"Editar marca"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre de la marca"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-3-marca",attrs:{id:"modal-3-marca",title:"Desactivar marca"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-marca")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-marca")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar la marca: "+e._s(e.form.nombre)+" ? ")])],1),a("b-modal",{ref:"modal-4-marca",attrs:{id:"modal-4-marca",title:"Activar marca"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-marca")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-marca")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al marca: "+e._s(e.form.nombre)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Marca")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-marca",modifiers:{"modal-1-marca":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-marca",modifiers:{"modal-2-marca":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info"},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-marca"):e.$bvModal.show("modal-4-marca")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},ec=[],tc={name:"Marcas",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},data:function(){return{from:0,to:0,total:0,perPage:5,search:"",form:{id:0,nombre:"",state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/marca/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"nombre",title:"Nombre",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{nombre:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.nombre="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-marca"].hide(),this.form.id=0,this.form.nombre="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-marca"].hide(),this.form.id=0,this.form.nombre="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.nombre=e.nombre,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/marca/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el marca "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/marca/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el marca "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/marca/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el marca "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-marca"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/marca/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el marca "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-marca"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs}}},ac=tc,rc=Object($["a"])(ac,Xl,ec,!1,null,null,null),oc=rc.exports,ic=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-presentacion",attrs:{id:"modal-1-presentacion",title:"Agregar presentación"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre de la presentación"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-2-presentacion",attrs:{id:"modal-2-presentacion",title:"Editar presentación"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre de presentación"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-3-presentacion",attrs:{id:"modal-3-presentacion",title:"Desactivar presentación"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-presentacion")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-presentacion")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el presentación: "+e._s(e.form.nombre)+" ? ")])],1),a("b-modal",{ref:"modal-4-presentacion",attrs:{id:"modal-4-presentacion",title:"Activar presentación"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-presentacion")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-presentacion")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al presentación: "+e._s(e.form.nombre)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Presentación")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-presentacion",modifiers:{"modal-1-presentacion":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-presentacion",modifiers:{"modal-2-presentacion":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info"},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-presentacion"):e.$bvModal.show("modal-4-presentacion")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},nc=[],sc={name:"Presentaciones",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},data:function(){return{from:0,to:0,total:0,perPage:5,search:"",form:{id:0,nombre:"",state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/presentacion/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"nombre",title:"Nombre",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{nombre:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.nombre="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-presentacion"].hide(),this.form.id=0,this.form.nombre="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-presentacion"].hide(),this.form.id=0,this.form.nombre="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.nombre=e.nombre,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/presentacion/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado la presentacion "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/presentacion/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado la presentacion "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/presentacion/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado la presentacion "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-presentacion"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/presentacion/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado la presentacion "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-presentacion"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs}}},lc=sc,cc=Object($["a"])(lc,ic,nc,!1,null,null,null),dc=cc.exports,mc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-proveedor",attrs:{id:"modal-1-proveedor",title:"Agregar proveedor"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre del proveedor"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1),a("b-form-group",{attrs:{label:"Representante:"}},[a("b-form-input",{attrs:{state:!e.$v.form.representante.$error,placeholder:"Ingresar representante del proveedor"},model:{value:e.$v.form.representante.$model,callback:function(t){e.$set(e.$v.form.representante,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.representante.$model"}}),e.$v.form.representante.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el representante ")]):e._e()],1),a("b-form-group",{attrs:{label:"Nit:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nit.$error,placeholder:"Ingresar nit del proveedor"},model:{value:e.$v.form.nit.$model,callback:function(t){e.$set(e.$v.form.nit,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nit.$model"}}),e.$v.form.nit.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nit ")]):e._e()],1),a("b-form-group",{attrs:{label:"Teléfono:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar telefono del proveedor"},model:{value:e.form.telefono,callback:function(t){e.$set(e.form,"telefono","string"===typeof t?t.trim():t)},expression:"form.telefono"}})],1),a("b-form-group",{attrs:{label:"Correo:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar correo del proveedor"},model:{value:e.form.correo,callback:function(t){e.$set(e.form,"correo","string"===typeof t?t.trim():t)},expression:"form.correo"}})],1),a("b-form-group",{attrs:{label:"Empresa:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar empresa del proveedor"},model:{value:e.form.empresa,callback:function(t){e.$set(e.form,"empresa","string"===typeof t?t.trim():t)},expression:"form.empresa"}})],1),a("b-form-group",{attrs:{label:"Dirección:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar direccion del proveedor"},model:{value:e.form.direccion,callback:function(t){e.$set(e.form,"direccion","string"===typeof t?t.trim():t)},expression:"form.direccion"}})],1),a("b-form-group",{attrs:{label:"Total adquirido a la fecha:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar total adquirido del proveedor"},model:{value:e.form.total_adquirido,callback:function(t){e.$set(e.form,"total_adquirido","string"===typeof t?t.trim():t)},expression:"form.total_adquirido"}})],1)],1)],1),a("b-modal",{ref:"modal-2-proveedor",attrs:{id:"modal-2-proveedor",title:"Editar proveedor"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre del proveedor"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1),a("b-form-group",{attrs:{label:"Representante:"}},[a("b-form-input",{attrs:{state:!e.$v.form.representante.$error,placeholder:"Ingresar representante del proveedor"},model:{value:e.$v.form.representante.$model,callback:function(t){e.$set(e.$v.form.representante,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.representante.$model"}}),e.$v.form.representante.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el representante ")]):e._e()],1),a("b-form-group",{attrs:{label:"Nit:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nit.$error,placeholder:"Ingresar nit del proveedor"},model:{value:e.$v.form.nit.$model,callback:function(t){e.$set(e.$v.form.nit,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nit.$model"}}),e.$v.form.nit.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nit ")]):e._e()],1),a("b-form-group",{attrs:{label:"Teléfono:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar telefono del proveedor"},model:{value:e.form.telefono,callback:function(t){e.$set(e.form,"telefono","string"===typeof t?t.trim():t)},expression:"form.telefono"}})],1),a("b-form-group",{attrs:{label:"Correo:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar correo del proveedor"},model:{value:e.form.correo,callback:function(t){e.$set(e.form,"correo","string"===typeof t?t.trim():t)},expression:"form.correo"}})],1),a("b-form-group",{attrs:{label:"Empresa:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar empresa del proveedor"},model:{value:e.form.empresa,callback:function(t){e.$set(e.form,"empresa","string"===typeof t?t.trim():t)},expression:"form.empresa"}})],1),a("b-form-group",{attrs:{label:"Dirección:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar direccion del proveedor"},model:{value:e.form.direccion,callback:function(t){e.$set(e.form,"direccion","string"===typeof t?t.trim():t)},expression:"form.direccion"}})],1),a("b-form-group",{attrs:{label:"Total adquirido a la fecha:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar total adquirido del proveedor"},model:{value:e.form.total_adquirido,callback:function(t){e.$set(e.form,"total_adquirido","string"===typeof t?t.trim():t)},expression:"form.total_adquirido"}})],1)],1)],1),a("b-modal",{ref:"modal-3-proveedor",attrs:{id:"modal-3-proveedor",title:"Desactivar proveedor"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-proveedor")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-proveedor")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el proveedor: "+e._s(e.form.nombre)+" ? ")])],1),a("b-modal",{ref:"modal-4-proveedor",attrs:{id:"modal-4-proveedor",title:"Activar proveedor"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-proveedor")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-proveedor")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al proveedor: "+e._s(e.form.nombre)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Proveedor")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-proveedor",modifiers:{"modal-1-proveedor":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-proveedor",modifiers:{"modal-2-proveedor":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info"},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-proveedor"):e.$bvModal.show("modal-4-proveedor")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},uc=[],fc={name:"Proveedor",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},data:function(){return{from:0,to:0,total:0,perPage:5,search:"",form:{id:0,nombre:"",representante:"",nit:"",total_adquirido:0,telefono:"",correo:"",empresa:"",direccion:"",state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/proveedor/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"nombre",title:"Nombre",dataClass:"list-item-heading"},{name:"nit",sortField:"nit",title:"Nit",dataClass:"list-item-heading"},{name:"representante",sortField:"representante",title:"Representante",dataClass:"list-item-heading"},{name:"telefono",sortField:"telefono",title:"Teléfono",dataClass:"list-item-heading"},{name:"correo",sortField:"correo",title:"Correo",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{nombre:{required:_a["c"]},representante:{required:_a["c"]},nit:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.nombre="",this.form.representante="",this.form.nit="",this.form.total_adquirido=0,this.form.telefono="",this.form.correo="",this.form.empresa="",this.form.direccion="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-proveedor"].hide(),this.form.id=0,this.form.nombre="",this.form.representante="",this.form.nit="",this.form.total_adquirido=0,this.form.telefono="",this.form.correo="",this.form.empresa="",this.form.direccion="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-proveedor"].hide(),this.form.id=0,this.form.nombre="",this.form.representante="",this.form.nit="",this.form.total_adquirido=0,this.form.telefono="",this.form.correo="",this.form.empresa="",this.form.direccion="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.nombre=e.nombre,this.form.representante=e.representante,this.form.nit=e.nit,this.form.total_adquirido=e.total_adquirido,this.form.telefono=e.telefono,this.form.correo=e.correo,this.form.empresa=e.empresa,this.form.direccion=e.direccion,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/proveedor/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el proveedor "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/proveedor/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el proveedor "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/proveedor/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el proveedor "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-proveedor"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/proveedor/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el proveedor "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-proveedor"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs}}},hc=fc,pc=Object($["a"])(hc,mc,uc,!1,null,null,null),bc=pc.exports,vc={name:"DatosParent",components:{Marca:oc,Presentacion:dc,Proveedor:bc},data:function(){return{patient:{},patientId:0}},mounted:function(){g["a"].index()},beforeMount:function(){this.patientId=this.$route.params.id,this.getPatient(this.patientId)},methods:{getPatient:function(e){var t=this;ie.a.get(q["a"]+"/paciente/get?id=".concat(e)).then((function(e){t.patient=e.data})).catch((function(e){console.log(e)}))},backToPatients:function(){this.$router.push({name:"patient.patients"})}}},gc=vc,_c=Object($["a"])(gc,Kl,Jl,!1,null,null,null),xc=_c.exports,Cc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Alertas de existencia")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}})],1),a("div",{staticClass:"col-sm"})])])]},proxy:!0},{key:"body",fn:function(){return[a("b-tabs",[a("b-tab",{attrs:{title:"Alertas medicamento",active:""}},[a("Medicamento")],1),a("b-tab",{attrs:{title:"Alertas material común",lazy:""}},[a("Comun")],1),a("b-tab",{attrs:{title:"Alertas material quirurgico",lazy:""}},[a("Quirurgico")],1)],1)]},proxy:!0}])})],1)],1)],1)},$c=[],yc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-bank",attrs:{id:"modal-1-bank",title:"Agregar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.name.$error,placeholder:"Ingresar nombre del banco"},model:{value:e.$v.form.name.$model,callback:function(t){e.$set(e.$v.form.name,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.name.$model"}}),e.$v.form.name.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-2-bank",attrs:{id:"modal-2-bank",title:"Editar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.name.$error,placeholder:"Ingresar nombre de banco"},model:{value:e.$v.form.name.$model,callback:function(t){e.$set(e.$v.form.name,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.name.$model"}}),e.$v.form.name.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-3-bank",attrs:{id:"modal-3-bank",title:"Desactivar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-bank")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-bank")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el banco: "+e._s(e.form.name)+" ? ")])],1),a("b-modal",{ref:"modal-4-bank",attrs:{id:"modal-4-bank",title:"Activar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-bank")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-bank")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al banco: "+e._s(e.form.name)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Alertas material común")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[t.rowData.existencia_actual<6?a("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:""}},[e._v("POCA EXISTENCIA GENERAL")]):e._e(),t.rowData.existencia_actual_quirofano<6?a("button",{staticClass:"btn btn-warning",attrs:{type:"button",disabled:""}},[e._v("POCA EXISTENCIA EN QUIRÓFANO")]):e._e(),t.rowData.existencia_actual_farmacia<6?a("button",{staticClass:"btn btn-dark",attrs:{type:"button",disabled:""}},[e._v("POCA EXISTENCIA EN ENFERMERÍA")]):e._e()])}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},wc=[],Ec={name:"Bank",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},data:function(){return{from:0,to:0,total:0,perPage:5,search:"",form:{id:0,name:"",state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/alertas/listComunes",fields:[{name:"nombre",sortField:"name",title:"Nombre",dataClass:"list-item-heading"},{name:"existencia_actual",sortField:"existencia_actual",title:"Existencia actual",dataClass:"list-item-heading"},{name:"existencia_actual_quirofano",sortField:"existencia_actual_quirofano",title:"Existencia quirófano",dataClass:"list-item-heading"},{name:"existencia_actual_farmacia",sortField:"existencia_actual_farmacia",title:"Existencia enfermería",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{name:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-bank"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-bank"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.name=e.nombre,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/banco/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/banco/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/banco/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-bank"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/banco/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-bank"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs}}},kc=Ec,Dc=Object($["a"])(kc,yc,wc,!1,null,null,null),Ac=Dc.exports,Sc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-bank",attrs:{id:"modal-1-bank",title:"Agregar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.name.$error,placeholder:"Ingresar nombre del banco"},model:{value:e.$v.form.name.$model,callback:function(t){e.$set(e.$v.form.name,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.name.$model"}}),e.$v.form.name.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-2-bank",attrs:{id:"modal-2-bank",title:"Editar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.name.$error,placeholder:"Ingresar nombre de banco"},model:{value:e.$v.form.name.$model,callback:function(t){e.$set(e.$v.form.name,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.name.$model"}}),e.$v.form.name.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-3-bank",attrs:{id:"modal-3-bank",title:"Desactivar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-bank")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-bank")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el banco: "+e._s(e.form.name)+" ? ")])],1),a("b-modal",{ref:"modal-4-bank",attrs:{id:"modal-4-bank",title:"Activar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-bank")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-bank")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al banco: "+e._s(e.form.name)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Alertas medicamento")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[t.rowData.existencia_actual<6?a("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:""}},[e._v("POCA EXISTENCIA GENERAL")]):e._e(),t.rowData.existencia_actual_quirofano<6?a("button",{staticClass:"btn btn-warning",attrs:{type:"button",disabled:""}},[e._v("POCA EXISTENCIA EN QUIRÓFANO")]):e._e(),t.rowData.existencia_actual_farmacia<6?a("button",{staticClass:"btn btn-dark",attrs:{type:"button",disabled:""}},[e._v("POCA EXISTENCIA EN ENFERMERÍA")]):e._e()])}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},Tc=[],Pc={name:"Bank",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},data:function(){return{from:0,to:0,total:0,perPage:5,search:"",form:{id:0,name:"",state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/alertas/listMedicamentos",fields:[{name:"nombre",sortField:"name",title:"Nombre",dataClass:"list-item-heading"},{name:"existencia_actual",sortField:"existencia_actual",title:"Existencia general",dataClass:"list-item-heading"},{name:"existencia_actual_quirofano",sortField:"existencia_actual_quirofano",title:"Existencia quirófano",dataClass:"list-item-heading"},{name:"existencia_actual_farmacia",sortField:"existencia_actual_farmacia",title:"Existencia enfermería",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{name:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-bank"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-bank"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.name=e.nombre,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/banco/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/banco/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/banco/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-bank"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/banco/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-bank"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs}}},Mc=Pc,qc=Object($["a"])(Mc,Sc,Tc,!1,null,null,null),Ic=qc.exports,Fc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-bank",attrs:{id:"modal-1-bank",title:"Agregar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.name.$error,placeholder:"Ingresar nombre del banco"},model:{value:e.$v.form.name.$model,callback:function(t){e.$set(e.$v.form.name,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.name.$model"}}),e.$v.form.name.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-2-bank",attrs:{id:"modal-2-bank",title:"Editar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.name.$error,placeholder:"Ingresar nombre de banco"},model:{value:e.$v.form.name.$model,callback:function(t){e.$set(e.$v.form.name,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.name.$model"}}),e.$v.form.name.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-3-bank",attrs:{id:"modal-3-bank",title:"Desactivar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-bank")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-bank")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el banco: "+e._s(e.form.name)+" ? ")])],1),a("b-modal",{ref:"modal-4-bank",attrs:{id:"modal-4-bank",title:"Activar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-bank")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-bank")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al banco: "+e._s(e.form.name)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Alertas material quirúrgico")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[t.rowData.existencia_actual<6?a("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:""}},[e._v("POCA EXISTENCIA GENERAL")]):e._e(),t.rowData.existencia_actual_quirofano<6?a("button",{staticClass:"btn btn-warning",attrs:{type:"button",disabled:""}},[e._v("POCA EXISTENCIA EN QUIRÓFANO")]):e._e(),t.rowData.existencia_actual_farmacia<6?a("button",{staticClass:"btn btn-dark",attrs:{type:"button",disabled:""}},[e._v("POCA EXISTENCIA EN ENFERMERÍA")]):e._e()])}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},Oc=[],Nc={name:"Bank",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},data:function(){return{from:0,to:0,total:0,perPage:5,search:"",form:{id:0,name:"",state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/alertas/listQuirurgico",fields:[{name:"nombre",sortField:"name",title:"Nombre",dataClass:"list-item-heading"},{name:"existencia_actual",sortField:"existencia_actual",title:"Existencia actual",dataClass:"list-item-heading"},{name:"existencia_actual_quirofano",sortField:"existencia_actual_quirofano",title:"Existencia quirófano",dataClass:"list-item-heading"},{name:"existencia_actual_farmacia",sortField:"existencia_actual_farmacia",title:"Existencia enfermería",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{name:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-bank"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-bank"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.name=e.nombre,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/banco/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/banco/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/banco/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-bank"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/banco/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-bank"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs}}},Rc=Nc,Vc=Object($["a"])(Rc,Fc,Oc,!1,null,null,null),zc=Vc.exports,Hc={name:"PedidosPendientesParent",components:{Comun:Ac,Medicamento:Ic,Quirurgico:zc},data:function(){return{patient:{},patientId:0}},mounted:function(){g["a"].index()},beforeMount:function(){this.patientId=this.$route.params.id,this.getPatient(this.patientId)},methods:{getPatient:function(e){var t=this;ie.a.get(q["a"]+"/paciente/get?id=".concat(e)).then((function(e){t.patient=e.data})).catch((function(e){console.log(e)}))},backToPatients:function(){this.$router.push({name:"patient.patients"})}}},Lc=Hc,Qc=Object($["a"])(Lc,Cc,$c,!1,null,null,null),Uc=Qc.exports,jc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Paquetes")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}})],1),a("div",{staticClass:"col-sm"})])])]},proxy:!0},{key:"body",fn:function(){return[a("b-tabs",[a("b-tab",{attrs:{title:"Vender paquetes",active:""}},[a("VenderPaquete")],1),a("b-tab",{attrs:{title:"Datos de paquetes",lazy:""}},[a("Paquetes")],1),a("b-tab",{attrs:{title:"Crear paquetes",lazy:""}},[a("CrearPaquete")],1)],1)]},proxy:!0}])})],1)],1)],1)},Yc=[],Bc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-ver-paquete",attrs:{id:"modal-ver-paquete",size:"lg",title:"Detalle de paquete"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("ver")}}},[e._v("Cerrar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("h6",[e._v(e._s(e.form.nombre))])])],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Precio total:"}},[a("h6",[e._v(e._s(e.total))])])],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Persona que ingresó:"}},[a("h6",[e._v(e._s(e.form.usuario.nombre+" "+e.form.usuario.apellidos))])])],1)],1),a("br"),a("br"),a("table",{staticClass:"table table-hover product_item_list c_table theme-color mb-0"},[a("thead",[a("tr",[a("th",[e._v("Descripción")]),a("th",[e._v("Cantidad")]),a("th",[e._v("Total")])])]),a("tbody",e._l(e.arrayDetalles,(function(t){return a("tr",{key:t.id},[a("td",{domProps:{textContent:e._s(t.descripcion)}}),a("td",{domProps:{textContent:e._s(t.cantidad)}}),a("td",{domProps:{textContent:e._s(t.subtotal)}})])})),0)]),a("br"),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("h5",[e._v("Total factura: "+e._s(e.total))])])],1)],1),a("b-modal",{ref:"modal-3-paquete",attrs:{id:"modal-3-paquete",title:"Desactivar paquete"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-paquete")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-paquete")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el paquete: "+e._s(e.form.nombre)+" ? ")])],1),a("b-modal",{ref:"modal-4-paquete",attrs:{id:"modal-4-paquete",title:"Activar paquete"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-paquete")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-paquete")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al paquete: "+e._s(e.form.nombre)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Paquetes")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Ver",expression:"'Ver'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-ver-paquete",modifiers:{"modal-ver-paquete":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-success",disabled:!e.hasPermission([5])},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-eye"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\r\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info",disabled:!e.hasPermission([5])},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-paquete"):e.$bvModal.show("modal-4-paquete")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},Gc=[],Zc={name:"Paquetes",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])({currentUser:"currentUser"})),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",id:0,arrayDetalles:[],form:{id:0,nombre:"",precio_costo:0,precio_venta:0,usuario:{nombre:"",apellidos:""},state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/paquetes/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"nombre",title:"Nombre",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Total",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{nombre:{required:_a["c"]},precio_costo:{required:_a["c"]},precio_venta:{required:_a["c"]}}}},methods:{hasPermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.includes(this.currentUser.user_type)},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.nombre="",this.form.precio_costo=0,this.form.precio_venta=0,this.form.state=1;break}},closeModal:function(e){switch(e){case"update":this.$v.$reset(),this.$refs["modal-2-paquete"].hide(),this.form.id=0,this.form.nombre="",this.form.total=0,this.form.state=1,this.arrayDetalles=[];break;case"ver":this.$v.$reset(),this.$refs["modal-ver-paquete"].hide(),this.form.id=0,this.form.nombre="",this.form.total=0,this.form.state=1,this.arrayDetalles=[];break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.arrayDetalles=e.detalle_paquetes,this.form.nombre=e.nombre,this.form.total=e.total,this.form.state=e.estado,this.form.id=e.id,this.form.usuario=e.usuario,this.total=e.total},onSave:function(){var e=this;ie.a.post(q["a"]+"/paquetes/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el paquete "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/paquetes/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el paquete "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/paquetes/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el paquete "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-paquete"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErr8orText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/paquetes/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el paquete "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-paquete"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs}}},Wc=Zc,Kc=Object($["a"])(Wc,Bc,Gc,!1,null,null,null),Jc=Kc.exports,Xc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1",attrs:{id:"modal-1",title:"Agregar medicamento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("medicamento")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("medicamento")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",[a("b-form-group",{attrs:{label:"Medicamento:"}},[a("v-select",{attrs:{name:"medicine",state:!e.$v.formMedicamento.medicine.$error,options:e.medicines,filterable:!1,placeholder:"Seleccione el medicamento"},on:{search:e.onSearch},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.formMedicamento.medicine.$model,callback:function(t){e.$set(e.$v.formMedicamento.medicine,"$model",t)},expression:"$v.formMedicamento.medicine.$model"}}),e.$v.formMedicamento.medicine.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el medicamento ")]):e._e()],1),e.$v.formMedicamento.medicine.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el medicamento ")]):e._e(),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.formMedicamento.cantidad.$error,placeholder:"Ingresar Cantidad"},model:{value:e.$v.formMedicamento.cantidad.$model,callback:function(t){e.$set(e.$v.formMedicamento.cantidad,"$model","string"===typeof t?t.trim():t)},expression:"$v.formMedicamento.cantidad.$model"}})],1),e.$v.formMedicamento.cantidad.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la cantidad ")]):e._e()],1)],1),a("b-modal",{ref:"modal-2",attrs:{id:"modal-2",title:"Agregar material quirúrgico"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("quirurgico")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("quirurgico")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",[a("b-form-group",{attrs:{label:"Material quirúrgico:"}},[a("v-select",{attrs:{name:"quirurgico",state:!e.$v.formMedicamento.medicine.$error,options:e.quirurgicos,filterable:!1,placeholder:"Seleccione el material quirúrgico"},on:{search:e.onSearchQuirurgicos},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.formMedicamento.medicine.$model,callback:function(t){e.$set(e.$v.formMedicamento.medicine,"$model",t)},expression:"$v.formMedicamento.medicine.$model"}}),e.$v.formMedicamento.medicine.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el medicamento ")]):e._e()],1),e.$v.formMedicamento.medicine.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el medicamento ")]):e._e(),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.formMedicamento.cantidad.$error,placeholder:"Ingresar Cantidad"},model:{value:e.$v.formMedicamento.cantidad.$model,callback:function(t){e.$set(e.$v.formMedicamento.cantidad,"$model","string"===typeof t?t.trim():t)},expression:"$v.formMedicamento.cantidad.$model"}})],1),e.$v.formMedicamento.cantidad.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la cantidad ")]):e._e()],1)],1),a("b-modal",{ref:"modal-3",attrs:{id:"modal-3",title:"Agregar material común"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("comun")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("comun")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",[a("b-form-group",{attrs:{label:"Material común:"}},[a("v-select",{attrs:{name:"comun",state:!e.$v.formMedicamento.medicine.$error,options:e.comunes,filterable:!1,placeholder:"Seleccione el material común"},on:{search:e.onSearchComunes},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.formMedicamento.medicine.$model,callback:function(t){e.$set(e.$v.formMedicamento.medicine,"$model",t)},expression:"$v.formMedicamento.medicine.$model"}}),e.$v.formMedicamento.medicine.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el medicamento ")]):e._e()],1),e.$v.formMedicamento.medicine.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el medicamento ")]):e._e(),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.formMedicamento.cantidad.$error,placeholder:"Ingresar Cantidad"},model:{value:e.$v.formMedicamento.cantidad.$model,callback:function(t){e.$set(e.$v.formMedicamento.cantidad,"$model","string"===typeof t?t.trim():t)},expression:"$v.formMedicamento.cantidad.$model"}})],1),e.$v.formMedicamento.cantidad.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la cantidad ")]):e._e()],1)],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"body",fn:function(){return[a("h5",{staticClass:"card-title mt-3"},[e._v("Datos de generales de paquete")]),a("hr"),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.nombre.$error,placeholder:"Ingresar nombre de paquete"},model:{value:e.$v.nombre.$model,callback:function(t){e.$set(e.$v.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.nombre.$model"}})],1),e.$v.nombre.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1),a("h5",{staticClass:"card-title mt-3"},[e._v("Medicamentos para paquete")]),a("hr"),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Agregar medicamento:"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],attrs:{variant:"info",disabled:!e.hasPermission([5])}},[e._v("AGREGAR MEDICAMENTO")])],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Agregar material quirúrgico:"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-2",modifiers:{"modal-2":!0}}],attrs:{variant:"info",disabled:!e.hasPermission([5])}},[e._v("AGREGAR MATERIAL QUIRÚRGICO")])],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Agregar material común:"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-3",modifiers:{"modal-3":!0}}],attrs:{variant:"info",disabled:!e.hasPermission([5])}},[e._v("AGREGAR MATERIAL COMÚN")])],1)],1)],1),a("br"),a("br"),a("table",{staticClass:"table table-hover product_item_list c_table theme-color mb-0"},[a("thead",[a("tr",[a("th",[e._v("Acciones")]),a("th",[e._v("Descripción")]),a("th",[e._v("Cantidad")]),a("th",[e._v("Total")])])]),a("tbody",e._l(e.arrayDetalles,(function(t){return a("tr",{key:t.id},[a("td",[[a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(a){return e.deleteDetail(t.id,t.total)}}},[a("i",{staticClass:"fas fa-trash-alt"})])]],2),a("td",{domProps:{textContent:e._s(t.descripcion)}}),a("td",{domProps:{textContent:e._s(t.cantidad)}}),a("td",{domProps:{textContent:e._s(t.total)}})])})),0)]),e.arrayDetalles.length>0?a("table",{staticClass:"table table-hover product_item_list c_table theme-color mb-0"},[a("tbody",[a("tr",[a("th"),a("th"),a("th",[e._v("Total sugerido: ")]),a("th",[e._v(e._s(e.formatQuetzales(e.granTotal)))])]),a("tr",[a("th"),a("th"),a("th",[e._v("Total a cobrar: ")]),a("th",[a("b-form-input",{attrs:{type:"number"},model:{value:e.enviarTotal,callback:function(t){e.enviarTotal="string"===typeof t?t.trim():t},expression:"enviarTotal"}})],1)])])]):e._e(),a("br"),a("br"),e.arrayDetalles.length>0?a("b-button",{attrs:{variant:"dark",disabled:!e.hasPermission([5])},on:{click:function(t){return e.onValidateAll()}}},[e._v("AGREGAR PAQUETE")]):e._e()]},proxy:!0}])})],1)],1)],1)},ed=[],td=a("958e"),ad=a.n(td),rd={name:"CrearPaquete",components:{},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},beforeDestroy:function(){},computed:Object(s["a"])({},Object(_["c"])({currentUser:"currentUser"})),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",paciente:null,granTotal:0,enviarTotal:0,id_usuario:0,nombre:"",formMedicamento:{id:0,cantidad:null,medicine:[],total:"",is_medicine:!1,is_quirurgico:!1,is_comun:!1},medicine:[],quirurgico:[],comun:[],existencia_medicina:0,arrayDetalles:[],medicines:[],quirurgicos:[],comunes:[],pacientes:[],total_array:0,fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"descripcion",sortField:"descripcion",title:"Descripcion",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Total",dataClass:"list-item-heading"}],alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",mask_quetzal:ad()({prefix:"Q ",suffix:"",includeThousandsSeparator:!0,thousandsSeparatorSymbol:",",allowDecimal:!0,decimalSymbol:".",decimalLimit:2,integerLimit:10,allowNegative:!1,allowLeadingZeroes:!1})}},validations:function(){return{formMedicamento:{medicine:{required:_a["c"]},cantidad:{required:_a["c"]}},nombre:{required:_a["c"]}}},methods:{hasPermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.includes(this.currentUser.user_type)},addMedicine:function(){var e=this;e.total_array=e.total_array+1;var t=parseFloat(e.formMedicamento.medicine.precio_venta)*e.formMedicamento.cantidad,a={cantidad:e.formMedicamento.cantidad,descripcion:e.formMedicamento.medicine.nombre,total:t,id:e.total_array,id_medicine:e.formMedicamento.medicine.id,is_medicine:!0};this.granTotal=this.granTotal+t,e.arrayDetalles.push(a),e.closeModal("medicamento")},addQuirurgico:function(){var e=this;e.total_array=e.total_array+1;var t=parseFloat(e.formMedicamento.medicine.precio_venta)*e.formMedicamento.cantidad,a={cantidad:e.formMedicamento.cantidad,descripcion:e.formMedicamento.medicine.nombre,total:t,id:e.total_array,id_medicine:e.formMedicamento.medicine.id,is_quirurgico:!0};this.granTotal=this.granTotal+t,e.arrayDetalles.push(a),e.closeModal("quirurgico")},addComun:function(){var e=this;e.total_array=e.total_array+1;var t=parseFloat(e.formMedicamento.medicine.precio_venta)*e.formMedicamento.cantidad,a={cantidad:e.formMedicamento.cantidad,descripcion:e.formMedicamento.medicine.nombre,total:t,id:e.total_array,id_medicine:e.formMedicamento.medicine.id,is_comun:!0};this.granTotal=this.granTotal+t,e.arrayDetalles.push(a),e.closeModal("comun")},deleteDetail:function(e,t){var a=this;a.granTotal=a.granTotal-t;var r=a.arrayDetalles.findIndex((function(t){return t.id===e}));r>-1&&a.arrayDetalles.splice(r,1)},closeModal:function(e){switch(e){case"medicamento":this.$v.$reset(),this.$refs["modal-1"].hide(),this.resetData();break;case"quirurgico":this.$v.$reset(),this.$refs["modal-2"].hide(),this.resetData();break;case"comun":this.$v.$reset(),this.$refs["modal-3"].hide(),this.resetData();break;case"save":this.$v.$reset(),this.resetData();break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"medicamento"===e?this.formMedicamento.cantidad>0?this.addMedicine():(console.log(this.formMedicamento.cantidad),this.alertErrorText="La cantidad del producto debe ser mayor a 0",this.showAlertError()):"quirurgico"===e?this.formMedicamento.cantidad>0?this.addQuirurgico():(console.log(this.formMedicamento.cantidad),this.alertErrorText="La cantidad del producto debe ser mayor a 0",this.showAlertError()):"comun"===e&&(this.formMedicamento.cantidad>0?this.addComun():(console.log(this.formMedicamento.cantidad),this.alertErrorText="La cantidad del producto debe ser mayor a 0",this.showAlertError())):(this.alertErrorText="Revisa que todos los campos requeridos esten llenos, o si ya le puso nombre al paquete",this.showAlertError())},onValidateAll:function(){this.$v.$touch(),this.id_usuario=this.currentUser.id,this.formMedicamento.medicine="Ingresar",this.formMedicamento.cantidad="Ingresar",!0!==this.$v.$error?this.onSave():(this.alertText="Ha ocurrido un error en el paquete",this.showAlertError())},resetData:function(){this.formMedicamento.medicine=null,this.formMedicamento.cantidad=null,this.formMedicamento.total=null,this.formMedicamento.id=null},onSave:function(){var e=this;ie.a.post(q["a"]+"/paquetes/create",{detalle:e.arrayDetalles,nombre:e.nombre,id_usuario:e.id_usuario,total:e.enviarTotal}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el paquete exitosamente",e.closeModal("save"),e.arrayDetalles=[],e.paciente=null})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertText=t.response.data.msg,console.error("Error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search,search_exam:this.search_exam,columna:this.columna.value}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.search_exam=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},changeTypeSearch:function(e){this.columna=e},onSearch:function(e,t){e.length&&(t(!0),this.searching(e,t))},onSearchQuirurgicos:function(e,t){e.length&&(t(!0),this.searchingQuirurgico(e,t))},onSearchComunes:function(e,t){e.length&&(t(!0),this.searchingComun(e,t))},converMaskToNumber:function(e){for(var t="",a=0;a<e.length;a+=1)"Q"!==e.charAt(a)&&"€"!==e.charAt(a)&&"$"!==e.charAt(a)&&"%"!==e.charAt(a)&&","!==e.charAt(a)&&" "!==e.charAt(a)&&(t+=e.charAt(a));return parseFloat(t).toFixed(2)},formatQuetzales:function(e){var t,a=parseFloat(e);return t=a.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),"Q "+t},searching:function(e,t){var a=this;ie.a.get(q["a"]+"/medicamentos/getSearch",{params:{search:e}}).then((function(e){a.medicines=e.data,t(!1)}))},searchingQuirurgico:function(e,t){var a=this;ie.a.get(q["a"]+"/quirurgico/getSearch",{params:{search:e}}).then((function(e){a.quirurgicos=e.data,t(!1)}))},searchingComun:function(e,t){var a=this;ie.a.get(q["a"]+"/comun/getSearch",{params:{search:e}}).then((function(e){a.comunes=e.data,t(!1)}))}}},od=rd,id=Object($["a"])(od,Xc,ed,!1,null,null,null),nd=id.exports,sd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1",attrs:{id:"modal-1",title:"Agregar medicamento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("medicamento")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("medicamento")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",[a("b-form-group",{attrs:{label:"Medicamento:"}},[a("v-select",{attrs:{name:"medicine",state:!e.$v.formMedicamento.medicine.$error,options:e.medicines,filterable:!1,placeholder:"Seleccione el medicamento"},on:{search:e.onSearch},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.formMedicamento.medicine.$model,callback:function(t){e.$set(e.$v.formMedicamento.medicine,"$model",t)},expression:"$v.formMedicamento.medicine.$model"}}),e.$v.formMedicamento.medicine.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el medicamento ")]):e._e()],1),e.$v.formMedicamento.medicine.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el medicamento ")]):e._e(),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.formMedicamento.cantidad.$error,placeholder:"Ingresar Cantidad"},model:{value:e.$v.formMedicamento.cantidad.$model,callback:function(t){e.$set(e.$v.formMedicamento.cantidad,"$model","string"===typeof t?t.trim():t)},expression:"$v.formMedicamento.cantidad.$model"}})],1),e.$v.formMedicamento.cantidad.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la cantidad ")]):e._e()],1)],1),a("b-modal",{ref:"modal-2",attrs:{id:"modal-2",title:"Agregar material quirúrgico"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("quirurgico")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("quirurgico")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",[a("b-form-group",{attrs:{label:"Material quirúrgico:"}},[a("v-select",{attrs:{name:"quirurgico",state:!e.$v.formMedicamento.medicine.$error,options:e.quirurgicos,filterable:!1,placeholder:"Seleccione el material quirúrgico"},on:{search:e.onSearchQuirurgicos},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.formMedicamento.medicine.$model,callback:function(t){e.$set(e.$v.formMedicamento.medicine,"$model",t)},expression:"$v.formMedicamento.medicine.$model"}}),e.$v.formMedicamento.medicine.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el medicamento ")]):e._e()],1),e.$v.formMedicamento.medicine.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el medicamento ")]):e._e(),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.formMedicamento.cantidad.$error,placeholder:"Ingresar Cantidad"},model:{value:e.$v.formMedicamento.cantidad.$model,callback:function(t){e.$set(e.$v.formMedicamento.cantidad,"$model","string"===typeof t?t.trim():t)},expression:"$v.formMedicamento.cantidad.$model"}})],1),e.$v.formMedicamento.cantidad.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la cantidad ")]):e._e()],1)],1),a("b-modal",{ref:"modal-3",attrs:{id:"modal-3",title:"Agregar material común"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("comun")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("comun")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",[a("b-form-group",{attrs:{label:"Material común:"}},[a("v-select",{attrs:{name:"comun",state:!e.$v.formMedicamento.medicine.$error,options:e.comunes,filterable:!1,placeholder:"Seleccione el material común"},on:{search:e.onSearchComunes},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.formMedicamento.medicine.$model,callback:function(t){e.$set(e.$v.formMedicamento.medicine,"$model",t)},expression:"$v.formMedicamento.medicine.$model"}}),e.$v.formMedicamento.medicine.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el medicamento ")]):e._e()],1),e.$v.formMedicamento.medicine.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el medicamento ")]):e._e(),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.formMedicamento.cantidad.$error,placeholder:"Ingresar Cantidad"},model:{value:e.$v.formMedicamento.cantidad.$model,callback:function(t){e.$set(e.$v.formMedicamento.cantidad,"$model","string"===typeof t?t.trim():t)},expression:"$v.formMedicamento.cantidad.$model"}})],1),e.$v.formMedicamento.cantidad.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la cantidad ")]):e._e()],1)],1),a("b-modal",{ref:"modal-4",attrs:{id:"modal-4",title:"Vender paquete"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.setPaquete(e.formMedicamento.medicine)}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("paquete")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",[a("b-form-group",{attrs:{label:"Paquete:"}},[a("v-select",{attrs:{name:"paquete",state:!e.$v.formMedicamento.medicine.$error,options:e.paquetes,filterable:!1,placeholder:"Seleccione el paquete"},on:{search:e.onSearchPaquetes},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Precio: "+t.total)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Precio: "+t.total)+" ")]}}]),model:{value:e.$v.formMedicamento.medicine.$model,callback:function(t){e.$set(e.$v.formMedicamento.medicine,"$model",t)},expression:"$v.formMedicamento.medicine.$model"}}),e.$v.formMedicamento.medicine.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el paquete ")]):e._e()],1),e.$v.formMedicamento.medicine.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el paquete ")]):e._e()],1)],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"body",fn:function(){return[a("h5",{staticClass:"card-title mt-3"},[e._v("Datos de generales de paquete")]),a("hr"),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Vender paquete:"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-4",modifiers:{"modal-4":!0}}],attrs:{variant:"info",disabled:!e.hasPermission([5])}},[e._v("AGREGAR PAQUETE")])],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("h6",[e._v(e._s(e.form.nombre))])])],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Precio:"}},[a("h6",[e._v(e._s(e.form.total))])])],1)],1),a("h5",{staticClass:"card-title mt-3"},[e._v("Medicamentos para paquete")]),a("hr"),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Agregar medicamento:"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],attrs:{variant:"info",disabled:!e.hasPermission([5])}},[e._v("AGREGAR MEDICAMENTO")])],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Agregar material quirúrgico:"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-2",modifiers:{"modal-2":!0}}],attrs:{variant:"info",disabled:!e.hasPermission([5])}},[e._v("AGREGAR MATERIAL QUIRÚRGICO")])],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Agregar material común:"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-3",modifiers:{"modal-3":!0}}],attrs:{variant:"info",disabled:!e.hasPermission([5])}},[e._v("AGREGAR MATERIAL COMÚN")])],1)],1)],1),a("br"),a("br"),a("table",{staticClass:"table table-hover product_item_list c_table theme-color mb-0"},[a("thead",[a("tr",[a("th",[e._v("Acciones")]),a("th",[e._v("Descripción")]),a("th",[e._v("Cantidad sugerida")]),a("th",[e._v("Cantidad utilizada")])])]),a("tbody",e._l(e.arrayDetalles,(function(t){return a("tr",{key:t.id},[a("td",[[a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(a){return e.deleteDetail(t.id,t.total)}}},[a("i",{staticClass:"fas fa-trash-alt"})])]],2),a("td",{domProps:{textContent:e._s(t.descripcion)}}),a("td",{domProps:{textContent:e._s(t.cantidad)}}),a("td",{domProps:{textContent:e._s(t.sugerida)}})])})),0)]),e.arrayDetalles.length>0?a("table",{staticClass:"table table-hover product_item_list c_table theme-color mb-0"},[a("tbody",[a("tr",[a("th"),a("th"),a("th",[e._v("Total sugerido: ")]),a("th",[e._v(e._s(e.formatQuetzales(e.granTotal)))])]),a("tr",[a("th"),a("th"),a("th",[e._v("Total a cobrar: ")]),a("th",[a("b-form-input",{attrs:{type:"number"},model:{value:e.enviarTotal,callback:function(t){e.enviarTotal="string"===typeof t?t.trim():t},expression:"enviarTotal"}})],1)])])]):e._e(),a("br"),a("br"),e.arrayDetalles.length>0?a("b-button",{attrs:{variant:"dark",disabled:!e.hasPermission([5])},on:{click:function(t){return e.onValidateAll()}}},[e._v("AGREGAR PAQUETE")]):e._e()]},proxy:!0}])})],1)],1)],1)},ld=[],cd={name:"Sales",components:{},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},beforeDestroy:function(){},computed:Object(s["a"])({},Object(_["c"])({currentUser:"currentUser"})),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",paciente:null,granTotal:0,enviarTotal:0,id_usuario:0,formMedicamento:{id:0,cantidad:null,medicine:[],total:"",is_medicine:!1,is_quirurgico:!1,is_comun:!1},form:{nombre:"",total:null},medicine:[],paquete:[],quirurgico:[],comun:[],existencia_medicina:0,arrayDetalles:[],medicines:[],quirurgicos:[],comunes:[],paquetes:[],pacientes:[],total_array:0,fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"descripcion",sortField:"descripcion",title:"Descripcion",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Total",dataClass:"list-item-heading"}],alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",mask_quetzal:ad()({prefix:"Q ",suffix:"",includeThousandsSeparator:!0,thousandsSeparatorSymbol:",",allowDecimal:!0,decimalSymbol:".",decimalLimit:2,integerLimit:10,allowNegative:!1,allowLeadingZeroes:!1})}},validations:function(){return{formMedicamento:{medicine:{required:_a["c"]},cantidad:{required:_a["c"]}}}},methods:{hasPermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.includes(this.currentUser.user_type)},setPaquete:function(e){console.log(e),this.form.nombre=e.nombre,this.form.total=e.total,this.arrayDetalles=e.detalle_paquetes;for(var t=this.arrayDetalles.length,a=0;a<t;a++)this.arrayDetalles[a].sugerida=this.arrayDetalles[a].cantidad;this.closeModal("paquete")},addMedicine:function(){var e=this;e.total_array=e.total_array+1;var t=parseFloat(e.formMedicamento.medicine.precio_venta)*e.formMedicamento.cantidad,a={cantidad:e.formMedicamento.cantidad,descripcion:e.formMedicamento.medicine.nombre,total:t,id:e.total_array,id_medicine:e.formMedicamento.medicine.id,is_medicine:!0};this.granTotal=this.granTotal+t,e.arrayDetalles.push(a),e.closeModal("medicamento")},addQuirurgico:function(){var e=this;e.total_array=e.total_array+1;var t=parseFloat(e.formMedicamento.medicine.precio_venta)*e.formMedicamento.cantidad,a={cantidad:e.formMedicamento.cantidad,descripcion:e.formMedicamento.medicine.nombre,total:t,id:e.total_array,id_medicine:e.formMedicamento.medicine.id,is_quirurgico:!0};this.granTotal=this.granTotal+t,e.arrayDetalles.push(a),e.closeModal("quirurgico")},addComun:function(){var e=this;e.total_array=e.total_array+1;var t=parseFloat(e.formMedicamento.medicine.precio_venta)*e.formMedicamento.cantidad,a={cantidad:e.formMedicamento.cantidad,descripcion:e.formMedicamento.medicine.nombre,total:t,id:e.total_array,id_medicine:e.formMedicamento.medicine.id,is_comun:!0};this.granTotal=this.granTotal+t,e.arrayDetalles.push(a),e.closeModal("comun")},deleteDetail:function(e,t){var a=this;a.granTotal=a.granTotal-t;var r=a.arrayDetalles.findIndex((function(t){return t.id===e}));r>-1&&a.arrayDetalles.splice(r,1)},closeModal:function(e){switch(e){case"medicamento":this.$v.$reset(),this.$refs["modal-1"].hide(),this.resetData();break;case"quirurgico":this.$v.$reset(),this.$refs["modal-2"].hide(),this.resetData();break;case"comun":this.$v.$reset(),this.$refs["modal-3"].hide(),this.resetData();break;case"paquete":this.$v.$reset(),this.$refs["modal-4"].hide(),this.resetData();break;case"save":this.$v.$reset(),this.resetData();break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"medicamento"===e?this.formMedicamento.cantidad>0?this.addMedicine():(console.log(this.formMedicamento.cantidad),this.alertErrorText="La cantidad del producto debe ser mayor a 0",this.showAlertError()):"quirurgico"===e?this.formMedicamento.cantidad>0?this.addQuirurgico():(console.log(this.formMedicamento.cantidad),this.alertErrorText="La cantidad del producto debe ser mayor a 0",this.showAlertError()):"comun"===e&&(this.formMedicamento.cantidad>0?this.addComun():(console.log(this.formMedicamento.cantidad),this.alertErrorText="La cantidad del producto debe ser mayor a 0",this.showAlertError())):(this.alertErrorText="Revisa que todos los campos requeridos esten llenos, o si ya le puso nombre al paquete",this.showAlertError())},onValidateAll:function(){this.$v.$touch(),this.id_usuario=this.currentUser.id,this.formMedicamento.medicine="Ingresar",this.formMedicamento.cantidad="Ingresar",!0!==this.$v.$error?this.onSave():(this.alertText="Ha ocurrido un error en el paquete",this.showAlertError())},resetData:function(){this.formMedicamento.medicine=null,this.formMedicamento.cantidad=null,this.formMedicamento.total=null,this.formMedicamento.id=null},onSave:function(){var e=this;ie.a.post(q["a"]+"/paquetes/vender",{detalle:e.arrayDetalles,nombre:e.nombre,id_usuario:e.id_usuario,total:e.enviarTotal}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado la venta exitosamente",e.closeModal("save"),e.arrayDetalles=[],e.paciente=null})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertText=t.response.data.msg,console.error("Error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search,search_exam:this.search_exam,columna:this.columna.value}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.search_exam=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},changeTypeSearch:function(e){this.columna=e},onSearch:function(e,t){e.length&&(t(!0),this.searching(e,t))},onSearchQuirurgicos:function(e,t){e.length&&(t(!0),this.searchingQuirurgico(e,t))},onSearchComunes:function(e,t){e.length&&(t(!0),this.searchingComun(e,t))},onSearchPaquetes:function(e,t){e.length&&(t(!0),this.searchingPaquete(e,t))},converMaskToNumber:function(e){for(var t="",a=0;a<e.length;a+=1)"Q"!==e.charAt(a)&&"€"!==e.charAt(a)&&"$"!==e.charAt(a)&&"%"!==e.charAt(a)&&","!==e.charAt(a)&&" "!==e.charAt(a)&&(t+=e.charAt(a));return parseFloat(t).toFixed(2)},formatQuetzales:function(e){var t,a=parseFloat(e);return t=a.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),"Q "+t},searching:function(e,t){var a=this;ie.a.get(q["a"]+"/medicamentos/getSearch",{params:{search:e}}).then((function(e){a.medicines=e.data,t(!1)}))},searchingQuirurgico:function(e,t){var a=this;ie.a.get(q["a"]+"/quirurgico/getSearch",{params:{search:e}}).then((function(e){a.quirurgicos=e.data,t(!1)}))},searchingComun:function(e,t){var a=this;ie.a.get(q["a"]+"/comun/getSearch",{params:{search:e}}).then((function(e){a.comunes=e.data,t(!1)}))},searchingPaquete:function(e,t){var a=this;ie.a.get(q["a"]+"/paquetes/getSearch",{params:{search:e}}).then((function(e){a.paquetes=e.data,t(!1)}))}}},dd=cd,md=Object($["a"])(dd,sd,ld,!1,null,null,null),ud=md.exports,fd={name:"PaquetesParent",components:{Paquetes:Jc,VenderPaquete:ud,CrearPaquete:nd},data:function(){return{patient:{},patientId:0}},mounted:function(){g["a"].index()},beforeMount:function(){this.patientId=this.$route.params.id,this.getPatient(this.patientId)},methods:{getPatient:function(e){var t=this;ie.a.get(q["a"]+"/paciente/get?id=".concat(e)).then((function(e){t.patient=e.data})).catch((function(e){console.log(e)}))},backToPatients:function(){this.$router.push({name:"patient.patients"})}}},hd=fd,pd=Object($["a"])(hd,jc,Yc,!1,null,null,null),bd=pd.exports,vd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Ingreso de producto con factura")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}})],1),a("div",{staticClass:"col-sm"})])])]},proxy:!0},{key:"body",fn:function(){return[a("b-tabs",[a("b-tab",{attrs:{title:"Ingreso con factura",active:""}},[a("IngresoFactura")],1),a("b-tab",{attrs:{title:"Listado de ingresos con factura",lazy:""}},[a("ListadoFactura")],1),a("b-tab",{attrs:{title:"Ingreso sin factura",lazy:""}},[a("IngresoSinFactura")],1),a("b-tab",{attrs:{title:"Listado de ingresos sin factura",lazy:""}},[a("ListadoSinFactura")],1)],1)]},proxy:!0}])})],1)],1)],1)},gd=[],_d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-password",attrs:{id:"modal-password",title:"Comprobar contraseña"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onLogin("login")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("login")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",[a("b-form-group",{attrs:{label:"Contraseña:"}},[a("b-form-input",{attrs:{type:"password",placeholder:"Ingresar contraseña"},model:{value:e.password,callback:function(t){e.password="string"===typeof t?t.trim():t},expression:"password"}})],1)],1)],1),a("b-modal",{ref:"modal-1",attrs:{id:"modal-1",title:"Agregar medicamento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("medicamento")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("medicamento")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",[a("b-form-group",{attrs:{label:"Medicamento:"}},[a("v-select",{attrs:{name:"medicine",state:!e.$v.formMedicamento.medicine.$error,options:e.medicines,filterable:!1,placeholder:"Seleccione el medicamento"},on:{search:e.onSearch},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Proveedor: "+t.proveedore.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Proveedor: "+t.proveedore.nombre)+" ")]}}]),model:{value:e.$v.formMedicamento.medicine.$model,callback:function(t){e.$set(e.$v.formMedicamento.medicine,"$model",t)},expression:"$v.formMedicamento.medicine.$model"}}),e.$v.formMedicamento.medicine.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el medicamento ")]):e._e()],1),e.$v.formMedicamento.medicine.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el medicamento ")]):e._e(),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.formMedicamento.cantidad.$error,placeholder:"Ingresar Cantidad"},model:{value:e.$v.formMedicamento.cantidad.$model,callback:function(t){e.$set(e.$v.formMedicamento.cantidad,"$model","string"===typeof t?t.trim():t)},expression:"$v.formMedicamento.cantidad.$model"}})],1),e.$v.formMedicamento.cantidad.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la cantidad ")]):e._e(),a("b-form-group",{attrs:{label:"Fecha de vencimiento:"}},[a("b-form-input",{attrs:{type:"date",placeholder:"Ingresar Vencimiento"},model:{value:e.formMedicamento.vencimiento,callback:function(t){e.$set(e.formMedicamento,"vencimiento","string"===typeof t?t.trim():t)},expression:"formMedicamento.vencimiento"}})],1)],1)],1),a("b-modal",{ref:"modal-2",attrs:{id:"modal-2",title:"Agregar material quirúrgico"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("quirurgico")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("quirurgico")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",[a("b-form-group",{attrs:{label:"Material quirúrgico:"}},[a("v-select",{attrs:{name:"quirurgico",state:!e.$v.formMedicamento.medicine.$error,options:e.quirurgicos,filterable:!1,placeholder:"Seleccione el material quirúrgico"},on:{search:e.onSearchQuirurgicos},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Proveedor: "+t.proveedore.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Proveedor: "+t.proveedore.nombre)+" ")]}}]),model:{value:e.$v.formMedicamento.medicine.$model,callback:function(t){e.$set(e.$v.formMedicamento.medicine,"$model",t)},expression:"$v.formMedicamento.medicine.$model"}}),e.$v.formMedicamento.medicine.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el medicamento ")]):e._e()],1),e.$v.formMedicamento.medicine.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el medicamento ")]):e._e(),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.formMedicamento.cantidad.$error,placeholder:"Ingresar Cantidad"},model:{value:e.$v.formMedicamento.cantidad.$model,callback:function(t){e.$set(e.$v.formMedicamento.cantidad,"$model","string"===typeof t?t.trim():t)},expression:"$v.formMedicamento.cantidad.$model"}})],1),e.$v.formMedicamento.cantidad.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la cantidad ")]):e._e(),a("b-form-group",{attrs:{label:"Fecha de vencimiento:"}},[a("b-form-input",{attrs:{type:"date",placeholder:"Ingresar Vencimiento"},model:{value:e.formMedicamento.vencimiento,callback:function(t){e.$set(e.formMedicamento,"vencimiento","string"===typeof t?t.trim():t)},expression:"formMedicamento.vencimiento"}})],1)],1)],1),a("b-modal",{ref:"modal-3",attrs:{id:"modal-3",title:"Agregar material común"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("comun")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("comun")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",[a("b-form-group",{attrs:{label:"Material común:"}},[a("v-select",{attrs:{name:"comun",state:!e.$v.formMedicamento.medicine.$error,options:e.comunes,filterable:!1,placeholder:"Seleccione el material común"},on:{search:e.onSearchComunes},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Proveedor: "+t.proveedore.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Proveedor: "+t.proveedore.nombre)+" ")]}}]),model:{value:e.$v.formMedicamento.medicine.$model,callback:function(t){e.$set(e.$v.formMedicamento.medicine,"$model",t)},expression:"$v.formMedicamento.medicine.$model"}}),e.$v.formMedicamento.medicine.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el medicamento ")]):e._e()],1),e.$v.formMedicamento.medicine.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el medicamento ")]):e._e(),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.formMedicamento.cantidad.$error,placeholder:"Ingresar Cantidad"},model:{value:e.$v.formMedicamento.cantidad.$model,callback:function(t){e.$set(e.$v.formMedicamento.cantidad,"$model","string"===typeof t?t.trim():t)},expression:"$v.formMedicamento.cantidad.$model"}})],1),e.$v.formMedicamento.cantidad.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la cantidad ")]):e._e(),a("b-form-group",{attrs:{label:"Fecha de vencimiento:"}},[a("b-form-input",{attrs:{type:"date",placeholder:"Ingresar Vencimiento"},model:{value:e.formMedicamento.vencimiento,callback:function(t){e.$set(e.formMedicamento,"vencimiento","string"===typeof t?t.trim():t)},expression:"formMedicamento.vencimiento"}})],1)],1)],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"body",fn:function(){return[a("h5",{staticClass:"card-title mt-3"},[e._v("Datos de generales de ingreso")]),a("hr"),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Factura:"}},[a("b-form-input",{attrs:{state:!e.$v.factura.$error,placeholder:"Ingresar de factura de ingreso"},model:{value:e.$v.factura.$model,callback:function(t){e.$set(e.$v.factura,"$model","string"===typeof t?t.trim():t)},expression:"$v.factura.$model"}})],1),e.$v.factura.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el factura ")]):e._e()],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Fecha ingreso:"}},[a("b-form-input",{attrs:{type:"date",state:!e.$v.fecha.$error,placeholder:"Ingresar fecha de factura de ingreso"},model:{value:e.$v.fecha.$model,callback:function(t){e.$set(e.$v.fecha,"$model","string"===typeof t?t.trim():t)},expression:"$v.fecha.$model"}})],1),e.$v.fecha.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el fecha ")]):e._e()],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Descripción:"}},[a("b-form-input",{attrs:{state:!e.$v.descripcion.$error,placeholder:"Ingresar descripcion de factura de ingreso"},model:{value:e.$v.descripcion.$model,callback:function(t){e.$set(e.$v.descripcion,"$model","string"===typeof t?t.trim():t)},expression:"$v.descripcion.$model"}})],1),e.$v.descripcion.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el descripcion ")]):e._e()],1)],1),a("h5",{staticClass:"card-title mt-3"},[e._v("Medicamentos para ingreso")]),a("hr"),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Agregar medicamento:"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],attrs:{variant:"info"}},[e._v("AGREGAR MEDICAMENTO")])],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Agregar material quirúrgico:"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-2",modifiers:{"modal-2":!0}}],attrs:{variant:"info"}},[e._v("AGREGAR MATERIAL QUIRÚRGICO")])],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Agregar material común:"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-3",modifiers:{"modal-3":!0}}],attrs:{variant:"info"}},[e._v("AGREGAR MATERIAL COMÚN")])],1)],1)],1),a("br"),a("br"),a("table",{staticClass:"table table-hover product_item_list c_table theme-color mb-0"},[a("thead",[a("tr",[a("th",[e._v("Acciones")]),a("th",[e._v("Descripción")]),a("th",[e._v("Cantidad")]),a("th",[e._v("Total")])])]),a("tbody",e._l(e.arrayDetalles,(function(t){return a("tr",{key:t.id},[a("td",[[a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(a){return e.deleteDetail(t.id,t.total)}}},[a("i",{staticClass:"fas fa-trash-alt"})])]],2),a("td",{domProps:{textContent:e._s(t.descripcion)}}),a("td",{domProps:{textContent:e._s(t.cantidad)}}),a("td",{domProps:{textContent:e._s(t.total)}})])})),0)]),e.arrayDetalles.length>0?a("table",{staticClass:"table table-hover product_item_list c_table theme-color mb-0"},[a("tbody",[a("tr",[a("th"),a("th"),a("th",[e._v("Total: ")]),a("th",[e._v(e._s(e.formatQuetzales(e.granTotal)))])])])]):e._e(),a("br"),a("br"),e.arrayDetalles.length>0?a("b-button",{attrs:{variant:"dark"},on:{click:function(t){return e.onValidateAll()}}},[e._v("AGREGAR INGRESO CON FACTURA")]):e._e()]},proxy:!0}])})],1)],1)],1)},xd=[],Cd={name:"IngresoFactura",components:{},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},beforeDestroy:function(){},computed:Object(s["a"])({},Object(_["c"])(["currentUser"])),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",paciente:null,granTotal:0,enviarTotal:0,id_usuario:0,factura:"",password:"",fecha:null,descripcion:"",formMedicamento:{id:0,cantidad:null,vencimiento:null,medicine:[],total:"",is_medicine:!1,is_quirurgico:!1,is_comun:!1},medicine:[],quirurgico:[],comun:[],existencia_medicina:0,arrayDetalles:[],medicines:[],quirurgicos:[],comunes:[],pacientes:[],total_array:0,fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"descripcion",sortField:"descripcion",title:"Descripcion",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Total",dataClass:"list-item-heading"}],alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",mask_quetzal:ad()({prefix:"Q ",suffix:"",includeThousandsSeparator:!0,thousandsSeparatorSymbol:",",allowDecimal:!0,decimalSymbol:".",decimalLimit:2,integerLimit:10,allowNegative:!1,allowLeadingZeroes:!1})}},validations:function(){return{formMedicamento:{medicine:{required:_a["c"]},cantidad:{required:_a["c"]}},factura:{required:_a["c"]},fecha:{required:_a["c"]},descripcion:{required:_a["c"]}}},methods:{addMedicine:function(){var e=this;e.total_array=e.total_array+1;var t=parseFloat(e.formMedicamento.medicine.precio_costo)*e.formMedicamento.cantidad,a={cantidad:e.formMedicamento.cantidad,descripcion:e.formMedicamento.medicine.nombre,vencimiento:e.formMedicamento.vencimiento,total:t,id:e.total_array,id_medicine:e.formMedicamento.medicine.id,is_medicine:!0};this.granTotal=this.granTotal+t,e.arrayDetalles.push(a),e.closeModal("medicamento")},addQuirurgico:function(){var e=this;e.total_array=e.total_array+1;var t=parseFloat(e.formMedicamento.medicine.precio_costo)*e.formMedicamento.cantidad,a={cantidad:e.formMedicamento.cantidad,descripcion:e.formMedicamento.medicine.nombre,vencimiento:e.formMedicamento.vencimiento,total:t,id:e.total_array,id_medicine:e.formMedicamento.medicine.id,is_quirurgico:!0};this.granTotal=this.granTotal+t,e.arrayDetalles.push(a),e.closeModal("quirurgico")},addComun:function(){var e=this;e.total_array=e.total_array+1;var t=parseFloat(e.formMedicamento.medicine.precio_costo)*e.formMedicamento.cantidad,a={cantidad:e.formMedicamento.cantidad,descripcion:e.formMedicamento.medicine.nombre,vencimiento:e.formMedicamento.vencimiento,total:t,id:e.total_array,id_medicine:e.formMedicamento.medicine.id,is_comun:!0};this.granTotal=this.granTotal+t,e.arrayDetalles.push(a),e.closeModal("comun")},deleteDetail:function(e,t){var a=this;a.granTotal=a.granTotal-t;var r=a.arrayDetalles.findIndex((function(t){return t.id===e}));r>-1&&a.arrayDetalles.splice(r,1)},closeModal:function(e){switch(e){case"medicamento":this.$v.$reset(),this.$refs["modal-1"].hide(),this.resetData();break;case"quirurgico":this.$v.$reset(),this.$refs["modal-2"].hide(),this.resetData();break;case"comun":this.$v.$reset(),this.$refs["modal-3"].hide(),this.resetData();break;case"save":this.$v.$reset(),this.resetData();break;case"login":this.$v.$reset(),this.$refs["modal-password"].hide(),this.resetData();break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"medicamento"===e?this.formMedicamento.cantidad>0?this.addMedicine():(console.log(this.formMedicamento.cantidad),this.alertErrorText="La cantidad del producto debe ser mayor a 0",this.showAlertError()):"quirurgico"===e?this.formMedicamento.cantidad>0?this.addQuirurgico():(console.log(this.formMedicamento.cantidad),this.alertErrorText="La cantidad del producto debe ser mayor a 0",this.showAlertError()):"comun"===e&&(this.formMedicamento.cantidad>0?this.addComun():(console.log(this.formMedicamento.cantidad),this.alertErrorText="La cantidad del producto debe ser mayor a 0",this.showAlertError())):(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},onValidateAll:function(){this.$v.$touch(),this.id_usuario=this.currentUser.id,this.formMedicamento.medicine="Ingresar",this.formMedicamento.cantidad="Ingresar",!0!==this.$v.$error?this.onLogin("validate"):(this.alertText="Ha ocurrido un error en el ingreso",this.showAlertError())},resetData:function(){this.formMedicamento.medicine=null,this.formMedicamento.cantidad=null,this.formMedicamento.total=null,this.formMedicamento.id=null,this.formMedicamento.vencimiento=null},onLogin:function(e){var t=this;"validate"===e?this.$refs["modal-password"].show():"login"===e&&ie.a.post(q["a"]+"/validatePassword",{id_usuario:t.id_usuario,password:t.password}).then((function(e){t.onSave()})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText=e.response.data.message,console.error("Error!",e)}))},onSave:function(){var e=this;e.enviarTotal=e.granTotal,ie.a.post(q["a"]+"/ingresos/create",{detalle:e.arrayDetalles,factura:e.factura,fecha:e.fecha,descripcion:e.descripcion,id_usuario:e.id_usuario,total:e.enviarTotal}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el ingreso exitosamente",e.closeModal("save"),e.arrayDetalles=[],e.paciente=null,e.granTotal=0,e.password="",e.closeModal("login")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertText=t.response.data.msg,console.error("Error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search,search_exam:this.search_exam,columna:this.columna.value}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.search_exam=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},changeTypeSearch:function(e){this.columna=e},onSearch:function(e,t){e.length&&(t(!0),this.searching(e,t))},onSearchQuirurgicos:function(e,t){e.length&&(t(!0),this.searchingQuirurgico(e,t))},onSearchComunes:function(e,t){e.length&&(t(!0),this.searchingComun(e,t))},converMaskToNumber:function(e){for(var t="",a=0;a<e.length;a+=1)"Q"!==e.charAt(a)&&"€"!==e.charAt(a)&&"$"!==e.charAt(a)&&"%"!==e.charAt(a)&&","!==e.charAt(a)&&" "!==e.charAt(a)&&(t+=e.charAt(a));return parseFloat(t).toFixed(2)},formatQuetzales:function(e){var t,a=parseFloat(e);return t=a.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),"Q "+t},searching:function(e,t){var a=this;ie.a.get(q["a"]+"/medicamentos/getSearch",{params:{search:e}}).then((function(e){a.medicines=e.data,t(!1)}))},searchingQuirurgico:function(e,t){var a=this;ie.a.get(q["a"]+"/quirurgico/getSearch",{params:{search:e}}).then((function(e){a.quirurgicos=e.data,t(!1)}))},searchingComun:function(e,t){var a=this;ie.a.get(q["a"]+"/comun/getSearch",{params:{search:e}}).then((function(e){a.comunes=e.data,t(!1)}))}}},$d=Cd,yd=Object($["a"])($d,_d,xd,!1,null,null,null),wd=yd.exports,Ed=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-ver-ingreso",attrs:{id:"modal-ver-ingreso",size:"lg",title:"Detalle de ingreso"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("ver")}}},[e._v("Cerrar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Descripcion:"}},[a("h6",[e._v(e._s(e.form.descripcion))])])],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Fecha de ingreso:"}},[a("h6",[e._v(e._s(e.form.fecha))])])],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Precio total:"}},[a("h6",[e._v(e._s(e.total))])])],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Persona que ingresó:"}},[a("h6",[e._v(e._s(e.form.usuario.nombre+" "+e.form.usuario.apellidos))])])],1)],1),a("br"),a("br"),a("table",{staticClass:"table table-hover product_item_list c_table theme-color mb-0"},[a("thead",[a("tr",[a("th",[e._v("Descripción")]),a("th",[e._v("Cantidad")]),a("th",[e._v("Total")])])]),a("tbody",e._l(e.arrayDetalles,(function(t){return a("tr",{key:t.id},[a("td",{domProps:{textContent:e._s(t.descripcion)}}),a("td",{domProps:{textContent:e._s(t.cantidad)}}),a("td",{domProps:{textContent:e._s(t.subtotal)}})])})),0)]),a("br"),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("h5",[e._v("Total factura: "+e._s(e.total))])])],1)],1),a("b-modal",{ref:"modal-3-ingreso",attrs:{id:"modal-3-ingreso",title:"Desactivar ingreso"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-ingreso")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-ingreso")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el ingreso con factura: "+e._s(e.form.factura)+" ? ")])],1),a("b-modal",{ref:"modal-confirmar-ingreso",attrs:{id:"modal-confirmar-ingreso",title:"Confirmar ingreso"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onConfirm(),e.$bvModal.hide("modal-confirmar-ingreso")}}},[e._v("Confirmar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-confirmar-ingreso")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea confirmar el ingreso con factura: "+e._s(e.form.factura)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Ingresos con factura")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[2===t.rowData.estado?a("button",{staticClass:"btn btn-info",attrs:{type:"button",disabled:""}},[e._v("PENDIENTE DE INGRESO")]):e._e(),1===t.rowData.estado?a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:""}},[e._v("INGRESADO")]):e._e(),0===t.rowData.estado?a("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:""}},[e._v("ANULADO")]):e._e()])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Ver",expression:"'Ver'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-ver-ingreso",modifiers:{"modal-ver-ingreso":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-success"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-eye"})]),2===t.rowData.estado?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Confirmar ingreso",expression:"'Confirmar ingreso'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-confirmar-ingreso",modifiers:{"modal-confirmar-ingreso":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-info"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-check"})]):e._e(),1===t.rowData.estado?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Desactivar",expression:"'Desactivar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-danger"},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-3-ingreso")}}},[a("i",{class:"fas fa-trash-alt"})]):e._e()],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},kd=[],Dd={name:"Ingresos",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},data:function(){return{from:0,to:0,total:0,perPage:5,search:"",id:0,arrayDetalles:[],form:{id:0,factura:"",fecha:null,descripcion:"",precio_costo:0,precio_venta:0,usuario:{nombre:"",apellidos:""},state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/ingresos/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"factura",sortField:"factura",title:"Factura",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Descripcion",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Total",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{factura:{required:_a["c"]},fecha:{required:_a["c"]},descripcion:{required:_a["c"]},precio_costo:{required:_a["c"]},precio_venta:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.factura="",this.form.descripcion="",this.form.fecha="",this.form.precio_costo=0,this.form.precio_venta=0,this.form.state=1;break}},closeModal:function(e){switch(e){case"update":this.$v.$reset(),this.$refs["modal-2-ingreso"].hide(),this.form.id=0,this.form.factura="",this.form.descripcion="",this.form.fecha="",this.form.total=0,this.form.state=1,this.arrayDetalles=[];break;case"ver":this.$v.$reset(),this.$refs["modal-ver-ingreso"].hide(),this.form.id=0,this.form.factura="",this.form.descripcion="",this.form.fecha="",this.form.total=0,this.form.state=1,this.arrayDetalles=[];break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.arrayDetalles=e.detalle_ingresos,this.form.factura=e.factura,this.form.descripcion=e.descripcion,this.form.fecha=e.fecha,this.form.total=e.total,this.form.state=e.estado,this.form.id=e.id,this.form.usuario=e.usuario,this.total=e.total},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/ingresos/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el ingreso "+e.form.id+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/ingresos/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el ingreso "+e.form.id+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-ingreso"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErr8orText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/ingresos/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el ingreso "+e.form.id+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-ingreso"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},onConfirm:function(){var e=this;ie.a.put(q["a"]+"/ingresos/confirm",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha confirmado el ingreso "+e.form.id+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-confirmar-ingreso"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErr8orText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs}}},Ad=Dd,Sd=Object($["a"])(Ad,Ed,kd,!1,null,null,null),Td=Sd.exports,Pd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-password-2",attrs:{id:"modal-password-2",title:"Comprobar contraseña"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onLogin("login")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("login")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",[a("b-form-group",{attrs:{label:"Contraseña:"}},[a("b-form-input",{attrs:{type:"password",placeholder:"Ingresar contraseña"},model:{value:e.password,callback:function(t){e.password="string"===typeof t?t.trim():t},expression:"password"}})],1)],1)],1),a("b-modal",{ref:"modal-1-sin",attrs:{id:"modal-1-sin",title:"Agregar medicamento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("medicamento")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("medicamento")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",[a("b-form-group",{attrs:{label:"Medicamento:"}},[a("v-select",{attrs:{name:"medicine",state:!e.$v.formMedicamento.medicine.$error,options:e.medicines,filterable:!1,placeholder:"Seleccione el medicamento"},on:{search:e.onSearch},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Proveedor: "+t.proveedore.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Proveedor: "+t.proveedore.nombre)+" ")]}}]),model:{value:e.$v.formMedicamento.medicine.$model,callback:function(t){e.$set(e.$v.formMedicamento.medicine,"$model",t)},expression:"$v.formMedicamento.medicine.$model"}}),e.$v.formMedicamento.medicine.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el medicamento ")]):e._e()],1),e.$v.formMedicamento.medicine.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el medicamento ")]):e._e(),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.formMedicamento.cantidad.$error,placeholder:"Ingresar Cantidad"},model:{value:e.$v.formMedicamento.cantidad.$model,callback:function(t){e.$set(e.$v.formMedicamento.cantidad,"$model","string"===typeof t?t.trim():t)},expression:"$v.formMedicamento.cantidad.$model"}})],1),e.$v.formMedicamento.cantidad.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la cantidad ")]):e._e(),a("b-form-group",{attrs:{label:"Fecha de vencimiento:"}},[a("b-form-input",{attrs:{type:"date",placeholder:"Ingresar Vencimiento"},model:{value:e.formMedicamento.vencimiento,callback:function(t){e.$set(e.formMedicamento,"vencimiento","string"===typeof t?t.trim():t)},expression:"formMedicamento.vencimiento"}})],1)],1)],1),a("b-modal",{ref:"modal-2-sin",attrs:{id:"modal-2-sin",title:"Agregar material quirúrgico"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("quirurgico")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("quirurgico")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",[a("b-form-group",{attrs:{label:"Material quirúrgico:"}},[a("v-select",{attrs:{name:"quirurgico",state:!e.$v.formMedicamento.medicine.$error,options:e.quirurgicos,filterable:!1,placeholder:"Seleccione el material quirúrgico"},on:{search:e.onSearchQuirurgicos},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Proveedor: "+t.proveedore.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Proveedor: "+t.proveedore.nombre)+" ")]}}]),model:{value:e.$v.formMedicamento.medicine.$model,callback:function(t){e.$set(e.$v.formMedicamento.medicine,"$model",t)},expression:"$v.formMedicamento.medicine.$model"}}),e.$v.formMedicamento.medicine.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el medicamento ")]):e._e()],1),e.$v.formMedicamento.medicine.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el medicamento ")]):e._e(),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.formMedicamento.cantidad.$error,placeholder:"Ingresar Cantidad"},model:{value:e.$v.formMedicamento.cantidad.$model,callback:function(t){e.$set(e.$v.formMedicamento.cantidad,"$model","string"===typeof t?t.trim():t)},expression:"$v.formMedicamento.cantidad.$model"}})],1),e.$v.formMedicamento.cantidad.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la cantidad ")]):e._e(),a("b-form-group",{attrs:{label:"Fecha de vencimiento:"}},[a("b-form-input",{attrs:{type:"date",placeholder:"Ingresar Vencimiento"},model:{value:e.formMedicamento.vencimiento,callback:function(t){e.$set(e.formMedicamento,"vencimiento","string"===typeof t?t.trim():t)},expression:"formMedicamento.vencimiento"}})],1)],1)],1),a("b-modal",{ref:"modal-3-sin",attrs:{id:"modal-3-sin",title:"Agregar material común"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("comun")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("comun")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",[a("b-form-group",{attrs:{label:"Material común:"}},[a("v-select",{attrs:{name:"comun",state:!e.$v.formMedicamento.medicine.$error,options:e.comunes,filterable:!1,placeholder:"Seleccione el material común"},on:{search:e.onSearchComunes},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Proveedor: "+t.proveedore.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre+" Proveedor: "+t.proveedore.nombre)+" ")]}}]),model:{value:e.$v.formMedicamento.medicine.$model,callback:function(t){e.$set(e.$v.formMedicamento.medicine,"$model",t)},expression:"$v.formMedicamento.medicine.$model"}}),e.$v.formMedicamento.medicine.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el medicamento ")]):e._e()],1),e.$v.formMedicamento.medicine.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el medicamento ")]):e._e(),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.formMedicamento.cantidad.$error,placeholder:"Ingresar Cantidad"},model:{value:e.$v.formMedicamento.cantidad.$model,callback:function(t){e.$set(e.$v.formMedicamento.cantidad,"$model","string"===typeof t?t.trim():t)},expression:"$v.formMedicamento.cantidad.$model"}})],1),e.$v.formMedicamento.cantidad.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la cantidad ")]):e._e(),a("b-form-group",{attrs:{label:"Fecha de vencimiento:"}},[a("b-form-input",{attrs:{type:"date",placeholder:"Ingresar Vencimiento"},model:{value:e.formMedicamento.vencimiento,callback:function(t){e.$set(e.formMedicamento,"vencimiento","string"===typeof t?t.trim():t)},expression:"formMedicamento.vencimiento"}})],1)],1)],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"body",fn:function(){return[a("h5",{staticClass:"card-title mt-3"},[e._v("Datos de generales de ingreso")]),a("hr"),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Referencia:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar de referencia de ingreso"},model:{value:e.factura,callback:function(t){e.factura="string"===typeof t?t.trim():t},expression:"factura"}})],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Fecha ingreso:"}},[a("b-form-input",{attrs:{type:"date",state:!e.$v.fecha.$error,placeholder:"Ingresar fecha de factura de ingreso"},model:{value:e.$v.fecha.$model,callback:function(t){e.$set(e.$v.fecha,"$model","string"===typeof t?t.trim():t)},expression:"$v.fecha.$model"}})],1),e.$v.fecha.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el fecha ")]):e._e()],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Descripción:"}},[a("b-form-input",{attrs:{state:!e.$v.descripcion.$error,placeholder:"Ingresar descripcion de factura de ingreso"},model:{value:e.$v.descripcion.$model,callback:function(t){e.$set(e.$v.descripcion,"$model","string"===typeof t?t.trim():t)},expression:"$v.descripcion.$model"}})],1),e.$v.descripcion.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el descripcion ")]):e._e()],1)],1),a("h5",{staticClass:"card-title mt-3"},[e._v("Medicamentos para ingreso")]),a("hr"),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Agregar medicamento:"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-sin",modifiers:{"modal-1-sin":!0}}],attrs:{variant:"info"}},[e._v("AGREGAR MEDICAMENTO")])],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Agregar material quirúrgico:"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-2-sin",modifiers:{"modal-2-sin":!0}}],attrs:{variant:"info"}},[e._v("AGREGAR MATERIAL QUIRÚRGICO")])],1)],1),a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Agregar material común:"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-3-sin",modifiers:{"modal-3-sin":!0}}],attrs:{variant:"info"}},[e._v("AGREGAR MATERIAL COMÚN")])],1)],1)],1),a("br"),a("br"),a("table",{staticClass:"table table-hover product_item_list c_table theme-color mb-0"},[a("thead",[a("tr",[a("th",[e._v("Acciones")]),a("th",[e._v("Descripción")]),a("th",[e._v("Cantidad")]),a("th",[e._v("Total")])])]),a("tbody",e._l(e.arrayDetalles,(function(t){return a("tr",{key:t.id},[a("td",[[a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(a){return e.deleteDetail(t.id,t.total)}}},[a("i",{staticClass:"fas fa-trash-alt"})])]],2),a("td",{domProps:{textContent:e._s(t.descripcion)}}),a("td",{domProps:{textContent:e._s(t.cantidad)}}),a("td",{domProps:{textContent:e._s(t.total)}})])})),0)]),e.arrayDetalles.length>0?a("table",{staticClass:"table table-hover product_item_list c_table theme-color mb-0"},[a("tbody",[a("tr",[a("th"),a("th"),a("th",[e._v("Total: ")]),a("th",[e._v(e._s(e.formatQuetzales(e.granTotal)))])])])]):e._e(),a("br"),a("br"),e.arrayDetalles.length>0?a("b-button",{attrs:{variant:"dark"},on:{click:function(t){return e.onValidateAll()}}},[e._v("AGREGAR INGRESO CON FACTURA")]):e._e()]},proxy:!0}])})],1)],1)],1)},Md=[],qd={name:"IngresoFactura",components:{},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},beforeDestroy:function(){},computed:Object(s["a"])({},Object(_["c"])(["currentUser"])),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",paciente:null,granTotal:0,enviarTotal:0,id_usuario:0,factura:"",password:"",fecha:null,descripcion:"",formMedicamento:{id:0,cantidad:null,vencimiento:null,medicine:[],total:"",is_medicine:!1,is_quirurgico:!1,is_comun:!1},medicine:[],quirurgico:[],comun:[],existencia_medicina:0,arrayDetalles:[],medicines:[],quirurgicos:[],comunes:[],pacientes:[],total_array:0,fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"descripcion",sortField:"descripcion",title:"Descripcion",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Total",dataClass:"list-item-heading"}],alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",mask_quetzal:ad()({prefix:"Q ",suffix:"",includeThousandsSeparator:!0,thousandsSeparatorSymbol:",",allowDecimal:!0,decimalSymbol:".",decimalLimit:2,integerLimit:10,allowNegative:!1,allowLeadingZeroes:!1})}},validations:function(){return{formMedicamento:{medicine:{required:_a["c"]},cantidad:{required:_a["c"]}},fecha:{required:_a["c"]},descripcion:{required:_a["c"]}}},methods:{addMedicine:function(){var e=this;e.total_array=e.total_array+1;var t=parseFloat(e.formMedicamento.medicine.precio_costo)*e.formMedicamento.cantidad,a={cantidad:e.formMedicamento.cantidad,descripcion:e.formMedicamento.medicine.nombre,vencimiento:e.formMedicamento.vencimiento,total:t,id:e.total_array,id_medicine:e.formMedicamento.medicine.id,is_medicine:!0};this.granTotal=this.granTotal+t,e.arrayDetalles.push(a),e.closeModal("medicamento")},addQuirurgico:function(){var e=this;e.total_array=e.total_array+1;var t=parseFloat(e.formMedicamento.medicine.precio_costo)*e.formMedicamento.cantidad,a={cantidad:e.formMedicamento.cantidad,descripcion:e.formMedicamento.medicine.nombre,vencimiento:e.formMedicamento.vencimiento,total:t,id:e.total_array,id_medicine:e.formMedicamento.medicine.id,is_quirurgico:!0};this.granTotal=this.granTotal+t,e.arrayDetalles.push(a),e.closeModal("quirurgico")},addComun:function(){var e=this;e.total_array=e.total_array+1;var t=parseFloat(e.formMedicamento.medicine.precio_costo)*e.formMedicamento.cantidad,a={cantidad:e.formMedicamento.cantidad,descripcion:e.formMedicamento.medicine.nombre,vencimiento:e.formMedicamento.vencimiento,total:t,id:e.total_array,id_medicine:e.formMedicamento.medicine.id,is_comun:!0};this.granTotal=this.granTotal+t,e.arrayDetalles.push(a),e.closeModal("comun")},deleteDetail:function(e,t){var a=this;a.granTotal=a.granTotal-t;var r=a.arrayDetalles.findIndex((function(t){return t.id===e}));r>-1&&a.arrayDetalles.splice(r,1)},closeModal:function(e){switch(e){case"medicamento":this.$v.$reset(),this.$refs["modal-1-sin"].hide(),this.resetData();break;case"quirurgico":this.$v.$reset(),this.$refs["modal-2-sin"].hide(),this.resetData();break;case"comun":this.$v.$reset(),this.$refs["modal-3-sin"].hide(),this.resetData();break;case"save":this.$v.$reset(),this.resetData();break;case"login":this.$v.$reset(),this.$refs["modal-password-2"].hide(),this.resetData();break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"medicamento"===e?this.formMedicamento.cantidad>0?this.addMedicine():(console.log(this.formMedicamento.cantidad),this.alertErrorText="La cantidad del producto debe ser mayor a 0",this.showAlertError()):"quirurgico"===e?this.formMedicamento.cantidad>0?this.addQuirurgico():(console.log(this.formMedicamento.cantidad),this.alertErrorText="La cantidad del producto debe ser mayor a 0",this.showAlertError()):"comun"===e&&(this.formMedicamento.cantidad>0?this.addComun():(console.log(this.formMedicamento.cantidad),this.alertErrorText="La cantidad del producto debe ser mayor a 0",this.showAlertError())):(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},onValidateAll:function(){this.$v.$touch(),this.id_usuario=this.currentUser.id,this.formMedicamento.medicine="Ingresar",this.formMedicamento.cantidad="Ingresar",!0!==this.$v.$error?this.onLogin("validate"):(this.alertText="Ha ocurrido un error en el ingreso",this.showAlertError())},resetData:function(){this.formMedicamento.medicine=null,this.formMedicamento.cantidad=null,this.formMedicamento.total=null,this.formMedicamento.id=null,this.formMedicamento.vencimiento=null},onLogin:function(e){var t=this;"validate"===e?this.$refs["modal-password-2"].show():"login"===e&&ie.a.post(q["a"]+"/validatePassword",{id_usuario:t.id_usuario,password:t.password}).then((function(e){t.onSave()})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText=e.response.data.message,console.error("Error!",e)}))},onSave:function(){var e=this;e.enviarTotal=e.granTotal,ie.a.post(q["a"]+"/ingresos/create",{detalle:e.arrayDetalles,factura:e.factura,fecha:e.fecha,descripcion:e.descripcion,id_usuario:e.id_usuario,total:e.enviarTotal}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el ingreso exitosamente",e.closeModal("save"),e.arrayDetalles=[],e.paciente=null,e.granTotal=0,e.password="",e.closeModal("login")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertText=t.response.data.msg,console.error("Error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search,search_exam:this.search_exam,columna:this.columna.value}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.search_exam=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},changeTypeSearch:function(e){this.columna=e},onSearch:function(e,t){e.length&&(t(!0),this.searching(e,t))},onSearchQuirurgicos:function(e,t){e.length&&(t(!0),this.searchingQuirurgico(e,t))},onSearchComunes:function(e,t){e.length&&(t(!0),this.searchingComun(e,t))},converMaskToNumber:function(e){for(var t="",a=0;a<e.length;a+=1)"Q"!==e.charAt(a)&&"€"!==e.charAt(a)&&"$"!==e.charAt(a)&&"%"!==e.charAt(a)&&","!==e.charAt(a)&&" "!==e.charAt(a)&&(t+=e.charAt(a));return parseFloat(t).toFixed(2)},formatQuetzales:function(e){var t,a=parseFloat(e);return t=a.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),"Q "+t},searching:function(e,t){var a=this;ie.a.get(q["a"]+"/medicamentos/getSearchNo",{params:{search:e}}).then((function(e){a.medicines=e.data,t(!1)}))},searchingQuirurgico:function(e,t){var a=this;ie.a.get(q["a"]+"/quirurgico/getSearchNo",{params:{search:e}}).then((function(e){a.quirurgicos=e.data,t(!1)}))},searchingComun:function(e,t){var a=this;ie.a.get(q["a"]+"/comun/getSearchNo",{params:{search:e}}).then((function(e){a.comunes=e.data,t(!1)}))}}},Id=qd,Fd=Object($["a"])(Id,Pd,Md,!1,null,null,null),Od=Fd.exports,Nd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-ver-ingreso",attrs:{id:"modal-ver-ingreso",size:"lg",title:"Detalle de ingreso"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("ver")}}},[e._v("Cerrar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Descripcion:"}},[a("h6",[e._v(e._s(e.form.descripcion))])])],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Fecha de ingreso:"}},[a("h6",[e._v(e._s(e.form.fecha))])])],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Precio total:"}},[a("h6",[e._v(e._s(e.total))])])],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Persona que ingresó:"}},[a("h6",[e._v(e._s(e.form.usuario.nombre+" "+e.form.usuario.apellidos))])])],1)],1),a("br"),a("br"),a("table",{staticClass:"table table-hover product_item_list c_table theme-color mb-0"},[a("thead",[a("tr",[a("th",[e._v("Descripción")]),a("th",[e._v("Cantidad")]),a("th",[e._v("Total")])])]),a("tbody",e._l(e.arrayDetalles,(function(t){return a("tr",{key:t.id},[a("td",{domProps:{textContent:e._s(t.descripcion)}}),a("td",{domProps:{textContent:e._s(t.cantidad)}}),a("td",{domProps:{textContent:e._s(t.subtotal)}})])})),0)]),a("br"),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("h5",[e._v("Total factura: "+e._s(e.total))])])],1)],1),a("b-modal",{ref:"modal-3-ingreso",attrs:{id:"modal-3-ingreso",title:"Desactivar ingreso"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-ingreso")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-ingreso")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el ingreso con factura: "+e._s(e.form.factura)+" ? ")])],1),a("b-modal",{ref:"modal-confirmar-ingreso",attrs:{id:"modal-confirmar-ingreso",title:"Confirmar ingreso"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onConfirm(),e.$bvModal.hide("modal-confirmar-ingreso")}}},[e._v("Confirmar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-confirmar-ingreso")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea confirmar el ingreso con factura: "+e._s(e.form.factura)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Ingresos sin factura")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[2===t.rowData.estado?a("button",{staticClass:"btn btn-info",attrs:{type:"button",disabled:""}},[e._v("PENDIENTE DE INGRESO")]):e._e(),1===t.rowData.estado?a("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:""}},[e._v("INGRESADO")]):e._e(),0===t.rowData.estado?a("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:""}},[e._v("ANULADO")]):e._e()])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Ver",expression:"'Ver'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-ver-ingreso",modifiers:{"modal-ver-ingreso":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-success"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-eye"})]),2===t.rowData.estado?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Confirmar ingreso",expression:"'Confirmar ingreso'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-confirmar-ingreso",modifiers:{"modal-confirmar-ingreso":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-info"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-check"})]):e._e(),1===t.rowData.estado?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Desactivar",expression:"'Desactivar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-danger"},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-3-ingreso")}}},[a("i",{class:"fas fa-trash-alt"})]):e._e()],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},Rd=[],Vd={name:"Ingresos",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},data:function(){return{from:0,to:0,total:0,perPage:5,search:"",id:0,arrayDetalles:[],form:{id:0,factura:"",fecha:null,descripcion:"",precio_costo:0,precio_venta:0,usuario:{nombre:"",apellidos:""},state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/ingresos/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"factura",sortField:"factura",title:"Factura",dataClass:"list-item-heading"},{name:"descripcion",sortField:"descripcion",title:"Descripcion",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Total",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{factura:{required:_a["c"]},fecha:{required:_a["c"]},descripcion:{required:_a["c"]},precio_costo:{required:_a["c"]},precio_venta:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.factura="",this.form.descripcion="",this.form.fecha="",this.form.precio_costo=0,this.form.precio_venta=0,this.form.state=1;break}},closeModal:function(e){switch(e){case"update":this.$v.$reset(),this.$refs["modal-2-ingreso"].hide(),this.form.id=0,this.form.factura="",this.form.descripcion="",this.form.fecha="",this.form.total=0,this.form.state=1,this.arrayDetalles=[];break;case"ver":this.$v.$reset(),this.$refs["modal-ver-ingreso"].hide(),this.form.id=0,this.form.factura="",this.form.descripcion="",this.form.fecha="",this.form.total=0,this.form.state=1,this.arrayDetalles=[];break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.arrayDetalles=e.detalle_ingresos,this.form.factura=e.factura,this.form.descripcion=e.descripcion,this.form.fecha=e.fecha,this.form.total=e.total,this.form.state=e.estado,this.form.id=e.id,this.form.usuario=e.usuario,this.total=e.total},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/ingresos/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el ingreso "+e.form.id+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/ingresos/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el ingreso "+e.form.id+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-ingreso"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErr8orText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/ingresos/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el ingreso "+e.form.id+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-ingreso"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},onConfirm:function(){var e=this;ie.a.put(q["a"]+"/ingresos/confirm",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha confirmado el ingreso "+e.form.id+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-confirmar-ingreso"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErr8orText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs}}},zd=Vd,Hd=Object($["a"])(zd,Nd,Rd,!1,null,null,null),Ld=Hd.exports,Qd={name:"PaquetesParent",components:{IngresoFactura:wd,ListadoFactura:Td,IngresoSinFactura:Od,ListadoSinFactura:Ld},data:function(){return{patient:{},patientId:0}},mounted:function(){g["a"].index()},beforeMount:function(){this.patientId=this.$route.params.id,this.getPatient(this.patientId)},methods:{getPatient:function(e){var t=this;ie.a.get(q["a"]+"/paciente/get?id=".concat(e)).then((function(e){t.patient=e.data})).catch((function(e){console.log(e)}))},backToPatients:function(){this.$router.push({name:"patient.patients"})}}},Ud=Qd,jd=Object($["a"])(Ud,vd,gd,!1,null,null,null),Yd=jd.exports,Bd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{sm:"12"}},[a("iq-card",{attrs:{"class-name":"iq-card-block iq-card-stretch iq-card-height"},scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("div",{staticClass:"center-text"},[a("h3",{staticClass:"card-title"},[e._v("HISTORIAL DE CONSUMO DE MEDICAMENTOS, MATERIAL COMUN Y QUIRURGICO")])])]},proxy:!0},{key:"body",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("CONSUMO DE MEDICAMENTOS")]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Fecha Desde:"}},[a("b-form-input",{attrs:{type:"date"},model:{value:e.fechaDesde,callback:function(t){e.fechaDesde=t},expression:"fechaDesde"}})],1)],1),a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Fecha Hasta:"}},[a("b-form-input",{attrs:{type:"date"},model:{value:e.fechaHasta,callback:function(t){e.fechaHasta=t},expression:"fechaHasta"}})],1)],1),a("div",{staticClass:"col-md-4"},[a("b-button",{attrs:{variant:"primary"},on:{click:e.realizarBusqueda}},[e._v("Buscar")])],1)]),a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData}}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1),a("b-col",{attrs:{sm:"12"}},[a("iq-card",{attrs:{"class-name":"iq-card-block iq-card-stretch iq-card-height"},scopedSlots:e._u([{key:"body",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("CONSUMO DE MATERIAL COMUN")]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Fecha Desde:"}},[a("b-form-input",{attrs:{type:"date"},model:{value:e.fechaDesdeComun,callback:function(t){e.fechaDesdeComun=t},expression:"fechaDesdeComun"}})],1)],1),a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Fecha Hasta:"}},[a("b-form-input",{attrs:{type:"date"},model:{value:e.fechaHastaComun,callback:function(t){e.fechaHastaComun=t},expression:"fechaHastaComun"}})],1)],1),a("div",{staticClass:"col-md-4"},[a("b-button",{attrs:{variant:"primary"},on:{click:e.realizarBusquedaComun}},[e._v("Buscar")])],1)]),a("datatable-heading",{attrs:{changePageSize:e.changePageSizesComun,searchChange:e.searchChangeComun,from:e.fromComun,to:e.toComun,total:e.totalComun,perPage:e.perPageComun}}),a("vuetable",{ref:"vuetable_Comun",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBaseComun,"query-params":e.makeQueryParamsComun,"per-page":e.perPageComun,"reactive-api-url":!0,fields:e.fieldsComun,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationDataComun}}),a("vuetable-pagination-bootstrap",{ref:"paginationComun",on:{"vuetable-pagination:change-page":e.onChangePageComun}})]},proxy:!0}])})],1),a("b-col",{attrs:{sm:"12"}},[a("iq-card",{attrs:{"class-name":"iq-card-block iq-card-stretch iq-card-height"},scopedSlots:e._u([{key:"body",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("CONSUMO DE MATERIAL QUIRURGICO")]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Fecha Desde:"}},[a("b-form-input",{attrs:{type:"date"},model:{value:e.fechaDesdeQuirurgico,callback:function(t){e.fechaDesdeQuirurgico=t},expression:"fechaDesdeQuirurgico"}})],1)],1),a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Fecha Hasta:"}},[a("b-form-input",{attrs:{type:"date"},model:{value:e.fechaHastaQuirurgico,callback:function(t){e.fechaHastaQuirurgico=t},expression:"fechaHastaQuirurgico"}})],1)],1),a("div",{staticClass:"col-md-4"},[a("b-button",{attrs:{variant:"primary"},on:{click:e.realizarBusquedaQuirurgico}},[e._v("Buscar")])],1)]),a("datatable-heading",{attrs:{changePageSize:e.changePageSizesQuirurgico,searchChange:e.searchChangeQuirurgico,from:e.fromQuirurgico,to:e.toQuirurgico,total:e.totalQuirurgico,perPage:e.perPageQuirurgico}}),a("vuetable",{ref:"vuetable_Quirurgico",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBaseQuirurgico,"query-params":e.makeQueryParamsQuirurgico,"per-page":e.perPageQuirurgico,"reactive-api-url":!0,fields:e.fieldsQuirurgico,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationDataQuirurgico}}),a("vuetable-pagination-bootstrap",{ref:"paginationQuirurgico",on:{"vuetable-pagination:change-page":e.onChangePageQuirurgico}})]},proxy:!0}])})],1)],1)],1)},Gd=[],Zd={name:"Consumos",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H,IqCard:re["default"]},mounted:function(){g["a"].index()},data:function(){return{from:0,to:0,total:0,perPage:5,search:"",fechaDesde:null,fechaHasta:null,apiBase:q["a"]+"/detalle_consumo_medicamentos/list",slickOptions:{centerMode:!1,centerPadding:"60px",slidesToShow:5,slidesToScroll:1,focusOnSelect:!0,responsive:[{breakpoint:992,settings:{arrows:!1,centerMode:!0,centerPadding:"30",slidesToShow:3}},{breakpoint:480,settings:{arrows:!1,centerMode:!0,centerPadding:"15",slidesToShow:1}}]},fields:[{name:"numero_cuenta",sortField:"numero_cuenta",title:"Número de Cuenta",dataClass:"list-item-heading"},{name:"nombre_completo",sortField:"nombre_completo",title:"Nombre completo",dataClass:"list-item-heading"},{name:"nombre_medicamento",sortField:"nombre_medicamento",title:"Medicamento Consumido",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad Consumida",dataClass:"list-item-heading"},{name:"fecha_consumo",sortField:"fecha_consumo",title:"Fecha de Consumo",dataClass:"list-item-heading"}],fromComun:0,toComun:0,totalComun:0,perPageComun:5,searchComun:"",fechaDesdeComun:null,fechaHastaComun:null,apiBaseComun:q["a"]+"/detalle_consumo_comun/list",fieldsComun:[{name:"numero_cuenta",sortField:"numero_cuenta",title:"Número de Cuenta",dataClass:"list-item-heading"},{name:"nombre_completo",sortField:"nombre_completo",title:"Nombre completo",dataClass:"list-item-heading"},{name:"nombre_material",sortField:"nombre_material",title:"Material Consumido",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad Consumida",dataClass:"list-item-heading"},{name:"fecha_consumo",sortField:"fecha_consumo",title:"Fecha de Consumo",dataClass:"list-item-heading"}],fromQuirurgico:0,toQuirurgico:0,totalQuirurgico:0,perPageQuirurgico:5,searchQuirurgico:"",fechaDesdeQuirurgico:null,fechaHastaQuirurgico:null,apiBaseQuirurgico:q["a"]+"/detalle_consumo_quirugicos/list",fieldsQuirurgico:[{name:"numero_cuenta",sortField:"numero_cuenta",title:"Número de Cuenta",dataClass:"list-item-heading"},{name:"nombre_completo",sortField:"nombre_completo",title:"Nombre completo",dataClass:"list-item-heading"},{name:"nombre_material",sortField:"nombre_material",title:"Material Consumido",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad Consumida",dataClass:"list-item-heading"},{name:"fecha_consumo",sortField:"fecha_consumo",title:"Fecha de Consumo",dataClass:"list-item-heading"}]}},methods:{realizarBusqueda:function(){this.$refs.vuetable.refresh(),this.fechaDesde=null,this.fechaHasta=null},makeQueryParams:function(e,t,a){return{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search,fechaDesde:this.fechaDesde?F()(this.fechaDesde).format("YYYY-MM-DD"):null,fechaHasta:this.fechaHasta?F()(this.fechaHasta).format("YYYY-MM-DD"):null}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data.map((function(e){return e.fecha_consumo=F()(e.fecha_consumo).format("DD/MM/YYYY HH:mm"),e.cantidad=parseInt(e.cantidad),{numero_cuenta:e.numero_cuenta,nombre_medicamento:e.nombre_medicamento,cantidad:e.cantidad,fecha_consumo:e.fecha_consumo}})),this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},realizarBusquedaComun:function(){this.$refs.vuetable_Comun.refresh(),this.fechaDesdeComun=null,this.fechaHastaComun=null},makeQueryParamsComun:function(e,t,a){return{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPageComun,search:this.searchComun,fechaDesde:this.fechaDesdeComun?F()(this.fechaDesdeComun).format("YYYY-MM-DD"):null,fechaHasta:this.fechaHastaComun?F()(this.fechaHastaComun).format("YYYY-MM-DD"):null}},changePageSizesComun:function(e){this.perPageComun=e,this.$refs.vuetable_Comun.refresh()},searchChangeComun:function(e){this.searchComun=e.toLowerCase(),this.$refs.vuetable_Comun.refresh()},onPaginationDataComun:function(e){this.fromComun=e.from,this.toComun=e.to,this.totalComun=e.total,this.lastPageComun=e.last_page,this.itemsComun=e.data.map((function(e){return e.fecha_consumo=F()(e.fecha_consumo).format("DD/MM/YYYY HH:mm"),e.cantidad=parseInt(e.cantidad),{numero_cuenta:e.numero_cuenta,nombre_material:e.nombre_material,cantidad:e.cantidad,fecha_consumo:e.fecha_consumo}})),this.$refs.paginationComun.setPaginationData(e)},onChangePageComun:function(e){this.$refs.vuetable_Comun.changePage(e)},realizarBusquedaQuirurgico:function(){this.$refs.vuetable_Quirurgico.refresh(),this.fechaDesdeQuirurgico=null,this.fechaHastaQuirurgico=null},makeQueryParamsQuirurgico:function(e,t,a){return{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPageQuirurgico,search:this.searchQuirurgico,fechaDesde:this.fechaDesdeQuirurgico?F()(this.fechaDesdeQuirurgico).format("YYYY-MM-DD"):null,fechaHasta:this.fechaHastaQuirurgico?F()(this.fechaHastaQuirurgico).format("YYYY-MM-DD"):null}},changePageSizesQuirurgico:function(e){this.perPageQuirurgico=e,this.$refs.vuetable_Quirurgico.refresh()},searchChangeQuirurgico:function(e){this.search=e.toLowerCase(),this.$refs.vuetable_Quirurgico.refresh()},onPaginationDataQuirurgico:function(e){this.fromQuirurgico=e.from,this.toQuirurgico=e.to,this.totalQuirurgico=e.total,this.lastPageQuirurgico=e.last_page,this.itemsQuirurgico=e.data.map((function(e){return e.fecha_consumo=F()(e.fecha_consumo).format("DD/MM/YYYY HH:mm"),e.cantidad=parseInt(e.cantidad),{numero_cuenta:e.numero_cuenta,nombre_material:e.nombre_material,cantidad:e.cantidad,fecha_consumo:e.fecha_consumo}})),this.$refs.paginationQuirurgico.setPaginationData(e)},onChangePageQuirurgico:function(e){this.$refs.vuetable_Quirurgico.changePage(e)}}},Wd=Zd,Kd=(a("8bf4"),Object($["a"])(Wd,Bd,Gd,!1,null,null,null)),Jd=Kd.exports,Xd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Médicos")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}})],1),a("div",{staticClass:"col-sm"})])])]},proxy:!0},{key:"body",fn:function(){return[a("b-tabs",[a("b-tab",{attrs:{title:"Médicos",active:""}},[a("Medicos")],1),a("b-tab",{attrs:{title:"Especialidades",lazy:""}},[a("Especialidad")],1),a("b-tab",{attrs:{title:"Socios",lazy:""}},[a("Socios")],1),a("b-tab",{attrs:{title:"Personal de Sala",lazy:""}},[a("PersonalSala")],1)],1)]},proxy:!0}])})],1)],1)],1)},em=[],tm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-medico",attrs:{id:"modal-1-medico",title:"Agregar medico"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre del medico"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1),a("b-form-group",{attrs:{label:"Nit:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nit.$error,placeholder:"Ingresar nit del medico"},model:{value:e.$v.form.nit.$model,callback:function(t){e.$set(e.$v.form.nit,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nit.$model"}}),e.$v.form.nit.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nit ")]):e._e()],1),a("b-form-group",{attrs:{label:"Teléfono:"}},[a("b-form-input",{attrs:{state:!e.$v.form.telefono.$error,placeholder:"Ingresar telefono del medico"},model:{value:e.$v.form.telefono.$model,callback:function(t){e.$set(e.$v.form.telefono,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.telefono.$model"}}),e.$v.form.telefono.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el telefono ")]):e._e()],1),a("b-form-group",{attrs:{label:"Correo:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar correo del medico"},model:{value:e.form.correo,callback:function(t){e.$set(e.form,"correo","string"===typeof t?t.trim():t)},expression:"form.correo"}})],1),a("b-form-group",{attrs:{label:"Observaciones:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar observaciones del medico"},model:{value:e.form.observaciones,callback:function(t){e.$set(e.form,"observaciones","string"===typeof t?t.trim():t)},expression:"form.observaciones"}})],1),a("b-form-group",{attrs:{label:"Especialidad:"}},[a("v-select",{attrs:{name:"especialidad",state:!e.$v.form.especialidad.$error,options:e.especialidades,filterable:!1,placeholder:"Seleccione la especialidad"},on:{search:e.onSearchEspecialidad},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.especialidad.$model,callback:function(t){e.$set(e.$v.form.especialidad,"$model",t)},expression:"$v.form.especialidad.$model"}}),e.$v.form.especialidad.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar la especialidad ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-2-medico",attrs:{id:"modal-2-medico",title:"Editar medico"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre del medico"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1),a("b-form-group",{attrs:{label:"Nit:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nit.$error,placeholder:"Ingresar nit del medico"},model:{value:e.$v.form.nit.$model,callback:function(t){e.$set(e.$v.form.nit,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nit.$model"}}),e.$v.form.nit.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nit ")]):e._e()],1),a("b-form-group",{attrs:{label:"Teléfono:"}},[a("b-form-input",{attrs:{state:!e.$v.form.telefono.$error,placeholder:"Ingresar telefono del medico"},model:{value:e.$v.form.telefono.$model,callback:function(t){e.$set(e.$v.form.telefono,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.telefono.$model"}}),e.$v.form.telefono.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el telefono ")]):e._e()],1),a("b-form-group",{attrs:{label:"Correo:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar correo del medico"},model:{value:e.form.correo,callback:function(t){e.$set(e.form,"correo","string"===typeof t?t.trim():t)},expression:"form.correo"}})],1),a("b-form-group",{attrs:{label:"Observaciones:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar observaciones del medico"},model:{value:e.form.observaciones,callback:function(t){e.$set(e.form,"observaciones","string"===typeof t?t.trim():t)},expression:"form.observaciones"}})],1),a("b-form-group",{attrs:{label:"Especialidad:"}},[a("v-select",{attrs:{name:"especialidad",state:!e.$v.form.especialidad.$error,options:e.especialidades,filterable:!1,placeholder:"Seleccione la especialidad"},on:{search:e.onSearchEspecialidad},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.especialidad.$model,callback:function(t){e.$set(e.$v.form.especialidad,"$model",t)},expression:"$v.form.especialidad.$model"}}),e.$v.form.especialidad.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar la especialidad ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-3-medico",attrs:{id:"modal-3-medico",title:"Desactivar medico"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-medico")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-medico")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el medico: "+e._s(e.form.nombre)+" ? ")])],1),a("b-modal",{ref:"modal-4-medico",attrs:{id:"modal-4-medico",title:"Activar medico"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-medico")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-medico")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al medico: "+e._s(e.form.nombre)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Médicos")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-medico",modifiers:{"modal-1-medico":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-medico",modifiers:{"modal-2-medico":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info"},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-medico"):e.$bvModal.show("modal-4-medico")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},am=[],rm={name:"Medicos",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},data:function(){return{from:0,to:0,total:0,perPage:5,search:"",especialidades:[],form:{id:0,nombre:"",nit:"",telefono:"",correo:"",observaciones:"",especialidad:null,state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/medicos/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"nombre",title:"Nombre",dataClass:"list-item-heading"},{name:"telefono",sortField:"telefono",title:"Teléfono",dataClass:"list-item-heading"},{name:"correo",sortField:"correo",title:"Correo",dataClass:"list-item-heading"},{name:"especialidade.nombre",sortField:"especialidade.nombre",title:"Especialidad",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{nombre:{required:_a["c"]},nit:{required:_a["c"]},telefono:{required:_a["c"]},especialidad:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.nombre="",this.form.nit="",this.form.telefono="",this.form.correo="",this.form.observaciones="",this.form.especialidad=null,this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-medico"].hide(),this.form.id=0,this.form.nombre="",this.form.nit="",this.form.telefono="",this.form.correo="",this.form.observaciones="",this.form.especialidad=null,this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-medico"].hide(),this.form.id=0,this.form.nombre="",this.form.nit="",this.form.telefono="",this.form.correo="",this.form.observaciones="",this.form.especialidad=null,this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.nombre=e.nombre,this.form.nit=e.nit,this.form.telefono=e.telefono,this.form.correo=e.correo,this.form.observaciones=e.observaciones,this.form.state=e.estado,this.form.especialidad=e.especialidad,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/medicos/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el medico "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/medicos/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el medico "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/medicos/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el medico "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-medico"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/medicos/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el medico "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-medico"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},onSearchEspecialidad:function(e,t){e.length&&(t(!0),this.searchingEspecialidades(e,t))},searchingEspecialidades:function(e,t){var a=this;ie.a.get(q["a"]+"/especialidades/getSearch",{params:{search:e}}).then((function(e){a.especialidades=e.data,t(!1)}))}}},om=rm,im=Object($["a"])(om,tm,am,!1,null,null,null),nm=im.exports,sm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-especialidad",attrs:{id:"modal-1-especialidad",title:"Agregar especialidad"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre de la especialidad"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-2-especialidad",attrs:{id:"modal-2-especialidad",title:"Editar especialidad"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre de especialidad"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-3-especialidad",attrs:{id:"modal-3-especialidad",title:"Desactivar especialidad"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-especialidad")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-especialidad")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el especialidad: "+e._s(e.form.nombre)+" ? ")])],1),a("b-modal",{ref:"modal-4-especialidad",attrs:{id:"modal-4-especialidad",title:"Activar especialidad"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-especialidad")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-especialidad")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al especialidad: "+e._s(e.form.nombre)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Especialidad")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-especialidad",modifiers:{"modal-1-especialidad":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-especialidad",modifiers:{"modal-2-especialidad":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info"},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-especialidad"):e.$bvModal.show("modal-4-especialidad")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},lm=[],cm={name:"Especialidades",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},data:function(){return{from:0,to:0,total:0,perPage:5,search:"",form:{id:0,nombre:"",state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/especialidades/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"nombre",title:"Nombre",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{nombre:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.nombre="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-especialidad"].hide(),this.form.id=0,this.form.nombre="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-especialidad"].hide(),this.form.id=0,this.form.nombre="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.nombre=e.nombre,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/especialidades/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el especialidad "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/especialidades/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el especialidad "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/especialidades/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el especialidad "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-especialidad"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/especialidades/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el especialidad "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-especialidad"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs}}},dm=cm,mm=Object($["a"])(dm,sm,lm,!1,null,null,null),um=mm.exports,fm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-socios",attrs:{id:"modal-1-socios",title:"Agregar socio"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Médicos:"}},[a("v-select",{attrs:{name:"medico",state:!e.$v.form.medico.$error,options:e.medicos,filterable:!1,placeholder:"Seleccione el médico"},on:{search:e.onSearchMedico},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.medico.$model,callback:function(t){e.$set(e.$v.form.medico,"$model",t)},expression:"$v.form.medico.$model"}}),e.$v.form.medico.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el médico ")]):e._e()],1),a("b-form-group",{attrs:{label:"Acciones:"}},[a("b-form-input",{attrs:{state:!e.$v.form.acciones.$error,placeholder:"Ingresar acciones del socio"},model:{value:e.$v.form.acciones.$model,callback:function(t){e.$set(e.$v.form.acciones,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.acciones.$model"}}),e.$v.form.acciones.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la cantidad de acciones ")]):e._e()],1),a("b-form-group",{attrs:{label:"Inicio:"}},[a("b-form-input",{attrs:{type:"date",state:!e.$v.form.inicio.$error,placeholder:"Ingresar fecha de inicio del socio"},model:{value:e.$v.form.inicio.$model,callback:function(t){e.$set(e.$v.form.inicio,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.inicio.$model"}}),e.$v.form.inicio.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el inicio ")]):e._e()],1),a("b-form-group",{attrs:{label:"Final:"}},[a("b-form-input",{attrs:{type:"date",placeholder:"Ingresar fecha final del socio"},model:{value:e.form.final,callback:function(t){e.$set(e.form,"final","string"===typeof t?t.trim():t)},expression:"form.final"}})],1),a("b-form-group",{attrs:{label:"Observaciones:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar observaciones del socio"},model:{value:e.form.observaciones,callback:function(t){e.$set(e.form,"observaciones","string"===typeof t?t.trim():t)},expression:"form.observaciones"}})],1)],1)],1),a("b-modal",{ref:"modal-2-socios",attrs:{id:"modal-2-socios",title:"Editar socio"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Médicos:"}},[a("v-select",{attrs:{name:"medico",state:!e.$v.form.medico.$error,options:e.medicos,filterable:!1,placeholder:"Seleccione el médico"},on:{search:e.onSearchMedico},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombre)+" ")]}}]),model:{value:e.$v.form.medico.$model,callback:function(t){e.$set(e.$v.form.medico,"$model",t)},expression:"$v.form.medico.$model"}}),e.$v.form.medico.$error?a("div",{staticClass:"invalid-feedback-vselect"},[e._v(" Debe seleccionar el médico ")]):e._e()],1),a("b-form-group",{attrs:{label:"Acciones:"}},[a("b-form-input",{attrs:{state:!e.$v.form.acciones.$error,placeholder:"Ingresar acciones del socio"},model:{value:e.$v.form.acciones.$model,callback:function(t){e.$set(e.$v.form.acciones,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.acciones.$model"}}),e.$v.form.acciones.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la cantidad de acciones ")]):e._e()],1),a("b-form-group",{attrs:{label:"Inicio:"}},[a("b-form-input",{attrs:{type:"date",state:!e.$v.form.inicio.$error,placeholder:"Ingresar fecha de inicio del socio"},model:{value:e.$v.form.inicio.$model,callback:function(t){e.$set(e.$v.form.inicio,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.inicio.$model"}}),e.$v.form.inicio.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el inicio ")]):e._e()],1),a("b-form-group",{attrs:{label:"Final:"}},[a("b-form-input",{attrs:{type:"date",placeholder:"Ingresar fecha final del socio"},model:{value:e.form.final,callback:function(t){e.$set(e.form,"final","string"===typeof t?t.trim():t)},expression:"form.final"}})],1),a("b-form-group",{attrs:{label:"Observaciones:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar observaciones del socio"},model:{value:e.form.observaciones,callback:function(t){e.$set(e.form,"observaciones","string"===typeof t?t.trim():t)},expression:"form.observaciones"}})],1)],1)],1),a("b-modal",{ref:"modal-3-socios",attrs:{id:"modal-3-socios",title:"Desactivar socio"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-socios")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-socios")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el socio ? ")])],1),a("b-modal",{ref:"modal-4-socios",attrs:{id:"modal-4-socios",title:"Activar socio"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-socios")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-socios")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al socio ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Socios")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-socios",modifiers:{"modal-1-socios":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-socios",modifiers:{"modal-2-socios":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info"},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-socios"):e.$bvModal.show("modal-4-socios")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},hm=[],pm={name:"Socios",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},data:function(){return{from:0,to:0,total:0,perPage:5,search:"",medicos:[],form:{id:0,medico:null,acciones:"",inicio:"",final:"",observaciones:"",state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/socios/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"medico.nombre",sortField:"medico.nombre",title:"Nombre",dataClass:"list-item-heading"},{name:"acciones",sortField:"acciones",title:"Acciones",dataClass:"list-item-heading"},{name:"inicio",sortField:"inicio",title:"Fecha de inicio",dataClass:"list-item-heading"},{name:"final",sortField:"final",title:"Fecha final",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{acciones:{required:_a["c"]},medico:{required:_a["c"]},inicio:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.medico=null,this.form.acciones="",this.form.inicio="",this.form.final="",this.form.observaciones="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-socios"].hide(),this.form.id=0,this.form.medico=null,this.form.acciones="",this.form.inicio="",this.form.final="",this.form.observaciones="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-socios"].hide(),this.form.id=0,this.form.medico=null,this.form.acciones="",this.form.inicio="",this.form.final="",this.form.observaciones="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.medico=e.medico,this.form.acciones=e.acciones,this.form.inicio=e.inicio,this.form.final=e.final,this.form.observaciones=e.observaciones,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/socios/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el socio exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/socios/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el socio exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/socios/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el socio exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-socios"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/socios/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el socio exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-socios"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},onSearchMedico:function(e,t){e.length&&(t(!0),this.searchingMedicos(e,t))},searchingMedicos:function(e,t){var a=this;ie.a.get(q["a"]+"/medicos/getSearch",{params:{search:e}}).then((function(e){a.medicos=e.data,t(!1)}))}}},bm=pm,vm=Object($["a"])(bm,fm,hm,!1,null,null,null),gm=vm.exports,_m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-personal",attrs:{id:"modal-1-personal",title:"Agregar personal"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre del personal"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1),a("b-form-group",{attrs:{label:"Teléfono:"}},[a("b-form-input",{attrs:{state:!e.$v.form.telefono.$error,placeholder:"Ingresar telefono del personal"},model:{value:e.$v.form.telefono.$model,callback:function(t){e.$set(e.$v.form.telefono,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.telefono.$model"}}),e.$v.form.telefono.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el telefono ")]):e._e()],1),a("b-form-group",{attrs:{label:"Correo:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar correo del personal"},model:{value:e.form.correo,callback:function(t){e.$set(e.form,"correo","string"===typeof t?t.trim():t)},expression:"form.correo"}})],1),a("b-form-group",{attrs:{label:"Observaciones:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar observaciones del personal"},model:{value:e.form.observaciones,callback:function(t){e.$set(e.form,"observaciones","string"===typeof t?t.trim():t)},expression:"form.observaciones"}})],1),a("b-form-group",{attrs:{label:"Categoría:"}},[a("v-select",{attrs:{name:"categoria",options:e.categorias,filterable:!1,placeholder:"Ingresar categoría del personal"},scopedSlots:e._u([{key:"option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}}]),model:{value:e.form.categoria,callback:function(t){e.$set(e.form,"categoria",t)},expression:"form.categoria"}}),""===e.form.categoria?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la categoría ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-2-personal",attrs:{id:"modal-2-personal",title:"Editar personal"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre del personal"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1),a("b-form-group",{attrs:{label:"Teléfono:"}},[a("b-form-input",{attrs:{state:!e.$v.form.telefono.$error,placeholder:"Ingresar telefono del personal"},model:{value:e.$v.form.telefono.$model,callback:function(t){e.$set(e.$v.form.telefono,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.telefono.$model"}}),e.$v.form.telefono.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el telefono ")]):e._e()],1),a("b-form-group",{attrs:{label:"Correo:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar correo del personal"},model:{value:e.form.correo,callback:function(t){e.$set(e.form,"correo","string"===typeof t?t.trim():t)},expression:"form.correo"}})],1),a("b-form-group",{attrs:{label:"Observaciones:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar observaciones del personal"},model:{value:e.form.observaciones,callback:function(t){e.$set(e.form,"observaciones","string"===typeof t?t.trim():t)},expression:"form.observaciones"}})],1)],1)],1),a("b-modal",{ref:"modal-3-personal",attrs:{id:"modal-3-personal",title:"Desactivar personal"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-personal")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-personal")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el personal: "+e._s(e.form.nombre)+" ? ")])],1),a("b-modal",{ref:"modal-4-personal",attrs:{id:"modal-4-personal",title:"Activar personal"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-personal")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-personal")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al personal: "+e._s(e.form.nombre)+" ? ")])],1),a("b-modal",{ref:"modal-ver-personal",attrs:{id:"modal-ver-personal",size:"lg",title:"Detalle de personal en sala"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("ver")}}},[e._v("Cerrar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Nombre de personal en sala:"}},[a("h6",[e._v(e._s(e.form.nombre))])])],1),a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Categoría de ayuda:"}},[a("h6",[e._v(e._s(e.form.categoria))])])],1)],1),a("br"),a("br"),a("table",{staticClass:"table table-hover product_item_list c_table theme-color mb-0"},[a("thead",[a("tr",[a("th",[e._v("Descripción")]),a("th",[e._v("Servicio brindado a")])])]),a("tbody",e._l(e.arrayDetalles,(function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.descripcion))]),a("td",[e._v(e._s(t.servicio_sala_operacione.cuenta.expediente.nombres+" "+t.servicio_sala_operacione.cuenta.expediente.apellidos))])])})),0)])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Personal de Sala")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-personal",modifiers:{"modal-1-personal":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-personal",modifiers:{"modal-2-personal":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Ver registro de personal en sala",expression:"'Ver registro de personal en sala'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-ver-personal",modifiers:{"modal-ver-personal":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-success"},on:{click:function(a){return e.getData(t.rowData)}}},[a("i",{class:"fas fa-eye"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info"},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-personal"):e.$bvModal.show("modal-4-personal")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},xm=[],Cm={name:"PersonalSala",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},data:function(){return{arrayDetalles:[],from:0,to:0,total:0,perPage:5,search:"",form:{id:0,nombre:"",telefono:"",correo:"",observaciones:"",categoria:null,state:1},categorias:[{id:1,nombre:"Circulante"},{id:2,nombre:"Instrumentista"},{id:3,nombre:"Ayudantia"}],detalles:null,alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/personal/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"nombre",title:"Nombre",dataClass:"list-item-heading"},{name:"telefono",sortField:"telefono",title:"Teléfono",dataClass:"list-item-heading"},{name:"correo",sortField:"correo",title:"Correo",dataClass:"list-item-heading"},{name:"categoria",sortField:"categoria",title:"Categoría",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{nombre:{required:_a["c"]},telefono:{required:_a["c"]},categoria:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.nombre="",this.form.telefono="",this.form.correo="",this.form.observaciones="",this.form.categoria=null,this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-personal"].hide(),this.form.id=0,this.form.nombre="",this.form.telefono="",this.form.correo="",this.form.observaciones="",this.form.categoria=null,this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-personal"].hide(),this.form.id=0,this.form.nombre="",this.form.telefono="",this.form.correo="",this.form.observaciones="",this.form.categoria=null,this.form.state=1;break;case"ver":this.$v.$reset(),this.$refs["modal-ver-personal"].hide(),this.form.id=0,this.form.nombre="",this.form.telefono="",this.form.correo="",this.form.observaciones="",this.form.categoria=null,this.form.state=1}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.nombre=e.nombre,this.form.telefono=e.telefono,this.form.correo=e.correo,this.form.observaciones=e.observaciones,this.form.state=e.estado,this.form.categoria=e.categoria,this.form.id=e.id},getData:function(e){var t=this;t.form.nombre=e.nombre,t.form.id=e.id,t.form.categoria=e.categoria,ie.a.get(q["a"]+"/detalle_personal/get?id=".concat(t.form.id)).then((function(e){t.arrayDetalles=e.data.data})).catch((function(e){console.log(e)}))},onSave:function(){var e=this;ie.a.post(q["a"]+"/personal/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el personal "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/personal/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el personal "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/personal/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el personal "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-personal"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/personal/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el personal "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-personal"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs}}},$m=Cm,ym=Object($["a"])($m,_m,xm,!1,null,null,null),wm=ym.exports,Em={name:"MedicosParent",components:{Medicos:nm,Especialidad:um,Socios:gm,PersonalSala:wm},data:function(){return{patient:{},patientId:0}},mounted:function(){g["a"].index()},beforeMount:function(){this.patientId=this.$route.params.id,this.getPatient(this.patientId)},methods:{getPatient:function(e){var t=this;ie.a.get(q["a"]+"/paciente/get?id=".concat(e)).then((function(e){t.patient=e.data})).catch((function(e){console.log(e)}))},backToPatients:function(){this.$router.push({name:"patient.patients"})}}},km=Em,Dm=Object($["a"])(km,Xd,em,!1,null,null,null),Am=Dm.exports,Sm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Liquidaciones")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}})],1),a("div",{staticClass:"col-sm"})])])]},proxy:!0},{key:"body",fn:function(){return[a("b-tabs",[a("b-tab",{attrs:{title:"Hospital",active:""}},[a("Hospital")],1),a("b-tab",{attrs:{title:"Laboratorio",lazy:""}},[a("Laboratorio")],1),a("b-tab",{attrs:{title:"Medicos",lazy:""}},[a("Medicos")],1),a("b-tab",{attrs:{title:"Personal",lazy:""}},[a("Personal")],1)],1)]},proxy:!0}])})],1)],1)],1)},Tm=[],Pm={},Mm=Object($["a"])(Pm,jr,Yr,!1,null,null,null),qm=Mm.exports,Im={},Fm=Object($["a"])(Im,Br,Gr,!1,null,null,null),Om=Fm.exports,Nm={},Rm=Object($["a"])(Nm,Zr,Wr,!1,null,null,null),Vm=Rm.exports,zm={},Hm=Object($["a"])(zm,Kr,Jr,!1,null,null,null),Lm=Hm.exports,Qm={name:"AdminParent",components:{Hospital:qm,Personal:Om,Laboratorio:Vm,Medicos:Lm},data:function(){return{patient:{},patientId:0}},mounted:function(){g["a"].index()},beforeMount:function(){this.patientId=this.$route.params.id,this.getPatient(this.patientId)},methods:{getPatient:function(e){var t=this;ie.a.get(q["a"]+"/paciente/get?id=".concat(e)).then((function(e){t.patient=e.data})).catch((function(e){console.log(e)}))},backToPatients:function(){this.$router.push({name:"patient.patients"})}}},Um=Qm,jm=Object($["a"])(Um,Sm,Tm,!1,null,null,null),Ym=jm.exports,Bm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-paciente",attrs:{id:"modal-1-paciente",title:"Agregar paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre de la paciente"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-2-paciente",attrs:{id:"modal-2-paciente",title:"Editar paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre de paciente"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-3-paciente",attrs:{id:"modal-3-paciente",title:"Desactivar paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-paciente")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-paciente")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el paciente: "+e._s(e.form.nombre)+" ? ")])],1),a("b-modal",{ref:"modal-4-paciente",attrs:{id:"modal-4-paciente",title:"Activar paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-paciente")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-paciente")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al paciente: "+e._s(e.form.nombre)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Registro de pacientes")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-paciente",modifiers:{"modal-1-paciente":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-paciente",modifiers:{"modal-2-paciente":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info"},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-paciente"):e.$bvModal.show("modal-4-paciente")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},Gm=[],Zm={name:"Pacientes",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},data:function(){return{from:0,to:0,total:0,perPage:5,search:"",form:{id:0,nombre:"",state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/pacientes/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"nombre",title:"Nombre",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{nombre:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.nombre="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-paciente"].hide(),this.form.id=0,this.form.nombre="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-paciente"].hide(),this.form.id=0,this.form.nombre="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.nombre=e.nombre,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/pacientes/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el paciente "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/pacientes/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el paciente "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/pacientes/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el paciente "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-paciente"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/pacientes/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el paciente "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-paciente"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs}}},Wm=Zm,Km=Object($["a"])(Wm,Bm,Gm,!1,null,null,null),Jm=Km.exports,Xm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-bank",attrs:{id:"modal-1-bank",title:"Agregar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.name.$error,placeholder:"Ingresar nombre del banco"},model:{value:e.$v.form.name.$model,callback:function(t){e.$set(e.$v.form.name,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.name.$model"}}),e.$v.form.name.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-pdf",attrs:{id:"modal-pdf",title:"Generar PDF",size:"xl"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.descargarpdf()}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("pdf")}}},[e._v("Cancelar")])]}}])},[a("div",{attrs:{id:"previewContainer"}},[a("iframe",{attrs:{src:e.previewURL,width:"100%",height:"700px"}})])]),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Cortes")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-form-group",{attrs:{label:"Fecha:"}},[a("b-form-input",{attrs:{type:"date"},model:{value:e.selectedDate,callback:function(t){e.selectedDate=t},expression:"selectedDate"}}),a("b-button",{staticClass:"mb-2 mt-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(t){return e.getReport()}}},[e._v("Ver reporte por día")])],1),a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("PENDIENTE DE PAGO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("PAGADA")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){return e.setData(t.rowData)}}},[e._v("Ver detalle")])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},eu=[],tu=a("5981"),au=a.n(tu),ru={name:"Bank",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){var e=new Date,t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");this.selectedDate="".concat(t,"-").concat(a,"-").concat(r)},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])(["currentUser"])),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",detalle:[],pdf:new Ma["default"],pdfName:"",previewURL:"",selectedDate:null,medico:"",encabezado:{id:0,fecha:null,nit:null,usuario:null,total:null},form:{id:0,name:"",state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/lab_cuentas/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"expediente.nombres",sortField:"expediente.nombres",title:"Nombres",dataClass:"list-item-heading"},{name:"expediente.apellidos",sortField:"expediente.apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"numero",sortField:"numero",title:"Numero de Cuenta",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"total",dataClass:"list-item-heading"},{name:"total_pagado",sortField:"total_pagado",title:"Total pagado",dataClass:"list-item-heading"},{name:"pendiente_de_pago",sortField:"pendiente_de_pago",title:"Pendiente de pago",dataClass:"list-item-heading"},{name:"fecha_corte",sortField:"fecha_corte",title:"Fecha de corte",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}],fieldsCampos:[{key:"Descripcion",label:"Descripcion",sortable:!0},{key:"costo",label:"Costo",sortable:!0}]}},validations:function(){return{form:{name:{required:_a["c"]}},selectedDate:{required:_a["c"]}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-bank"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-bank"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break}},formatFecha:function(e){var t=e.split("-"),a=Object(Co["a"])(t,3),r=a[0],o=a[1],i=a[2];return"".concat(i,"-").concat(o,"-").concat(r)},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.id=e.id,this.form.name=e.nombres,this.getDetail(e.id,e)},getDetail:function(e,t){var a=this;return Object(pe["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,ie.a.get(q["a"]+"/detalle/getByAccount",{params:{id_lab_cuenta:e}}).then((function(e){a.detalle=e.data,a.printSale(t,1)}));case 2:case"end":return r.stop()}}),r)})))()},getReport:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ie.a.get(q["a"]+"/detalle/listCortesPerDate",{params:{fecha_corte:e.selectedDate}}).then((function(t){e.detalle=t.data,e.medico=t.data[0].examenes_realizados[0].comision,e.printSale(t.data,2)}));case 2:case"end":return t.stop()}}),t)})))()},onSave:function(){var e=this;ie.a.post(q["a"]+"/banco/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/banco/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/banco/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-bank"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/banco/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-bank"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},printSale:function(e,t){var a=this;if(this.arrayDetalles=1===t?this.detalle:e.map((function(e){return{expediente:e.expediente.expediente,nombres:e.expediente.nombres,apellidos:e.expediente.apellidos,numero:e.numero,total:e.total,fecha:e.createdAt,id:e.id,medico:a.medico}})),this.arrayDetalles.length>0){this.$refs["modal-pdf"].show();var r=1,o=new Date;this.encabezado.id=1===t?e.id:null,this.encabezado.fecha=(new Date).toLocaleDateString("es-us",e.fecha),this.pdf=new Ma["default"]({unit:"cm",format:[14,21.5],orientation:"landscape"});var i=F()(o).format("DD/MM/YYYY"),n=au.a;this.pdf.addImage(n,"PNG",1.5,.2,4.37,4),this.pdf.setFontSize(10).setFont(void 0,"bold"),this.pdf.text("Laboratorio Biomédico S.A.",1.5,4),1===t?(this.pdf.text("Detalle de cuenta "+e.numero+" - Paciente: "+e.expediente.nombres+" "+e.expediente.apellidos,7,r),this.pdfName="DetalleCuenta"+e.id+".pdf",r+=.5,this.pdf.text("Total: "+e.total,7,r),r+=.5,this.pdf.text("Total pagado: "+e.total_pagado,7,r),r+=.5,this.pdf.text("Pendiente de pago: "+e.pendiente_de_pago,7,r)):(this.pdf.text("Corte del día "+this.selectedDate,7,r),this.pdfName="Corte del día "+this.selectedDate+".pdf"),r+=.5,this.pdf.text("Fecha de generación: "+i,7,r),r+=.5,this.pdf.text("Informe generado por: ",7,r),this.pdf.setFontSize(10).setFont(void 0,"normal"),this.pdf.text(this.currentUser.user,10.75,r),r+=.5,1===t?Ia()(this.pdf,{columns:[{header:"Descripción",dataKey:"Descripcion"},{header:"Costo",dataKey:"costo"},{header:"Fecha",dataKey:"createdAt"}],body:this.detalle,margin:{top:5},headStyles:{fillColor:[21,21,21],textColor:[225,225,225],fontStyle:"bold"}}):Ia()(this.pdf,{columns:[{header:"No.",dataKey:"id"},{header:"Nombre",dataKey:"nombres"},{header:"Apellido",dataKey:"apellidos"},{header:"Fecha",dataKey:"fecha"},{header:"Médico",dataKey:"medico"},{header:"Total",dataKey:"total"}],body:this.arrayDetalles,margin:{top:5},headStyles:{fillColor:[21,21,21],textColor:[225,225,225],fontStyle:"bold"}});var s=this.pdf.output("blob"),l=URL.createObjectURL(s);this.previewURL=l}else this.alertVariant="danger",this.showAlert(),this.alertText="No se encontraron datos."},descargarpdf:function(){this.pdf.save(this.pdfName)}}},ou=ru,iu=Object($["a"])(ou,Xm,eu,!1,null,null,null),nu=iu.exports,su=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-traslado",attrs:{id:"modal-1-traslado",title:"Trasladar paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onValidate(),this.selectedHab=null}}},[e._v("Ingresar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-1-traslado")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea trasladar el paciente: "+e._s(e.form.nombres)+" ? ")]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-col",[a("b-form-group",{attrs:{label:"Área a la que desea trasladar:"}},[a("b-form-radio-group",{attrs:{id:"radio-group-2",options:e.optionsTraslado,name:"radio-options"},model:{value:e.selectedTrasOption,callback:function(t){e.selectedTrasOption=t},expression:"selectedTrasOption"}}),1==e.selectedTrasOption||4==e.selectedTrasOption?a("div",[e._v(" Habitación "),a("v-select",{ref:"selectHab",attrs:{options:e.habitaciones,label:"numero",value:"id"},model:{value:e.selectedHab,callback:function(t){e.selectedHab=t},expression:"selectedHab"}})],1):e._e()],1)],1)],1)],1),a("b-modal",{ref:"modal-2-account",attrs:{id:"modal-2-account",title:"Pagar cuenta",size:"xl"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onPatientQuit()}}},[e._v("Aceptar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-2-account")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),[a("div",[a("h6",[e._v("Cuentas activas para "+e._s(this.form.nombres)+" "+e._s(this.form.apellidos))]),a("b-card",[a("b-card-body",[a("b-table",{attrs:{hover:"",items:e.cuentas,fields:e.fieldsAccounts,"select-mode":"single",selectable:""}}),a("b-form-group",{attrs:{label:"Seleccione métodos para pagar:"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.ariaDescribedby;return[a("b-form-checkbox-group",{attrs:{id:"checkbox-group-1",options:e.paymentOptions,"aria-describedby":r,name:"flavour-1"},model:{value:e.selectedPayment,callback:function(t){e.selectedPayment=t},expression:"selectedPayment"}})]}}])}),-1!==e.selectedPayment.indexOf(1)?a("div",[e._v(" Efectivo "),a("b-input",{ref:"CashTypeInput",attrs:{type:"number",id:"CashTypeInput"},model:{value:e.paymentType.Efectivo,callback:function(t){e.$set(e.paymentType,"Efectivo",t)},expression:"paymentType.Efectivo"}})],1):e._e(),-1!==e.selectedPayment.indexOf(2)?a("div",[e._v(" Tarjeta "),a("b-input",{ref:"CardTypeInput",attrs:{type:"number",id:"CardTypeInput"},model:{value:e.paymentType.Tarjeta,callback:function(t){e.$set(e.paymentType,"Tarjeta",t)},expression:"paymentType.Tarjeta"}})],1):e._e(),-1!==e.selectedPayment.indexOf(3)?a("div",[e._v(" Depósito "),a("b-input",{ref:"DepositTypeInput",attrs:{type:"number",id:"DepositTypeInput"},model:{value:e.paymentType.Deposito,callback:function(t){e.$set(e.paymentType,"Deposito",t)},expression:"paymentType.Deposito"}})],1):e._e(),-1!==e.selectedPayment.indexOf(4)?a("div",[e._v(" Cheque "),a("b-input",{ref:"CheckTypeInput",attrs:{type:"number",id:"CheckTypeInput"},model:{value:e.paymentType.Cheque,callback:function(t){e.$set(e.paymentType,"Cheque",t)},expression:"paymentType.Cheque"}})],1):e._e(),-1!==e.selectedPayment.indexOf(5)?a("div",[e._v(" Seguro "),a("b-input",{ref:"InsuranceTypeInput",attrs:{type:"number",id:"InsuranceTypeInput"},model:{value:e.paymentType.Seguro,callback:function(t){e.$set(e.paymentType,"Seguro",t)},expression:"paymentType.Seguro"}}),e._v(" Seleccione un seguro "),a("v-select",{ref:"selectAssurance",attrs:{options:e.assurances,label:"no_poliza",value:"id"},model:{value:e.selectAssurance,callback:function(t){e.selectAssurance=t},expression:"selectAssurance"}})],1):e._e(),-1!==e.selectedPayment.indexOf(6)?a("div",[e._v(" Transferencia "),a("b-input",{ref:"InsuranceTypeInput",attrs:{type:"number",id:"InsuranceTypeInput"},model:{value:e.paymentType.Transferencia,callback:function(t){e.$set(e.paymentType,"Transferencia",t)},expression:"paymentType.Transferencia"}})],1):e._e(),a("div",[a("strong",[e._v(" TOTAL INGRESADO: "+e._s(parseFloat(this.paymentType.Efectivo)+parseFloat(this.paymentType.Tarjeta)+parseFloat(this.paymentType.Deposito)+parseFloat(this.paymentType.Cheque)+parseFloat(this.paymentType.Seguro)+parseFloat(this.paymentType.Transferencia)))])]),a("div",[a("strong",[e._v(" TOTAL A PAGAR: "+e._s(this.totalPayment))])])],1),a("div")],1)],1)]],2),a("b-modal",{ref:"modal-3-discount",attrs:{id:"modal-3-discount",title:"Validar descuento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){return e.requestDiscount()}}},[e._v("Validar")]),a("b-button",{attrs:{type:"submit",variant:"danger"},on:{click:function(t){return e.negateDiscount()}}},[e._v("Negar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-discount")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea validar un descuento para: "+e._s(this.form.name)+" "+e._s(this.form.apellidos)+" ? ")]),a("div",[e._v(" Descuento: "),a("b-input",{ref:"discountAmount",attrs:{type:"number",id:"discountAmount"},model:{value:e.discountAmount,callback:function(t){e.discountAmount=t},expression:"discountAmount"}})],1),a("div",[a("h6",[e._v(" Total: "+e._s(this.form.total)+" ")])]),a("div",[a("h6",[e._v(" Total pagado: "+e._s(this.form.total_pagado)+" ")])])],1),a("b-modal",{ref:"modal-4-bank",attrs:{id:"modal-4-bank",title:"Activar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-bank")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-bank")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al banco: "+e._s(e.form.name)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Validar Descuentos")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("PENDIENTE DE PAGO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("EN EMERGENCIAS")])])])],1)])}},{key:"solicitud_descuento",fn:function(t){return a("div",{},[3==t.rowData.solicitud_descuento?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("SIN DESCUENTO")])])])],1):e._e(),1==t.rowData.solicitud_descuento?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("Q. "+e._s(t.rowData.descuento))])])])],1):e._e(),2==t.rowData.solicitud_descuento?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("PENDIENTE APROBACIÓN")])])])],1):e._e(),0==t.rowData.solicitud_descuento?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("DESCUENTO NEGADO")])])])],1):e._e()])}},{key:"actions",fn:function(t){return[a("div",{staticClass:"button-container"},[a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-3-discount")}}},[e._v("Validar descuento")])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},lu=[],cu={name:"CuentasPorCobrarHospital",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){},mounted:function(){g["a"].index()},data:function(){return{discountAmount:0,from:0,to:0,total:0,perPage:5,search:"",totPagado:0,assurances:[],selectAssurance:null,expediente:0,form:{id:0,nombres:"",apellidos:"",expediente:"",cui:"",state:1,numero:1,total_pagado:0,pendiente_de_pago:0,total:0},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",selectedPayment:[],paymentOptions:[{text:"Efectivo",value:1},{text:"Tarjeta",value:2},{text:"Depósito",value:3},{text:"Cheque",value:4},{text:"Seguro",value:5},{text:"Transferencia",value:6}],paymentType:{Efectivo:0,Tarjeta:0,Recargo:0,Deposito:0,Cheque:0,Seguro:0,Transferencia:0},paymentSum:0,alertVariant:"",selectedHab:null,habitaciones:[],selectedAccount:null,totalPayment:0,cuentas:[],selectedTrasOption:1,optionsTraslado:[{text:"Quirófano",value:3},{text:"Hospitalización",value:1},{text:"Intensivos",value:4}],apiBase:q["a"]+"/lab_cuentas/listDiscount",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"expediente.nombres",sortField:"expediente.nombres",title:"Nombres",dataClass:"list-item-heading"},{name:"expediente.apellidos",sortField:"expediente.apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"numero",sortField:"numero",title:"Numero de Cuenta",dataClass:"list-item-heading"},{name:"motivo",sortField:"motivo",title:"Motivo",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Total",dataClass:"list-item-heading"},{name:"pendiente_de_pago",sortField:"pendiente_de_pago",title:"Pendiente de pago",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"},{name:"__slot:solicitud_descuento",title:"Solicitud descuento",titleClass:"",dataClass:"text-muted",width:"25%"}],fieldsAccounts:[{key:"numero",label:"Numero",sortable:!0},{key:"motivo",label:"Motivo",sortable:!0},{key:"pendiente_de_pago",label:"Total a pagar",sortable:!0},{key:"total",label:"Total",sortable:!0}]}},validations:function(){return{form:{name:{required:_a["c"]}}}},methods:{onRowSelected:function(e){this.selectedAccount=e[0].id,this.totalPayment=e[0].pendiente_de_pago,this.totPagado=e[0].total_pagado},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-traslado"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-account"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),null!==this.selectedHab||1!==this.selectedTrasOption&&4!==this.selectedTrasOption?(this.onState(),this.$bvModal.hide("modal-1-traslado")):(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.discountAmount=e.descuento,this.form.name=e.expediente.nombres,this.form.apellidos=e.expediente.apellidos,this.form.state=e.estado,this.form.id=e.id,this.form.numero=e.numero,this.form.total_pagado=e.total_pagado,this.form.pendiente_de_pago=e.pendiente_de_pago,this.form.total=e.total,this.cuentas[0]=e,this.selectedAccount=e.id,this.totalPayment=e.pendiente_de_pago,this.totPagado=e.total_pagado,this.expediente=e.id_expediente,console.log(this.cuentas),this.onLoadAssurances(e.id_expediente)},onSave:function(){var e=this;ie.a.post(q["a"]+"/banco/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/banco/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this,t=this;ie.a.put(q["a"]+"/expedientes/changeState",{id:this.form.id,estado:this.selectedTrasOption}).then((function(a){t.alertVariant="info",t.showAlert(),t.alertText="Se ha trasladado el paciente "+t.form.nombres+" exitosamente",t.$refs.vuetable.refresh(),t.$refs["modal-1-traslado"].hide(),1!==e.selectedTrasOption&&4!==e.selectedTrasOption||ie.a.put(q["a"]+"/habitaciones/inUse",{id:e.selectedHab.id,ocupante:e.form.id}).then((function(a){e.selectedHab=null,console.log(e.selectedHab),e.getHabitaciones(0).then(t.$refs.selectHab.refresh())}))})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",e)}))},onLoadAssurances:function(e){var t=this;console.log(e),ie.a.get(q["a"]+"/seguros/getByExp",{params:{id_expediente:e}}).then((function(e){t.assurances=e.data,console.log(e)}))},requestDiscount:function(){var e=this;console.log("HOLA"),this.discountAmount<=0?(this.alertErrorText="El descuento debe ser mayor a 0.00",this.showAlertError()):this.discountAmount>this.totalPayment?(this.alertErrorText="El descuento debe ser menor a ".concat(this.totalPayment),this.showAlertError()):ie.a.post(q["a"]+"/lab_cuentas/requestDiscount",{form:{id:this.form.id,solicitud_descuento:1,descuento:this.discountAmount}}).then((function(t){e.discountAmount=0,e.$bvModal.hide("modal-3-discount"),e.$refs.vuetable.refresh()})).catch((function(e){console.error(e)}))},negateDiscount:function(){var e=this;ie.a.post(q["a"]+"/lab_cuentas/requestDiscount",{form:{id:this.form.id,solicitud_descuento:0,descuento:this.discountAmount}}).then((function(t){e.discountAmount=0,e.$bvModal.hide("modal-3-discount"),e.$refs.vuetable.refresh()})).catch((function(e){console.error(e)}))},onPatientQuit:function(){if(this.paymentSum=parseFloat(this.paymentType.Efectivo)+parseFloat(this.paymentType.Tarjeta)+parseFloat(this.paymentType.Deposito)+parseFloat(this.paymentType.Cheque)+parseFloat(this.paymentType.Seguro)+parseFloat(this.paymentType.Transferencia),this.paymentSum!==parseFloat(this.totalPayment))this.alertErrorText="El total a pagar no concuerda con el total ingresado",this.showAlertError();else{var e=this;console.log(this.selectedAccount),console.log(this.id_seguro),ie.a.put(q["a"]+"/cuentas/deactivate",{id:this.selectedAccount,total_pagado:parseFloat(this.totPagado)+parseFloat(this.paymentSum),pendiente_de_pago:parseFloat(parseFloat(this.totalPayment)-parseFloat(this.paymentSum)),efectivo:this.paymentType.Efectivo,tarjeta:this.paymentType.Tarjeta,deposito:this.paymentType.Deposito,cheque:this.paymentType.Cheque,seguro:this.paymentType.Seguro,transferencia:this.paymentType.Transferencia,total:this.paymentSum,id_seguro:this.seguro>0?this.selectAssurance.id:0,id_expediente:this.expediente,tipo:"finiquito"}).then(this.selectedAccount=null,this.paymentType.Efectivo=0,this.paymentType.Tarjeta=0,this.paymentType.Deposito=0,this.paymentType.Cheque=0,this.paymentType.Seguro=0,this.paymentType.transferencia=0,this.paymentSum=0,this.selectAssurance=null).catch((function(e){console.error(e)})),e.alertVariant="info",e.showAlert(),e.alertText="Se ha egresado el paciente "+e.form.nombres+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-2-account"].hide().catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))}},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},getHabitaciones:function(e){var t=this;ie.a.get(q["a"]+"/habitaciones/get",{params:{tipo:e}}).then((function(e){t.habitaciones=e.data,console.log(e.data)}))},getCuentas:function(e){var t=this;ie.a.get(q["a"]+"/cuentas/getByExp",{params:{id:e}}).then((function(e){t.cuentas=e.data,console.log(e.data)}))},inputPaymentType:function(e){this.paymentType=e}}},du=cu,mu=Object($["a"])(du,su,lu,!1,null,null,null),uu=mu.exports,fu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Cuentas por cobrar")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}})],1),a("div",{staticClass:"col-sm"})])])]},proxy:!0},{key:"body",fn:function(){return[a("b-tabs",[a("b-tab",{attrs:{title:"Cuentas por cobrar",lazy:""}},[a("CuentasPorCobrar")],1),a("b-tab",{attrs:{title:"Seguros por cobrar",lazy:""}},[a("SegurosPorCobrar")],1)],1)]},proxy:!0}])})],1)],1)],1)},hu=[],pu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-traslado",attrs:{id:"modal-1-traslado",title:"Trasladar paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onValidate(),this.selectedHab=null}}},[e._v("Ingresar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-1-traslado")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea trasladar el paciente: "+e._s(e.form.nombres)+" ? ")]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-col",[a("b-form-group",{attrs:{label:"Área a la que desea trasladar:"}},[a("b-form-radio-group",{attrs:{id:"radio-group-2",options:e.optionsTraslado,name:"radio-options"},model:{value:e.selectedTrasOption,callback:function(t){e.selectedTrasOption=t},expression:"selectedTrasOption"}}),1==e.selectedTrasOption||4==e.selectedTrasOption?a("div",[e._v(" Habitación "),a("v-select",{ref:"selectHab",attrs:{options:e.habitaciones,label:"numero",value:"id"},model:{value:e.selectedHab,callback:function(t){e.selectedHab=t},expression:"selectedHab"}})],1):e._e()],1)],1)],1)],1),a("b-modal",{ref:"modal-2-account",attrs:{id:"modal-2-account",title:"Pagar cuenta",size:"xl"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onPatientQuit()}}},[e._v("Aceptar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-2-account")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",[e._v("¿Desea dar egreso al paciente "+e._s(this.form.nombres)+" "+e._s(this.form.apellidos)+"?")]),[a("div",[a("h6",[e._v("Cuentas activas para "+e._s(this.form.nombres)+" "+e._s(this.form.apellidos))]),a("b-card",[a("b-card-body",[a("b-table",{attrs:{hover:"",items:e.detalle,fields:e.fieldsAccounts,"select-mode":"single",selectable:""}}),a("b-form-group",{attrs:{label:"Seleccione métodos para pagar:"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.ariaDescribedby;return[a("b-form-checkbox-group",{attrs:{id:"checkbox-group-1",options:e.paymentOptions,"aria-describedby":r,name:"flavour-1"},model:{value:e.selectedPayment,callback:function(t){e.selectedPayment=t},expression:"selectedPayment"}})]}}])}),-1!==e.selectedPayment.indexOf(1)?a("div",[e._v(" Efectivo "),a("b-input",{ref:"CashTypeInput",attrs:{type:"number",id:"CashTypeInput"},model:{value:e.paymentType.Efectivo,callback:function(t){e.$set(e.paymentType,"Efectivo",t)},expression:"paymentType.Efectivo"}})],1):e._e(),-1!==e.selectedPayment.indexOf(2)?a("div",[e._v(" Tarjeta "),a("b-input",{ref:"CardTypeInput",attrs:{type:"number",id:"CardTypeInput"},model:{value:e.paymentType.Tarjeta,callback:function(t){e.$set(e.paymentType,"Tarjeta",t)},expression:"paymentType.Tarjeta"}})],1):e._e(),-1!==e.selectedPayment.indexOf(3)?a("div",[e._v(" Depósito "),a("b-input",{ref:"DepositTypeInput",attrs:{type:"number",id:"DepositTypeInput"},model:{value:e.paymentType.Deposito,callback:function(t){e.$set(e.paymentType,"Deposito",t)},expression:"paymentType.Deposito"}})],1):e._e(),-1!==e.selectedPayment.indexOf(4)?a("div",[e._v(" Cheque "),a("b-input",{ref:"CheckTypeInput",attrs:{type:"number",id:"CheckTypeInput"},model:{value:e.paymentType.Cheque,callback:function(t){e.$set(e.paymentType,"Cheque",t)},expression:"paymentType.Cheque"}})],1):e._e(),-1!==e.selectedPayment.indexOf(5)?a("div",[e._v(" Seguro "),a("b-input",{ref:"InsuranceTypeInput",attrs:{type:"number",id:"InsuranceTypeInput"},model:{value:e.paymentType.Seguro,callback:function(t){e.$set(e.paymentType,"Seguro",t)},expression:"paymentType.Seguro"}}),e._v(" Seleccione un seguro "),a("v-select",{ref:"selectAssurance",attrs:{options:e.assurances,label:"no_poliza",value:"id"},model:{value:e.selectAssurance,callback:function(t){e.selectAssurance=t},expression:"selectAssurance"}})],1):e._e(),-1!==e.selectedPayment.indexOf(6)?a("div",[e._v(" Transferencia "),a("b-input",{ref:"InsuranceTypeInput",attrs:{type:"number",id:"InsuranceTypeInput"},model:{value:e.paymentType.Transferencia,callback:function(t){e.$set(e.paymentType,"Transferencia",t)},expression:"paymentType.Transferencia"}})],1):e._e(),a("div",[a("strong",[e._v(" TOTAL INGRESADO: "+e._s(parseFloat(this.paymentType.Efectivo)+parseFloat(this.paymentType.Tarjeta)+parseFloat(this.paymentType.Deposito)+parseFloat(this.paymentType.Cheque)+parseFloat(this.paymentType.Seguro)+parseFloat(this.paymentType.Transferencia)))])]),a("div",[a("strong",[e._v(" TOTAL A PAGAR: "+e._s(this.totalPayment))])])],1),a("div")],1)],1)]],2),a("b-modal",{ref:"modal-3-discount",attrs:{id:"modal-3-discount",title:"Solicitar descuento"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){return e.requestDiscount()}}},[e._v("Solicitar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-discount")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea solicitar un descuento para: "+e._s(e.form.name)+" "+e._s(e.form.apellidos)+" ? ")]),e._v(" Descuento: "),a("b-input",{ref:"discountAmount",attrs:{type:"number",id:"discountAmount"},model:{value:e.discountAmount,callback:function(t){e.discountAmount=t},expression:"discountAmount"}})],1),a("b-modal",{ref:"modal-4-bank",attrs:{id:"modal-4-bank",title:"Activar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-bank")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-bank")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al banco: "+e._s(e.form.name)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Cuentas por cobrar")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("PENDIENTE DE PAGO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("EN EMERGENCIAS")])])])],1)])}},{key:"solicitud_descuento",fn:function(t){return a("div",{},[3==t.rowData.solicitud_descuento?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("SIN DESCUENTO")])])])],1):e._e(),1==t.rowData.solicitud_descuento?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("Q. "+e._s(t.rowData.descuento))])])])],1):e._e(),2==t.rowData.solicitud_descuento?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("PENDIENTE APROBACIÓN")])])])],1):e._e(),0==t.rowData.solicitud_descuento?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("SIN DESCUENTO")])])])],1):e._e()])}},{key:"actions",fn:function(t){return[3==t.rowData.solicitud_descuento?a("div",{staticClass:"button-container"},[a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-2-account")}}},[e._v("Cobrar")]),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-3-discount")}}},[e._v("Solicitar descuento")])],1):2==t.rowData.solicitud_descuento?a("div",{staticClass:"button-container"},[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("EN ESPERA")])])])],1):a("div",{staticClass:"button-container"},[a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-2-account")}}},[e._v("Cobrar")])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},bu=[],vu={name:"CuentasPorCobrarLab",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){this.getHabitaciones(0)},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])(["currentUser"])),data:function(){return{detalle:[],from:0,to:0,total:0,perPage:5,search:"",totPagado:0,assurances:[],selectAssurance:null,discountAmount:0,form:{id:0,nombres:"",apellidos:"",expediente:"",cui:"",state:1,numero:1,total_pagado:0,pendiente_de_pago:0,total:0},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",selectedPayment:[],paymentOptions:[{text:"Efectivo",value:1},{text:"Tarjeta",value:2},{text:"Depósito",value:3},{text:"Cheque",value:4},{text:"Seguro",value:5},{text:"Transferencia",value:6}],paymentType:{Efectivo:0,Tarjeta:0,Deposito:0,Cheque:0,Seguro:0,Transferencia:0},paymentSum:0,alertVariant:"",selectedHab:null,habitaciones:[],selectedAccount:null,totalPayment:0,cuentas:[],selectedTrasOption:1,optionsTraslado:[{text:"Quirófano",value:3},{text:"Hospitalización",value:1},{text:"Intensivos",value:4}],apiBase:q["a"]+"/lab_cuentas/debtList",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"expediente.nombres",sortField:"expediente.nombres",title:"Nombres",dataClass:"list-item-heading"},{name:"expediente.apellidos",sortField:"expediente.apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"numero",sortField:"numero",title:"Numero de Cuenta",dataClass:"list-item-heading"},{name:"motivo",sortField:"motivo",title:"Motivo",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Total",dataClass:"list-item-heading"},{name:"pendiente_de_pago",sortField:"pendiente_de_pago",title:"Pendiente de pago",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"},{name:"__slot:solicitud_descuento",title:"Solicitud descuento",titleClass:"",dataClass:"text-muted",width:"25%"}],fieldsAccounts:[{key:"Descripcion",label:"Descripcion",sortable:!0},{key:"total",label:"Total",sortable:!0},{key:"costo",label:"Costo",sortable:!0}]}},validations:function(){return{form:{name:{required:_a["c"]}}}},methods:{onRowSelected:function(e){this.selectedAccount=e[0].id,this.totalPayment=e[0].pendiente_de_pago,this.totPagado=e[0].total_pagado},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-traslado"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-account"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),null!==this.selectedHab||1!==this.selectedTrasOption&&4!==this.selectedTrasOption?(this.onState(),this.$bvModal.hide("modal-1-traslado")):(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.name=e.expediente.nombres,this.form.apellidos=e.expediente.apellidos,this.form.state=e.estado,this.form.id=e.id,this.form.numero=e.numero,this.form.total_pagado=e.total_pagado,this.form.pendiente_de_pago=e.pendiente_de_pago,this.form.total=e.total,this.cuentas[0]=e,this.selectedAccount=e.id,this.totalPayment=e.pendiente_de_pago,this.totPagado=e.total_pagado,this.onLoadAssurances(e.id_expediente),this.getDetail(e.id)},getDetail:function(e){var t=this;ie.a.get(q["a"]+"/detalle/getByAccount",{params:{id_lab_cuenta:e}}).then((function(e){t.detalle=e.data}))},onSave:function(){var e=this;ie.a.post(q["a"]+"/banco/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/banco/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this,t=this;ie.a.put(q["a"]+"/expedientes/changeState",{id:this.form.id,estado:this.selectedTrasOption,user:t.currentUser.user}).then((function(a){t.alertVariant="info",t.showAlert(),t.alertText="Se ha trasladado el paciente "+t.form.nombres+" exitosamente",t.$refs.vuetable.refresh(),t.$refs["modal-1-traslado"].hide(),1!==e.selectedTrasOption&&4!==e.selectedTrasOption||ie.a.put(q["a"]+"/habitaciones/inUse",{id:e.selectedHab.id,ocupante:e.form.id}).then((function(a){e.selectedHab=null,e.getHabitaciones(0).then(t.$refs.selectHab.refresh())}))})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",e)}))},onLoadAssurances:function(e){var t=this;ie.a.get(q["a"]+"/seguros/getByExp",{params:{id_expediente:e}}).then((function(e){t.assurances=e.data}))},requestDiscount:function(){var e=this;this.discountAmount<=0?(this.alertErrorText="El descuento debe ser mayor a 0.00",this.showAlertError()):this.discountAmount>this.totalPayment?(this.alertErrorText="El descuento debe ser menor a ".concat(this.totalPayment),this.showAlertError()):ie.a.post(q["a"]+"/lab_cuentas/requestDiscount",{form:{id:this.form.id,solicitud_descuento:2,descuento:parseFloat(this.discountAmount)}}).then((function(t){e.discountAmount=0,e.$bvModal.hide("modal-3-discount"),e.$refs.vuetable.refresh()})).catch((function(e){console.error(e)}))},onPatientQuit:function(){if(this.paymentSum=parseFloat(this.paymentType.Efectivo)+parseFloat(this.paymentType.Tarjeta)+parseFloat(this.paymentType.Deposito)+parseFloat(this.paymentType.Cheque)+parseFloat(this.paymentType.Seguro)+parseFloat(this.paymentType.Transferencia),this.paymentSum!==parseFloat(this.totalPayment))this.alertErrorText="El total a pagar no concuerda con el total ingresado",this.showAlertError();else{var e,t=this;ie.a.put(q["a"]+"/lab_cuentas/deactivate",{id:this.selectedAccount,total_pagado:parseFloat(this.totPagado)+parseFloat(this.paymentSum),pendiente_de_pago:parseFloat(parseFloat(this.totalPayment)-parseFloat(this.paymentSum)),efectivo:this.paymentType.Efectivo,tarjeta:this.paymentType.Tarjeta,deposito:this.paymentType.Deposito,cheque:this.paymentType.Cheque,seguro:this.paymentType.Seguro,transferencia:this.paymentType.Transferencia,total:this.paymentSum,id_seguro:(null===(e=this.selectAssurance)||void 0===e?void 0:e.id)||0,tipo:"finiquito"}).then(this.selectedAccount=null,this.paymentType.Efectivo=0,this.paymentType.Tarjeta=0,this.paymentType.Deposito=0,this.paymentType.Cheque=0,this.paymentType.Seguro=0,this.paymentType.transferencia=0,this.paymentSum=0,this.selectAssurance=null).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",e)})),t.alertVariant="info",t.showAlert(),t.alertText="Se ha egresado el paciente "+t.form.nombres+" exitosamente",t.$refs.vuetable.refresh(),t.$refs["modal-2-account"].hide()}},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},getHabitaciones:function(e){var t=this;ie.a.get(q["a"]+"/habitaciones/get",{params:{tipo:e}}).then((function(e){t.habitaciones=e.data}))},getCuentas:function(e){var t=this;ie.a.get(q["a"]+"/cuentas/getByExp",{params:{id:e}}).then((function(e){t.cuentas=e.data}))},inputPaymentType:function(e){this.paymentType=e}}},gu=vu,_u=Object($["a"])(gu,pu,bu,!1,null,null,null),xu=_u.exports,Cu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-traslado",attrs:{id:"modal-1-traslado",title:"Trasladar paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onValidate(),this.selectedHab=null}}},[e._v("Ingresar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-1-traslado")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea trasladar el paciente: "+e._s(e.form.nombres)+" ? ")]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-col",[a("b-form-group",{attrs:{label:"Área a la que desea trasladar:"}},[a("b-form-radio-group",{attrs:{id:"radio-group-2",options:e.optionsTraslado,name:"radio-options"},model:{value:e.selectedTrasOption,callback:function(t){e.selectedTrasOption=t},expression:"selectedTrasOption"}}),1==e.selectedTrasOption||4==e.selectedTrasOption?a("div",[e._v(" Habitación "),a("v-select",{ref:"selectHab",attrs:{options:e.habitaciones,label:"numero",value:"id"},model:{value:e.selectedHab,callback:function(t){e.selectedHab=t},expression:"selectedHab"}})],1):e._e()],1)],1)],1)],1),a("b-modal",{ref:"modal-2-pay",attrs:{id:"modal-2-pay",title:"Pagar seguro",size:"xl"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onPay()}}},[e._v("Aceptar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-2-pay")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",[e._v("¿Desea cobrar el seguro de "+e._s(this.form.nombres)+" "+e._s(this.form.apellidos)+"?")])],1),a("b-modal",{ref:"modal-3-deactivate",attrs:{id:"modal-3-deactivate",title:"Desactivar seguro"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onDeactivate(),e.$bvModal.hide("modal-3-deactivate")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-deactivate")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el seguro: "+e._s(e.form.id)+" ? ")])],1),a("b-modal",{ref:"modal-4-bank",attrs:{id:"modal-4-bank",title:"Activar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-bank")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-bank")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al banco: "+e._s(e.form.name)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Seguros por cobrar")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.solvente?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("SOLVENTE")])])])],1):0==t.rowData.solvente?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("PENDIENTE DE PAGO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("DESACTIVADO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[0===t.rowData.solvente?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Pagar",expression:"'Pagar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-2-pay")}}},[a("i",{class:"fas fa-money"})]):e._e(),t.rowData.solvente<=1?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Desactivar",expression:"'Desactivar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-danger"},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-3-deactivate")}}},[a("i",{class:"fa fa-trash"})]):e._e()],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},$u=[],yu={name:"Bank",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){this.getHabitaciones(0)},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])(["currentUser"])),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",totPagado:0,form:{id:0,assurance:0,nombres:"",apellidos:"",expediente:"",cui:"",state:1,numero:1,total_pagado:0,pendiente_de_pago:0,total:0},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",selectedPayment:[],paymentOptions:[{text:"Efectivo",value:1},{text:"Tarjeta",value:2},{text:"Depósito",value:3},{text:"Cheque",value:4},{text:"Seguro",value:5},{text:"Transferencia",value:6}],paymentType:{Efectivo:0,Tarjeta:0,Deposito:0,Cheque:0,Seguro:0,Transferencia:0},paymentSum:0,alertVariant:"",selectedHab:null,habitaciones:[],selectedAccount:null,totalPayment:0,cuentas:[],selectedTrasOption:1,optionsTraslado:[{text:"Quirófano",value:3},{text:"Hospitalización",value:1},{text:"Intensivos",value:4}],apiBase:q["a"]+"/lab_seguros/debtList",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"expediente.nombres",sortField:"expediente.nombres",title:"Nombres",dataClass:"list-item-heading"},{name:"expediente.apellidos",sortField:"expediente.apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"no_poliza",sortField:"no_poliza",title:"Numero de Póliza",dataClass:"list-item-heading"},{name:"aseguradora.nombre",sortField:"aseguradora.nombre",title:"Aseguradora",dataClass:"list-item-heading"},{name:"aseguradora.telefono",sortField:"aseguradora.telefono",title:"Teléfono de la aseguradora",dataClass:"list-item-heading"},{name:"nombre_asegurado",sortField:"nombre_asegurado",title:"Persona asegurada",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}],fieldsAccounts:[{key:"numero",label:"Numero",sortable:!0},{key:"motivo",label:"Motivo",sortable:!0},{key:"pendiente_de_pago",label:"Total a pagar",sortable:!0},{key:"total",label:"Total",sortable:!0}]}},validations:function(){return{form:{name:{required:_a["c"]}}}},methods:{onRowSelected:function(e){this.selectedAccount=e[0].id,this.totalPayment=e[0].pendiente_de_pago,this.totPagado=e[0].total_pagado},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-traslado"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-pay"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),null!==this.selectedHab||1!==this.selectedTrasOption&&4!==this.selectedTrasOption?(this.onState(),this.$bvModal.hide("modal-1-traslado")):(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.name=e.nombres,this.form.apellidos=e.apellidos,this.form.state=e.estado,this.form.id=e.id,this.form.numero=e.numero,this.form.total_pagado=e.total_pagado,this.form.pendiente_de_pago=e.pendiente_de_pago,this.form.total=e.total,this.cuentas[0]=e,this.selectedAccount=e.id,this.totalPayment=e.pendiente_de_pago,this.totPagado=e.total_pagado,console.log(this.cuentas)},onSave:function(){var e=this;ie.a.post(q["a"]+"/banco/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/banco/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onDeactivate:function(){console.log(this.form.id);var e=this;ie.a.put(q["a"]+"/seguros/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh()}))},onPay:function(){console.log(this.form.id);var e=this;ie.a.put(q["a"]+"/seguros/paid",{id:this.form.id}).then((function(t){e.$refs["modal-2-pay"].hide(),e.alertVariant="info",e.showAlert(),e.alertText="Se ha desactivado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh()}))},onState:function(){var e=this,t=this;ie.a.put(q["a"]+"/expedientes/changeState",{id:this.form.id,estado:this.selectedTrasOption,user:t.currentUser.user}).then((function(a){t.alertVariant="info",t.showAlert(),t.alertText="Se ha trasladado el paciente "+t.form.nombres+" exitosamente",t.$refs.vuetable.refresh(),t.$refs["modal-1-traslado"].hide(),1!==e.selectedTrasOption&&4!==e.selectedTrasOption||ie.a.put(q["a"]+"/habitaciones/inUse",{id:e.selectedHab.id,ocupante:e.form.id}).then((function(a){e.selectedHab=null,console.log(e.selectedHab),e.getHabitaciones(0).then(t.$refs.selectHab.refresh())}))})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",e)}))},onPatientQuit:function(){if(this.paymentSum=parseFloat(this.paymentType.Efectivo)+parseFloat(this.paymentType.Tarjeta)+parseFloat(this.paymentType.Deposito)+parseFloat(this.paymentType.Cheque)+parseFloat(this.paymentType.Seguro)+parseFloat(this.paymentType.Transferencia),this.paymentSum!==parseFloat(this.totalPayment))this.alertErrorText="El total a pagar no concuerda con el total ingresado",this.showAlertError();else{var e=this;ie.a.put(q["a"]+"/lab_cuentas/deactivate",{id:this.selectedAccount,total_pagado:parseFloat(this.totPagado)+parseFloat(this.paymentSum),pendiente_de_pago:parseFloat(parseFloat(this.totalPayment)-parseFloat(this.paymentSum)),efectivo:this.paymentType.Efectivo,tarjeta:this.paymentType.Tarjeta,deposito:this.paymentType.Deposito,cheque:this.paymentType.Cheque,seguro:this.paymentType.Seguro,transferencia:this.paymentType.Transferencia,total:this.paymentSum,tipo:"finiquito"}).then(this.selectedAccount=null,this.paymentType.Efectivo=0,this.paymentType.Tarjeta=0,this.paymentType.Deposito=0,this.paymentType.Cheque=0,this.paymentType.Seguro=0,this.paymentType.transferencia=0,this.paymentSum=0),e.alertVariant="info",e.showAlert(),e.alertText="Se ha egresado el paciente "+e.form.nombres+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-2-pay"].hide().catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))}},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},getHabitaciones:function(e){var t=this;ie.a.get(q["a"]+"/habitaciones/get",{params:{tipo:e}}).then((function(e){t.habitaciones=e.data,console.log(e.data)}))},getCuentas:function(e){var t=this;ie.a.get(q["a"]+"/lab_cuentas/getByExp",{params:{id:e}}).then((function(e){t.cuentas=e.data,console.log(e.data)}))},inputPaymentType:function(e){this.paymentType=e}}},wu=yu,Eu=Object($["a"])(wu,Cu,$u,!1,null,null,null),ku=Eu.exports,Du={name:"CuentasParent",components:{CuentasPorCobrar:xu,SegurosPorCobrar:ku},data:function(){return{patient:{},patientId:0}},mounted:function(){g["a"].index()},beforeMount:function(){this.patientId=this.$route.params.id,this.getPatient(this.patientId)},methods:{getPatient:function(e){var t=this;ie.a.get(q["a"]+"/paciente/get?id=".concat(e)).then((function(e){t.patient=e.data})).catch((function(e){console.log(e)}))},backToPatients:function(){this.$router.push({name:"patient.patients"})}}},Au=Du,Su=Object($["a"])(Au,fu,hu,!1,null,null,null),Tu=Su.exports,Pu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-tipo",attrs:{id:"modal-1-tipo",title:"Agregar tipo de examen"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre del tipo de examen"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-2-tipo",attrs:{id:"modal-2-tipo",title:"Editar tipo de examen"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre del tipo de examen"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-3-tipo",attrs:{id:"modal-3-tipo",title:"Desactivar tipo de examen"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-tipo")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-tipo")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el tipo de examen: "+e._s(e.form.nombre)+" ? ")])],1),a("b-modal",{ref:"modal-4-tipo",attrs:{id:"modal-4-tipo",title:"Activar tipo de examen"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-tipo")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-tipo")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar el tipo de examen: "+e._s(e.form.nombre)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Tipos de examen")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-tipo",modifiers:{"modal-1-tipo":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-tipo",modifiers:{"modal-2-tipo":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info"},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-tipo"):e.$bvModal.show("modal-4-tipo")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},Mu=[],qu={name:"TiposExamenes",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},data:function(){return{from:0,to:0,total:0,perPage:5,search:"",form:{id:0,nombre:"",state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/tipos_examenes/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"nombre",title:"Nombre",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{nombre:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.nombre="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-tipo"].hide(),this.form.id=0,this.form.nombre="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-tipo"].hide(),this.form.id=0,this.form.nombre="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.nombre=e.nombre,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/tipos_examenes/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el tipo de examen "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/tipos_examenes/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el tipo de examen "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/tipos_examenes/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el tipo de examen "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-tipo"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/tipos_examenes/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el tipo de examen "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-tipo"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs}}},Iu=qu,Fu=Object($["a"])(Iu,Pu,Mu,!1,null,null,null),Ou=Fu.exports,Nu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal_agregar",attrs:{id:"modal_agregar",size:"xl",title:"Ingresar nuevo examen"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("div",{staticClass:"ml-auto"},[a("span",{staticClass:"mr-2"},[e._v("Total: Q"+e._s(e.TotalAPagar))])]),a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"4"}},[a("div",{staticStyle:{"text-align":"left"}},[a("h3",{staticClass:"card-title"},[e._v("DATOS DEL PACIENTE")])])])],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Nombre Paciente"}},[a("v-select",{attrs:{name:"type",options:e.expedientesExamenes,filterable:!1,placeholder:"Seleccione o Ingrese al Paciente"},on:{search:e.onSearch_expediente},scopedSlots:e._u([{key:"spinner",fn:function(t){var r=t.loading;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"loading"}]},[e._v("Cargando...")])]}},{key:"option",fn:function(t){return[e._v(" "+e._s("Nombre: "+t.nombres+", "+(t.apellidos||"")+" CUI: "+t.cui)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s(t.nombres+" "+(t.apellidos||""))+" ")]}}]),model:{value:e.selectedExpediente,callback:function(t){e.selectedExpediente=t},expression:"selectedExpediente"}}),a("b-form-text",[e._v(" Ingrese el nombre y apellido separados por una coma (e.g., JUAN, PEREZ) ")])],1)],1),a("b-col",{attrs:{md:"5"}},[a("b-form-checkbox",{staticClass:"custom-checkbox",attrs:{"unchecked-value":"false","checked-value":"true"},model:{value:e.form.examenExterior,callback:function(t){e.$set(e.form,"examenExterior","string"===typeof t?t.trim():t)},expression:"form.examenExterior"}},[e._v(" Examen de laboratorio externo ")])],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"CUI:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar CUI paciente"},model:{value:e.form.cui,callback:function(t){e.$set(e.form,"cui","string"===typeof t?t.trim():t)},expression:"form.cui"}})],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Edad:"}},[a("b-form-input",{attrs:{state:!e.$v.form.edad.$error,placeholder:"Ingresar la edad del paciente",type:"number"},model:{value:e.$v.form.edad.$model,callback:function(t){e.$set(e.$v.form.edad,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.edad.$model"}}),e.$v.form.edad.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la edad del paciente ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Nombre del medico:"}},[a("v-select",{attrs:{name:"medico",options:e.medicos,filterable:!1,placeholder:"Seleccione el médico"},on:{search:e.onSearchDatosMedicos},scopedSlots:e._u([{key:"option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}}]),model:{value:e.form.comision,callback:function(t){e.$set(e.form,"comision",t)},expression:"form.comision"}})],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Total:"}},[a("b-form-input",{attrs:{disabled:"",state:!e.$v.form.total.$error,placeholder:"Ingresar el total"},model:{value:e.$v.form.total.$model,callback:function(t){e.$set(e.$v.form.total,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.total.$model"}}),e.$v.form.total.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el total ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Correo Electronico:"}},[a("b-form-input",{attrs:{placeholder:"Debe ingresar el correo electronico"},model:{value:e.form.correo,callback:function(t){e.$set(e.form,"correo","string"===typeof t?t.trim():t)},expression:"form.correo"}})],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Número Celular:"}},[a("b-form-input",{attrs:{state:!e.$v.form.whatsapp.$error,placeholder:"Ingresar el numero de celular",type:"number"},model:{value:e.$v.form.whatsapp.$model,callback:function(t){e.$set(e.$v.form.whatsapp,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.whatsapp.$model"}}),e.$v.form.whatsapp.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el numero de celular ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Numero Muestra:"}},[a("b-form-input",{attrs:{state:!e.$v.form.numero_muestra.$error,placeholder:"Ingresar el numero de muestra",type:"number"},model:{value:e.$v.form.numero_muestra.$model,callback:function(t){e.$set(e.$v.form.numero_muestra,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.numero_muestra.$model"}}),e.$v.form.numero_muestra.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el numero de muestra ")]):e._e()],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Referido:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar Referido"},model:{value:e.form.referido,callback:function(t){e.$set(e.form,"referido",t)},expression:"form.referido"}})],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Nombre para Factura:"}},[a("b-form-input",{attrs:{placeholder:"Debe ingresar el nombre para facturar"},model:{value:e.form.factura,callback:function(t){e.$set(e.form,"factura","string"===typeof t?t.trim():t)},expression:"form.factura"}})],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"NIT"}},[a("b-form-input",{attrs:{placeholder:"Ingresar el NIT para factura"},model:{value:e.form.nit,callback:function(t){e.$set(e.form,"nit","string"===typeof t?t.trim():t)},expression:"form.nit"}})],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"7"}},[a("div",{staticStyle:{"text-align":"left"}},[a("h3",{staticClass:"card-title"},[e._v("SELECCIONAR EXAMEN/ES A REALIZAR")])])])],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"12"}},[a("b-form-group",{attrs:{label:"Tipo de Examen:"}},[e.isLoading?a("div",[a("p",[e._v("Cargando...")])]):e._e(),a("Multiselect",{attrs:{options:e.examenes_almacenadosBuscar,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Seleccionar exámenes",label:"nombre","track-by":"id",pagination:!0,page:e.currentPageExa},on:{"search-change":e.onSearch_id_examenes_almacenados,"page-change":e.onPageChangeExa},scopedSlots:e._u([{key:"option",fn:function(t){var r=t.option;return[a("div",{staticClass:"custom-option"},[a("strong",[e._v(e._s(r.nombre))]),e._v(" -- "),a("small",[e._v("Tipo de Examen: "+e._s(r.tipo_examen))]),e._v(" | "),a("small",[e._v("Precio: Q"+e._s(r.precio_normal))]),e._v(" | ")])]}},{key:"selection",fn:function(t){var r=t.values,o=(t.search,t.isOpen);return[r.length&&!o?a("span",{staticClass:"multiselect__single"},[e._v(" "+e._s(r.length)+" exámenes seleccionados ")]):e._e()]}}]),model:{value:e.selectedExamenes,callback:function(t){e.selectedExamenes=t},expression:"selectedExamenes"}}),a("div",[e.selectedExamenes.length>0?a("ul",{staticClass:"selected-options-list"},e._l(e.selectedExamenes,(function(t,r){return a("li",{key:t.id},[e._v(" "+e._s(r+1)+". "+e._s(t.nombre)+" - Precio: Q"+e._s(t.precio_normal)+" ")])})),0):e._e()])],1)],1)],1)],1)],1),a("b-modal",{ref:"modal-add-resultados",attrs:{id:"modal-add-resultados",size:"lg",title:"Agregar Resultados"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidateResultado("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("resultado")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[a("b-table",{attrs:{items:this.camposResulado,fields:this.fieldsCampos,striped:"",hover:"",small:"",responsive:""},scopedSlots:e._u([{key:"cell(resultado)",fn:function(t){return[a("b-form-input",{attrs:{type:"text",placeholder:"agregar el resultado"},model:{value:t.item.resultado,callback:function(a){e.$set(t.item,"resultado",a)},expression:"data.item.resultado"}})]}}])}),a("b-form-input",{attrs:{placeholder:"Ingresar nota del resultado (si es necesaria)"},model:{value:e.formResultado.nota,callback:function(t){e.$set(e.formResultado,"nota","string"===typeof t?t.trim():t)},expression:"formResultado.nota"}})],1)],1),a("b-modal",{ref:"modal-ver-resultados",attrs:{size:"lg",id:"modal-ver-resultados",title:"Ver Resultados"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("verresultado")}}},[e._v("Cerrar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("vuetable",{ref:"vuetableResultados",staticClass:"table-divided table-responsive order-with-arrow",attrs:{"api-url":e.apiBaseResultadoTabla,"query-params":e.makeQueryParamsResultado,"per-page":e.perPageResultado,"reactive-api-url":!0,fields:e.fieldsResultado,data:e.itemsResultado,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationDataResultado}},[a("template",{slot:"default"},[a("td",{staticClass:"font-weight-bold text-center bg-primary text-white",attrs:{colspan:"5"}},[e._v(" "+e._s(this.TituloResultado)+" ")])])],2),a("vuetable-pagination-bootstrap",{ref:"paginationResultado",on:{"vuetable-pagination:change-page":e.onChangePageResultado}})],1),a("b-modal",{attrs:{id:"modal-anular-examen",title:"Confirmar Anulación"},on:{ok:function(t){return e.confirmarAnulacion(e.examenId)}}},[a("p",[e._v("¿Está seguro de que desea anular este examen?")])]),a("b-row",[a("b-col",{attrs:{sm:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("div",{staticClass:"center-text"},[a("h3",{staticClass:"card-title"},[e._v("AREA DE EXAMENES")])])]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal_agregar",modifiers:{modal_agregar:!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("EXAMENES SOLICITADOS Y PENDIENTES DE PAGO")]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Fecha Desde:"}},[a("b-form-input",{attrs:{type:"date"},model:{value:e.fechaDesde,callback:function(t){e.fechaDesde=t},expression:"fechaDesde"}})],1)],1),a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Fecha Hasta:"}},[a("b-form-input",{attrs:{type:"date"},model:{value:e.fechaHasta,callback:function(t){e.fechaHasta=t},expression:"fechaHasta"}})],1)],1),a("div",{staticClass:"col-md-4"},[a("b-button",{attrs:{variant:"primary"},on:{click:e.realizarBusqueda}},[e._v("Buscar")])],1)]),a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button-group",[a("div",{staticClass:"button-container"},[a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"danger",disabled:!e.hasPermission([6,8,12,13])},on:{click:function(a){return e.mostrarConfirmacionAnulacion(t.rowData.id)}}},[e._v("Anular Examen")])],1)])]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1),a("b-col",{attrs:{sm:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"body",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("EXAMENES PAGADOS Y PENDIENTES DE RESULTADO")]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Fecha Desde:"}},[a("b-form-input",{attrs:{type:"date"},model:{value:e.fechaDesde,callback:function(t){e.fechaDesde=t},expression:"fechaDesde"}})],1)],1),a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Fecha Hasta:"}},[a("b-form-input",{attrs:{type:"date"},model:{value:e.fechaHasta,callback:function(t){e.fechaHasta=t},expression:"fechaHasta"}})],1)],1),a("div",{staticClass:"col-md-4"},[a("b-button",{attrs:{variant:"primary"},on:{click:e.realizarBusqueda}},[e._v("Buscar")])],1)]),a("datatable-heading",{attrs:{changePageSize:e.changePageSizes2,searchChange:e.searchChange2,from:e.from2,to:e.to2,total:e.total2,perPage:e.perPage2}}),a("vuetable",{ref:"vuetable2",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase2,"query-params":e.makeQueryParams2,"per-page":e.perPage2,"reactive-api-url":!0,fields:e.fields2,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData2},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button-group",[a("div",{staticClass:"button-container"},[a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success",disabled:!e.hasPermission([6,8])},on:{click:function(a){return e.addResultado(t.rowData.id,t.rowData.id_examenes_almacenados)}}},[e._v("Agregar resultado")])],1)])]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination2",on:{"vuetable-pagination:change-page":e.onChangePage2}})]},proxy:!0}])})],1),a("b-col",{attrs:{sm:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"body",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("EXAMENES REALIZADOS (FINALIZADOS)")]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Fecha Desde:"}},[a("b-form-input",{attrs:{type:"date"},model:{value:e.fechaDesde,callback:function(t){e.fechaDesde=t},expression:"fechaDesde"}})],1)],1),a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Fecha Hasta:"}},[a("b-form-input",{attrs:{type:"date"},model:{value:e.fechaHasta,callback:function(t){e.fechaHasta=t},expression:"fechaHasta"}})],1)],1),a("div",{staticClass:"col-md-4"},[a("b-button",{attrs:{variant:"primary"},on:{click:e.realizarBusqueda}},[e._v("Buscar")])],1)]),a("datatable-heading",{attrs:{changePageSize:e.changePageSizes3,searchChange:e.searchChange3,from:e.from3,to:e.to3,total:e.total3,perPage:e.perPage3}}),a("vuetable",{ref:"vuetable3",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase3,"query-params":e.makeQueryParams3,"per-page":e.perPage3,"reactive-api-url":!0,fields:e.fields3,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData3},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button-group",[a("div",{staticClass:"button-container"},[a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){return e.verResultado(t.rowData.id)}}},[e._v("Ver resultado")]),a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){return e.ImprimirResultado(t.rowData.id,t.rowData.nombre,t.rowData.fecha_hora)}}},[e._v("Imprimir Resultado")])],1)])]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination3",on:{"vuetable-pagination:change-page":e.onChangePage3}})]},proxy:!0}])})],1)],1)],1)},Ru=[],Vu={name:"Examenes",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H,IqCard:re["default"],Multiselect:Vi.a},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])({currentUser:"currentUser"})),data:function(){return{editorOptions:{modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],["clean"]]},placeholder:"Escribir contenido del resultado",theme:"snow"},tipo_examenes:[],formResultado:{id:null,id_campo:"",id_tipo:"",resultado:null,alarma:"",nota:null},camposResulado:[],campos:[],id_ver_Resultado:null,fromResultado:0,toResultado:0,totalResultado:0,perPageResultado:5,searchResultado:"",fechaDesdeResultado:null,fechaHastaResultado:null,apiBaseResultado:"",apiBaseResultadoTabla:"",itemsResultado:[],TituloResultado:"",fieldsResultado:[{name:"campo",title:"Prueba",sortField:"campo"},{name:"resultado",title:"Resultado",sortField:"resultado"},{name:"alarma",title:"Alarma",sortField:"alarma"},{name:"unidades",title:"Unidades",sortField:"unidades"},{name:"intervalo_referencia",title:"Intervalo de referencia",sortField:"valor_minimo"}],fieldsCampos:[{key:"nombre",label:"Nombre"},{key:"unidades",label:"Unidades"},{key:"resultado",label:"Resultado"}],isLoading:!1,examenes_almacenados:[],examenes_almacenadosBuscar:[],selectedExamenes:[],currentPageExa:1,expedientesExamenes:[],selectedExpediente:null,selectedExamenAlmacenado:null,encargados:[],medicos:[],anularExamen:3,TotalAPagar:0,examenId:null,form:{id:0,nombre:"",apellido:"",edad:null,cui:"NO DISPONIBLE",comision:"NO APLICA",total:0,correo:"",whatsapp:"",numero_muestra:0,existencia_actual:0,referido:"",factura:null,nit:null,id_encargado:null,pagado:0,por_pagar:0,id_examenes_almacenados:null,NewExpediente:!1,examenExterior:!1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",from:0,to:0,total:0,perPage:5,search:"",fechaDesde:null,fechaHasta:null,apiBase:q["a"]+"/Examenes_realizados/list",apiBase2:q["a"]+"/Examenes_realizados/list2",apiBase3:q["a"]+"/Examenes_realizados/list3",from2:0,to2:0,total2:0,perPage2:5,search2:"",from3:0,to3:0,total3:0,perPage3:5,search3:"",slickOptions:{centerMode:!1,centerPadding:"60px",slidesToShow:5,slidesToScroll:1,focusOnSelect:!0,responsive:[{breakpoint:992,settings:{arrows:!1,centerMode:!0,centerPadding:"30",slidesToShow:3}},{breakpoint:480,settings:{arrows:!1,centerMode:!0,centerPadding:"15",slidesToShow:1}}]},fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"nombre",title:"Nombre",dataClass:"list-item-heading"},{name:"edad",sortField:"edad",title:"Edad",dataClass:"list-item-heading"},{name:"cui",sortField:"cui",title:"CUI",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Total a Pagar",dataClass:"list-item-heading"},{name:"whatsapp",sortField:"whatsapp",title:"Celular",dataClass:"list-item-heading"},{name:"numero_muestra",sortField:"numero_muestra",title:"Numero de Muestra",dataClass:"list-item-heading"},{name:"nombre_encargago",sortField:"nombre_encargago",title:"Nombre de Encargado",dataClass:"list-item-heading"},{name:"pagado",sortField:"pagado",title:"Pagado",dataClass:"list-item-heading"},{name:"por_pagar",sortField:"por_pagar",title:"Por Pagar",dataClass:"list-item-heading"},{name:"nombre_examen",sortField:"nombre_examen",title:"Examen Realizado",dataClass:"list-item-heading"},{name:"fecha_hora",sortField:"fecha_hora",title:"Fecha y Hora",dataClass:"list-item-heading"},{name:"referido",sortField:"referido",title:"Quién solicitó",dataClass:"list-item-heading"}],fields2:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"nombre",title:"Nombre",dataClass:"list-item-heading"},{name:"edad",sortField:"edad",title:"Edad",dataClass:"list-item-heading"},{name:"cui",sortField:"cui",title:"CUI",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Total a Pagar",dataClass:"list-item-heading"},{name:"whatsapp",sortField:"whatsapp",title:"Celular",dataClass:"list-item-heading"},{name:"numero_muestra",sortField:"numero_muestra",title:"Numero de Muestra",dataClass:"list-item-heading"},{name:"nombre_encargago",sortField:"nombre_encargago",title:"Nombre de Encargado",dataClass:"list-item-heading"},{name:"pagado",sortField:"pagado",title:"Pagado",dataClass:"list-item-heading"},{name:"por_pagar",sortField:"por_pagar",title:"Por Pagar",dataClass:"list-item-heading"},{name:"nombre_examen",sortField:"nombre_examen",title:"Examen Realizado",dataClass:"list-item-heading"},{name:"fecha_hora",sortField:"fecha_hora",title:"Fecha y Hora",dataClass:"list-item-heading"},{name:"referido",sortField:"referido",title:"Quién solicitó",dataClass:"list-item-heading"}],fields3:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"nombre",title:"Nombre",dataClass:"list-item-heading"},{name:"edad",sortField:"edad",title:"Edad",dataClass:"list-item-heading"},{name:"whatsapp",sortField:"whatsapp",title:"Celular",dataClass:"list-item-heading"},{name:"numero_muestra",sortField:"numero_muestra",title:"Numero de Muestra",dataClass:"list-item-heading"},{name:"nombre_examen",sortField:"nombre_examen",title:"Examen Realizado",dataClass:"list-item-heading"},{name:"fecha_hora",sortField:"fecha_hora",title:"Fecha y Hora",dataClass:"list-item-heading"},{name:"referido",sortField:"referido",title:"Quién solicitó",dataClass:"list-item-heading"}]}},validations:function(){return{form:{edad:{required:_a["c"]},total:{required:_a["c"]},whatsapp:{required:_a["c"]},numero_muestra:{required:_a["c"]},pagado:{required:_a["c"]},por_pagar:{required:_a["c"]}}}},watch:{selectedExpediente:function(e){if(e.cui)this.form.nombre=e.nombres+" "+e.apellidos,this.form.cui=e.cui,this.form.whatsapp=e.telefono,this.form.id_expediente=e.id;else{var t=e.nombres.split(",").map((function(e){return e.trim()})),a=Object(Co["a"])(t,2),r=a[0],o=a[1];if(this.form.nombre=r.toUpperCase(),this.form.apellido=o?o.toUpperCase():"",this.form.NewExpediente=!0,!this.$v.form.nombre.$error){var i=e.nombres.split(",").map((function(e){return e.trim()})),n=Object(Co["a"])(i,2),s=n[0],l=n[1];this.form.nombre=s.toUpperCase(),this.form.apellido=l?l.toUpperCase():"",this.form.NewExpediente=!0}}},selectedExamenes:function(e){e?(this.TotalAPagar=e.reduce((function(e,t){return parseFloat(e)+parseFloat(t.precio_normal)}),0),this.form.total=this.TotalAPagar,this.form.id_examenes_almacenados=e.map((function(e){return e.id})),this.form.por_pagar=this.TotalAPagar):console.log("ERROR AL CARGAR EL TOTAL A PAGAR EN LA FUNCION WATCH")}},methods:{hasPermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.includes(this.currentUser.user_type)},getColorForAlarma:function(e){return"SI"===e?"text-danger-custom":"text-safe"},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal_agregar"].hide(),this.form.id=0,this.form.nombre="",this.form.cui=0,this.form.edad=null,this.form.comision="",this.form.total=0,this.form.correo="",this.form.whatsapp="",this.form.numero_muestra="",this.form.existencia_actual=0,this.form.referido="",this.form.id_encargado=null,this.form.pagado=0,this.form.por_pagar=0,this.form.nit=null,this.form.factura=null,this.form.id_examenes_almacenados=null,this.examenes_almacenados=[],this.expedientesExamenes=[],this.selectedExpediente=null,this.encargados=[],this.TotalAPagar=0,this.isLoading=!1,this.selectedExamenes=[],this.currentPageExa=1,this.examenes_almacenadosBuscar=[];break;case"resultado":this.$v.$reset(),this.$refs["modal-add-resultados"].hide(),this.formResultado.id=null,this.formResultado.tipo="",this.formResultado.resultado=null,this.formResultado.nota=null;break;case"verresultado":this.$v.$reset(),this.$refs["modal-ver-resultados"].hide();break}},mostrarConfirmacionAnulacion:function(e){this.examenId=e,this.$bvModal.show("modal-anular-examen")},confirmarAnulacion:function(e){this.anular(e),this.$bvModal.hide("modal-anular-examen")},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},anular:function(e){var t=this,a=q["a"]+"/Examenes_realizados/update?id=".concat(e);ie.a.put(a,{form:t.anularExamen}).then((function(e){t.alertVariant="success",t.showAlert(),t.alertText="Se ha ANULADO el examen",t.$refs.vuetable.refresh()})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText=e.response.data.msg,console.error("Error!",e)}))},onSave:function(){var e=this,t=this;ie.a.post(q["a"]+"/Examenes_realizados/create",{form:t.form,user:t.currentUser.user}).then((function(a){t.alertVariant="success",t.showAlert(),t.alertText="Se ingresado al paciente "+t.form.nombre+" exitosamente",t.$refs.vuetable.refresh(),t.$refs.vuetable2.refresh(),t.$refs.vuetable3.refresh(),t.closeModal("save"),e.$refs.vuetable.refresh()})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText=e.response.data.msg,console.error("Error!",e)}))},onSearch_expediente:function(e,t){e.length&&(t(!0),this.searching_expediente(e,t))},searching_expediente:function(e,t){var a=this;ie.a.get(q["a"]+"/expedientes/getSearcExamenes",{params:{search:e}}).then((function(r){r.data.some((function(t){return t.nombres+" "+t.apellidos===e}))||r.data.unshift({nombres:e}),a.expedientesExamenes=r.data,t(!1)}))},onSearch_tipoExamen:function(e,t){e.length&&(t(!0),this.searching_tipoExamen(e,t))},searching_tipoExamen:function(e,t){var a=this;ie.a.get(q["a"]+"/TipoExamenAlmacenado/getSearch",{params:{search:e}}).then((function(e){a.tipo_examenes=e.data,t(!1)}))},onSearch_id_examenes_almacenados:function(e,t){var a=this;this.isLoading=!0;var r={search:e,page:this.currentPageExa,perPage:this.$refs.vuetable.perPage};ie.a.get(q["a"]+"/examenesAlmacenadosBuscar/getSearch",{params:r}).then((function(e){a.examenes_almacenadosBuscar=e.data.data,a.$refs.vuetableBuscar.setData(e.data),a.isLoading=!1})).catch((function(e){console.error("Error al buscar exámenes:",e),a.isLoading=!1}))},onPageChangeExa:function(e){this.currentPageExa=e,this.onSearch_id_examenes_almacenados("")},onSearchEncargado:function(e,t){e.length&&(t(!0),this.searchingEncargado(e,t))},searchingEncargado:function(e,t){var a=this;ie.a.get(q["a"]+"/encargadoExamen/getSearch",{params:{search:e}}).then((function(e){a.encargados=e.data,t(!1)}))},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},realizarBusqueda:function(){this.$refs.vuetable.refresh(),this.fechaDesde=null,this.fechaHasta=null},makeQueryParams:function(e,t,a){return{criterio:e[0]?e[0].sortField:"updatedAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search,fechaDesde:this.fechaDesde?F()(this.fechaDesde).format("YYYY-MM-DD"):null,fechaHasta:this.fechaHasta?F()(this.fechaHasta).format("YYYY-MM-DD"):null}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data.map((function(e){return e.fecha_hora=F()(e.fecha_hora).format("DD/MM/YYYY HH:mm"),{fecha_hora:e.fecha_hora}})),this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},makeQueryParams2:function(e,t,a){return{criterio:e[0]?e[0].sortField:"updatedAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage2,search:this.search2,fechaDesde:this.fechaDesde?F()(this.fechaDesde).format("YYYY-MM-DD"):null,fechaHasta:this.fechaHasta?F()(this.fechaHasta).format("YYYY-MM-DD"):null}},changePageSizes2:function(e){this.perPage2=e,this.$refs.vuetable2.refresh()},searchChange2:function(e){this.search2=e.toLowerCase(),this.$refs.vuetable2.refresh()},onPaginationData2:function(e){this.from2=e.from,this.to2=e.to,this.total2=e.total,this.lastPage2=e.last_page,this.items2=e.data.map((function(e){return e.fecha_hora=F()(e.fecha_hora).format("DD/MM/YYYY HH:mm"),{fecha_hora:e.fecha_hora}})),this.$refs.pagination2.setPaginationData(e)},onChangePage2:function(e){this.$refs.vuetable2.changePage(e)},makeQueryParams3:function(e,t,a){return{criterio:e[0]?e[0].sortField:"updatedAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage3,search:this.search3,fechaDesde:this.fechaDesde?F()(this.fechaDesde).format("YYYY-MM-DD"):null,fechaHasta:this.fechaHasta?F()(this.fechaHasta).format("YYYY-MM-DD"):null}},changePageSizes3:function(e){this.perPage3=e,this.$refs.vuetable3.refresh()},searchChange3:function(e){this.search3=e.toLowerCase(),this.$refs.vuetable3.refresh()},onPaginationData3:function(e){this.from3=e.from,this.to3=e.to,this.total3=e.total,this.lastPage3=e.last_page,this.items3=e.data.map((function(e){return e.fecha_hora=F()(e.fecha_hora).format("DD/MM/YYYY HH:mm"),{fecha_hora:e.fecha_hora}})),this.$refs.pagination3.setPaginationData(e)},onChangePage3:function(e){this.$refs.vuetable3.changePage(e)},ImprimirResultado:function(e,t,a){var r=this;this.apiBaseResultado=q["a"]+"/detalleExamenRealizado/get?id=".concat(e),ie.a.get(this.apiBaseResultado).then((function(e){r.generarPDF(e.data,t,a)})).catch((function(e){console.error("Error al obtener los detalles del examen:",e)}))},addResultado:function(e,t){this.$refs["modal-add-resultados"].show(),this.formResultado.id=e,this.getFieldsByExamenId(t)},getFieldsByExamenId:function(e){var t=this;ie.a.get(q["a"]+"/campoLaboratorio/getByExamenId",{params:{id:e}}).then((function(e){t.camposResulado=e.data.map((function(e){return{id:e.id,nombre:e.nombre,unidades:e.unidades,resultado:"",id_tipo:e.id_examenes_almacenados}}));var a=e.data;t.campos=a})).catch((function(e){console.error("Error al obtener los campos del examen:",e)}))},onSaveResultados:function(){var e=this,t=this.camposResulado.map((function(t){return{id:e.formResultado.id,id_campo:t.id,id_tipo:t.id_tipo,resultado:t.resultado,nota:e.formResultado.nota}}));ie.a.post(q["a"]+"/detalleExamenRealizado/create",{resultados:t}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se han ingresado los resultados de los exámenes exitosamente",e.$refs.vuetable2.refresh(),e.$refs.vuetable3.refresh(),e.closeModal("resultado")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error al guardar los resultados!",t)}))},onValidateResultado:function(e){var t=this.camposResulado.filter((function(e){return""===e.resultado||null==e.resultado}));if(t.length>0)return this.alertErrorText="Revisa que todos los campos de resultado estén llenos.",void this.showAlertError();this.onSaveResultados()},verResultado:function(e){this.$refs["modal-ver-resultados"].show(),this.apiBaseResultadoTabla=q["a"]+"/detalleExamenRealizado/list?id=".concat(e)},realizarBusquedaResultado:function(){this.$refs.vuetableResultado.refresh(),this.fechaDesdeResultado=null,this.fechaHastaResultado=null},makeQueryParamsResultado:function(e,t,a){return{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPageResultado,search:this.searchResultado,fechaDesdeResultado:this.fechaDesdeResultado?F()(this.fechaDesdeResultado).format("YYYY-MM-DD"):null,fechaHastaResultado:this.fechaHastaResultado?F()(this.fechaHastaResultado).format("YYYY-MM-DD"):null}},changePageSizesResultado:function(e){this.perPageResultado=e,this.$refs.vuetableResultado.refresh()},searchChangeResultado:function(e){this.searchResultado=e.toLowerCase(),this.$refs.vuetableResultado.refresh()},onPaginationDataResultado:function(e){this.fromResultado=e.from,this.toResultado=e.to,this.totalResultado=e.total,this.lastPageResultado=e.last_page;var t=[];for(var a in e.data.forEach((function(e){var a=e.tipo_examen;t[a]||(t[a]=[]),t[a].push({campo:e.campo,resultado:parseFloat(e.resultado).toFixed(2),alarma:e.alarma||"",unidades:e.unidades||"",intervalo_referencia:null!==e.valor_minimo&&null!==e.valor_maximo?"".concat(parseFloat(e.valor_minimo).toFixed(2)," - ").concat(parseFloat(e.valor_maximo).toFixed(2)):"N/A"})})),this.itemsResultado=[],t)this.TituloResultado=a,this.itemsResultado.push({tipo_examen_titulo:a,isTitle:!0}),this.itemsResultado=this.itemsResultado.concat(t[a]);this.$refs.paginationResultado.setPaginationData(e)},onChangePageResultado:function(e){this.$refs.vuetableResultado.changePage(e)},generarPDF:function(e,t,a){var r=e.examenes.map((function(e){return{campo:e.campo,tipo_examen:e.tipo_examen,resultado:parseFloat(e.resultado).toFixed(2),unidades:e.unidades,intervalo:"".concat(parseFloat(e.valor_minimo).toFixed(2)," - ").concat(parseFloat(e.valor_maximo).toFixed(2)),alarma:null!==e.alarma?e.alarma:""}})),o=new Ma["default"];o.addImage(au.a,"JPEG",14,10,30,25),o.setFontSize(14).setFont(void 0,"bold"),o.text("LABORATORIO BIOMÉDICO E.O. S.A.",110,20,{align:"center"}),o.setFontSize(14).setFont(void 0,"bold"),o.text("RESULTADOS DE EXAMENES",105,30,{align:"center"}),o.setFontSize(14).setFont(void 0,"bold"),o.text("Paciente: ".concat(t,"           Fecha y Hora: ").concat(a),105,50,{align:"center"}),o.setFontSize(14).setFont(void 0,"bold"),o.text("".concat(e.NombreExamen),14,70,{align:"left"}),o.autoTable({head:[["Prueba","Resultado","Alarma","Unidades","Intervalo de referencia"]],body:r.map((function(e){return[e.campo,e.resultado,e.alarma,e.unidades,e.intervalo]})),startY:80,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),o.save("Resultados_Examen_".concat(F()().format("YYYY-MM-DD"),".pdf"))},onSearchDatosMedicos:function(e,t){e.length&&(t(!0),this.onSearchMedicos(e,t))},onSearchMedicos:function(e,t){var a=this;ie.a.get(q["a"]+"/voucher/getSearch",{params:{search:e}}).then((function(e){a.medicos=e.data.Medicos,t(!1)}))}}},zu=Vu,Hu=(a("d545"),Object($["a"])(zu,Nu,Ru,!1,null,null,null)),Lu=Hu.exports,Qu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-createExamen",attrs:{id:"modal-1-createExamen",title:"Agregar Examen"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onCreateTest()}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-1-createExamen")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar nombre del examen"},model:{value:e.varNombreExamen,callback:function(t){e.varNombreExamen="string"===typeof t?t.trim():t},expression:"varNombreExamen"}}),""===e.varNombreExamen?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1),a("b-form-group",{attrs:{label:"Precio ordinario:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar Precio ordinario"},model:{value:e.varPrecioNormal,callback:function(t){e.varPrecioNormal="string"===typeof t?t.trim():t},expression:"varPrecioNormal"}}),0===e.varPrecioNormal||null===e.varPrecioNormal?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el Precio ordinario ")]):e._e()],1),a("b-form-group",{attrs:{label:"Precio costo:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar Precio ordinario"},model:{value:e.varPrecioCosto,callback:function(t){e.varPrecioCosto="string"===typeof t?t.trim():t},expression:"varPrecioCosto"}}),0===e.varPrecioCosto||null===e.varPrecioCosto?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el Precio costo ")]):e._e()],1),a("b-form-group",{attrs:{label:"Precio extraordinario:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar Precio extraordinario"},model:{value:e.varPrecioSobrecargo,callback:function(t){e.varPrecioSobrecargo="string"===typeof t?t.trim():t},expression:"varPrecioSobrecargo"}}),0===e.varPrecioSobrecargo||null===e.varPrecioSobrecargo?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el Precio extraordinario ")]):e._e()],1)],1),a("b-form-group",{attrs:{label:"Tipo de examen:"}},[a("v-select",{attrs:{name:"tipo",options:e.tipos,filterable:!1,placeholder:"Ingresar tipo del examen"},scopedSlots:e._u([{key:"option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}}]),model:{value:e.varTipo,callback:function(t){e.varTipo=t},expression:"varTipo"}}),""===e.varTipo?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el tipo ")]):e._e()],1)],1),a("b-modal",{ref:"modal-2-updateExamen",attrs:{id:"modal-2-updateExamen",title:"Actualizar Examen"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onUpdateTest()}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-2-updateExamen")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{placeholder:"Ingresar nombre del examen"},model:{value:e.varNombreExamen,callback:function(t){e.varNombreExamen="string"===typeof t?t.trim():t},expression:"varNombreExamen"}}),""===e.varNombreExamen?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1),a("b-form-group",{attrs:{label:"Precio ordinario:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar Precio ordinario"},model:{value:e.varPrecioNormal,callback:function(t){e.varPrecioNormal="string"===typeof t?t.trim():t},expression:"varPrecioNormal"}}),0===e.varPrecioNormal||null===e.varPrecioNormal?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el Precio ordinario ")]):e._e()],1),a("b-form-group",{attrs:{label:"Precio costo:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar Precio ordinario"},model:{value:e.varPrecioCosto,callback:function(t){e.varPrecioCosto="string"===typeof t?t.trim():t},expression:"varPrecioCosto"}}),0===e.varPrecioCosto||null===e.varPrecioCosto?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el Precio costo ")]):e._e()],1),a("b-form-group",{attrs:{label:"Precio extraordinario:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar Precio extraordinario"},model:{value:e.varPrecioSobrecargo,callback:function(t){e.varPrecioSobrecargo="string"===typeof t?t.trim():t},expression:"varPrecioSobrecargo"}}),0===e.varPrecioSobrecargo||null===e.varPrecioSobrecargo?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el Precio extraordinario ")]):e._e()],1)],1),a("b-form-group",{attrs:{label:"Tipo de examen:"}},[a("v-select",{attrs:{name:"tipo",options:e.tipos,filterable:!1,placeholder:"Ingresar tipo del examen"},scopedSlots:e._u([{key:"option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}}]),model:{value:e.varTipo,callback:function(t){e.varTipo=t},expression:"varTipo"}}),""===e.varTipo?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el tipo ")]):e._e()],1)],1),a("b-modal",{ref:"modal-3-equipo",attrs:{id:"modal-3-equipo",title:"Desactivar equipo"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-equipo")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-equipo")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el equipo: "+e._s(e.form.nombre)+" ? ")])],1),a("b-modal",{ref:"modal-4-equipo",attrs:{id:"modal-4-equipo",title:"Activar equipo"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-equipo")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-equipo")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al equipo: "+e._s(e.form.nombre)+" ? ")])],1),a("b-modal",{ref:"modal-5-campos",attrs:{id:"modal-5-campos",title:"Campos",size:"xl"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-5-campos")}}},[e._v("Cerrar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" Campos de "+e._s(e.form.nombreExamen)+" ")]),a("b-table",{ref:"table_campos",attrs:{hover:"",items:e.campos,fields:e.fieldsCampos,"select-mode":"single",selectable:""},scopedSlots:e._u([{key:"cell(show_details)",fn:function(t){return[a("b-button",{staticClass:"mr-2",attrs:{size:"sm"},on:{click:function(){e.setDataAttribute(t.item),t.toggleDetails()},close:function(t){return e.clearDataAttribute()}}},[e._v(" Editar ")])]}},{key:"row-details",fn:function(t){return[a("b-card",[a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{placeholder:t.item.nombre,default:""},model:{value:e.varNombreCampoEdit,callback:function(t){e.varNombreCampoEdit="string"===typeof t?t.trim():t},expression:"varNombreCampoEdit"}}),""===e.varNombreCampoEdit?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1),a("b-form-group",{attrs:{label:"valor de referencia mínimo:"}},[a("b-form-input",{attrs:{type:"number",placeholder:t.itemvalor_minimo},model:{value:e.varValorMinimoEdit,callback:function(t){e.varValorMinimoEdit="string"===typeof t?t.trim():t},expression:"varValorMinimoEdit"}}),e.varValorMinimoEdit<0||null===e.varValorMinimoEdit?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el valor de referencia mínimo ")]):e._e()],1),a("b-form-group",{attrs:{label:"valor de referencia máximo:"}},[a("b-form-input",{attrs:{type:"number",placeholder:t.item.valor_maximo},model:{value:e.varValorMaximoEdit,callback:function(t){e.varValorMaximoEdit="string"===typeof t?t.trim():t},expression:"varValorMaximoEdit"}}),0===e.varValorMaximoEdit||null===e.varValorMaximoEdit?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el valor de referencia máximo ")]):e._e()],1)],1),a("b-form-group",{attrs:{label:"Unidades:"}},[a("b-form-input",{attrs:{placeholder:t.item.unidades},model:{value:e.varUnidadesEdit,callback:function(t){e.varUnidadesEdit="string"===typeof t?t.trim():t},expression:"varUnidadesEdit"}}),""===e.varUnidadesEdit?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar las unidades ")]):e._e()],1),a("b-button",{attrs:{variant:"primary"},on:{click:function(a){return e.onUpdateAttributes(t.item)}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(){e.clearDataAttribute(),t.toggleDetails()}}},[e._v("Cancelar")])],1)]}}])}),a("b-card",{ref:"newAttributeCard"},[e._v(" AGREGAR CAMPO "),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{ref:"input1",attrs:{placeholder:"Ingresar nombre",default:""},model:{value:e.varNombreCampo,callback:function(t){e.varNombreCampo=t},expression:"varNombreCampo"}}),""===e.varNombreCampo?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1),a("b-form-group",{attrs:{label:"valor de referencia mínimo:"}},[a("b-form-input",{ref:"input2",attrs:{type:"number",placeholder:"Ingresar valor de referencia mínimo"},model:{value:e.varValorMinimo,callback:function(t){e.varValorMinimo=t},expression:"varValorMinimo"}}),0===e.varValorMinimo||null===e.varValorMinimo?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el valor de referencia mínimo ")]):e._e()],1),a("b-form-group",{attrs:{label:"valor de referencia máximo:"}},[a("b-form-input",{ref:"input3",attrs:{type:"number",placeholder:"Ingresar valor de referencia máximo"},model:{value:e.varValorMaximo,callback:function(t){e.varValorMaximo=t},expression:"varValorMaximo"}}),0===e.varValorMaximo||null===e.varValorMaximo?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el valor de referencia máximo ")]):e._e()],1)],1),a("b-form-group",{attrs:{label:"Unidades:"}},[a("b-form-input",{ref:"input4",attrs:{placeholder:"Ingresar unidades"},model:{value:e.varUnidades,callback:function(t){e.varUnidades=t},expression:"varUnidades"}}),""===e.varUnidades?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar las unidades ")]):e._e()],1),a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onNewAttribute()}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(e){return this.$refs["modal-5-campos"].hide()}}},[e._v("Cancelar")]),a("b-button",{on:{click:e.clearDataAttribute}},[e._v("Limpiar")])],1)],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Exámenes disponibles en laboratorio")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-createExamen",modifiers:{"modal-1-createExamen":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("div",{staticClass:"button-container"},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-2-updateExamen",modifiers:{"modal-2-updateExamen":!0}}],staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){return e.setDataEdit(t.rowData)}}},[e._v("Actualizar examen")]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-5-campos",modifiers:{"modal-5-campos":!0}}],staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"success"},on:{click:function(a){return e.setData(t.rowData)}}},[e._v("Verificar campos")])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},Uu=[],ju={name:"ExamenesAlmacenados",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index(),this.getTipos()},data:function(){return{varTipo:"",varPrecioSobrecargo:0,varPrecioNormal:0,varPrecioCosto:0,varNombreExamen:"",varNombreCampo:"",varValorMaximo:0,varValorMinimo:0,varUnidades:"",from:0,to:0,total:0,perPage:5,search:"",campos:[],tipos:[],fieldsCampos:[{key:"nombre",label:"Campo",sortable:!0},{key:"valor_minimo",label:"Valor de Referencia Mínimo",sortable:!0},{key:"valor_maximo",label:"Valor de Referencia Máximo",sortable:!0},{key:"unidades",label:"Unidades",sortable:!0},{key:"show_details",label:"Acciones",sortable:!0}],form:{id:0,nombreExamen:"",cantidad_usos:0,precio_publico:0,gasto_unico:0,fecha_adquisicion:"",existencia:0,state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/laboratoriosAlmacenados/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"nombre",title:"Nombre",dataClass:"list-item-heading"},{name:"precio_costo",sortField:"precio_costo",title:"Precio costo",dataClass:"list-item-heading"},{name:"precio_normal",sortField:"precio_normal",title:"Precio ordinario",dataClass:"list-item-heading"},{name:"precio_sobrecargo",sortField:"precio_sobrecargo",title:"Precio extraordinario",dataClass:"list-item-heading"},{name:"tipo_examen",sortField:"tipo_examen",title:"Tipo",dataClass:"list-item-heading"}]}},validations:function(){return{form:{nombre:{required:_a["c"]},cantidad_usos:{required:_a["c"]},precio_publico:{required:_a["c"]},gasto_unico:{required:_a["c"]},fecha_adquisicion:{required:_a["c"]},existencia:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.nombre="",this.form.cantidad_usos=0,this.form.precio_publico=0,this.form.precio_costo=0,this.form.gasto_unico=0,this.form.fecha_adquisicion="",this.form.existencia=0,this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-createExamen"].hide(),this.form.id=0,this.form.nombre="",this.form.cantidad_usos=0,this.form.precio_publico=0,this.form.precio_costo=0,this.form.gasto_unico=0,this.form.fecha_adquisicion="",this.form.existencia=0,this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-equipo"].hide(),this.form.id=0,this.form.nombre="",this.form.cantidad_usos=0,this.form.precio_publico=0,this.form.precio_costo=0,this.form.gasto_unico=0,this.form.fecha_adquisicion="",this.form.existencia=0,this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.id=e.id,this.form.nombreExamen=e.nombre,this.getDetail(e.id)},setDataAttribute:function(e){this.varNombreCampoEdit=e.nombre,this.varValorMaximoEdit=e.valor_maximo,this.varValorMinimoEdit=e.valor_minimo,this.varUnidadesEdit=e.unidades},clearDataAttribute:function(){console.log(this.varNombreCampo),console.log("CLEAR"),this.varNombreCampo="",this.varValorMaximo=0,this.varValorMinimo=0,this.varUnidades="",console.log(this.varNombreCampo)},setDataEdit:function(e){this.form.id=e.id,this.form.nombreExamen=e.nombre,this.varNombreExamen=e.nombre,this.varPrecioNormal=e.precio_normal,this.varPrecioCosto=e.precio_costo,this.varPrecioSobrecargo=e.precio_sobrecargo,this.varTipo=e.tipo_examen},onSave:function(){var e=this;ie.a.post(q["a"]+"/equipos/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el equipo "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/equipos/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el equipo "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/equipos/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el equipo "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-equipo"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/equipos/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el equipo "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-equipo"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},getDetail:function(e){var t=this;ie.a.get(q["a"]+"/campoLaboratorio/getByExamen",{params:{id_examenes_almacenados:e}}).then((function(e){t.campos=e.data}))},onCreateTest:function(){var e=this;if(""===this.varTipo||""===this.varNombreExamen||0===this.varPrecioNormal||null===this.varPrecioNormal||0===this.varPrecioCosto||null===this.varPrecioCosto||0===this.varPrecioSobrecargo||null===this.varPrecioSobrecargo)this.alertErrorText="Verifique los datos ingresados",this.showAlertError();else{var t=this;ie.a.post(q["a"]+"/laboratoriosAlmacenados/create",{nombre:this.varNombreExamen,precio_normal:this.varPrecioNormal,precio_costo:this.varPrecioCosto,precio_sobrecargo:this.varPrecioSobrecargo,tipo_examen:this.varTipo.nombre}).then((function(a){t.alertVariant="info",t.showAlert(),t.alertText="Se ha egresado el paciente "+t.form.nombreExamen+" exitosamente",t.$refs.vuetable.refresh(),t.$refs["modal-1-createExamen"].hide(),e.varNombreExamen="",e.varPrecioNormal=0,e.varPrecioCosto=0,e.varPrecioSobrecargo=0,e.varTipo="",e.form.nombreExamen=""})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",e)}))}},onUpdateTest:function(){var e=this;if(""===this.varTipo||""===this.varNombreExamen||0===this.varPrecioNormal||null===this.varPrecioNormal||0===this.varPrecioCosto||null===this.varPrecioCosto||0===this.varPrecioSobrecargo||null===this.varPrecioSobrecargo)this.alertErrorText="Verifique los datos ingresados",this.showAlertError();else{var t=this;ie.a.put(q["a"]+"/laboratoriosAlmacenados/update",{id:this.form.id,nombre:this.varNombreExamen,precio_normal:this.varPrecioNormal,precio_costo:this.varPrecioCosto,precio_sobrecargo:this.varPrecioSobrecargo,tipo_examen:this.varTipo.nombre}).then((function(a){t.alertVariant="info",t.showAlert(),t.alertText="Se ha modificado el examen exitosamente",t.$refs.vuetable.refresh(),t.$refs["modal-2-updateExamen"].hide(),e.varNombreExamen="",e.varPrecioNormal=0,e.varPrecioCosto=0,e.varPrecioSobrecargo=0,e.varTipo="",e.form.nombreExamen=""})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",e)}))}},onUpdateAttributes:function(e){var t=this;""===this.varNombreCampoEdit&&(this.varNombreCampoEdit=e.nombre),0!==this.varValorMaximoEdit&&null!==this.varValorMaximoEdit||(this.varValorMaximoEdit=e.valor_maximo),0!==this.varValorMinimoEdit&&null!==this.varValorMinimoEdit||(this.varValorMinimoEdit=e.valor_minimo),""===this.varUnidadesEdit&&(this.varUnidadesEdit=e.unidades),ie.a.put(q["a"]+"/campoLaboratorio/update",{id:e.id,nombre:this.varNombreCampoEdit,valor_maximo:this.varValorMaximoEdit,valor_minimo:this.varValorMinimoEdit,unidades:this.varUnidadesEdit}).then((function(a){t.getDetail(e.id_examenes_almacenados),t.alertVariant="info",t.showAlertError(),t.alertErrorText="Se ha modificado el campo "+t.varNombreCampoEdit+" exitosamente",t.$refs.table_campos.refresh(),t.varNombreCampoEdit="",t.varValorMaximoEdit=0,t.varValorMinimoEdit=0,t.varUnidadesEdit=""})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",e)}))},onNewAttribute:function(){var e=this;""===this.varNombreCampo||0===this.varValorMaximo||null===this.varValorMaximo||this.varValorMinimo<0||null===this.valor_minimo||""===this.varUnidades?(this.alertErrorText="Verifique los datos ingresados",this.showAlertError()):ie.a.post(q["a"]+"/campoLaboratorio/create",{id_examenes_almacenados:this.form.id,nombre:this.varNombreCampo,valor_maximo:this.varValorMaximo,valor_minimo:this.varValorMinimo,unidades:this.varUnidades}).then((function(t){e.getDetail(e.form.id),e.alertVariant="info",e.alertText="Se ha añadido el campo "+e.varNombreCampo+" exitosamente",e.showAlert(),e.$refs.table_campos.refresh(),e.varNombreCampo="",e.varValorMaximo=0,e.varValorMinimo=0,e.varUnidades="",e.varNombreCampo=""})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},getTipos:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ie.a.get(q["a"]+"/tipos_examenes/get").then((function(t){e.tipos=t.data.slice()}));case 2:case"end":return t.stop()}}),t)})))()}}},Yu=ju,Bu=Object($["a"])(Yu,Qu,Uu,!1,null,null,null),Gu=Bu.exports,Zu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("REPORTES EXAMENES")]),a("div",[a("b-form-group",{attrs:{label:"Seleccione el tipo de reporte que quiere generar"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.ariaDescribedby;return[a("b-form-radio-group",{attrs:{id:"radio-group-2","aria-describedby":r,name:"radio-sub-component"},on:{change:function(t){e.selectedReport=null,e.reportItems=[],e.startDate=null,e.endDate=null}},model:{value:e.selectedArea,callback:function(t){e.selectedArea=t},expression:"selectedArea"}},[a("b-form-radio",{attrs:{value:"1"},on:{change:function(t){return e.onReportChange()}}},[e._v("Reporte general de exámenes")]),a("b-form-radio",{attrs:{value:"2"},on:{change:function(t){return e.onReportChange()}}},[e._v("Reporte de exámenes más realizados y menos realizados")]),a("b-form-radio",{attrs:{value:"3"},on:{change:function(t){return e.onReportChange()}}},[e._v("Reporte de exámenes realizados hoy")]),a("b-form-radio",{attrs:{value:"4"},on:{change:function(t){return e.onReportChange()}}},[e._v("Reporte de exámenes por médico referente")])],1)]}}])})],1),"4"===e.selectedArea?a("div",[a("b-form-group",{attrs:{label:"Seleccionar Medico"}},[a("v-select",{attrs:{name:"medico",options:e.medicos,filterable:!1,placeholder:"Seleccione el médico"},on:{search:e.onSearchDatosMedicos},scopedSlots:e._u([{key:"option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}}],null,!1,103308237),model:{value:e.selectedMedico,callback:function(t){e.selectedMedico=t},expression:"selectedMedico"}})],1)],1):e._e(),a("div",[a("label",{attrs:{for:"start-date"}},[e._v("Fecha de inicio")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"start-date",placeholder:"Seleccione la fecha de inicio"},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}})],1),a("div",[a("label",{attrs:{for:"end-date"}},[e._v("Fecha de fin")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"end-date",placeholder:"Seleccione la fecha de fin"},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}})],1),null!=e.selectedArea&&e.startDate&&e.endDate?a("div",[a("b-button",{attrs:{variant:"primary"},on:{click:e.validarPDF}},[e._v("Generar PDF")]),a("b-button",{attrs:{variant:"primary"},on:{click:e.validarEXCEL}},[e._v("Descargar Excel")])],1):e._e()]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("b-table",{ref:"reportTable",attrs:{hover:"",items:e.reportItems,"select-mode":"single",selectable:""}})]},proxy:!0}])})],1)],1)],1)},Wu=[],Ku=(a("5db7"),a("73d9"),a("cf5a")),Ju=a.n(Ku),Xu={name:"CuentasPendientes",setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},data:function(){return{reportItems:[],reportFields:[{key:"total",label:"Total",sortable:!0}],selectedReport:null,startDate:null,endDate:null,selectedArea:"1",pdf_select:1,id_medico:null,NombreMedico:null,selectedMedico:null,medicos:[]}},watch:{selectedMedico:function(e){e?(this.id_medico=e.id,this.NombreMedico=e.nombre):(this.pacientes=[],this.formVoucher.cantidad=0,console.log("Ningun medico seleccionado, pacientes limpiados"))}},methods:{onReportChange:function(){var e=this;"1"===this.selectedArea?this.pdf_select=1:"2"===this.selectedArea?this.pdf_select=2:"3"===this.selectedArea?this.pdf_select=3:"4"===this.selectedArea&&(this.pdf_select=4),this.$nextTick((function(){e.$refs.reportTable.refresh()}))},validarPDF:function(){if(!this.startDate||!this.endDate)return alert("Por favor, seleccione las fechas antes de continuar."),void(this.selectedReport=null);this.ReporteExamenes(this.startDate,this.endDate)},onSearchDatosMedicos:function(e,t){e.length&&(t(!0),this.onSearchMedicos(e,t))},onSearchMedicos:function(e,t){var a=this;ie.a.get(q["a"]+"/voucher/getSearch",{params:{search:e}}).then((function(e){a.medicos=e.data.Medicos,t(!1)}))},ReporteExamenes:function(e,t){var a=this;1===this.pdf_select?ie.a.get(q["a"]+"/reporte/laboratio/examenesGeneral",{params:{fechaInicio:e,fechaFin:t}}).then((function(r){a.generarPDFexamenes(r.data,e,t),console.log(r.data)})).catch((function(e){console.error("Error al onbtener datos para el reporte 1:",e),a.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",a.showAlertError()})):2===this.pdf_select?ie.a.get(q["a"]+"/reporte/laboratio/MasMenosRealizados",{params:{fechaInicio:e,fechaFin:t}}).then((function(r){a.generarPDFexamenes(r.data,e,t),console.log(r.data)})).catch((function(e){console.error("Error al onbtener datos para el reporte 1:",e),a.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",a.showAlertError()})):3===this.pdf_select?ie.a.get(q["a"]+"/reporte/laboratio/examenesDiarios",{params:{fechaInicio:e,fechaFin:t}}).then((function(r){a.generarPDFexamenes(r.data,e,t),console.log(r.data)})).catch((function(e){console.error("Error al onbtener datos para el reporte 1:",e),a.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",a.showAlertError()})):4===this.pdf_select&&ie.a.get(q["a"]+"/reporte/laboratio/porMedico",{params:{idMedico:this.id_medico,fechaInicio:e,fechaFin:t}}).then((function(r){a.generarPDFexamenes(r.data,e,t),console.log(r.data)})).catch((function(e){console.error("Error al onbtener datos para el reporte 1:",e),a.alertErrorText="Hubo un problema al generar el reporte. Por favor, intente nuevamente.",a.showAlertError()}))},generarPDFexamenes:function(e,t,a){var r=e,o=t,i=a;try{var n=new Ma["default"];if(n.addImage(Ju.a,"JPEG",14,10,30,25),n.setFontSize(14).setFont(void 0,"bold"),n.text("LABORATORIO BIOMÉDICO E.O S.A.",110,20,{align:"center"}),n.setFontSize(10).setFont(void 0,"normal"),n.text("6ta. Calle 12-28 Zona 3 Quetzaltenango",110,26,{align:"center"}),1===this.pdf_select){n.setFontSize(16),n.text("Reporte General de Exámenes",105,50,{align:"center"}),n.setFontSize(12),n.text("Desde: ".concat(F()(o).format("DD/MM/YYYY")," | Hasta: ").concat(F()(i).format("DD/MM/YYYY")),105,58,{align:"center"});var s=[];r.forEach((function(e,t){s.push([t+1,e.nombreExamen,"".concat(F()(e.fechaInicio).format("DD/MM/YYYY")," -").concat(F()(e.fechaFin).format("DD/MM/YYYY")),"Q ".concat(e.totalGenerado.toFixed(2))])})),n.autoTable({head:[["#","Nombre del Examen","Rango Fechas","Total Generado"]],body:s,startY:70,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),n.save("reporte_General_examenes_".concat(o,"_a_").concat(i,".pdf"))}else if(2===this.pdf_select){n.setFontSize(16),n.text("Reporte de Exámenes Más Realizados y Menos Realizados",105,50,{align:"center"}),n.setFontSize(12),n.text("Desde: ".concat(F()(o).format("DD/MM/YYYY")," | Hasta: ").concat(F()(i).format("DD/MM/YYYY")),105,58,{align:"center"});var l=[];r.forEach((function(e,t){l.push([t+1,e.examenes_almacenado.nombre,"".concat(F()(o).format("DD/MM/YYYY")," - ").concat(F()(i).format("DD/MM/YYYY")),"".concat(e.cantidad)])})),n.autoTable({head:[["#","Nombre del Examen","Rango Fechas","Total Realizados"]],body:l,startY:70,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),n.save("reporte_examenes_Mas_y_Menos_Realizados_".concat(o,"_a_").concat(i,".pdf"))}else if(3===this.pdf_select){var c={1:{estado:"En progreso",examenes:[]},2:{estado:"Pagados",examenes:[]},3:{estado:"Con resultados",examenes:[]},4:{estado:"Anulados",examenes:[]}};r.forEach((function(e){c[e.estado]&&c[e.estado].examenes.push({nombre_examen:e.nombre_examen,nombre_paciente:e.nombre_paciente,total:"Q ".concat(e.total.toFixed(2)),fecha:"".concat(F()(e.fecha).format("DD/MM/YYYY")),estado:c[e.estado].estado})})),n.setFontSize(16),n.text("Reporte de Exámenes Diarios",105,50,{align:"center"}),n.setFontSize(12),n.text("Desde: ".concat(F()(o).format("DD/MM/YYYY")," | Hasta: ").concat(F()(i).format("DD/MM/YYYY")),105,58,{align:"center"});var d=65;Object.keys(c).forEach((function(e){var t=c[e],a=t.estado,r=t.examenes;if(r.length>0){n.setFontSize(14),n.text("Examenes ".concat(a),14,d);var o=[];r.forEach((function(e,t){o.push([t+1,e.nombre_examen,e.nombre_paciente,e.total,e.fehca,e.estado])})),n.autoTable({head:[["#","Nombre del Examen","Nombre del Paciente","Total","Fecha","Estado"]],body:o,startY:d+5,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),d=n.lastAutoTable.finalY+10,d>270&&(n.addPage(),d=20)}})),n.save("reporte_examenes_diarios_".concat(o,"_a_").concat(i,".pdf"))}else if(4===this.pdf_select){var m=r.flatMap((function(e){return e.examenes})),u={1:{estado:"En progreso",examenesOrdenados:[]},2:{estado:"Pagados",examenesOrdenados:[]},3:{estado:"Con resultados",examenesOrdenados:[]},4:{estado:"Anulados",examenesOrdenados:[]}};m.forEach((function(e){u[e.estado]&&u[e.estado].examenesOrdenados.push({nombre_examen:e.nombre_examen,nombre_paciente:e.nombre_paciente,total:"Q ".concat(Number(e.total).toFixed(2)),fecha:F()(e.fecha).format("DD/MM/YYYY"),estado:u[e.estado].estado})})),n.setFontSize(16),n.text("Reporte Examenes por Medico",105,50,{align:"center"}),n.setFontSize(12),n.text("Desde: ".concat(F()(o).format("DD/MM/YYYY")," | Hasta: ").concat(F()(i).format("DD/MM/YYYY")),105,58,{align:"center"}),n.setFontSize(12),n.text("MEDICO: ".concat(this.NombreMedico),105,65,{align:"center"});var f=75;Object.keys(u).forEach((function(e){var t=u[e],a=t.estado,r=t.examenesOrdenados;if(r.length>0){n.setFontSize(14),n.text("Examenes ".concat(a),14,f);var o=[];r.forEach((function(e,t){o.push([t+1,e.nombre_examen,e.nombre_paciente,e.total,e.fecha,e.estado])})),n.autoTable({head:[["#","Nombre del Examen","Nombre del Paciente","Total","Fecha","Estado"]],body:o,startY:f+5,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),f=n.lastAutoTable.finalY+10,f>270&&(n.addPage(),f=20)}})),n.save("reporte_examenes_por_medico_".concat(o,"_a_").concat(i,".pdf"))}}catch(h){console.error("Error al generar el reporte:",h),alert("Ocurrió un error al generar el reporte. Por favor, intente de nuevo.")}}}},ef=Xu,tf=Object($["a"])(ef,Zu,Wu,!1,null,null,null),af=tf.exports,rf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{sm:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"body",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("LISTADO DE COMISIONES A MEDICOS")]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-md-6"},[a("b-form-group",{attrs:{label:"Buscar por Nombre de Médico:"}},[a("b-form-input",{attrs:{type:"text",placeholder:"Ingrese el nombre del médico..."},model:{value:e.searchMedico,callback:function(t){e.searchMedico=t},expression:"searchMedico"}})],1)],1)]),a("b-table",{staticClass:"table",attrs:{items:e.filteredExamenes,fields:e.fields,responsive:"",striped:"",hover:""},scopedSlots:e._u([{key:"cell(nombre_medico)",fn:function(t){return[a("strong",[e._v(e._s(t.value))])]}},{key:"cell(total)",fn:function(t){return[e._v(" Q "+e._s(t.value.toFixed(2))+" ")]}}])})]},proxy:!0}])})],1)],1)],1)},of=[],nf={name:"Incentivos",data:function(){return{searchMedico:"",examenes:[],fields:[{key:"nombre_medico",label:"Nombre del Médico"},{key:"nombre_examen",label:"Examen Realizado"},{key:"nombre_paciente",label:"Nombre del Paciente"},{key:"total",label:"Total"},{key:"fecha",label:"Fecha"}]}},computed:{filteredExamenes:function(){var e=this;return this.searchMedico?this.examenes.filter((function(t){return t.nombre_medico.toLowerCase().includes(e.searchMedico.toLowerCase())})):this.examenes}},methods:{fetchExamenes:function(){var e=this;return Object(pe["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(q["a"]+"/reporte/laboratio/comisiones");case 3:return a=t.sent,t.next=6,a.json();case 6:r=t.sent,e.examenes=Array.isArray(r)?r:r.items||[],t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error("Error al obtener los exámenes:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()}},mounted:function(){this.fetchExamenes()}},sf=nf,lf=(a("4e1a"),Object($["a"])(sf,rf,of,!1,null,null,null)),cf=lf.exports,df=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-equipo",attrs:{id:"modal-1-equipo",title:"Agregar equipo"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre del equipo"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1),a("b-form-group",{attrs:{label:"Cantidad de usos actual:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.cantidad_usos.$error,placeholder:"Ingresar cantidad de usos actual del equipo"},model:{value:e.$v.form.cantidad_usos.$model,callback:function(t){e.$set(e.$v.form.cantidad_usos,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.cantidad_usos.$model"}}),e.$v.form.cantidad_usos.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la cantidad de usos ")]):e._e()],1),a("b-form-group",{attrs:{label:"Precio público:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.precio_publico.$error,placeholder:"Ingresar precio público del equipo"},model:{value:e.$v.form.precio_publico.$model,callback:function(t){e.$set(e.$v.form.precio_publico,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio_publico.$model"}}),e.$v.form.precio_publico.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el precio público ")]):e._e()],1),a("b-form-group",{attrs:{label:"Gasto único:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.gasto_unico.$error,placeholder:"Ingresar gasto único del equipo"},model:{value:e.$v.form.gasto_unico.$model,callback:function(t){e.$set(e.$v.form.gasto_unico,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.gasto_unico.$model"}}),e.$v.form.gasto_unico.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el gasto único ")]):e._e()],1),a("b-form-group",{attrs:{label:"Fecha de adquisición:"}},[a("b-form-input",{attrs:{type:"date",state:!e.$v.form.fecha_adquisicion.$error,placeholder:"Ingresar fecha de adquisición del equipo"},model:{value:e.$v.form.fecha_adquisicion.$model,callback:function(t){e.$set(e.$v.form.fecha_adquisicion,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.fecha_adquisicion.$model"}}),e.$v.form.fecha_adquisicion.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la fecha de adquisición ")]):e._e()],1),a("b-form-group",{attrs:{label:"Existencia:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.existencia.$error,placeholder:"Ingresar existencia del equipo"},model:{value:e.$v.form.existencia.$model,callback:function(t){e.$set(e.$v.form.existencia,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia.$model"}}),e.$v.form.existencia.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-2-equipo",attrs:{id:"modal-2-equipo",title:"Editar equipo"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("update")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.nombre.$error,placeholder:"Ingresar nombre del equipo"},model:{value:e.$v.form.nombre.$model,callback:function(t){e.$set(e.$v.form.nombre,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombre.$model"}}),e.$v.form.nombre.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1),a("b-form-group",{attrs:{label:"Cantidad de usos actual:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.cantidad_usos.$error,placeholder:"Ingresar cantidad de usos actual del equipo"},model:{value:e.$v.form.cantidad_usos.$model,callback:function(t){e.$set(e.$v.form.cantidad_usos,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.cantidad_usos.$model"}}),e.$v.form.cantidad_usos.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la cantidad de usos ")]):e._e()],1),a("b-form-group",{attrs:{label:"Precio público:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.precio_publico.$error,placeholder:"Ingresar precio público del equipo"},model:{value:e.$v.form.precio_publico.$model,callback:function(t){e.$set(e.$v.form.precio_publico,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.precio_publico.$model"}}),e.$v.form.precio_publico.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el precio público ")]):e._e()],1),a("b-form-group",{attrs:{label:"Gasto único:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.gasto_unico.$error,placeholder:"Ingresar gasto único del equipo"},model:{value:e.$v.form.gasto_unico.$model,callback:function(t){e.$set(e.$v.form.gasto_unico,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.gasto_unico.$model"}}),e.$v.form.gasto_unico.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el gasto único ")]):e._e()],1),a("b-form-group",{attrs:{label:"Fecha de adquisición:"}},[a("b-form-input",{attrs:{type:"date",state:!e.$v.form.fecha_adquisicion.$error,placeholder:"Ingresar fecha de adquisición del equipo"},model:{value:e.$v.form.fecha_adquisicion.$model,callback:function(t){e.$set(e.$v.form.fecha_adquisicion,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.fecha_adquisicion.$model"}}),e.$v.form.fecha_adquisicion.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la fecha de adquisición ")]):e._e()],1),a("b-form-group",{attrs:{label:"Existencia:"}},[a("b-form-input",{attrs:{type:"number",state:!e.$v.form.existencia.$error,placeholder:"Ingresar existencia del equipo"},model:{value:e.$v.form.existencia.$model,callback:function(t){e.$set(e.$v.form.existencia,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.existencia.$model"}}),e.$v.form.existencia.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar la existencia ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-3-equipo",attrs:{id:"modal-3-equipo",title:"Desactivar equipo"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-equipo")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-equipo")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el equipo: "+e._s(e.form.nombre)+" ? ")])],1),a("b-modal",{ref:"modal-4-equipo",attrs:{id:"modal-4-equipo",title:"Activar equipo"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-equipo")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-equipo")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al equipo: "+e._s(e.form.nombre)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Equipos")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-equipo",modifiers:{"modal-1-equipo":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("ACTIVO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("INACTIVO")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-equipo",modifiers:{"modal-2-equipo":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info"},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-equipo"):e.$bvModal.show("modal-4-equipo")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},mf=[],uf={name:"EquipoLaboratorio",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},mounted:function(){g["a"].index()},data:function(){return{from:0,to:0,total:0,perPage:5,search:"",form:{id:0,nombre:"",cantidad_usos:0,precio_publico:0,gasto_unico:0,fecha_adquisicion:"",existencia:0,state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/equipos/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombre",sortField:"nombre",title:"Nombre",dataClass:"list-item-heading"},{name:"cantidad_usos",sortField:"cantidad_usos",title:"Cantidad de usos",dataClass:"list-item-heading"},{name:"gasto_unico",sortField:"gasto_unico",title:"Gasto único",dataClass:"list-item-heading"},{name:"fecha_adquisicion",sortField:"fecha_adquisicion",title:"Fecha de adquisición",dataClass:"list-item-heading"},{name:"existencia",sortField:"existencia",title:"Existencia",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{nombre:{required:_a["c"]},cantidad_usos:{required:_a["c"]},precio_publico:{required:_a["c"]},gasto_unico:{required:_a["c"]},fecha_adquisicion:{required:_a["c"]},existencia:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.nombre="",this.form.cantidad_usos=0,this.form.precio_publico=0,this.form.gasto_unico=0,this.form.fecha_adquisicion="",this.form.existencia=0,this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-equipo"].hide(),this.form.id=0,this.form.nombre="",this.form.cantidad_usos=0,this.form.precio_publico=0,this.form.gasto_unico=0,this.form.fecha_adquisicion="",this.form.existencia=0,this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-equipo"].hide(),this.form.id=0,this.form.nombre="",this.form.cantidad_usos=0,this.form.precio_publico=0,this.form.gasto_unico=0,this.form.fecha_adquisicion="",this.form.existencia=0,this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.nombre=e.nombre,this.form.cantidad_usos=e.cantidad_usos,this.form.precio_publico=e.precio_publico,this.form.gasto_unico=e.gasto_unico,this.form.fecha_adquisicion=e.fecha_adquisicion,this.form.existencia=e.existencia,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this;ie.a.post(q["a"]+"/equipos/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el equipo "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/equipos/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el equipo "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/equipos/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el equipo "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-equipo"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/equipos/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el equipo "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-equipo"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs}}},ff=uf,hf=Object($["a"])(ff,df,mf,!1,null,null,null),pf=hf.exports,bf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-encargados",attrs:{id:"modal-1-encargados",title:"Agregar encargado"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onSave(),e.$bvModal.hide("modal-1-encargados")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-1-encargados")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Nombres:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.nombres.$error},attrs:{type:"text",placeholder:"Ingresar nombres"},model:{value:e.$v.form.nombres.$model,callback:function(t){e.$set(e.$v.form.nombres,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombres.$model"}})],1)],1),a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Apellidos:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.apellidos.$error},attrs:{type:"text",placeholder:"Ingresar apellidos"},model:{value:e.$v.form.apellidos.$model,callback:function(t){e.$set(e.$v.form.apellidos,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.apellidos.$model"}})],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Usuario:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.usuario.$error},attrs:{type:"text",placeholder:"Ingresar usuario"},model:{value:e.$v.form.usuario.$model,callback:function(t){e.$set(e.$v.form.usuario,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.usuario.$model"}})],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Contacto:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.contacto.$error},attrs:{type:"text",placeholder:"Ingresar contacto"},model:{value:e.$v.form.contacto.$model,callback:function(t){e.$set(e.$v.form.contacto,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.contacto.$model"}})],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Tipo de encargado:"}},[a("v-select",{attrs:{name:"type",options:e.tipos,reduce:function(e){return e.value},placeholder:"Seleccione un tipo de encargado",label:"text"},on:{search:e.onSearchType},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}})],1)],1)],1)],1),a("b-modal",{ref:"modal-2-encargados",attrs:{id:"modal-2-encargados",title:"Editar encargado"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){return e.onValidate("update")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-2-encargados")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Nombres:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.nombres.$error},attrs:{type:"text",placeholder:"Ingresar nombres"},model:{value:e.$v.form.nombres.$model,callback:function(t){e.$set(e.$v.form.nombres,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.nombres.$model"}})],1)],1),a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Apellidos:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.apellidos.$error},attrs:{type:"text",placeholder:"Ingresar apellidos"},model:{value:e.$v.form.apellidos.$model,callback:function(t){e.$set(e.$v.form.apellidos,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.apellidos.$model"}})],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Usuario:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.usuario.$error},attrs:{type:"text",placeholder:"Ingresar usuario"},model:{value:e.$v.form.usuario.$model,callback:function(t){e.$set(e.$v.form.usuario,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.usuario.$model"}})],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Contacto:"}},[a("b-form-input",{class:{"is-invalid":e.$v.form.contacto.$error},attrs:{type:"text",placeholder:"Ingresar contacto"},model:{value:e.$v.form.contacto.$model,callback:function(t){e.$set(e.$v.form.contacto,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.contacto.$model"}})],1)],1)],1),a("b-row",{staticClass:"ml-2"},[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:"Tipo de encargado:"}},[a("v-select",{attrs:{name:"type",options:e.tipos,reduce:function(e){return e.value},placeholder:"Seleccione un tipo de encargado",label:"text"},on:{search:e.onSearchType},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}})],1)],1)],1)],1),a("b-modal",{ref:"modal-3-encargados",attrs:{id:"modal-3-encargados",title:"Desactivar encargados"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-encargados")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-encargados")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar al encargado: "+e._s(e.form.name)+" ? ")])],1),a("b-modal",{ref:"modal-4-encargados",attrs:{id:"modal-4-encargados",title:"Activar encargados"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-encargados")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-encargados")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al encargado: "+e._s(e.form.name)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Encargados")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1-encargados",modifiers:{"modal-1-encargados":!0}}],attrs:{variant:"primary"}},[e._v("AGREGAR NUEVO")])]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("DISPONIBLE")])])])],1):2==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("OCUPADA")])])])],1):0==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("NO DISPONIBLE")])])])],1):e._e()])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:"Editar",expression:"'Editar'",modifiers:{top:!0}},{name:"b-modal",rawName:"v-b-modal.modal-2-encargados",modifiers:{"modal-2-encargados":!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:"outline-warning"},on:{click:function(a){return e.setData(t.rowData)}}},[a("i",{class:"fas fa-pencil-alt"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.top",value:1==t.rowData.estado?"Desactivar":"Activar",expression:"\n                    props.rowData.estado == 1 ? 'Desactivar' : 'Activar'",modifiers:{top:!0}}],staticClass:"mb-2",attrs:{size:"sm",variant:1==t.rowData.estado?"outline-danger":"outline-info"},on:{click:function(a){e.setData(t.rowData),1==t.rowData.estado?e.$bvModal.show("modal-3-encargados"):e.$bvModal.show("modal-4-encargados")}}},[a("i",{class:1==t.rowData.estado?"fas fa-trash-alt":"fas fa-check"})])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},vf=[],gf={name:"Encargados",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){this.fetchTypes()},mounted:function(){g["a"].index()},data:function(){return{from:0,to:0,total:0,perPage:5,search:"",form:{id:0,nombres:"",apellidos:"",usuario:"",contacto:"",id_tipo_encargado:0,state:1},tipos:[],selectedType:"",alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/encargados/list",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"nombres",sortField:"nombres",title:"Nombres",dataClass:"list-item-heading"},{name:"apellidos",sortField:"apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"usuario",sortField:"usuario",title:"Usuario",dataClass:"list-item-heading"},{name:"contacto",sortField:"contacto",title:"Contacto",dataClass:"list-item-heading"},{name:"tipos_encargado.tipo",sortField:"tipo",title:"Tipo de encargado",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}]}},validations:function(){return{form:{nombres:{required:_a["c"]},apellidos:{required:_a["c"]},contacto:{required:_a["c"]},usuario:{required:_a["c"]},id_tipo_encargado:{required:_a["c"]}}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-encargados"].hide(),this.form.id=0,this.form.name="",this.form.nombres="",this.form.apellidos="",this.form.usuarios="",this.form.id_tipo_encargado=0,this.selectedType=0,this.form.contacto="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-encargados"].hide(),this.form.id=0,this.form.name="",this.form.nombres="",this.form.apellidos="",this.form.usuarios="",this.form.id_tipo_encargado=0,this.selectedType=0,this.form.contacto="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),console.log(this.form),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.nombres=e.nombres,this.form.apellidos=e.apellidos,this.form.usuario=e.usuario,this.form.contacto=e.contacto,this.form.id_tipo_encargado=e.tipos_encargado.id,this.selectedType=e.selectedType,this.form.state=e.estado,this.form.id=e.id},onSave:function(){var e=this;e.form.id_tipo_encargado=e.selectedType,ie.a.post(q["a"]+"/encargados/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado al encargado "+e.form.nombre+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;e.form.id_tipo_encargado=e.selectedType,console.log(e.form),ie.a.put(q["a"]+"/encargados/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado al encargado "+e.form.nombres+" "+e.form.apellidos+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/encargados/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado la habitación "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-encargados"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/encargados/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado la habitación "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-encargados"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},fetchTypes:function(e,t){var a=this;ie.a.get(q["a"]+"/tipos_encargados/get",{params:{search:e}}).then((function(e){a.tipos=e.data.map((function(e){return{value:e.id,text:e.tipo}}))}))},onSearchType:function(e,t){e.length&&this.fetchTypes(e,t)}}},_f=gf,xf=Object($["a"])(_f,bf,vf,!1,null,null,null),Cf=xf.exports,$f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-traslado",attrs:{id:"modal-1-traslado",title:"Trasladar paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onValidate(),this.selectedHab=null}}},[e._v("Ingresar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-1-traslado")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea trasladar el paciente: "+e._s(e.form.nombres)+" ? ")]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-col",[a("b-form-group",{attrs:{label:"Área a la que desea trasladar:"}},[a("b-form-radio-group",{attrs:{id:"radio-group-2",options:e.optionsTraslado,name:"radio-options"},model:{value:e.selectedTrasOption,callback:function(t){e.selectedTrasOption=t},expression:"selectedTrasOption"}}),1==e.selectedTrasOption||4==e.selectedTrasOption?a("div",[e._v(" Habitación "),a("v-select",{ref:"selectHab",attrs:{options:e.habitaciones,label:"numero",value:"id"},model:{value:e.selectedHab,callback:function(t){e.selectedHab=t},expression:"selectedHab"}})],1):e._e()],1)],1)],1)],1),a("b-modal",{ref:"modal-2-account",attrs:{id:"modal-2-account",title:"Guardar Factura",size:"xl"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[0===e.HasFact?a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.createFact()}}},[e._v("Guardar factura")]):e._e(),1!==e.HasFact||""!==e.nitFact&&""!==e.numeroFact&&""!==e.serieFact&&""!==e.referenciaFact&&1!==e.emptyImage?e._e():a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.updateFact()}}},[e._v("Guardar cambios")]),1===e.HasFact?a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.deactivateFact()}}},[e._v("Cancelar factura")]):e._e(),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-2-account")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),[0==e.HasFact?a("div",[a("h6",[e._v("Generar factura")]),a("b-card",[a("b-card-body",[a("b-table",{attrs:{hover:"",items:e.cuentas,fields:e.fieldsAccounts,"select-mode":"single",selectable:""}}),e._v(" nit "),a("b-input",{ref:"nitFact",attrs:{id:"nitFact"},model:{value:e.nitFact,callback:function(t){e.nitFact=t},expression:"nitFact"}}),e._v(" Número "),a("b-input",{ref:"numeroFact",attrs:{id:"numeroFact"},model:{value:e.numeroFact,callback:function(t){e.numeroFact=t},expression:"numeroFact"}}),e._v(" Serie "),a("b-input",{ref:"serieFact",attrs:{id:"serieFact"},model:{value:e.serieFact,callback:function(t){e.serieFact=t},expression:"serieFact"}}),e._v(" Referencia "),a("b-input",{ref:"referenciaFact",attrs:{id:"referenciaFact"},model:{value:e.referenciaFact,callback:function(t){e.referenciaFact=t},expression:"referenciaFact"}}),a("b-form-group",{attrs:{label:"File"}},[a("b-form-file",{attrs:{accept:"*",multiple:"",placeholder:"Subir una imagen...","drop-placeholder":"Suelta una imagen aquí..."},model:{value:e.images,callback:function(t){e.images=t},expression:"images"}}),e.errorImage?a("b-alert",{attrs:{variant:"danger",dismissible:""}},[e._v(e._s(e.errorImage))]):e._e()],1),a("b-row",[a("b-col",{staticClass:"text-center",attrs:{cols:"12"}},[e.base64Images.length?a("div",[a("h5",[e._v("Imagen:")]),a("iframe",{attrs:{src:e.base64Images,width:"100%",height:"600px"}}),a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.downloadBase64Pdf(e.base64Images[0])}}},[e._v("Descargar factura")])],1):e._e()])],1)],1),a("div")],1)],1):e._e(),1==e.HasFact?a("div",[a("h6",[e._v("Verificar factura")]),a("b-card",[a("b-card-body",[a("b-table",{attrs:{hover:"",items:e.cuentas,fields:e.fieldsAccounts,"select-mode":"single",selectable:""}}),a("h6",[e._v(" NIT: "+e._s(e.nitFact)+" "),""===e.nitFact?a("div",[a("b-input",{ref:"nitFact",attrs:{id:"nitFact"},model:{value:e.nitFact,callback:function(t){e.nitFact=t},expression:"nitFact"}})],1):e._e()]),a("h6",[e._v(" Número: "+e._s(e.numeroFact)+" "),""===e.numeroFact?a("div",[a("b-input",{ref:"numeroFact",attrs:{id:"numeroFact"},model:{value:e.numeroFact,callback:function(t){e.numeroFact=t},expression:"numeroFact"}})],1):e._e()]),a("h6",[e._v(" Serie: "+e._s(e.serieFact)+" "),""===e.serieFact?a("div",[a("b-input",{ref:"serieFact",attrs:{id:"serieFact"},model:{value:e.serieFact,callback:function(t){e.serieFact=t},expression:"serieFact"}})],1):e._e()]),a("h6",[e._v(" Referencia: "+e._s(e.referenciaFact)+" "),""===e.referenciaFact?a("div",[a("b-input",{ref:"referenciaFact",attrs:{id:"referenciaFact"},model:{value:e.referenciaFact,callback:function(t){e.referenciaFact=t},expression:"referenciaFact"}})],1):e._e()]),a("b-row",[a("b-col",{staticClass:"text-center",attrs:{cols:"12"}},[0===e.emptyImage?a("div",[a("h6",[e._v("Imagen:")]),a("iframe",{attrs:{src:e.base64Images,width:"100%",height:"600px"}}),a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.downloadBase64Pdf(e.base64Images[0])}}},[e._v("Descargar factura")])],1):a("div",[a("b-form-group",{attrs:{label:"File"}},[a("b-form-file",{attrs:{accept:"image/*",multiple:"",placeholder:"Subir una imagen...","drop-placeholder":"Suelta una imagen aquí..."},model:{value:e.images,callback:function(t){e.images=t},expression:"images"}}),e.errorImage?a("b-alert",{attrs:{variant:"danger",dismissible:""}},[e._v(e._s(e.errorImage))]):e._e()],1),a("b-row",[a("b-col",{staticClass:"text-center",attrs:{cols:"12"}},[e.base64Images.length?a("div",[a("h5",[e._v("Imagen:")]),a("iframe",{attrs:{src:e.base64Images,width:"100%",height:"600px"}}),a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.downloadBase64Pdf(e.base64Images[0])}}},[e._v("Descargar factura")])],1):e._e()])],1)],1)])],1)],1),a("div")],1)],1):e._e()]],2),a("b-modal",{ref:"modal-3-bank",attrs:{id:"modal-3-bank",title:"Desactivar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-bank")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-bank")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el banco: "+e._s(e.form.name)+" ? ")])],1),a("b-modal",{ref:"modal-4-bank",attrs:{id:"modal-4-bank",title:"Activar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-bank")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-bank")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al banco: "+e._s(e.form.name)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Mostrar facturas")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("div",{staticClass:"button-container"},[a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-2-account")}}},[e._v("Mostrar factura")])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},yf=[],wf={name:"Facturacion",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){this.getHabitaciones(0),this.getFacts()},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])(["currentUser"])),data:function(){return{emptyImage:1,errorImage:null,referenciaFact:null,serieFact:null,numeroFact:null,nitFact:null,base64Images:[],images:[],HasFact:0,factsList:[],from:0,to:0,total:0,perPage:5,search:"",totPagado:0,assurances:[],selectAssurance:null,expediente:0,form:{id:0,nombres:"",apellidos:"",expediente:"",cui:"",state:1,numero:1,total_pagado:0,pendiente_de_pago:0,total:0},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",selectedPayment:[],paymentOptions:[{text:"Efectivo",value:1},{text:"Tarjeta",value:2},{text:"Depósito",value:3},{text:"Cheque",value:4},{text:"Seguro",value:5},{text:"Transferencia",value:6}],paymentType:{Efectivo:0,Tarjeta:0,Deposito:0,Cheque:0,Seguro:0,Transferencia:0},paymentSum:0,alertVariant:"",selectedHab:null,habitaciones:[],selectedAccount:null,totalPayment:0,cuentas:[],selectedTrasOption:1,optionsTraslado:[{text:"Quirófano",value:3},{text:"Hospitalización",value:1},{text:"Intensivos",value:4}],apiBase:q["a"]+"/cuentas/paylist",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"expediente.nombres",sortField:"expediente.nombres",title:"Nombres",dataClass:"list-item-heading"},{name:"expediente.apellidos",sortField:"expediente.apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"numero",sortField:"numero",title:"Numero de Cuenta",dataClass:"list-item-heading"},{name:"motivo",sortField:"motivo",title:"Motivo",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Total",dataClass:"list-item-heading"}],fieldsAccounts:[{key:"numero",label:"Numero",sortable:!0},{key:"motivo",label:"Motivo",sortable:!0},{key:"pendiente_de_pago",label:"Total a pagar",sortable:!0},{key:"total",label:"Total",sortable:!0}]}},watch:{images:function(e){e&&e.length?this.createBase64Image(e):this.base64Images=[]}},validations:function(){return{form:{name:{required:_a["c"]}}}},methods:{createBase64Image:function(e){var t=this;e.length>1?this.images=[]:(this.base64Images=[],Array.from(e).forEach((function(e){if(e.size>5242880)return t.errorImage="El tamaño máximo por imagen es de 5MB",void(t.images=[]);var a=new FileReader;a.onload=function(e){t.base64Images.push(e.target.result)},a.readAsDataURL(e)})))},onRowSelected:function(e){this.selectedAccount=e[0].id,this.totalPayment=e[0].pendiente_de_pago,this.totPagado=e[0].total_pagado},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.name="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-traslado"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-account"].hide(),this.form.name="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),null!==this.selectedHab||1!==this.selectedTrasOption&&4!==this.selectedTrasOption?(this.onState(),this.$bvModal.hide("modal-1-traslado")):(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){if(this.nitFact="",this.numeroFact="",this.serieFact="",this.referenciaFact="",this.imagen="",this.HasFact=0,this.base64Images=[],this.emptyImage=1,this.factsList.find((function(t){return t.id_cuenta_hospital===e.id&&1===t.estado}))){var t=this.factsList.find((function(t){return t.id_cuenta_hospital===e.id}));this.HasFact=1,this.nitFact=t.nit,this.numeroFact=t.numero,this.serieFact=t.serie,this.referenciaFact=t.referencia_factura,this.base64Images[0]=t.imagen," "!==t.imagen&&(this.emptyImage=0)}else this.HasFact=0;this.form.name=e.nombres,this.form.apellidos=e.apellidos,this.form.state=e.estado,this.form.id=e.id,this.form.numero=e.numero,this.form.total_pagado=e.total_pagado,this.form.pendiente_de_pago=e.pendiente_de_pago,this.form.total=e.total,this.cuentas[0]=e,this.selectedAccount=e.id,this.totalPayment=e.pendiente_de_pago,this.totPagado=e.total_pagado,this.expediente=e.id_expediente},onSave:function(){var e=this;ie.a.post(q["a"]+"/banco/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/banco/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this,t=this;ie.a.put(q["a"]+"/expedientes/changeState",{id:this.form.id,estado:this.selectedTrasOption,user:t.currentUser.user}).then((function(a){t.alertVariant="info",t.showAlert(),t.alertText="Se ha trasladado el paciente "+t.form.nombres+" exitosamente",t.$refs.vuetable.refresh(),t.$refs["modal-1-traslado"].hide(),1!==e.selectedTrasOption&&4!==e.selectedTrasOption||ie.a.put(q["a"]+"/habitaciones/inUse",{id:e.selectedHab.id,ocupante:e.form.id}).then((function(a){e.selectedHab=null,e.getHabitaciones(0).then(t.$refs.selectHab.refresh())}))})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",e)}))},onLoadAssurances:function(e){var t=this;ie.a.get(q["a"]+"/seguros/getByExp",{params:{id_expediente:e}}).then((function(e){t.assurances=e.data}))},createFact:function(){var e=this;ie.a.post(q["a"]+"/facturas/create",{nit:this.nitFact,total:this.totPagado,id_cuenta_laboratoio:0,id_cuenta_hospital:this.form.id,imagen:this.base64Images?this.base64Images:" ",numero:this.numeroFact,serie:this.serieFact,id_usuario:this.expediente,referencia_factura:this.referenciaFact}).then(this.selectedAccount=null,this.paymentType.Efectivo=0,this.paymentType.Tarjeta=0,this.paymentType.Deposito=0,this.paymentType.Cheque=0,this.paymentType.Seguro=0,this.paymentType.transferencia=0,this.paymentSum=0,this.selectAssurance=null).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})),e.alertVariant="info",e.showAlert(),e.alertText="Se ha guardado la factura exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-2-account"].hide(),this.getFacts()},updateFact:function(){var e=this;ie.a.post(q["a"]+"/facturas/update",{nit:this.nitFact,id_cuenta_laboratoio:0,id_cuenta_hospital:this.form.id,imagen:this.base64Images?this.base64Images:"",numero:this.numeroFact,serie:this.serieFact,referencia_factura:this.referenciaFact}).then(this.selectedAccount=null,this.paymentType.Efectivo=0,this.paymentType.Tarjeta=0,this.paymentType.Deposito=0,this.paymentType.Cheque=0,this.paymentType.Seguro=0,this.paymentType.transferencia=0,this.paymentSum=0,this.selectAssurance=null).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})),e.alertVariant="info",e.showAlert(),e.alertText="Se ha guardado la factura exitosamente",e.$refs.vuetable.refresh(),this.getFacts(),e.$refs["modal-2-account"].hide()},deactivateFact:function(){var e=this;ie.a.post(q["a"]+"/facturas/deactivate",{id_cuenta_laboratoio:0,id_cuenta_hospital:this.form.id}).then(this.selectedAccount=null,this.paymentType.Efectivo=0,this.paymentType.Tarjeta=0,this.paymentType.Deposito=0,this.paymentType.Cheque=0,this.paymentType.Seguro=0,this.paymentType.transferencia=0,this.paymentSum=0,this.selectAssurance=null).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})),e.alertVariant="info",e.showAlert(),e.alertText="Se ha cancelado la factura exitosamente",e.$refs.vuetable.refresh(),this.getFacts(),e.$refs["modal-2-account"].hide()},getFacts:function(){var e=this;ie.a.get(q["a"]+"/facturas/getList").then((function(t){e.factsList=t.data}))},downloadBase64Pdf:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"archivo.pdf",a=document.createElement("a");a.href=e,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},getHabitaciones:function(e){var t=this;ie.a.get(q["a"]+"/habitaciones/get",{params:{tipo:e}}).then((function(e){t.habitaciones=e.data}))},getCuentas:function(e){var t=this;ie.a.get(q["a"]+"/cuentas/getByExp",{params:{id:e}}).then((function(e){t.cuentas=e.data}))},inputPaymentType:function(e){this.paymentType=e}}},Ef=wf,kf=(a("0e38"),Object($["a"])(Ef,$f,yf,!1,null,"5cc57265",null)),Df=kf.exports,Af=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-traslado",attrs:{id:"modal-1-traslado",title:"Trasladar paciente"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onValidate(),this.selectedHab=null}}},[e._v("Ingresar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-1-traslado")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea trasladar el paciente: "+e._s(e.form.nombres)+" ? ")]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-col",[a("b-form-group",{attrs:{label:"Área a la que desea trasladar:"}},[a("b-form-radio-group",{attrs:{id:"radio-group-2",options:e.optionsTraslado,name:"radio-options"},model:{value:e.selectedTrasOption,callback:function(t){e.selectedTrasOption=t},expression:"selectedTrasOption"}}),1==e.selectedTrasOption||4==e.selectedTrasOption?a("div",[e._v(" Habitación "),a("v-select",{ref:"selectHab",attrs:{options:e.habitaciones,label:"numero",value:"id"},model:{value:e.selectedHab,callback:function(t){e.selectedHab=t},expression:"selectedHab"}})],1):e._e()],1)],1)],1)],1),a("b-modal",{ref:"modal-2-account",attrs:{id:"modal-2-account",title:"Guardar Factura",size:"xl"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[0===e.HasFact?a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.createFact()}}},[e._v("Guardar factura")]):e._e(),1!==e.HasFact||""!==e.nitFact&&""!==e.numeroFact&&""!==e.serieFact&&""!==e.referenciaFact&&1!==e.emptyImage?e._e():a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.updateFact()}}},[e._v("Guardar cambios")]),1===e.HasFact?a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.deactivateFact()}}},[e._v("Cancelar factura")]):e._e(),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-2-account")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),[0==e.HasFact?a("div",[a("h6",[e._v("Generar factura")]),a("b-card",[a("b-card-body",[a("b-table",{attrs:{hover:"",items:e.cuentas,fields:e.fieldsAccounts,"select-mode":"single",selectable:""}}),e._v(" nit "),a("b-input",{ref:"nitFact",attrs:{id:"nitFact"},model:{value:e.nitFact,callback:function(t){e.nitFact=t},expression:"nitFact"}}),e._v(" Número "),a("b-input",{ref:"numeroFact",attrs:{id:"numeroFact"},model:{value:e.numeroFact,callback:function(t){e.numeroFact=t},expression:"numeroFact"}}),e._v(" Serie "),a("b-input",{ref:"serieFact",attrs:{id:"serieFact"},model:{value:e.serieFact,callback:function(t){e.serieFact=t},expression:"serieFact"}}),e._v(" Referencia "),a("b-input",{ref:"referenciaFact",attrs:{id:"referenciaFact"},model:{value:e.referenciaFact,callback:function(t){e.referenciaFact=t},expression:"referenciaFact"}}),a("b-form-group",{attrs:{label:"File"}},[a("b-form-file",{attrs:{accept:"image/*",multiple:"",placeholder:"Subir una imagen...","drop-placeholder":"Suelta una imagen aquí..."},model:{value:e.images,callback:function(t){e.images=t},expression:"images"}}),e.errorImage?a("b-alert",{attrs:{variant:"danger",dismissible:""}},[e._v(e._s(e.errorImage))]):e._e()],1),a("b-row",[a("b-col",{staticClass:"text-center",attrs:{cols:"12"}},[e.base64Images.length?a("div",[a("iframe",{attrs:{src:e.base64Images,width:"100%",height:"600px"}}),a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.downloadBase64Pdf(e.base64Images[0])}}},[e._v("Descargar factura")])],1):e._e()])],1)],1),a("div")],1)],1):e._e(),1==e.HasFact?a("div",[a("h6",[e._v("Verificar factura")]),a("b-card",[a("b-card-body",[a("b-table",{attrs:{hover:"",items:e.cuentas,fields:e.fieldsAccounts,"select-mode":"single",selectable:""}}),a("h6",[e._v(" NIT: "+e._s(e.nitFact)+" "),""===e.nitFact?a("div",[a("b-input",{ref:"nitFact",attrs:{id:"nitFact"},model:{value:e.nitFact,callback:function(t){e.nitFact=t},expression:"nitFact"}})],1):e._e()]),a("h6",[e._v(" Número: "+e._s(e.numeroFact)+" "),""===e.numeroFact?a("div",[a("b-input",{ref:"numeroFact",attrs:{id:"numeroFact"},model:{value:e.numeroFact,callback:function(t){e.numeroFact=t},expression:"numeroFact"}})],1):e._e()]),a("h6",[e._v(" Serie: "+e._s(e.serieFact)+" "),""===e.serieFact?a("div",[a("b-input",{ref:"serieFact",attrs:{id:"serieFact"},model:{value:e.serieFact,callback:function(t){e.serieFact=t},expression:"serieFact"}})],1):e._e()]),a("h6",[e._v(" Referencia: "+e._s(e.referenciaFact)+" "),""===e.referenciaFact?a("div",[a("b-input",{ref:"referenciaFact",attrs:{id:"referenciaFact"},model:{value:e.referenciaFact,callback:function(t){e.referenciaFact=t},expression:"referenciaFact"}})],1):e._e()]),a("b-row",[a("b-col",{staticClass:"text-center",attrs:{cols:"12"}},[0===e.emptyImage?a("div",[a("h6",[e._v("Imagen:")]),a("iframe",{attrs:{src:e.base64Images,width:"100%",height:"600px"}}),a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.downloadBase64Pdf(e.base64Images[0])}}},[e._v("Descargar factura")])],1):a("div",[a("b-form-group",{attrs:{label:"File"}},[a("b-form-file",{attrs:{accept:"image/*",multiple:"",placeholder:"Subir una imagen...","drop-placeholder":"Suelta una imagen aquí..."},model:{value:e.images,callback:function(t){e.images=t},expression:"images"}}),e.errorImage?a("b-alert",{attrs:{variant:"danger",dismissible:""}},[e._v(e._s(e.errorImage))]):e._e()],1),a("b-row",[a("b-col",{staticClass:"text-center",attrs:{cols:"12"}},[e.base64Images.length?a("div",[a("h5",[e._v("Imagen:")]),a("iframe",{attrs:{src:e.base64Images,width:"100%",height:"600px"}}),a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.downloadBase64Pdf(e.base64Images[0])}}},[e._v("Descargar factura")])],1):e._e()])],1)],1)])],1)],1),a("div")],1)],1):e._e()]],2),a("b-modal",{ref:"modal-3-bank",attrs:{id:"modal-3-bank",title:"Desactivar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-3-bank")}}},[e._v("Desactivar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-3-bank")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea desactivar el banco: "+e._s(e.form.name)+" ? ")])],1),a("b-modal",{ref:"modal-4-bank",attrs:{id:"modal-4-bank",title:"Activar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.onState(),e.$bvModal.hide("modal-4-bank")}}},[e._v("Activar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-4-bank")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("h6",{staticClass:"my-4"},[e._v(" ¿Desea activar al banco: "+e._s(e.form.name)+" ? ")])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Mostrar facturas")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)]},proxy:!0},{key:"headerAction",fn:function(){},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("div",{staticClass:"button-container"},[a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){e.setData(t.rowData),e.$bvModal.show("modal-2-account")}}},[e._v("Mostrar factura")])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},Sf=[],Tf={name:"Facturacion",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){this.getHabitaciones(0),this.getFacts()},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])(["currentUser"])),data:function(){return{emptyImage:1,errorImage:null,referenciaFact:null,serieFact:null,numeroFact:null,nitFact:null,base64Images:[],images:[],HasFact:0,factsList:[],from:0,to:0,total:0,perPage:5,search:"",totPagado:0,assurances:[],selectAssurance:null,expediente:0,form:{id:0,nombres:"",apellidos:"",expediente:"",cui:"",state:1,numero:1,total_pagado:0,pendiente_de_pago:0,total:0},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",selectedPayment:[],paymentOptions:[{text:"Efectivo",value:1},{text:"Tarjeta",value:2},{text:"Depósito",value:3},{text:"Cheque",value:4},{text:"Seguro",value:5},{text:"Transferencia",value:6}],paymentType:{Efectivo:0,Tarjeta:0,Deposito:0,Cheque:0,Seguro:0,Transferencia:0},paymentSum:0,alertVariant:"",selectedHab:null,habitaciones:[],selectedAccount:null,totalPayment:0,cuentas:[],selectedTrasOption:1,optionsTraslado:[{text:"Quirófano",value:3},{text:"Hospitalización",value:1},{text:"Intensivos",value:4}],apiBase:q["a"]+"/lab_cuentas/payList",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"expediente.nombres",sortField:"expediente.nombres",title:"Nombres",dataClass:"list-item-heading"},{name:"expediente.apellidos",sortField:"expediente.apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"numero",sortField:"numero",title:"Numero de Cuenta",dataClass:"list-item-heading"},{name:"motivo",sortField:"motivo",title:"Motivo",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"Total",dataClass:"list-item-heading"}],fieldsAccounts:[{key:"numero",label:"Numero",sortable:!0},{key:"motivo",label:"Motivo",sortable:!0},{key:"pendiente_de_pago",label:"Total a pagar",sortable:!0},{key:"total",label:"Total",sortable:!0}]}},watch:{images:function(e){e&&e.length?this.createBase64Image(e):this.base64Images=[]}},validations:function(){return{form:{name:{required:_a["c"]}}}},methods:{createBase64Image:function(e){var t=this;e.length>1?this.images=[]:(this.base64Images=[],Array.from(e).forEach((function(e){if(e.size>2097152)return t.errorImage="El tamaño máximo por imagen es de 2MB",void(t.images=[]);var a=new FileReader;a.onload=function(e){t.base64Images.push(e.target.result)},a.readAsDataURL(e)})))},onRowSelected:function(e){this.selectedAccount=e[0].id,this.totalPayment=e[0].pendiente_de_pago,this.totPagado=e[0].total_pagado},openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.name="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-traslado"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-account"].hide(),this.form.name="",this.form.state=1;break}},onValidate:function(e){this.$v.$touch(),null!==this.selectedHab||1!==this.selectedTrasOption&&4!==this.selectedTrasOption?(this.onState(),this.$bvModal.hide("modal-1-traslado")):(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){if(this.nitFact="",this.numeroFact="",this.serieFact="",this.referenciaFact="",this.imagen="",this.HasFact=0,this.base64Images=[],this.emptyImage=1,this.factsList.find((function(t){return t.id_cuenta_laboratorio===e.id}))){var t=this.factsList.find((function(t){return t.id_cuenta_laboratorio===e.id}));this.HasFact=1,this.nitFact=t.nit,this.numeroFact=t.numero,this.serieFact=t.serie,this.referenciaFact=t.referencia_factura,this.base64Images[0]=t.imagen," "!==t.imagen&&(this.emptyImage=0)}else this.HasFact=0;this.form.name=e.nombres,this.form.apellidos=e.apellidos,this.form.state=e.estado,this.form.id=e.id,this.form.numero=e.numero,this.form.total_pagado=e.total_pagado,this.form.pendiente_de_pago=e.pendiente_de_pago,this.form.total=e.total,this.cuentas[0]=e,this.selectedAccount=e.id,this.totalPayment=e.pendiente_de_pago,this.totPagado=e.total_pagado,this.expediente=e.id_expediente},onSave:function(){var e=this;ie.a.post(q["a"]+"/banco/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/banco/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this,t=this;ie.a.put(q["a"]+"/expedientes/changeState",{id:this.form.id,estado:this.selectedTrasOption,user:t.currentUser.user}).then((function(a){t.alertVariant="info",t.showAlert(),t.alertText="Se ha trasladado el paciente "+t.form.nombres+" exitosamente",t.$refs.vuetable.refresh(),t.$refs["modal-1-traslado"].hide(),1!==e.selectedTrasOption&&4!==e.selectedTrasOption||ie.a.put(q["a"]+"/habitaciones/inUse",{id:e.selectedHab.id,ocupante:e.form.id}).then((function(a){e.selectedHab=null,e.getHabitaciones(0).then(t.$refs.selectHab.refresh())}))})).catch((function(e){t.alertVariant="danger",t.showAlertError(),t.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",e)}))},onLoadAssurances:function(e){var t=this;ie.a.get(q["a"]+"/seguros/getByExp",{params:{id_expediente:e}}).then((function(e){t.assurances=e.data}))},createFact:function(){var e=this;ie.a.post(q["a"]+"/facturas/create",{nit:this.nitFact,total:this.totPagado,id_cuenta_laboratoio:this.form.id,id_cuenta_hospital:0,imagen:this.base64Images?this.base64Images:" ",numero:this.numeroFact,serie:this.serieFact,id_usuario:this.expediente,referencia_factura:this.referenciaFact}).then(this.selectedAccount=null,this.paymentType.Efectivo=0,this.paymentType.Tarjeta=0,this.paymentType.Deposito=0,this.paymentType.Cheque=0,this.paymentType.Seguro=0,this.paymentType.transferencia=0,this.paymentSum=0,this.selectAssurance=null).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})),e.alertVariant="info",e.showAlert(),e.alertText="Se ha guardado la factura exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-2-account"].hide(),this.getFacts()},downloadBase64Pdf:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"archivo.pdf",a=document.createElement("a");a.href=e,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)},updateFact:function(){var e=this;ie.a.post(q["a"]+"/facturas/update",{nit:this.nitFact,id_cuenta_laboratoio:this.form.id,id_cuenta_hospital:0,imagen:this.base64Images?this.base64Images:"",numero:this.numeroFact,serie:this.serieFact,referencia_factura:this.referenciaFact}).then(this.selectedAccount=null,this.paymentType.Efectivo=0,this.paymentType.Tarjeta=0,this.paymentType.Deposito=0,this.paymentType.Cheque=0,this.paymentType.Seguro=0,this.paymentType.transferencia=0,this.paymentSum=0,this.selectAssurance=null).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})),e.alertVariant="info",e.showAlert(),e.alertText="Se ha guardado la factura exitosamente",e.$refs.vuetable.refresh(),this.getFacts(),e.$refs["modal-2-account"].hide()},deactivateFact:function(){var e=this;ie.a.post(q["a"]+"/facturas/deactivate",{id_cuenta_hospital:0,id_cuenta_laboratoio:this.form.id}).then(this.selectedAccount=null,this.paymentType.Efectivo=0,this.paymentType.Tarjeta=0,this.paymentType.Deposito=0,this.paymentType.Cheque=0,this.paymentType.Seguro=0,this.paymentType.transferencia=0,this.paymentSum=0,this.selectAssurance=null).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})),e.alertVariant="info",e.showAlert(),e.alertText="Se ha cancelado la factura exitosamente",e.$refs.vuetable.refresh(),this.getFacts(),e.$refs["modal-2-account"].hide()},getFacts:function(){var e=this;ie.a.get(q["a"]+"/facturas/getList").then((function(t){e.factsList=t.data}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},getHabitaciones:function(e){var t=this;ie.a.get(q["a"]+"/habitaciones/get",{params:{tipo:e}}).then((function(e){t.habitaciones=e.data}))},getCuentas:function(e){var t=this;ie.a.get(q["a"]+"/cuentas/getByExp",{params:{id:e}}).then((function(e){t.cuentas=e.data}))},inputPaymentType:function(e){this.paymentType=e}}},Pf=Tf,Mf=(a("8a4f"),Object($["a"])(Pf,Af,Sf,!1,null,"37b3c7f4",null)),qf=Mf.exports,If=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-desactivar",attrs:{id:"modal-desactivar",title:"Eliminar consumo"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){return e.onState()}}},[e._v("Eliminar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$bvModal.hide("modal-desactivar")}}},[e._v("Cancelar")])]}}])},[a("h6",{staticClass:"my-4"},[e._v(" ¿Desea eliminar el consumo de "+e._s(e.consumoToDelete.nombre_medicamento)+" al paciente "+e._s(e.consumoToDelete.nombre_completo)+" ? ")])]),a("b-row",[a("b-col",{attrs:{sm:"12"}},[a("iq-card",{attrs:{"class-name":"iq-card-block iq-card-stretch iq-card-height"},scopedSlots:e._u([{key:"headerTitle",fn:function(){return[a("div",{staticClass:"center-text"},[a("h3",{staticClass:"card-title"},[e._v("HISTORIAL DE CONSUMO DE MEDICAMENTOS, MATERIAL COMUN Y QUIRURGICO")])])]},proxy:!0},{key:"body",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("CONSUMO DE MEDICAMENTOS")]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Fecha Desde:"}},[a("b-form-input",{attrs:{type:"date"},model:{value:e.fechaDesde,callback:function(t){e.fechaDesde=t},expression:"fechaDesde"}})],1)],1),a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Fecha Hasta:"}},[a("b-form-input",{attrs:{type:"date"},model:{value:e.fechaHasta,callback:function(t){e.fechaHasta=t},expression:"fechaHasta"}})],1)],1),a("div",{staticClass:"col-md-4"},[a("b-button",{attrs:{variant:"primary"},on:{click:e.realizarBusqueda}},[e._v("Buscar")])],1)]),a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("div",{staticClass:"button-container"},[1===t.rowData.estado?a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-desactivar",modifiers:{"modal-desactivar":!0}}],staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"danger",disabled:e.hasPermission([1,3])},on:{click:function(a){return e.setData(t.rowData,1)}}},[e._v("Eliminar registro")]):a("b-button",{staticClass:"mb-2 button-spacing",attrs:{disabled:!0,size:"sm",variant:"dark"}},[e._v("El registro fue eliminado")])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1),a("b-col",{attrs:{sm:"12"}},[a("iq-card",{attrs:{"class-name":"iq-card-block iq-card-stretch iq-card-height"},scopedSlots:e._u([{key:"body",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("CONSUMO DE MATERIAL COMUN")]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Fecha Desde:"}},[a("b-form-input",{attrs:{type:"date"},model:{value:e.fechaDesdeComun,callback:function(t){e.fechaDesdeComun=t},expression:"fechaDesdeComun"}})],1)],1),a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Fecha Hasta:"}},[a("b-form-input",{attrs:{type:"date"},model:{value:e.fechaHastaComun,callback:function(t){e.fechaHastaComun=t},expression:"fechaHastaComun"}})],1)],1),a("div",{staticClass:"col-md-4"},[a("b-button",{attrs:{variant:"primary"},on:{click:e.realizarBusquedaComun}},[e._v("Buscar")])],1)]),a("datatable-heading",{attrs:{changePageSize:e.changePageSizesComun,searchChange:e.searchChangeComun,from:e.fromComun,to:e.toComun,total:e.totalComun,perPage:e.perPageComun}}),a("vuetable",{ref:"vuetable_Comun",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBaseComun,"query-params":e.makeQueryParamsComun,"per-page":e.perPageComun,"reactive-api-url":!0,fields:e.fieldsComun,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationDataComun},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("div",{staticClass:"button-container"},[1===t.rowData.estado?a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-desactivar",modifiers:{"modal-desactivar":!0}}],staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"danger"},on:{click:function(a){return e.setData(t.rowData,2)}}},[e._v("Eliminar registro")]):a("b-button",{staticClass:"mb-2 button-spacing",attrs:{disabled:!0,size:"sm",variant:"dark"}},[e._v("El registro fue eliminado")])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"paginationComun",on:{"vuetable-pagination:change-page":e.onChangePageComun}})]},proxy:!0}])})],1),a("b-col",{attrs:{sm:"12"}},[a("iq-card",{attrs:{"class-name":"iq-card-block iq-card-stretch iq-card-height"},scopedSlots:e._u([{key:"body",fn:function(){return[a("h4",{staticClass:"card-title"},[e._v("CONSUMO DE MATERIAL QUIRURGICO")]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Fecha Desde:"}},[a("b-form-input",{attrs:{type:"date"},model:{value:e.fechaDesdeQuirurgico,callback:function(t){e.fechaDesdeQuirurgico=t},expression:"fechaDesdeQuirurgico"}})],1)],1),a("div",{staticClass:"col-md-4"},[a("b-form-group",{attrs:{label:"Fecha Hasta:"}},[a("b-form-input",{attrs:{type:"date"},model:{value:e.fechaHastaQuirurgico,callback:function(t){e.fechaHastaQuirurgico=t},expression:"fechaHastaQuirurgico"}})],1)],1),a("div",{staticClass:"col-md-4"},[a("b-button",{attrs:{variant:"primary"},on:{click:e.realizarBusquedaQuirurgico}},[e._v("Buscar")])],1)]),a("datatable-heading",{attrs:{changePageSize:e.changePageSizesQuirurgico,searchChange:e.searchChangeQuirurgico,from:e.fromQuirurgico,to:e.toQuirurgico,total:e.totalQuirurgico,perPage:e.perPageQuirurgico}}),a("vuetable",{ref:"vuetable_Quirurgico",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBaseQuirurgico,"query-params":e.makeQueryParamsQuirurgico,"per-page":e.perPageQuirurgico,"reactive-api-url":!0,fields:e.fieldsQuirurgico,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationDataQuirurgico},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("div",{staticClass:"button-container"},[1===t.rowData.estado?a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-desactivar",modifiers:{"modal-desactivar":!0}}],staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"danger"},on:{click:function(a){return e.setData(t.rowData,3)}}},[e._v("Eliminar registro")]):a("b-button",{staticClass:"mb-2 button-spacing",attrs:{disabled:!0,size:"sm",variant:"dark"}},[e._v("El registro fue eliminado")])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"paginationQuirurgico",on:{"vuetable-pagination:change-page":e.onChangePageQuirurgico}})]},proxy:!0}])})],1)],1)],1)},Ff=[],Of={name:"Consumos",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H,IqCard:re["default"]},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])({currentUser:"currentUser"})),data:function(){return{alertText:"",alertCountDown:0,alertSecs:5,alertVariant:"",consumoToDelete:{cantidad:0,fecha_consumo:"",nombre_completo:"",nombre_medicamento:"",numero_cuenta:"",area:0,responsable:""},from:0,to:0,total:0,perPage:5,search:"",fechaDesde:null,fechaHasta:null,apiBase:q["a"]+"/detalle_consumo_medicamentos/list",slickOptions:{centerMode:!1,centerPadding:"60px",slidesToShow:5,slidesToScroll:1,focusOnSelect:!0,responsive:[{breakpoint:992,settings:{arrows:!1,centerMode:!0,centerPadding:"30",slidesToShow:3}},{breakpoint:480,settings:{arrows:!1,centerMode:!0,centerPadding:"15",slidesToShow:1}}]},fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"numero_cuenta",sortField:"numero_cuenta",title:"Número de Cuenta",dataClass:"list-item-heading"},{name:"nombre_completo",sortField:"nombre_completo",title:"Nombre completo",dataClass:"list-item-heading"},{name:"nombre_medicamento",sortField:"nombre_medicamento",title:"Medicamento Consumido",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad Consumida",dataClass:"list-item-heading"},{name:"fecha_consumo",sortField:"fecha_consumo",title:"Fecha de Consumo",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"updated_by",sortField:"updated_by",title:"Eliminado por",dataClass:"list-item-heading"}],fromComun:0,toComun:0,totalComun:0,perPageComun:5,searchComun:"",fechaDesdeComun:null,fechaHastaComun:null,apiBaseComun:q["a"]+"/detalle_consumo_comun/list",fieldsComun:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"numero_cuenta",sortField:"numero_cuenta",title:"Número de Cuenta",dataClass:"list-item-heading"},{name:"nombre_completo",sortField:"nombre_completo",title:"Nombre completo",dataClass:"list-item-heading"},{name:"nombre_material",sortField:"nombre_material",title:"Material Consumido",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad Consumida",dataClass:"list-item-heading"},{name:"fecha_consumo",sortField:"fecha_consumo",title:"Fecha de Consumo",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"updated_by",sortField:"updated_by",title:"Eliminado por",dataClass:"list-item-heading"}],fromQuirurgico:0,toQuirurgico:0,totalQuirurgico:0,perPageQuirurgico:5,searchQuirurgico:"",fechaDesdeQuirurgico:null,fechaHastaQuirurgico:null,apiBaseQuirurgico:q["a"]+"/detalle_consumo_quirugicos/list",fieldsQuirurgico:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"numero_cuenta",sortField:"numero_cuenta",title:"Número de Cuenta",dataClass:"list-item-heading"},{name:"nombre_completo",sortField:"nombre_completo",title:"Nombre completo",dataClass:"list-item-heading"},{name:"nombre_material",sortField:"nombre_material",title:"Material Consumido",dataClass:"list-item-heading"},{name:"cantidad",sortField:"cantidad",title:"Cantidad Consumida",dataClass:"list-item-heading"},{name:"fecha_consumo",sortField:"fecha_consumo",title:"Fecha de Consumo",dataClass:"list-item-heading"},{name:"created_by",sortField:"created_by",title:"Administrado por",dataClass:"list-item-heading"},{name:"updated_by",sortField:"updated_by",title:"Eliminado por",dataClass:"list-item-heading"}]}},methods:{realizarBusqueda:function(){this.$refs.vuetable.refresh(),this.fechaDesde=null,this.fechaHasta=null},makeQueryParams:function(e,t,a){return{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search,fechaDesde:this.fechaDesde?F()(this.fechaDesde).format("YYYY-MM-DD"):null,fechaHasta:this.fechaHasta?F()(this.fechaHasta).format("YYYY-MM-DD"):null}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data.map((function(e){return e.fecha_consumo=F()(e.fecha_consumo).format("DD/MM/YYYY HH:mm"),e.cantidad=parseInt(e.cantidad),{numero_cuenta:e.numero_cuenta,nombre_medicamento:e.nombre_medicamento,cantidad:e.cantidad,fecha_consumo:e.fecha_consumo}})),this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},realizarBusquedaComun:function(){this.$refs.vuetable_Comun.refresh(),this.fechaDesdeComun=null,this.fechaHastaComun=null},makeQueryParamsComun:function(e,t,a){return{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPageComun,search:this.searchComun,fechaDesde:this.fechaDesdeComun?F()(this.fechaDesdeComun).format("YYYY-MM-DD"):null,fechaHasta:this.fechaHastaComun?F()(this.fechaHastaComun).format("YYYY-MM-DD"):null}},changePageSizesComun:function(e){this.perPageComun=e,this.$refs.vuetable_Comun.refresh()},searchChangeComun:function(e){this.searchComun=e.toLowerCase(),this.$refs.vuetable_Comun.refresh()},onPaginationDataComun:function(e){this.fromComun=e.from,this.toComun=e.to,this.totalComun=e.total,this.lastPageComun=e.last_page,this.itemsComun=e.data.map((function(e){return e.fecha_consumo=F()(e.fecha_consumo).format("DD/MM/YYYY HH:mm"),e.cantidad=parseInt(e.cantidad),{numero_cuenta:e.numero_cuenta,nombre_material:e.nombre_material,cantidad:e.cantidad,fecha_consumo:e.fecha_consumo}})),this.$refs.paginationComun.setPaginationData(e)},onChangePageComun:function(e){this.$refs.vuetable_Comun.changePage(e)},realizarBusquedaQuirurgico:function(){this.$refs.vuetable_Quirurgico.refresh(),this.fechaDesdeQuirurgico=null,this.fechaHastaQuirurgico=null},makeQueryParamsQuirurgico:function(e,t,a){return{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPageQuirurgico,search:this.searchQuirurgico,fechaDesde:this.fechaDesdeQuirurgico?F()(this.fechaDesdeQuirurgico).format("YYYY-MM-DD"):null,fechaHasta:this.fechaHastaQuirurgico?F()(this.fechaHastaQuirurgico).format("YYYY-MM-DD"):null}},changePageSizesQuirurgico:function(e){this.perPageQuirurgico=e,this.$refs.vuetable_Quirurgico.refresh()},searchChangeQuirurgico:function(e){this.search=e.toLowerCase(),this.$refs.vuetable_Quirurgico.refresh()},onPaginationDataQuirurgico:function(e){this.fromQuirurgico=e.from,this.toQuirurgico=e.to,this.totalQuirurgico=e.total,this.lastPageQuirurgico=e.last_page,this.itemsQuirurgico=e.data.map((function(e){return e.fecha_consumo=F()(e.fecha_consumo).format("DD/MM/YYYY HH:mm"),e.cantidad=parseInt(e.cantidad),{numero_cuenta:e.numero_cuenta,nombre_material:e.nombre_material,cantidad:e.cantidad,fecha_consumo:e.fecha_consumo}})),this.$refs.paginationQuirurgico.setPaginationData(e)},onChangePageQuirurgico:function(e){this.$refs.vuetable_Quirurgico.changePage(e)},setData:function(e,t){this.consumoToDelete=e,this.consumoToDelete.area=t,this.consumoToDelete.responsable=this.currentUser.user},showAlert:function(){this.alertCountDown=this.alertSecs},onState:function(){var e=this;1===this.consumoToDelete.area?ie.a.put(q["a"]+"/detalle_consumo_medicamentos/deactivate",{delete:this.consumoToDelete}).then((function(t){e.alertVariant="danger",e.showAlert(),e.alertText=t.data,e.$refs.vuetable.refresh(),e.$refs["modal-desactivar"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):2===this.consumoToDelete.area?ie.a.put(q["a"]+"/detalle_consumo_comun/deactivate",{delete:this.consumoToDelete}).then((function(t){e.alertVariant="danger",e.showAlert(),e.alertText=t.data,e.$refs.vuetable_Comun.refresh(),e.$refs["modal-desactivar"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):3===this.consumoToDelete.area&&ie.a.put(q["a"]+"/detalle_consumo_quirurgicos/deactivate",{delete:this.consumoToDelete}).then((function(t){e.alertVariant="danger",e.showAlert(),e.alertText=t.data,e.$refs.vuetable_Quirurgico.refresh(),e.$refs["modal-desactivar"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},hasPermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.includes(this.currentUser.user_type)}}},Nf=Of,Rf=(a("42ac"),Object($["a"])(Nf,If,Ff,!1,null,null,null)),Vf=Rf.exports,zf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-alert",{staticClass:"bg-white",attrs:{variant:e.alertVariant,show:e.alertCountDown,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDown=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertText))])]),a("b-modal",{ref:"modal-1-bank",attrs:{id:"modal-1-bank",title:"Agregar banco"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onValidate("save")}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Nombre:"}},[a("b-form-input",{attrs:{state:!e.$v.form.name.$error,placeholder:"Ingresar nombre del banco"},model:{value:e.$v.form.name.$model,callback:function(t){e.$set(e.$v.form.name,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.name.$model"}}),e.$v.form.name.required.$invalid?a("div",{staticClass:"invalid-feedback"},[e._v(" Debe ingresar el nombre ")]):e._e()],1)],1)],1),a("b-modal",{ref:"modal-pdf",attrs:{id:"modal-pdf",title:"Generar PDF",size:"xl"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.descargarpdf()}}},[e._v("Guardar")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("pdf")}}},[e._v("Cancelar")])]}}])},[a("div",{attrs:{id:"previewContainer"}},[a("iframe",{attrs:{src:e.previewURL,width:"100%",height:"700px"}})])]),a("b-modal",{ref:"modal-voucher",attrs:{id:"modal-voucher",title:"Crear Voucher",size:"lg"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.crearVoucher()}}},[e._v("Crear")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.closeModal("save 2")}}},[e._v("Cancelar")])]}}])},[a("b-alert",{staticClass:"text-white bg-danger",attrs:{show:e.alertCountDownError,dismissible:"",fade:""},on:{dismissed:function(t){e.alertCountDownError=0}}},[a("div",{staticClass:"iq-alert-text"},[e._v(e._s(e.alertErrorText))])]),a("b-form",{on:{submit:function(e){return e.preventDefault()}}},[a("b-form-group",{attrs:{label:"Seleccionar Médico"}},[a("v-select",{attrs:{name:"medico",options:e.medicos,filterable:!1,placeholder:"Seleccione el médico"},on:{search:e.onSearchDatosMedicos},scopedSlots:e._u([{key:"option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}},{key:"selected-option",fn:function(t){return[e._v(" "+e._s(t.nombre)+" ")]}}]),model:{value:e.selectedMedico,callback:function(t){e.selectedMedico=t},expression:"selectedMedico"}})],1),a("b-form-group",{attrs:{label:"Cantidad:"}},[a("b-form-input",{attrs:{disabled:"",type:"number"},model:{value:e.formVoucher.cantidad,callback:function(t){e.$set(e.formVoucher,"cantidad",t)},expression:"formVoucher.cantidad"}})],1),a("b-form-group",{attrs:{label:"Cantidad en letras:"}},[a("b-form-input",{attrs:{type:"text",placeholder:"Ingresar la Cantidad escrita con Inicial Mayúscula"},model:{value:e.formVoucher.cantidadEscrita,callback:function(t){e.$set(e.formVoucher,"cantidadEscrita",t)},expression:"formVoucher.cantidadEscrita"}})],1),a("b-form-group",{attrs:{label:"Observaciones:"}},[a("b-form-input",{attrs:{type:"text",placeholder:"Ingresar observaciones"},model:{value:e.formVoucher.observaciones,callback:function(t){e.$set(e.formVoucher,"observaciones",t)},expression:"formVoucher.observaciones"}})],1),a("b-form-group",{attrs:{label:"Cantidad entregada al momento:"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Ingresar el total pagado"},model:{value:e.formVoucher.total,callback:function(t){e.$set(e.formVoucher,"total",t)},expression:"formVoucher.total"}})],1),a("b-table",{attrs:{striped:"",hover:"",bordered:"",items:e.pacientes,fields:[{key:"paciente",label:"Nombre del Paciente"},{key:"expediente",label:"No. Expediente"},{key:"tipoPago",label:"Tipo de Pago"},{key:"fecha",label:"Fecha"},{key:"total",label:"Honorarios"}]},scopedSlots:e._u([{key:"cell(fecha)",fn:function(t){return[e._v(" "+e._s(new Date(t.item.fecha).toLocaleDateString())+" ")]}},{key:"cell(total)",fn:function(t){return[e._v(" Q"+e._s(t.item.total.toFixed(2))+" ")]}}])})],1)],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("iq-card",{scopedSlots:e._u([{key:"headerAction",fn:function(){return[a("b-button",{staticClass:"col-sm",attrs:{variant:"primary"},on:{click:function(t){return e.$bvModal.show("modal-voucher")}}},[e._v("Voucher Honorarios")])]},proxy:!0},{key:"headerTitle",fn:function(){return[a("h4",{staticClass:"card-title mt-3"},[e._v("Cortes")]),a("div",{staticClass:"iq-search-bar mt-2"},[a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-form-group",{attrs:{label:"Fecha:"}},[a("b-form-input",{attrs:{type:"date"},model:{value:e.selectedDate,callback:function(t){e.selectedDate=t},expression:"selectedDate"}}),a("b-button",{staticClass:"mb-2 mt-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(t){return e.getReport()}}},[e._v("Ver reporte por día")])],1),a("b-form",{staticClass:"searchbox",attrs:{action:"#"}},[a("b-input",{attrs:{id:"search",placeholder:"Buscar..."},on:{input:function(t){return e.searchChange(t)}}}),a("a",{staticClass:"search-link",attrs:{href:"#"}},[a("i",{staticClass:"ri-search-line"})])],1)],1)],1)]},proxy:!0},{key:"body",fn:function(){return[a("datatable-heading",{attrs:{changePageSize:e.changePageSizes,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),a("vuetable",{ref:"vuetable",staticClass:"table-divided order-with-arrow",attrs:{"api-url":e.apiBase,"query-params":e.makeQueryParams,"per-page":e.perPage,"reactive-api-url":!0,fields:e.fields,"pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"estado",fn:function(t){return a("div",{},[1==t.rowData.estado?a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"success"},[a("strong",[e._v("PENDIENTE DE PAGO")])])])],1):a("h5",[a("b-badge",{attrs:{variant:"light"}},[a("h6",{staticClass:"danger"},[a("strong",[e._v("PAGADA")])])])],1)])}},{key:"actions",fn:function(t){return[a("b-button-group",[a("b-button",{staticClass:"mb-2 button-spacing",attrs:{size:"sm",variant:"dark"},on:{click:function(a){return e.setData(t.rowData)}}},[e._v("Ver detalle")])],1)]}}])}),a("vuetable-pagination-bootstrap",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})]},proxy:!0}])})],1)],1)],1)},Hf=[],Lf={name:"Bank",components:{vuetable:L["a"],"vuetable-pagination-bootstrap":Z,"datatable-heading":H},setup:function(){return{$v:Object(W["a"])()}},beforeMount:function(){var e=new Date,t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");this.selectedDate="".concat(t,"-").concat(a,"-").concat(r)},mounted:function(){g["a"].index()},computed:Object(s["a"])({},Object(_["c"])(["currentUser"])),data:function(){return{from:0,to:0,total:0,perPage:5,search:"",detalle:[],pagoCuentas:[],pdf:new Ma["default"],pdfName:"",previewURL:"",selectedDate:null,encabezado:{id:0,fecha:null,nit:null,usuario:null,total:null},form:{id:0,name:"",state:1},alertSecs:5,alertCountDown:0,alertCountDownError:0,alertText:"",alertErrorText:"",alertVariant:"",apiBase:q["a"]+"/cuentas/payList",fields:[{name:"__slot:actions",title:"Acciones",titleClass:"",dataClass:"text-muted"},{name:"expediente.nombres",sortField:"expediente.nombres",title:"Nombres",dataClass:"list-item-heading"},{name:"expediente.apellidos",sortField:"expediente.apellidos",title:"Apellidos",dataClass:"list-item-heading"},{name:"numero",sortField:"numero",title:"Numero de Cuenta",dataClass:"list-item-heading"},{name:"total",sortField:"total",title:"total",dataClass:"list-item-heading"},{name:"total_pagado",sortField:"total_pagado",title:"Total ingresado",dataClass:"list-item-heading"},{name:"pendiente_de_pago",sortField:"pendiente_de_pago",title:"Pendiente de pago",dataClass:"list-item-heading"},{name:"fecha_corte",sortField:"fecha_corte",title:"Fecha de corte",dataClass:"list-item-heading"},{name:"__slot:estado",title:"Estado",titleClass:"",dataClass:"text-muted",width:"25%"}],fieldsCampos:[{key:"Descripcion",label:"Descripcion",sortable:!0},{key:"costo",label:"Costo",sortable:!0}],pdf_select_medicos:null,fechaActual:null,numero_voucher:null,dataMedicos:null,selectedMedico:null,medicos:[],pacientes:[],formVoucher:{id_paciente:null,medico:null,cantidad:null,cantidadEscrita:null,observaciones:null,total:0}}},watch:{selectedMedico:function(e){console.log(e),e?this.agregarPacientes(e):(this.pacientes=[],this.formVoucher.cantidad=0,console.log("Ningun medico seleccionado, pacientes limpiados"))}},validations:function(){return{form:{name:{required:_a["c"]}},selectedDate:{required:_a["c"]}}},methods:{openModal:function(e,t){switch(e){case"save":this.$v.$reset(),this.form.id=0,this.form.name="",this.form.state=1;break}},closeModal:function(e){switch(e){case"save":this.$v.$reset(),this.$refs["modal-1-bank"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"update":this.$v.$reset(),this.$refs["modal-2-bank"].hide(),this.form.id=0,this.form.name="",this.form.state=1;break;case"save 2":this.$v.$reset(),this.$refs["modal-voucher"].hide(),this.form.id=0,this.form.fecha_ingreso="",this.form.descripcion="",this.form.motivo="",this.form.otros="",this.form.total=0,this.form.id_expediente=1,this.form.state=1,this.$refs["modal-voucher"].hide(),this.formVoucher.medico=null,this.formVoucher.total=0,this.formVoucher.cantidad=null,this.selectedReport=null,this.selectedReport=null,this.medicos=[],this.pacientes=[],this.dataMedicos=null,this.selectedMedico=null,this.formVoucher.cantidadEscrita=null;break}},formatFecha:function(e){var t=e.split("-"),a=Object(Co["a"])(t,3),r=a[0],o=a[1],i=a[2];return"".concat(i,"-").concat(o,"-").concat(r)},onValidate:function(e){this.$v.$touch(),!0!==this.$v.$error?"save"===e?this.onSave():"update"===e&&this.onUpdate():(this.alertErrorText="Revisa que todos los campos requeridos esten llenos",this.showAlertError())},setData:function(e){this.form.id=e.id,this.form.name=e.nombres,this.getDetail(e.id,e)},getDetail:function(e,t){var a=this;this.pagoCuentas=[],ie.a.get(q["a"]+"/cuentas/getByAccount",{params:{id:e}}).then((function(e){a.detalle=e.data,e.data.forEach((function(e){e.detalle_pago_cuentas.length>0&&e.detalle_pago_cuentas.forEach((function(e){a.pagoCuentas.push(e)}))})),console.log(a.pagoCuentas),a.printSale(t,1)}))},getReport:function(){var e=this;ie.a.get(q["a"]+"/cuentas/listCortesPerDate",{params:{fecha_corte:this.selectedDate}}).then((function(t){e.detalle=t.data,e.printSale(t.data,2)}))},onSave:function(){var e=this;ie.a.post(q["a"]+"/banco/create",{form:e.form}).then((function(t){e.alertVariant="success",e.showAlert(),e.alertText="Se ha creado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("save")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText=t.response.data.msg,console.error("Error!",t)}))},onUpdate:function(){var e=this;ie.a.put(q["a"]+"/banco/update",{form:e.form}).then((function(t){e.alertVariant="primary",e.showAlert(),e.alertText="Se ha actualizado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.closeModal("update")})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("Error!",t)}))},onState:function(){var e=this;1===this.form.state?ie.a.put(q["a"]+"/banco/deactivate",{id:this.form.id}).then((function(t){e.alertVariant="warning",e.showAlert(),e.alertText="Se ha desactivado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-3-bank"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)})):ie.a.put(q["a"]+"/banco/activate",{id:this.form.id}).then((function(t){e.alertVariant="info",e.showAlert(),e.alertText="Se ha activado el banco "+e.form.name+" exitosamente",e.$refs.vuetable.refresh(),e.$refs["modal-4-bank"].hide()})).catch((function(t){e.alertVariant="danger",e.showAlertError(),e.alertErrorText="Ha ocurrido un error, por favor intente más tarde",console.error("There was an error!",t)}))},makeQueryParams:function(e,t,a){return e[0],{criterio:e[0]?e[0].sortField:"createdAt",order:e[0]?e[0].direction:"desc",page:t,limit:this.perPage,search:this.search}},changePageSizes:function(e){this.perPage=e,this.$refs.vuetable.refresh()},searchChange:function(e){this.search=e.toLowerCase(),this.$refs.vuetable.refresh()},onPaginationData:function(e){this.from=e.from,this.to=e.to,this.total=e.total,this.lastPage=e.last_page,this.items=e.data,this.$refs.pagination.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},showAlert:function(){this.alertCountDown=this.alertSecs},showAlertError:function(){this.alertCountDownError=this.alertSecs},printSale:function(e,t){if(this.arrayDetalles=1===t?this.detalle:e.map((function(e){return{expediente:e.expediente.expediente,nombres:e.expediente.nombres,apellidos:e.expediente.apellidos,numero:e.numero,total:e.total,totalPagado:e.total_pagado,fecha:e.createdAt,tipo:e.tipo}})),this.arrayDetalles.length>0){this.$refs["modal-pdf"].show();var a=1,r=new Date;this.encabezado.id=1===t?e.id:null,this.encabezado.fecha=(new Date).toLocaleDateString("es-us",e.fecha),this.pdf=new Ma["default"]({unit:"cm",format:[14,21.5]});var o=F()(r).format("DD/MM/YYYY"),i=v.a;if(this.pdf.addImage(i,"PNG",1.5,.2,3,3),this.pdf.setFontSize(7).setFont(void 0,"bold"),this.pdf.text("Hospital de Especialidades",1.5,3.3),this.pdf.setFontSize(10).setFont(void 0,"bold"),1===t)this.pdf.text("Detalle de cuenta "+e.numero+" - Paciente: "+e.expediente.nombres+" "+e.expediente.apellidos,5,a),this.pdfName="DetalleCuenta"+e.id+".pdf",a+=.5,this.pdf.text("Total ingresado: "+e.total_pagado,5,a),a+=.5;else{var n=[],s=[],l=[],c=[],d=[],m=0,u=0,f=0,h=0;this.arrayDetalles.forEach((function(e){1===e.tipo?(n.push(e),m=parseFloat(m)+parseFloat(e.totalPagado)):2===e.tipo?(u=parseFloat(u)+parseFloat(e.totalPagado),s.push(e)):3===e.tipo?(l.push(e),f=parseFloat(f)+parseFloat(e.totalPagado)):4===e.tipo&&(c.push(e),h=parseFloat(h)+parseFloat(e.totalPagado))})),e.forEach((function(e){e.detalle_pago_cuentas.length>0&&e.detalle_pago_cuentas.forEach((function(e){d.push(e)}))}));var p=0,b=0,g=0;e.forEach((function(e){p=parseFloat(p)+parseFloat(e.total),b=parseFloat(b)+parseFloat(e.total_pagado),g=parseFloat(g)+parseFloat(e.pendiente_de_pago)})),this.pdf.text("Corte del día "+this.selectedDate,5,a),this.pdfName="Corte del día "+this.selectedDate+".pdf",a+=.5,this.pdf.text("Total ingresado: Q."+b,5,a),a+=.5}if(this.pdf.text("Fecha de generación: "+o,5,a),a+=.5,this.pdf.text("Informe generado por: ",5,a),this.pdf.setFontSize(10).setFont(void 0,"normal"),this.pdf.text(this.currentUser.user,8.75,a),a+=.5,1===t)Ia()(this.pdf,{columns:[{header:"Descripción",dataKey:"Descripcion"},{header:"Costo",dataKey:"costo"},{header:"Fecha",dataKey:"createdAt"}],body:this.detalle,margin:{top:5},headStyles:{fontSize:5,fillColor:[21,21,21],textColor:[225,225,225],fontStyle:"bold"},bodyStyles:{fontSize:5}}),Ia()(this.pdf,{columns:[{header:"Efectivo",dataKey:"efectivo"},{header:"Tarjeta",dataKey:"tarjeta"},{header:"Recargo",dataKey:"recargoTarjeta"},{header:"Depósito",dataKey:"deposito"},{header:"Cheque",dataKey:"cheque"},{header:"Seguro",dataKey:"seguro"},{header:"Transferencia",dataKey:"transferencia"}],body:this.pagoCuentas,margin:{top:5},headStyles:{fontSize:5,fillColor:[21,21,21],textColor:[225,225,225],fontStyle:"bold"},bodyStyles:{fontSize:5}});else{a+=1,this.pdf.text("Hospitalización Q."+m,1.5,a),Ia()(this.pdf,{columns:[{header:"Expediente",dataKey:"expediente"},{header:"Nombre",dataKey:"nombres"},{header:"Apellido",dataKey:"apellidos"},{header:"Fecha de Pago",dataKey:"fecha"},{header:"Total ingresado",dataKey:"totalPagado"}],body:n,startY:a+.5,margin:{top:5},headStyles:{fontSize:5,fillColor:[21,21,21],textColor:[225,225,225],fontStyle:"bold"},bodyStyles:{fontSize:5}});var _=this.pdf.lastAutoTable.finalY||10;this.pdf.text("Emergencia Q."+u,1.5,_+.5),Ia()(this.pdf,{columns:[{header:"Expediente",dataKey:"expediente"},{header:"Nombre",dataKey:"nombres"},{header:"Apellido",dataKey:"apellidos"},{header:"Fecha de Pago",dataKey:"fecha"},{header:"Total ingresado",dataKey:"totalPagado"}],body:s,startY:_+1,margin:{top:5},headStyles:{fontSize:5,fillColor:[21,21,21],textColor:[225,225,225],fontStyle:"bold"},bodyStyles:{fontSize:5}}),_=this.pdf.lastAutoTable.finalY||10,this.pdf.text("Quirófano Q."+f,1.5,_+.5),Ia()(this.pdf,{columns:[{header:"Expediente",dataKey:"expediente"},{header:"Nombre",dataKey:"nombres"},{header:"Apellido",dataKey:"apellidos"},{header:"Fecha de Pago",dataKey:"fecha"},{header:"Total ingresado",dataKey:"totalPagado"}],body:l,startY:_+1,margin:{top:5},headStyles:{fontSize:5,fillColor:[21,21,21],textColor:[225,225,225],fontStyle:"bold"},bodyStyles:{fontSize:5}}),_=this.pdf.lastAutoTable.finalY||10,this.pdf.text("Intensivo Q."+h,1.5,_+.5),Ia()(this.pdf,{columns:[{header:"Expediente",dataKey:"expediente"},{header:"Nombre",dataKey:"nombres"},{header:"Apellido",dataKey:"apellidos"},{header:"Fecha de Pago",dataKey:"fecha"},{header:"Total ingresado",dataKey:"totalPagado"}],body:c,startY:_+1,margin:{top:5},headStyles:{fontSize:5,fillColor:[21,21,21],textColor:[225,225,225],fontStyle:"bold"},bodyStyles:{fontSize:5}}),_=this.pdf.lastAutoTable.finalY||10,this.pdf.text("Medios de pago",1.5,_+.5),Ia()(this.pdf,{columns:[{header:"Efectivo",dataKey:"efectivo"},{header:"Tarjeta",dataKey:"tarjeta"},{header:"Recargo",dataKey:"recargoTarjeta"},{header:"Depósito",dataKey:"deposito"},{header:"Cheque",dataKey:"cheque"},{header:"Seguro",dataKey:"seguro"},{header:"Transferencia",dataKey:"transferencia"}],startY:_+1,body:d,margin:{top:5},headStyles:{fillColor:[21,21,21],textColor:[225,225,225],fontSize:5,fontStyle:"bold"},bodyStyles:{fontSize:5}});for(var x=this.pdf.getNumberOfPages(),C=1;C<=x;C++)this.pdf.setPage(C),a=1,this.pdf.addImage(i,"PNG",1.5,.2,3,3),this.pdf.setFontSize(7).setFont(void 0,"bold"),this.pdf.text("Hospital de Especialidades",1.5,3.3),this.pdf.setFontSize(10).setFont(void 0,"bold"),this.pdf.text("Corte del día "+this.selectedDate,5,a),a+=.5,this.pdf.text("Total ingresado: Q."+b,5,a),a+=.5,this.pdf.text("Fecha de generación: "+o,5,a),a+=.5,this.pdf.text("Informe generado por: ",5,a),this.pdf.setFontSize(10).setFont(void 0,"normal"),this.pdf.text(this.currentUser.user,8.75,a),this.pdf.setFontSize(5).setFont(void 0,"normal"),this.pdf.text(C+"/"+x,12,1),a+=.5}var $=this.pdf.output("blob"),y=URL.createObjectURL($);this.previewURL=y}else this.alertVariant="danger",this.showAlert(),this.alertText="No se encontraron datos."},descargarpdf:function(){this.pdf.save(this.pdfName)},onSearchDatosMedicos:function(e,t){e.length&&(t(!0),this.onSearchMedicos(e,t))},onSearchMedicos:function(e,t){var a=this;ie.a.get(q["a"]+"/voucher/getSearch",{params:{search:e}}).then((function(e){a.fechaActual=e.data.fechaActual,a.numero_voucher=e.data.numero,a.medicos=e.data.Medicos,t(!1)}))},agregarPacientes:function(e){var t=this;this.formVoucher.medico=e;var a=e.id;ie.a.get(q["a"]+"/reporte/medicos/optenerPacientes",{params:{idMedico:a}}).then((function(e){t.pacientes=e.data.pacientes,t.formVoucher.cantidad=e.data.Total;var a=t.pacientes.map((function(e){return e.id}));t.formVoucher.id_paciente=a,console.log(e.data),0===e.data.Total&&alert("El medico seleccionado no posee honorarios")})).catch((function(e){console.error("Error al obtener los pacientes:",e)}))},crearVoucher:function(){var e=this;this.formVoucher.cantidadEscrita&&""!==this.formVoucher.cantidadEscrita.trim()?ie.a.post(q["a"]+"/voucher/create",this.formVoucher).then((function(t){e.generarPDFMedicos3(),e.closeModal("save 2")})).catch((function(e){console.error("Error al crear el voucher:",e)})):alert("Debe agregar la cantidad por escrito.")},generarPDFMedicos3:function(){var e=this.formVoucher,t=this.pacientes,a=this.numero_voucher,r=this.fechaActual;try{var o=new Ma["default"];o.addImage(v.a,"JPEG",14,10,30,25),o.setFontSize(16),o.text("VOUCHER DE PAGO No. ".concat(a),65,20),o.setFontSize(12),o.text("HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",50,26),o.setFontSize(10),o.text("TIPO DE PAGO:     HONORARIOS.",15,50),o.text("FECHA DE PAGO:     ".concat(F()(r).format("DD/MM/YYYY")),140,50),o.setFontSize(10),o.text("PROVEEDOR:      HOSPITAL DE ESPECIALIDADES DE OCCIDENTE S.A. QUETZALTENANGO",15,60);var i=70,n=t.map((function(e,t){return[t+1,e.paciente,e.expediente,e.tipoPago,new Date(e.fecha).toLocaleDateString(),"Q".concat(e.total)]}));o.autoTable({head:[["#","Nombre del Paciente","No. Expediente","Tipo pago","Fecha","Honorarios"]],body:n,startY:i+5,theme:"grid",styles:{fontSize:10,cellPadding:2},headStyles:{fillColor:[22,160,133],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}}),i=o.lastAutoTable.finalY+10,o.setFontSize(10).setFont(void 0,"bold"),o.text("TOTAL:             Q".concat(e.cantidad),143,i-5),o.text("__________________________",143,i-4),o.text("__________________________",143,i-3),o.setFontSize(10).setFont(void 0,"normal"),o.text("F)._________________________________________",20,i+10),o.text("PAGUESE A: ".concat(e.medico.nombre,"."),20,i+16),o.text("LA SUMA DE: ".concat(e.cantidadEscrita,"."),20,i+22),null!=e.observaciones?(o.autoTable({body:[[{content:"Observaciones",styles:{halign:"center"}}],[{content:"".concat(e.observaciones),styles:{halign:"left"}}]],startY:i+28,theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0]}}),i=o.lastAutoTable.finalY):i+=18,0!==e.total&&(o.autoTable({body:[[{content:"Total entregado",styles:{halign:"center"}}],[{content:"".concat(e.total),styles:{halign:"rigth"}}]],startY:i+10,theme:"grid",styles:{fontSize:10,cellPadding:2,textColor:[0,0,0]}}),i=o.lastAutoTable.finalY),o.save("Vaoucher_Pago_Honorarios_".concat(e.medico.nombre,"_Fecha_").concat(F()(r).format("DD/MM/YYYY"),".pdf"))}catch(s){console.error("Error al generar el reporte:",s),this.$alert("Ocurrió un error al generar el reporte. Por favor, intente de nuevo.","Error")}}}},Qf=Lf,Uf=Object($["a"])(Qf,zf,Hf,!1,null,null,null),jf=Uf.exports;r["default"].use(o["a"]);var Yf=function(e,t){return[{path:"cortes",name:e+".cortes",meta:{dark:t,auth:!0,name:"cortes",roles:[2,4,6,8]},component:nu},{path:"cuentas",name:e+".cuentas",meta:{dark:t,auth:!0,name:"cuentas",roles:[2,4,6,8]},component:Tu},{path:"descuentos",name:e+".descuentos",meta:{dark:t,auth:!0,name:"descuentos",roles:[2,4]},component:uu},{path:"facturacion",name:e+".facturacion",meta:{dark:t,auth:!0,name:"facturacion",roles:[2,4,6,8]},component:qf},{path:"examenes",name:e+".examenes",meta:{dark:t,auth:!0,name:"examenes",roles:[2,4,6,8,12,13]},component:Lu},{path:"examenesalmacenados",name:e+".examenesalmacenados",meta:{dark:t,auth:!0,name:"examenesalmacenados",roles:[2,4,6,12]},component:Gu},{path:"examenesinternos",name:e+".examenesinternos",meta:{dark:t,auth:!0,name:"examenesinternos",roles:[2,4,6]},component:af},{path:"incentivos",name:e+".incentivos",meta:{dark:t,auth:!0,name:"incentivos",roles:[2,4,6]},component:cf},{path:"equipo",name:e+".equipo",meta:{dark:t,auth:!0,name:"equipo",roles:[2,4,6,13]},component:pf},{path:"encargados",name:e+".encargados",meta:{dark:t,auth:!0,name:"encargados",roles:[2,4]},component:Cf},{path:"tiposexamenes",name:e+".tiposexamenes",meta:{dark:t,auth:!0,name:"tiposexamenes",roles:[2,4]},component:Ou}]},Bf=function(e,t){return[{path:"users",name:e+".users",meta:{dark:t,auth:!0,name:"Usuarios",roles:[1]},component:ya},{path:"cuartos",name:e+".cuartos",meta:{dark:t,auth:!0,name:"Cuartos",roles:[1]},component:ir},{path:"asuetos",name:e+".asuetos",meta:{dark:t,auth:!0,name:"Asuetos",roles:[1]},component:Sa},{path:"reportes",name:e+".reportes",meta:{dark:t,auth:!0,name:"Reportes",roles:[1]},component:Qa},{path:"adminparent",name:e+".adminparent",meta:{dark:t,auth:!0,name:"adminparent",roles:[1]},component:Xa}]},Gf=function(e,t){return[{path:"liquidacionparent",name:e+".liquidacionparent",meta:{dark:t,auth:!0,name:"liquidacionparent"},component:Ym}]},Zf=function(e,t){return[{path:"pacientesparent",name:e+".pacientesparent",meta:{dark:t,auth:!0,name:"pacientesparent"},component:Jm}]},Wf=function(e,t){return[{path:"cortes",name:e+".cortes",meta:{dark:t,auth:!0,name:"cortes",roles:[1,3,5,7]},component:jf},{path:"contratos",name:e+".contratos",meta:{dark:t,auth:!0,name:"contratos",roles:[1,3,5,7]},component:gr},{path:"cuentas",name:e+".cuentas",meta:{dark:t,auth:!0,name:"cuentas",roles:[1,3,5,7]},component:Or},{path:"facturacion",name:e+".facturacion",meta:{dark:t,auth:!0,name:"facturacion",roles:[1,3,5,7]},component:Df},{path:"seguros",name:e+".seguros",meta:{dark:t,auth:!0,name:"seguros",roles:[1,3,5,7]},component:ur},{path:"expedientes",name:e+".expedientes",meta:{dark:t,auth:!0,name:"expedientes",roles:[1,3,5,7]},component:Eo},{path:"cuentaslist",name:e+".cuentaslist",meta:{dark:t,auth:!0,name:"cuentaslist",roles:[1,3,5,7]},component:Po},{path:"ingresos",name:e+".ingresos",meta:{dark:t,auth:!0,name:"ingresos",roles:[1,3,5,7]},component:No},{path:"reingresos",name:e+".reingresos",meta:{dark:t,auth:!0,name:"reingresos",roles:[1,3,5,7]},component:Qo},{path:"cajachica",name:e+".cajachica",meta:{dark:t,auth:!0,name:"cajachica",roles:[1,3,5,7]},component:si}]},Kf=function(e,t){return[{path:"pedidos",name:e+".pedidos",meta:{dark:t,auth:!0,name:"pedidos",roles:[1,3,5,9,10,11]},component:Ii},{path:"emergencias",name:e+".emergencias",meta:{dark:t,auth:!0,name:"emergencias",roles:[1,3,5,9,11]},component:Qi},{path:"hospitalizacion",name:e+".hospitalizacion",meta:{dark:t,auth:!0,name:"hospitalizacion",roles:[1,3,5,9,10,11]},component:Zi},{path:"hospitalizacionEnfermeras",name:e+".hospitalizacionEnfermeras",meta:{dark:t,auth:!0,name:"hospitalizacionEnfermeras",roles:[1,3,5,9,10]},component:Vf},{path:"intensivo",name:e+".intensivo",meta:{dark:t,auth:!0,name:"intensivo",roles:[1,3,5,9,10,11]},component:tn},{path:"quirofano",name:e+".quirofano",meta:{dark:t,auth:!0,name:"quirofano",roles:[1,3,5,9,10]},component:ln},{path:"habitaciones",name:e+".habitaciones",meta:{dark:t,auth:!0,name:"habitaciones",roles:[1,3,5,9]},component:hn},{path:"servicios",name:e+".servicios",meta:{dark:t,auth:!0,name:"servicios",roles:[1,3,5,9]},component:xn},{path:"CategoriaSalaOperaciones",name:e+".CategoriaSalaOperaciones",meta:{dark:t,auth:!0,name:"CategoriaSalaOperaciones",roles:[1,5,3,9]},component:Rn},{path:"ingresos",name:e+".ingresos",meta:{dark:t,auth:!0,name:"ingresos",roles:[1,3,9,10,11]},component:kn},{path:"ingresosemergencia",name:e+".ingresosemergencia",meta:{dark:t,auth:!0,name:"ingresosemergencia",roles:[1,3,9,10,11]},component:Mn},{path:"reingresos",name:e+".reingresos",meta:{dark:t,auth:!0,name:"reingresos",roles:[1]},component:Qo},{path:"egresos",name:e+".egresos",meta:{dark:t,auth:!0,name:"egresos",roles:[1,3,9,10,11]},component:go},{path:"AsignarHabitacion",name:e+".AsignarHabitacion",meta:{dark:t,auth:!0,name:"AsignarHabitacion",roles:[1,3,9,10,11]},component:Un}]},Jf=function(e,t){return[{path:"pendientes",name:e+".pendientes",meta:{dark:t,auth:!0,name:"pendientes",roles:[1,3,5,11]},component:Wn},{path:"comun",name:e+".comun",meta:{dark:t,auth:!0,name:"comun",roles:[1,3,5,11]},component:hs},{path:"alimentos",name:e+".alimentos",meta:{dark:t,auth:!0,name:"alimentos",roles:[1,3,5,7]},component:Ws},{path:"equipos",name:e+".equipos",meta:{dark:t,auth:!0,name:"equipos",roles:[1,3,5,7]},component:Ms},{path:"medicamentos",name:e+".medicamentos",meta:{dark:t,auth:!0,name:"medicamentos",roles:[1,3,5,11]},component:hl},{path:"muestras",name:e+".muestras",meta:{dark:t,auth:!0,name:"muestras",roles:[1,3,5,11]},component:Ml},{path:"quirurgico",name:e+".quirurgico",meta:{dark:t,auth:!0,name:"quirurgico",roles:[1,3,5,11]},component:Wl},{path:"consumos",name:e+".consumos",meta:{dark:t,auth:!0,name:"consumos",roles:[1,3,5,11]},component:Jd},{path:"datos",name:e+".datos",meta:{dark:t,auth:!0,name:"datos",roles:[1,3,5]},component:xc},{path:"alertas",name:e+".alertas",meta:{dark:t,auth:!0,name:"alertas",roles:[1,3,5]},component:Uc},{path:"paquetes",name:e+".paquetes",meta:{dark:t,auth:!0,name:"paquetes",roles:[1,3,5]},component:bd},{path:"facturas",name:e+".facturas",meta:{dark:t,auth:!0,name:"facturas",roles:[1,3,5]},component:Yd}]},Xf=function(e,t){return[{path:"medicos",name:e+".medicos",meta:{dark:t,auth:!0,name:"medicos",roles:[1,3,5,7]},component:nm},{path:"especialidad",name:e+".especialidad",meta:{dark:t,auth:!0,name:"especialidad",roles:[1,3,5,7]},component:um},{path:"socios",name:e+".socios",meta:{dark:t,auth:!0,name:"socios",roles:[1,3,5,7]},component:gm},{path:"medicosparent",name:e+".medicosparent",meta:{dark:t,auth:!0,name:"medicosparent",roles:[1,3,5,7]},component:Am},{path:"PersonalSala",name:e+".PersonalSala",meta:{dark:t,auth:!0,name:"PersonalSala",roles:[1,3,5,7]},component:wm}]},eh=function(e,t){return[{path:"home-1",name:e+".home-1",meta:{dark:t,auth:!0,name:"Home 1"},component:ce},{path:"`home-2`",name:e+".home-2",meta:{dark:t,auth:!0,name:"Home 2"},component:ee}]},th=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return[{path:"form-layout",name:e+".layout",meta:{dark:t,auth:!0,name:"Layout"},component:Rt},{path:"form-validate",name:e+".validate",meta:{dark:t,auth:!0,name:"Validate"},component:Ut},{path:"form-switches",name:e+".switch",meta:{dark:t,auth:!0,name:"Switch"},component:Wt},{path:"form-radios",name:e+".radio",meta:{dark:t,auth:!0,name:"Radio"},component:aa},{path:"form-checkboxes",name:e+".checkbox",meta:{dark:t,auth:!0,name:"Checkbox"},component:la}]},ah=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return[{path:"dripicons",name:e+".dripicons",meta:{dark:t,auth:!0,name:"Dripicons"},component:lt},{path:"fontawesome-5",name:e+".fontawesome-5",meta:{dark:t,auth:!0,name:"Font Awsome"},component:ht},{path:"lineawesome",name:e+".lineawesome",meta:{dark:t,auth:!0,name:"Line Awsome"},component:xt},{path:"remixicon",name:e+".remixicon",meta:{dark:t,auth:!0,name:"Remixicon"},component:kt},{path:"unicons",name:e+".unicons",meta:{dark:t,auth:!0,name:"Unicon"},component:Mt}]},rh=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return[{path:"sign-in1",name:e+".sign-in1",meta:{dark:t,auth:!0},component:ye},{path:"sign-up1",name:e+".sign-up1",meta:{dark:t,auth:!0},component:Ue}]},oh=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return[{path:"/",name:e+".login",meta:{dark:t,auth:!0},component:ye}]},ih=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return[{path:"pricing",name:e+".pricing",meta:{dark:t,auth:!0,name:"Pricing"},component:We},{path:"pricing-1",name:e+".pricing1",meta:{dark:t,auth:!0,name:"Pricing 1"},component:at}]},nh=[{path:"/laboratorio",name:"laboratorio",component:w,meta:{auth:!0},children:Yf("laboratorio")},{path:"/gerencia",name:"gerencia",component:w,meta:{auth:!0},children:Bf("gerencia")},{path:"/caja",name:"caja",component:w,meta:{auth:!0},children:Wf("caja")},{path:"/liquidacion",name:"liquidacion",component:w,meta:{auth:!0},children:Gf("liquidacion")},{path:"/pacientes",name:"pacientes",component:w,meta:{auth:!0},children:Zf("pacientes")},{path:"/enfermeria",name:"enfermeria",component:w,meta:{auth:!0},children:Kf("enfermeria")},{path:"/farmacia",name:"farmacia",component:w,meta:{auth:!0},children:Jf("farmacia")},{path:"/medicos",name:"medicos",component:w,meta:{auth:!0},children:Xf("medicos")},{path:"/",name:"login",component:T,meta:{auth:!0},children:oh("login")},{path:"/",name:"dashboard",component:w,meta:{auth:!0},children:eh("dashboard")},{path:"/icon",name:"icon",component:w,meta:{auth:!0},children:ah("icon")},{path:"/auth",name:"auth1",component:T,meta:{auth:!0},children:rh("auth1")},{path:"/extra-pages",name:"extra-pages",component:w,meta:{auth:!0},children:ih("extra-pages")},{path:"/form",name:"form",component:w,meta:{auth:!0},children:th("form")},{path:"/callback",name:"callback",meta:{auth:!1},component:ha}],sh=new o["a"]({mode:"history",base:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_BASE_URL,routes:nh});sh.beforeEach((function(e,t,a){var r,o=JSON.parse(localStorage.getItem("user")),i=e.matched.some((function(e){return e.meta.auth})),n=(null===(r=e.meta)||void 0===r?void 0:r.roles)||[];if(i&&!o)return"auth1.sign-in1"!==e.name?a({name:"auth1.sign-in1"}):a();if(i&&n.length>0&&o){var s=o.user_type;if(!n.includes(s))return"auth1.sign-in1"!==e.name?a({name:"auth1.sign-in1"}):a()}return"auth1.sign-in1"===e.name&&o?a({name:"dashboard.home-2"}):a()}));t["a"]=sh},a409:function(e,t,a){},a6a2:function(e,t,a){},a77c:function(e,t,a){"use strict";a("9be6")},aef8:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{style:e.style,attrs:{id:"loading"}},[a("div",{attrs:{id:"loading-center"}})])},o=[],i=a("95cd"),n=a.n(i),s={name:"Loader",props:{dark:{type:Boolean,default:!1}},mounted:function(){this.style="background: #fff url(".concat(this.logo,") no-repeat scroll center center;")},data:function(){return{logo:n.a,style:"background: #fff url(".concat(n.a,") no-repeat scroll center center;")}}},l=s,c=a("2877"),d=Object(c["a"])(l,r,o,!1,null,null,null);t["default"]=d.exports},bcae:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var r=a("2909"),o=(a("b0c0"),a("7db0"),a("d3b7"),a("a630"),a("3ca3"),a("4de4"),a("9911"),a("a434"),a("5744")),i=a("0d1c"),n=a.n(i),s=a("4360"),l=a("a18c"),c=a("1157");"undefined"!==typeof window&&(window.$=c,window.jQuery=c,a("764b"));var d={index:function(){this.loaderInit(),this.activeRoute(),this.SmoothScrollbar(),this.Accordian(),this.progressBar()},mainIndex:function(){this.ripple(),this.fullscreen(),this.navBarAction(),this.AccordianInit(),this.fixedHeader(),this.chat()},loaderInit:function(){var e=document.getElementById("loading");m.fadeOut(e,{duration:0}),m.fadeOut(e,{duration:1400}),setTimeout((function(){e.classList.add("d-none")}),1400)},activeRoute:function(){var e={name:l["a"].currentRoute.meta.name,breadCrumb:[{html:'<i class="ri-home-4-line mr-1 float-left"></i>Home',to:{name:"mini.dashboard.home-1"}},{text:l["a"].currentRoute.meta.name,href:"#"}],bookmark:!0};s["a"].dispatch("Setting/activePageAction",e)},progressBar:function(){c(".iq-progress-bar > span").each((function(){var e=c(this),t=c(this).data("percent");e.css({transition:"width 2s"}),setTimeout((function(){e.css("width",t+"%")}),100)})),c(".progress-bar-vertical > span").each((function(){var e=c(this),t=c(this).data("percent");e.css({transition:"height 2s"}),setTimeout((function(){e.css("height",t+"%")}),100)}))},fixedHeader:function(){c(window).scroll((function(){c(window).scrollTop()>=75?c(".iq-top-navbar").addClass("fixed-header"):c(".iq-top-navbar").removeClass("fixed-header")}))},ripple:function(){c(document).on("click",".iq-waves-effect",(function(e){c(".ripple").remove();var t=c(this).offset().left,a=c(this).offset().top,r=c(this).width(),o=c(this).height();c(this).prepend("<span class='ripple'></span>"),r>=o?o=r:r=o;var i=e.pageX-t-r/2,n=e.pageY-a-o/2;c(".ripple").css({width:r,height:o,top:n+"px",left:i+"px"}).addClass("rippleEffect")}))},fullscreen:function(){var e=this.checkElement("class","iq-full-screen");e&&c(document).on("click",".iq-full-screen",(function(){var e=c(this);document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT),e.find("i").toggleClass("ri-fullscreen-line").toggleClass("ri-fullscreen-exit-line")}))},triggerSet:function(){var e=this.checkElement("class","wrapper-menu");if(e){var t=document.querySelector(".wrapper-menu"),a=document.querySelector("body");this.sidebarMiniSetEvent(t,a)}},sidebarMiniSetEvent:function(e,t){e.classList.toggle("open"),t.classList.toggle("sidebar-main")},checkClass:function(e,t,a){switch(t){case"addClass":e.hasClass(a)||e.addClass(a);break;case"removeClass":e.hasClass(a)&&e.removeClass(a);break;case"toggleClass":e.toggleClass(a);break}},sideBarToggle:function(){var e=this,t=document.querySelectorAll(".iq-sidebar-menu li");Array.from(t,(function(t){t.addEventListener("click",(function(a){var r=window.$(".iq-sidebar-menu li").has(".iq-submenu").find("ul.show").attr("id");window.$(".iq-sidebar-menu li").has(".iq-submenu").removeClass("active");var o=document.getElementById(r);null!==o&&(Array.from(o.closest("li").getElementsByClassName("not-collapsed"),(function(t){e.$root.$emit("bv::toggle::collapse",r),o.closest("li").classList.remove("active")})),console.log(o.closest("li").getElementsByClassName("not-collapsed"))),window.$(t).has(".iq-submenu").addClass("active")}))}))},navBarAction:function(){c(document).on("click",".iq-sub-dropdown",(function(e){e.stopPropagation()})),c(document).on("click",(function(e){var t,a,r=e.target;c(r).hasClass("search-toggle")||c(r).parent().hasClass("search-toggle")||c(r).parent().parent().hasClass("search-toggle")?(c(r).hasClass("search-toggle")?(t=c(r).parent(),a=c(r)):c(r).parent().hasClass("search-toggle")?(t=c(r).parent().parent(),a=c(r).parent()):c(r).parent().parent().hasClass("search-toggle")&&(t=c(r).parent().parent().parent(),a=c(r).parent().parent()),!a.hasClass("active")&&c(".navbar-list li").find(".active")&&(c(".navbar-list li").removeClass("iq-show"),c(".navbar-list li .search-toggle").removeClass("active")),t.toggleClass("iq-show"),a.toggleClass("active"),e.preventDefault()):c(r).is(".search-input")||(c(".navbar-list li").removeClass("iq-show"),c(".navbar-list li .search-toggle").removeClass("active"))}))},checkElement:function(e,t){var a,r=!1;switch(e){case"class":a=document.getElementsByClassName(t),void 0!==a&&null!==a&&a.length>0&&(r=!0);break;case"id":a=document.getElementById(t),void 0!==a&&null!==a&&(r=!0);break}return r},owlCarousel:function(){},SmoothScrollbar:function(){var e=this.checkElement("id","sidebar-scrollbar");e&&o["a"].init(document.querySelector("#sidebar-scrollbar"));var t=this.checkElement("id","right-sidebar-scrollbar");t&&o["a"].init(document.querySelector("#right-sidebar-scrollbar"))},Accordian:function(){c(".iq-accordion .iq-accordion-block .accordion-details").hide(),c(".iq-accordion .iq-accordion-block:first").addClass("accordion-active").children().slideDown("slow")},AccordianInit:function(){c(document).on("click",".iq-accordion .iq-accordion-block",(function(){c(this).children("div.accordion-details ").is(":hidden")&&(c(".iq-accordion .iq-accordion-block").removeClass("accordion-active").children("div.accordion-details ").slideUp("slow"),c(this).toggleClass("accordion-active").children("div.accordion-details ").slideDown("slow"))}))},getActiveLink:function(e,t){var a=!1;return void 0!==e.children?e.children.filter((function(e){e.link.name===t&&(a=!0)})):e.link.name===t&&(a=!0),a},showSnackbar:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!==e)switch(e){case"success":n.a.show({text:t,backgroundColor:"#323232"});break;case"error":n.a.show({text:t,backgroundColor:"#b21f2d",actionTextColor:"#ffffff"});break}else n.a.show(t)},Snackbar:function(e){n.a.show(e)},chat:function(){c("#chat-start").click((function(){c(".chat-data-left").toggleClass("show")})),c(".close-btn-res").click((function(){c(".chat-data-left").removeClass("show")})),c(".iq-chat-ui li").click((function(){c(".chat-data-left").removeClass("show")})),c(".sidebar-toggle").click((function(){c(".chat-data-left").addClass("show")}))},random:function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=a.length,o=0;o<e;o++)t+=a.charAt(Math.floor(Math.random()*r));return t},applyDrag:function(e,t){var a=t.removedIndex,o=t.addedIndex,i=t.payload;if(null===a&&null===o)return e;var n=Object(r["a"])(e),s=i;return null!==a&&(s=n.splice(a,1)[0]),null!==o&&n.splice(o,0,s),n},generateItems:function(e,t){for(var a=[],r=0;r<e;r++)a.push(t(r));return a}},m={easing:{linear:function(e){return e},quadratic:function(e){return Math.pow(e,2)},swing:function(e){return.5-Math.cos(e*Math.PI)/2},circ:function(e){return 1-Math.sin(Math.acos(e))},back:function(e,t){return Math.pow(e,2)*((t+1)*e-t)},bounce:function(e){for(var t=0,a=1;1;t+=a,a/=2)if(e>=(7-4*t)/11)return-Math.pow((11-6*t-11*e)/4,2)+Math.pow(a,2)},elastic:function(e,t){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}},animate:function(e){var t=new Date,a=setInterval((function(){var r=new Date-t,o=r/e.duration;o>1&&(o=1),e.progress=o;var i=e.delta(o);e.step(i),1===o&&clearInterval(a)}),e.delay||10)},fadeOut:function(e,t){var a=1;this.animate({duration:t.duration,delta:function(e){return e=this.progress,m.easing.swing(e)},step:function(t){e.style.opacity=a-t}})},fadeIn:function(e,t){var a=0;this.animate({duration:t.duration,delta:function(e){return e=this.progress,m.easing.swing(e)},step:function(t){e.style.opacity=a+t}})}}},c45e:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"iq-top-navbar"},[a("div",{staticClass:"iq-navbar-custom",class:e.horizontal?"d-flex align-items-center justify-content-between":""},[a("div",{staticClass:"iq-sidebar-logo"},[a("div",{staticClass:"top-logo"},[a("router-link",{attrs:{to:e.homeURL}},[a("img",{staticClass:"img-fluid",attrs:{src:e.logo,alt:"logo"}}),a("img",{staticClass:"img-fluid",attrs:{src:e.logo2,alt:"logo"}}),a("span",[e._v("HEO/LAB")])])],1)]),e.horizontal?a("div",{staticClass:"iq-menu-horizontal"},[a("div",{staticClass:"iq-sidebar-menu"},[a("List",{staticClass:"d-flex",attrs:{items:e.items}})],1)]):e._e(),a("nav",{staticClass:"navbar navbar-expand-lg navbar-light p-0"},[a("div",{staticClass:"iq-menu-bt align-self-end"},[a("div",{staticClass:"wrapper-menu",on:{click:e.miniSidebar}},[e._m(0),e._m(1)])]),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[e._t("responsiveRight")],2),e._t("right")],2)])])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-circle"},[a("i",{staticClass:"ri-more-fill"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hover-circle"},[a("i",{staticClass:"ri-more-2-fill"})])}],i=a("3ed3"),n=a("df88"),s={name:"NavBarStyle1",props:{homeURL:{type:Object,default:function(){return{name:"layout1.dashboard"}}},title:{type:String,default:"Dashboard"},logo:{type:String,default:a("9d64")},logo2:{type:String,default:a("5981")},horizontal:{type:Boolean,default:!1},items:{type:Array}},mounted:function(){document.addEventListener("click",this.closeSearch,!0)},components:{List:i["default"]},computed:{},data:function(){return{sidebar:n,globalSearch:"",showSearch:!1,showMenu:!1}},methods:{miniSidebar:function(){this.$emit("toggle")}}},l=s,c=a("2877"),d=Object(c["a"])(l,r,o,!1,null,null,null);t["default"]=d.exports},c6ec:function(e,t,a){},cb72:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:"iq-card "+e.className},[e._t("cardImage"),e.hasHeaderTitleSlot||e.hasHeaderActionSlot?a("div",{class:"iq-card-header d-flex justify-content-between "+e.headerClass},[a("div",{staticClass:"iq-header-title"},[e._t("headerTitle")],2),a("div",{staticClass:"iq-card-header-toolbar d-flex align-items-center"},[e._t("headerAction")],2)]):e._e(),e.hasBodySlot?a("b-card-body",{attrs:{"body-class":"iq-card-body "+e.bodyClass}},[e._t("body")],2):e._e(),e._t("default"),e.hasFooterSlot?a("div",{class:"card-footer"+e.footerClass},[e._t("footer")],2):e._e()],2)},o=[],i={name:"iq-card",props:{className:{type:String,default:""},bodyClass:{type:String,default:""},headerClass:{type:String,default:""},footerClass:{type:String,default:""}},mounted:function(){},computed:{hasHeaderTitleSlot:function(){return!!this.$slots.headerTitle},hasHeaderActionSlot:function(){return!!this.$slots.headerAction},hasBodySlot:function(){return!!this.$slots.body},hasFooterSlot:function(){return!!this.$slots.footer}}},n=i,s=a("2877"),l=Object(s["a"])(n,r,o,!1,null,null,null);t["default"]=l.exports},cbba:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tab-content",attrs:{id:e.id}},[e._t("default")],2)},o=[],i={name:"tab-content",props:{id:{type:String,default:"myTabContent"}}},n=i,s=a("2877"),l=Object(s["a"])(n,r,o,!1,null,null,null);t["default"]=l.exports},cf5a:function(e,t,a){e.exports=a.p+"img/logoLab.efeb4448.jpg"},d279:function(e,t,a){},d545:function(e,t,a){"use strict";a("1709")},d70c:function(e,t,a){"use strict";a("2732")},ddb1:function(e){e.exports=JSON.parse('[{"title":"Dashboard","is_heading":false,"is_active":false,"link":"","class_name":"","is_icon_class":true,"icon":"ri-home-4-line","children":[{"title":"Dashboard1","is_active":false,"link":{"name":"dashboard1.home"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Dashboard2","is_active":false,"link":{"name":"dashboard1.home1"},"class_name":"","is_icon_class":false,"icon":""}]},{"title":"App","is_heading":false,"is_active":false,"link":"","class_name":"","is_icon_class":true,"icon":"ri-mail-open-line","children":[{"title":"Email","is_active":false,"link":{"name":"app.email"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Calender","is_heading":false,"is_active":false,"link":{"name":"app.calendar"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Chat","is_heading":false,"is_active":false,"link":"","append":"Soon","append_class":"badge badge-pill badge-primary float-right font-weight-normal ml-auto","class_name":"","is_icon_class":false,"icon":""},{"title":"eCommerce","is_heading":false,"is_active":false,"link":"","class_name":"","is_icon_class":false,"icon":""}]},{"title":"UI Elements","is_heading":false,"is_active":false,"class_name":"","link":"","is_icon_class":true,"icon":"ri-pencil-ruler-line","children":[{"title":"Color","is_active":false,"link":{"name":"core.color"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Trypography","is_active":false,"link":{"name":"core.typography"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Alert","is_active":false,"link":{"name":"core.alert"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Badges","is_active":false,"link":{"name":"core.badges"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Breadcrumb","is_active":false,"link":{"name":"core.breadcrumb"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Button","is_active":false,"link":{"name":"core.button"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Cards","is_active":false,"link":{"name":"core.cards"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Carousel","is_active":false,"link":{"name":"core.carousel"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Video","is_active":false,"link":{"name":"core.embed-video"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Grid","is_active":false,"link":{"name":"core.grid"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Images","is_active":false,"link":{"name":"core.images"},"class_name":"","is_icon_class":false,"icon":""},{"title":"List group","is_active":false,"link":{"name":"core.listgroup"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Media","is_active":false,"link":{"name":"core.media-object"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Modal","is_active":false,"link":{"name":"core.modal"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Notifications","is_active":false,"link":{"name":"core.notifications"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Pagination","is_active":false,"link":{"name":"core.pagination"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Popovers","is_active":false,"link":{"name":"core.popovers"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Progress Bars","is_active":false,"link":{"name":"core.progressbars"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Tabs","is_active":false,"link":{"name":"core.tabs"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Tooltips","is_active":false,"link":{"name":"core.tooltips"},"class_name":"","is_icon_class":false,"icon":""}]},{"title":"Forms","is_heading":false,"is_active":false,"link":"","class_name":"","is_icon_class":true,"icon":"ri-file-list-3-line","children":[{"title":"Form Elements","is_active":false,"link":{"name":"form.layout"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Form Validation","is_active":false,"link":{"name":"form.validate"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Form Switch","is_active":false,"link":{"name":"form.switch"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Form Radio","is_active":false,"link":{"name":"form.radio"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Form Checkbox","is_active":false,"link":{"name":"form.checkbox"},"class_name":"","is_icon_class":false,"icon":""}]},{"title":"Tables","is_heading":false,"is_active":false,"link":"","class_name":"","is_icon_class":true,"icon":"ri-table-line","children":[{"title":"Basic Table","is_active":false,"link":{"name":"table.basic"},"class_name":"","is_icon_class":false,"icon":""},{"title":"DataTable","is_active":false,"link":{"name":"table.dataTable"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Editable","is_active":false,"link":{"name":"table.editable"},"class_name":"","is_icon_class":false,"icon":""}]},{"title":"Authentication","is_heading":false,"is_active":false,"link":"","class_name":"","is_icon_class":true,"icon":"ri-pages-line","children":[{"title":"Login","is_active":false,"link":{"name":"auth1.sign-in1"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Register","is_active":false,"link":{"name":"auth1.sign-up1"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Recover Password","is_active":false,"link":{"name":"auth1.password-reset1"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Confirm Mail","is_active":false,"link":{"name":"auth1.confirm-mail1"},"class_name":"","is_icon_class":false,"icon":""},{"title":"Lock Screen","is_active":false,"link":{"name":"auth1.lock-screen1"},"class_name":"","is_icon_class":false,"icon":""}]}]')},ddb8:function(e,t,a){"use strict";var r=a("9483");Object(r["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}})},df88:function(e){e.exports=JSON.parse('[{"title":"Dashboard","name":"sidebar.admin","is_heading":true,"is_active":false,"class_name":"","is_icon_class":true,"icon":"","rol":[1]},{"title":"Hospital Dashboard 1","name":"sidebar.dashboard2","is_heading":false,"is_active":false,"link":{"name":"dashboard.home-1"},"class_name":"","is_icon_class":true,"icon":"ri-home-8-fill","rol":[1,3]},{"title":"Gerencia","name":"Gerencia","is_heading":false,"is_active":false,"class_name":"","is_icon_class":true,"icon":"ri-file-list-fill","link":{"name":"gerencia.adminparent"},"rol":[1]},{"title":"Caja","name":"Caja","is_heading":false,"is_active":false,"link":{},"class_name":"","is_icon_class":true,"icon":"ri-briefcase-4-fill","rol":[1,3,5,7],"children":[{"title":"Cortes","name":"Cortes","is_active":false,"link":{"name":"caja.cortes"},"class_name":"","is_icon_class":true,"icon":"ri-user-add-fill","rol":[1,3,5,7]},{"title":"Nuevo Ingreso","name":"Nuevo Ingreso","is_active":false,"link":{"name":"caja.ingresos"},"class_name":"","is_icon_class":true,"icon":"ri-user-add-fill","rol":[1,3,5,7]},{"title":"Reingreso","name":"Reingreso","is_active":false,"link":{"name":"caja.reingresos"},"class_name":"","is_icon_class":true,"icon":"ri-user-add-fill","rol":[1,3,5,7]},{"title":"Expedientes","name":"Expedientes","is_active":false,"link":{"name":"caja.expedientes"},"class_name":"","is_icon_class":true,"icon":"ri-article-line","rol":[1,3,5,7]},{"title":"Cuentas","name":"Cuentas","is_active":false,"link":{"name":"caja.cuentaslist"},"class_name":"","is_icon_class":true,"icon":"ri-wallet-3-fill","rol":[1,3,5,7]},{"title":"Seguros","name":"Seguros","is_active":false,"link":{"name":"caja.seguros"},"class_name":"","is_icon_class":true,"icon":"ri-wallet-3-fill","rol":[1,3,5,7]},{"title":"Liquidaciones caja chica","name":"Liquidaciones caja chica","is_active":false,"link":{"name":"caja.cajachica"},"class_name":"","is_icon_class":true,"icon":"ri-file-add-line","rol":[1,3,5,7]},{"title":"Cuentas por cobrar","name":"Cuentas por cobrar","is_active":false,"link":{"name":"caja.cuentas"},"class_name":"","is_icon_class":true,"icon":"ri-file-warning-line","rol":[1,3,5,7]},{"title":"Facturación","name":"facturación","is_active":false,"link":{"name":"caja.facturacion"},"class_name":"","is_icon_class":true,"icon":"ri-article-line","rol":[1,3,5,7]}]},{"title":"Enfermería","name":"Enfermería","is_heading":false,"is_active":false,"class_name":"","is_icon_class":true,"icon":"ri-home-heart-line","link":{},"rol":[1,3,5,9,10,11],"children":[{"title":"Pedidos a farmacia","name":"Pedidos a farmacia","is_active":false,"link":{"name":"enfermeria.pedidos"},"class_name":"","is_icon_class":true,"icon":"ri-arrow-left-circle-line","rol":[1,3,5,9,10,11]},{"title":"Quirófano","name":"Quirófano","is_active":false,"link":{"name":"enfermeria.quirofano"},"class_name":"","is_icon_class":true,"icon":"ri-heart-2-fill","rol":[1,3,5,9,10]},{"title":"Hospitalización","name":"Hospitalización","is_active":false,"link":{"name":"enfermeria.hospitalizacion"},"class_name":"","is_icon_class":true,"icon":"ri-heart-fill","rol":[1,3,5,9,10,11]},{"title":"Intensivo","name":"Intensivo","is_active":false,"link":{"name":"enfermeria.intensivo"},"class_name":"","is_icon_class":true,"icon":"ri-spam-fill","rol":[1,3,5,9,10,11]},{"title":"Emergencia","name":"Emergencia","is_active":false,"link":{"name":"enfermeria.emergencias"},"class_name":"","is_icon_class":true,"icon":"ri-spam-line","rol":[1,3,5,9,11]},{"title":"Consumos","name":"Consumos","is_active":false,"link":{"name":"enfermeria.hospitalizacionEnfermeras"},"class_name":"","is_icon_class":true,"icon":"ri-play-list-add-line","rol":[1,3,5,9,10]},{"title":"Habitaciones","name":"Habitaciones","is_active":false,"link":{"name":"enfermeria.habitaciones"},"class_name":"","is_icon_class":true,"icon":"ri-hotel-bed-line","rol":[1,3,5,9]},{"title":"Servicios","name":"Servicios","is_active":false,"link":{"name":"enfermeria.servicios"},"class_name":"","is_icon_class":true,"icon":"ri-customer-service-line","rol":[1,3,5,9]},{"title":"Sala Operaciones","name":"Sala Operaciones","is_active":false,"link":{"name":"enfermeria.CategoriaSalaOperaciones"},"class_name":"","is_icon_class":true,"icon":"ri-home-heart-line","rol":[1,5,3,9]},{"title":"Nuevo Ingreso","name":"Nuevo Ingreso","is_active":false,"link":{"name":"enfermeria.ingresos"},"class_name":"","is_icon_class":true,"icon":"ri-user-add-fill","rol":[1,3,9,10,11]},{"title":"Ingreso emergencia","name":"Ingreso emergencia","is_active":false,"link":{"name":"enfermeria.ingresosemergencia"},"class_name":"","is_icon_class":true,"icon":"ri-user-add-line","rol":[1,3,9,10,11]},{"title":"Reingreso","name":"Reingreso","is_active":false,"link":{"name":"enfermeria.reingresos"},"class_name":"","is_icon_class":true,"icon":"ri-user-add-fill","rol":[1]},{"title":"Egresos","name":"Egresos","is_active":false,"link":{"name":"enfermeria.egresos"},"class_name":"","is_icon_class":true,"icon":"ri-file-transfer-line","rol":[1,3,9,10,11]},{"title":"Asignar Habitaciones","name":"Asignar Habitaciones","is_active":false,"link":{"name":"enfermeria.AsignarHabitacion"},"class_name":"","is_icon_class":true,"icon":"ri-hotel-bed-line","rol":[1,3,9,10,11]}]},{"title":"Farmacia","name":"Farmacia","is_heading":false,"is_active":false,"link":{},"class_name":"","is_icon_class":true,"icon":"ri-store-fill","rol":[1,3,5,11],"children":[{"title":"Pedidos pendientes","name":"Pedidos pendientes","is_active":false,"link":{"name":"farmacia.pendientes"},"class_name":"","is_icon_class":true,"icon":"ri-arrow-right-circle-line","rol":[1,3,5,11]},{"title":"Medicamentos","name":"Medicamentos","is_active":false,"link":{"name":"farmacia.medicamentos"},"class_name":"","is_icon_class":true,"icon":"ri-hospital-line","rol":[1,3,5,11]},{"title":"Material quirúrgico","name":"Material quirúrgico","is_active":false,"link":{"name":"farmacia.quirurgico"},"class_name":"","is_icon_class":true,"icon":"ri-scissors-fill","rol":[1,3,5,11]},{"title":"Material común","name":"Material común","is_active":false,"link":{"name":"farmacia.comun"},"class_name":"","is_icon_class":true,"icon":"ri-file-list-3-fill","rol":[1,3,5,11]},{"title":"Muestras médicas","name":"Muestras médicas","is_active":false,"link":{"name":"farmacia.muestras"},"class_name":"","is_icon_class":true,"icon":"ri-briefcase-line","rol":[1,3,5,11]},{"title":"Consumos","name":"Consumos","is_active":false,"link":{"name":"farmacia.consumos"},"class_name":"","is_icon_class":true,"icon":"ri-file-transfer-line","rol":[1,3,5,11]},{"title":"Datos farmacia","name":"Datos farmacia","is_active":false,"link":{"name":"farmacia.datos"},"class_name":"","is_icon_class":true,"icon":"ri-pie-chart-fill","rol":[1,3,5]},{"title":"Alertas existencia","name":"Alertas existencia","is_active":false,"link":{"name":"farmacia.alertas"},"class_name":"","is_icon_class":true,"icon":"ri-error-warning-fill","rol":[1,3,5]},{"title":"Paquetes","name":"Paquetes","is_active":false,"link":{"name":"farmacia.paquetes"},"class_name":"","is_icon_class":true,"icon":"ri-red-packet-fill","rol":[1,3,5]},{"title":"Ingresos de medicamento","name":"Ingreso de medicamento","is_active":false,"link":{"name":"farmacia.facturas"},"class_name":"","is_icon_class":true,"icon":"ri-arrow-down-circle-fill","rol":[1,3,5]}]},{"title":"Inventario","name":"Inventario","is_heading":false,"is_active":false,"link":{},"class_name":"","is_icon_class":true,"icon":"ri-archive-fill","rol":[1,3,5,7],"children":[{"title":"Equipos médicos","name":"Equipos médicos","is_active":false,"link":{"name":"farmacia.equipos"},"class_name":"","is_icon_class":true,"icon":"ri-keyboard-box-fill","rol":[1,3,5,7]},{"title":"Alimentación","name":"Alimentación","is_active":false,"link":{"name":"farmacia.alimentos"},"class_name":"","is_icon_class":true,"icon":"ri-shopping-cart-fill","rol":[1,3,5,7]}]},{"title":"Médicos","name":"Médicos","is_heading":false,"is_active":false,"link":{"name":"medicos.medicosparent"},"class_name":"","is_icon_class":true,"icon":"ri-shield-cross-fill","rol":[1,3,5,7]}]')},dfc8:function(e,t,a){},e457:function(e,t,a){"use strict";a("c6ec")},e7a2:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{class:e.liClass},[a("a",{class:"nav-link "+e.className,attrs:{id:e.id,"data-toggle":e.dataToggle,href:e.url,role:e.role,"aria-controls":e.ariaControls,"aria-selected":e.ariaSelected}},[e.hasTitleSlot?e._t("title"):[e._v(e._s(e.title))]],2)])},o=[],i={name:"tab-nav-items",props:{id:{type:String,default:"myTab"},active:{type:Boolean,default:!1},role:{type:String,default:"tab"},ariaControls:{type:String,default:"tabpanel"},ariaSelected:{type:Boolean,default:!1},dataToggle:{type:String,default:"tab"},href:{type:String,default:""},title:{type:String,default:""},liClass:{type:String,default:"nav-item"}},mounted:function(){this.active&&(this.className="show active")},computed:{hasTitleSlot:function(){return!!this.$slots.title},url:function(){return""===this.href?"#"+this.ariaControls:this.href}},data:function(){return{className:""}}},n=i,s=a("2877"),l=Object(s["a"])(n,r,o,!1,null,null,null);t["default"]=l.exports},eb26:function(e){e.exports=JSON.parse('[{"title":"Dashboard","name":"sidebar.admin","is_heading":true,"is_active":false,"class_name":"","is_icon_class":true,"icon":"","rol":[2]},{"title":"Hospital Dashboard 1","name":"sidebar.dashboard2","is_heading":false,"is_active":false,"link":{"name":"dashboard.home-2"},"class_name":"","is_icon_class":true,"icon":"ri-home-8-fill","rol":[2]},{"title":"Caja","name":"Caja","is_heading":false,"is_active":false,"link":{},"class_name":"","is_icon_class":true,"icon":"ri-briefcase-4-fill","rol":[2,4,6,8],"children":[{"title":"Cortes","name":"Cortes","is_active":false,"link":{"name":"laboratorio.cortes"},"class_name":"","is_icon_class":true,"icon":"ri-scissors-fill","rol":[2,4,6,8]},{"title":"Cuentas por cobrar","name":"Cuentas por cobrar","is_active":false,"link":{"name":"laboratorio.cuentas"},"class_name":"","is_icon_class":true,"icon":"ri-money-dollar-circle-fill","rol":[2,4,6,8]},{"title":"Facturación","name":"Facturación","is_active":false,"link":{"name":"laboratorio.facturacion"},"class_name":"","is_icon_class":true,"icon":"ri-file-text-fill","rol":[2,4,6,8]},{"title":"Descuentos","name":"Descuentos","is_active":false,"link":{"name":"laboratorio.descuentos"},"class_name":"","is_icon_class":true,"icon":"ri-price-tag-3-line","rol":[2,4]}]},{"title":"Exámenes","name":"Exámenes","is_heading":false,"is_active":false,"link":{"name":"laboratorio.examenes"},"class_name":"","is_icon_class":true,"icon":"ri-article-line","rol":[2,4,6,8,12,13]},{"title":"Estadísticas","name":"Estadísticas","is_heading":false,"is_active":false,"class_name":"","is_icon_class":true,"icon":"ri-bar-chart-fill","link":{},"children":[{"title":"Exámenes internos","name":"Reporte Exámenes","is_active":false,"link":{"name":"laboratorio.examenesinternos"},"class_name":"","is_icon_class":true,"icon":"ri-file-text-line","rol":[2,4,6]},{"title":"Incentivos","name":"Comisiones a medicos","is_active":false,"link":{"name":"laboratorio.incentivos"},"class_name":"","is_icon_class":true,"icon":"ri-money-dollar-circle-line","rol":[2,4,6]}]},{"title":"Exámenes disponibles","name":"Exámenes disponibles","is_heading":false,"is_active":false,"link":{"name":"laboratorio.examenesalmacenados"},"class_name":"","is_icon_class":true,"icon":"ri-folders-fill","rol":[2,4,6,12]},{"title":"Inventario","name":"Inventario","is_heading":false,"is_active":false,"link":{"name":"laboratorio.equipo"},"class_name":"","is_icon_class":true,"icon":"ri-archive-fill","rol":[2,4,6,13]},{"title":"Encargados","name":"Encargados","is_heading":false,"is_active":false,"link":{"name":"laboratorio.encargados"},"class_name":"","is_icon_class":true,"icon":"ri-account-box-fill","rol":[2,4]},{"title":"Tipos de examen","name":"Tipos de examen","is_heading":false,"is_active":false,"link":{"name":"laboratorio.tiposexamenes"},"class_name":"","is_icon_class":true,"icon":"ri-list-check","rol":[2,4]}]')},edd4:function(e){e.exports=JSON.parse('{"sidebar":{"dashboard":"Tablero","dashboard1":"Médico Tablero","dashboard2":"Panel de control","dashboard3":"Panel de control","dashboard4":"Panel del paciente","videoChat":"Chat De Vídeo","app":"Aplicación","eCommerce":"E-Commerce","productListing":"Ficha De Producto","productDetail":"Detalles Del Producto","checkout":"Checkout","wishlist":"Lista de deseos","socialApp":"Aplicación Social","todo":"Todo","projectManagement":"Gestión De Proyectos","email":"Correo electrónico","inbox":"Bandeja de entrada","emailCompose":"Correo Electrónico Componer","calendar":"Calendario","doctor":"Los médicos","doctorProfile":"Médico De Perfil","doctorEdit":"Editar Médico","doctorAdd":"Agregar Médico","doctorList":"Todos Los Médicos","components":"Componentes","uiElements":"Elementos de interfaz de usuario","color":"Color","typography":"La tipografía","alert":"Alerta","badges":"Insignias","breadcrumb":"Bradcrumb","button":"Botón","cards":"Tarjetas de","carousel":"Carrusel","video":"Video","grid":"Cuadrícula","images":"Imágenes","listGroup":"Grupo De La Lista De","media":"Los medios de comunicación","modal":"Modal","notifications":"Las notificaciones","pagination":"La paginación","popovers":"Popovers","progressBars":"Las Barras De Progreso","tabs":"Fichas","tooltips":"La información sobre herramientas","forms":"Formas","formElements":"Elementos De Formulario","formValidation":"La Validación De Formularios","formSwitch":"Formulario De Interruptor","formRadio":"Formulario De Radio","formCheckbox":"Formulario De Casilla De Verificación","table":"Tabla","basicTable":"Tabla Básica","dataTable":"Tabla De Datos","editable":"Editable","charts":"Los gráficos","highChart":"Gráficos","amChart":"ESTOY Gráfico","apexChart":"Apex Gráfico","icons":"Los iconos","dripicons":"Dripicons Icono","fontAwsome5":"Fuente Awsome 5","lineAwsomeIcon":"lineAwsomeIcon","rimixIcon":"Remixicon","unicon":"Unicon","pages":"Páginas","authentication":"La autenticación","login":"Inicio de sesión","register":"Registro","recoverPassword":"Recuperar La Contraseña","confirmMail":"Confirmar Correo","lockScreen":"La Pantalla De Bloqueo","maps":"Mapas","googleMap":"Mapa De Google","extraPages":"Páginas Adicionales","timeline":"Línea de tiempo","invoice":"Factura","blankPage":"Página En Blanco","error404":"Error 404","error500":"El Error 500","pricing":"Precios","pricing1":"precios 1","maintenance":"Mantenimiento","comingSoon":"Próximamente","faq":"Preguntas frecuentes","plugins":"Plugins","datepicker":"Selector de fecha","select":"Seleccione","draggable":"Se pueden arrastrar","admin":"Gerencia","users":"Asignación de usuarios","pharmacy":"Farmacia","purchases":"Compras","sales":"Ventas","inventory":"Inventario","inventoryAdjustment":"Ajuste de inventario","pharmacyReports":"Reportes","cash":"Caja","receipt":"Cobro individual","boxClosure":"Listado de cobros","patients":"Pacientes","history":"Historial de pacientes","patientsReports":"Reportes","renting":"Arrendamiento","clinics":"Clínicas","appointment":"Programación de citas","laboratory":"Laboratorio","examination":"Examenes","SuppliesInventory":"Inventario de insumos","doctors":"Médicos","specialties":"Especialidades","sites":"Centros","tipomedicos":"Tipo médicos","MedicalHouse":"Casas medicas","Presentations":"Presentaciones","Brand":"Marca","MedicationType":"Tipos de medicamento","Medicine":"Medicamentos","MedicineSide":"Medicamentos","SuppliesType":"Tipos de insumos","GaloTech":"Galo tech","EquipmentType":"Tipo de equipo","EquiptmentGalo":"Equipo","EquiptmentInventory":"Inventario de equipo","SuppliesLab":"Insumos de laboratorio","PatientsDay":"Pacientes del dia","WaitList":"Lista de espera","PatientExpress":"Paciente rapido","SalesInventory":"Ventas de inventario","Contabilidad":"Contabilidad","ListadoCompras":"Listado de compras","ListadoVentas":"Listado de ventas","Cierres":"Cierres","Reportes":"Reportes","QuickAppointment":"Primera consulta","Books":"Libros","BankAccount":"Cuentas de banco","SalesNomenclature":"Nomenclaturas","ExamType":"Tipo de examen","ExternalExaminations":"Examenes Externos","ExternalMedicine":"Medicamentos Externos","Appointments":"Citas"},"nav":{"allNotifications":"Todas Las Notificaciones","allMessages":"Todos Los Mensajes","allCarts":"Todos Los Carros","viewCarts":"Ver Los Carros","user":{"available":"Disponible","profileTitle":"Mi Perfil","profileSub":"Ver perfil personal de detalles.","profileEditTitle":"Editar Perfil","profileEditSub":"Modificar tus datos personales.","accountSettingTitle":"La Configuración De La Cuenta","accountSettingSub":"Administrar su cuenta de parámetros.","privacySettingTitle":"Configuración De Privacidad","privacySettingSub":"El Control de su privacidad parámetros.","signout":"Sesión"}},"dashboard2":{"card1":"AVG Impresiones","card2":"AVG Compromisos de la Tasa de","card3":"AVG Llegar","card4":"AVG Transporte","featureTableTitle":"Frecuentes Post De La Lista De","summary":"Post Resumen","totalLikeComment":"Total de \\"me Gusta\\" $ Comentarios","bestPost":"Mejor Desempeño De Los Puestos De"},"dashboard1":{"card1":"Factura Enviada","card2":"Acreditados De Cuentas","card3":"AVG Costos de los Empleados","card4":"El promedio de retraso en el pago","invoice":"factura","invoiceState":"Factura Estadísticas","openInvoice":"Las Facturas Abiertas","monthlyInvoice":"Las Facturas Mensuales","exchangeRates":"Los Tipos De Cambio","paymentHistory":"Historial De Pago","lastCosts":"Última Costos","efficiency":"La eficiencia"},"rightSide":{"customerDistribution":"De Distribución Para Clientes","projectStatistic":"Proyecto Estadística","countries":"Países"},"dropdown":{"view":"Ver","delete":"Eliminar","edit":"Editar","print":"Imprimir","download":"Descargar","unfollow":"Dejar de seguir","follow":"Siga","block":"Bloque"}}')},ef2f:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:"right-sidebar-mini "+e.miniClass},[a("div",{staticClass:"right-sidebar-toggle",class:e.toggleClass,on:{click:e.toggleMini}},[e.hasIconSlot?e._t("icon"):[e.hasOpenIconSlot?e._t("openIcon"):a("i",{staticClass:"ri-arrow-left-line side-left-icon"}),e.hasCloseIconSlot?e._t("closeIcon"):a("i",{staticClass:"ri-arrow-right-line side-right-icon"})]],2),a("div",{staticClass:"right-sidebar-panel p-0"},[e._t("default")],2)])},o=[],i={name:"RightSideBarStyle1",data:function(){return{rightSideBarMini:!1,miniClass:""}},props:{toggleClass:{type:String,default:""}},computed:{hasIconSlot:function(){return!!this.$slots.icon},hasOpenIconSlot:function(){return!!this.$slots.openIcon},hasCloseIconSlot:function(){return!!this.$slots.closeIcon}},methods:{toggleMini:function(){this.rightSideBarMini=!this.rightSideBarMini,this.checkRightSideBar()},checkRightSideBar:function(){this.rightSideBarMini?this.miniClass="right-sidebar":this.miniClass=""}}},n=i,s=a("2877"),l=Object(s["a"])(n,r,o,!1,null,null,null);t["default"]=l.exports},f192:function(e,t,a){var r={"./cards/iq-card":"cb72","./cards/iq-card.vue":"cb72","./footer/FooterStyle1":"1e57","./footer/FooterStyle1.vue":"1e57","./loader/Loader":"aef8","./loader/Loader.vue":"aef8","./menus/ListStyle1":"3ed3","./menus/ListStyle1.vue":"3ed3","./navbars/NavBarStyle1":"c45e","./navbars/NavBarStyle1.vue":"c45e","./rightsidebar/RightSideBar":"ef2f","./rightsidebar/RightSideBar.vue":"ef2f","./sidebars/SideBarStyle1":"6a3d","./sidebars/SideBarStyle1.vue":"6a3d","./tab/tab-content":"cbba","./tab/tab-content-item":"5bc6","./tab/tab-content-item.vue":"5bc6","./tab/tab-content.vue":"cbba","./tab/tab-nav":"2f1c","./tab/tab-nav-items":"e7a2","./tab/tab-nav-items.vue":"e7a2","./tab/tab-nav.vue":"2f1c"};function o(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id="f192"}});
//# sourceMappingURL=app.8a950053.js.map